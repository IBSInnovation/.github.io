import{N as v}from"./NavBarTop.d0abef4e.js";import{B as S}from"./BackButton.e0a4e786.js";import{_ as f,r as u,o as i,c,b as h,d as t,ah as _,ai as g,t as l,p as y,f as B}from"./index.a0a8974f.js";import"./firebaseAuth.945de407.js";import"./fdb.33ae5c69.js";const D={name:"DevelopmentSensors",components:{NavBarTop:v,BackButton:S},inject:["sensorHandler"],data(){return{showButtonsBoolean:!1,sensors:[]}},watch:{"XsensDotSensor.device_name":{handler(e){this.device_name=e},deep:!0},"XsensDotSensor.sensor_status":{handler(e){this.sensorstatus=e},deep:!0},"XsensDotSensor.max_angle":{handler(e){this.angle=e},deep:!0},"XsensDotSensor.battery_level":{handler(e){this.batterylevel=e},deep:!0},"XsensDotSensor.rotation":{handler(e){e!=null&&(this.x=(e.x*57.2957795).toFixed(2),this.y=(e.y*57.2957795).toFixed(2),this.z=(e.z*57.2957795).toFixed(2))},deep:!0}},created(){window.addEventListener("beforeunload",this.handler);const e=this.sensorHandler.getAllSensors();for(let s=0;s<e.length;s++){const a={};a.device_name=e[s][1].device_name,a.battery_level=e[s][1].battery_level,a.sensorstatus=e[s][1].sensor_status,a.angle=e[s][1].max_angle,this.sensors.push(a)}},methods:{goToSelectSensor(){this.$router.push({name:"selectSensor"})},disconnect(e){this.sensorHandler.disconnectSensor(this.getSensorName(e)),this.removeSensorFromArray(this.getSensorName(e))},sync(){this.sensorHandler.getSyncStatusSensor()},identify(e){this.sensorHandler.blinkDeviceLED(this.getSensorName(e))},startDataExport(){this.sensorHandler.downloadDataToCSV()},streamData(){this.sensorHandler.startRTStream()},stopDataStream(){this.sensorHandler.stopRTStream()},updateDeviceName(e){this.sensorHandler.writeDeviceName(e.target.value.trim())},clearList(){this.sensorHandler.clearList()},showButtons(){this.showButtonsBoolean!=!0?(this.$refs.buttonGroup.style="display: flex; position: absolute; bottom: 0; margin-bottom: 4em; z-index: 1; ",this.showButtonsBoolean=!0):(this.$refs.buttonGroup.style="display: none",this.showButtonsBoolean=!1)},getSensorName(e){return parseInt(e.target.parentElement.firstChild.firstChild.firstChild.lastChild.textContent)},removeSensorFromArray(e){const s=this.sensors.findIndex(a=>a.device_name===e);this.sensors.splice(s,1)}}},r=e=>(y("data-v-e0403bfb"),e=e(),B(),e),x=r(()=>t("h1",null,"XsensDotSensor Development",-1)),C={class:"sensorButtons1"},k={class:"flexWrapper"},w={class:"info_container"},H=r(()=>t("td",{class:"header_name"},[t("b",null,"Device name")],-1)),N={class:"table_data"},T=r(()=>t("td",{class:"header_name"},[t("b",null,"Battery level")],-1)),I={class:"table_data"},F=r(()=>t("td",{class:"header_name"},[t("b",null,"Sensor status")],-1)),X={class:"table_data"},E=r(()=>t("td",{class:"header_name"},[t("b",null,"Biggest angle")],-1)),L={class:"table_data"},z={id:"buttonGroup",ref:"buttonGroup"};function G(e,s,a,A,m,o){const b=u("nav-bar-top"),p=u("BackButton");return i(),c(_,null,[h(b),x,t("div",C,[t("button",{class:"red-btn",onClick:s[0]||(s[0]=(...n)=>o.goToSelectSensor&&o.goToSelectSensor(...n))},"Connect"),t("button",{class:"red-btn",onClick:s[1]||(s[1]=(...n)=>o.sync&&o.sync(...n))},"Synchronize")]),t("div",k,[(i(!0),c(_,null,g(m.sensors,n=>(i(),c("div",{key:n.device_name,class:"sensorCard"},[t("div",w,[t("table",null,[t("tr",null,[H,t("td",null,[t("div",N,l(n.device_name),1)])]),t("tr",null,[T,t("td",null,[t("div",I,l(n.battery_level),1)])]),t("tr",null,[F,t("td",null,[t("div",X,l(n.sensorstatus),1)])]),t("tr",null,[E,t("td",null,[t("div",L,l(n.angle),1)])])])]),t("button",{class:"blue-btn",onClick:s[2]||(s[2]=(...d)=>o.identify&&o.identify(...d))},"Identify device"),t("button",{class:"red-btn",onClick:s[3]||(s[3]=(...d)=>o.disconnect&&o.disconnect(...d))},"Disconnect")]))),128))]),t("footer",null,[t("button",{id:"show-btn",class:"red-btn",type:"button","aria-label":"Toggle navigation",onClick:s[4]||(s[4]=(...n)=>o.showButtons&&o.showButtons(...n))}," Show buttons "),t("div",z,[t("button",{class:"red-btn",onClick:s[5]||(s[5]=(...n)=>o.streamData&&o.streamData(...n))},"Start streaming"),t("button",{class:"red-btn",onClick:s[6]||(s[6]=(...n)=>o.stopDataStream&&o.stopDataStream(...n))},"Stop streaming")],512),h(p)])],64)}const J=f(D,[["render",G],["__scopeId","data-v-e0403bfb"]]);export{J as default};
