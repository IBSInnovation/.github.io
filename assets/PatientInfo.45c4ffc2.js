import{N as C}from"./NavBarTop.29089119.js";import{f as x}from"./AgeCalculator.549f26af.js";import{e as S,b as T,d as I,f as $}from"./fdb.07d85fc7.js";import{ak as y,_ as E,r as _,o as h,c as g,b as a,w,d as e,t as l,e as b,n as M,p as P,f as D,ah as N,ai as V,aj as G,i as F}from"./index.f3b4f93c.js";import{D as K,c as W}from"./CapitalizeString.fdf4aab9.js";import{F as q,a as z,E as L}from"./vee-validate.esm.60d124ec.js";import{c as O,a as u,d as k}from"./object.21bfa4b4.js";import{B as j}from"./BackButton.b6eaa6a1.js";import"./firebaseAuth.a0254fc4.js";const R={name:"EditPatientForm",components:{Form:q,Field:z,ErrorMessage:L},props:{firebaseError:{type:String,default:""}},emits:["close"],data(){const t=O().shape({email:u().required("Dit veld is verplicht").email("Email is ongeldig").max(50,"Karakter limiet bereikt"),naam:u().required("Dit veld is verplicht").max(50,"Karakter limiet bereikt"),geslacht:u().required("Dit veld is verplicht").max(50,"Karakter limiet bereikt"),gewicht:k().required("Dit veld is verplicht").lessThan(700,"Voer een valide gewicht in").typeError("Dit veld is verplicht"),date:u().required("Dit veld is verplicht").max(50,"Karakter limiet bereikt"),lengte:k().required("Dit veld is verplicht").lessThan(2.5,"Voer een valide lengte in").moreThan(0,"Voer een valide lengte in").typeError("Dit veld is verplicht")});return{successful:!1,loading:!1,message:"",schema:t,route:y(),age:""}},mounted(){this.$refs.editForm.setValues({email:this.$store.getters.getPatientEmail,naam:this.$store.getters.getPatientName,gewicht:this.$store.getters.getPatientWeight,lengte:this.$store.getters.getPatientLength,geslacht:this.$store.getters.getPatientGender,date:this.$store.getters.getPatientBirthdate})},methods:{goBackToPatient(){this.$emit("close")},editPatientWithFireStore(t){const s=this.route.params.name;S(s,t.naam,t.gewicht,t.date,t.lengte,t.email,t.geslacht),this.goBackToPatient()}}},r=t=>(P("data-v-cb075891"),t=t(),D(),t),A={class:"form"},U=r(()=>e("h3",null,[e("b",null,"Pati\xEBnt gegevens aanpassen")],-1)),H={class:"form-group"},J=r(()=>e("label",{for:"email",style:{"font-weight":"bold"}},"Email",-1)),Q={class:"form-group"},X=r(()=>e("label",{for:"naam",style:{"font-weight":"bold"}},"Naam",-1)),Y={class:"form-group"},Z=r(()=>e("label",{for:"gewicht",style:{"font-weight":"bold"}},"Gewicht (kg)",-1)),ee={class:"form-group"},te=r(()=>e("label",{for:"lengte",style:{"font-weight":"bold"}},"Lengte (m)",-1)),se={class:"form-group"},oe=r(()=>e("label",{for:"geslacht",style:{"font-weight":"bold"}},"Geslacht",-1)),ie=r(()=>e("option",{value:"Man"},"Man",-1)),ae=r(()=>e("option",{value:"Vrouw"},"Vrouw",-1)),re=r(()=>e("option",{value:"Anders"},"Anders",-1)),ne=r(()=>e("option",{value:"Wil ik liever niet zeggen"}," Wil ik liever niet zeggen ",-1)),le={class:"form-group"},ce=r(()=>e("label",{for:"date",style:{"font-weight":"bold"}},"Geboorte datum",-1)),de=r(()=>e("div",{id:"submit_btn_cover"},[e("button",{class:"registerButton",style:{"font-weight":"bold"}},[e("b",null,"Opslaan")])],-1)),me=r(()=>e("b",null,"Terug",-1)),he=[me],_e={key:0,id:"errorText"};function ge(t,s,f,B,o,i){const d=_("Field"),m=_("ErrorMessage"),p=_("Form");return h(),g("form",A,[U,a(p,{ref:"editForm","validation-schema":o.schema,onSubmit:i.editPatientWithFireStore},{default:w(()=>[e("div",H,[J,a(d,{name:"email",type:"email",class:"form-control"}),a(m,{name:"email",class:"error-feedback"})]),e("div",Q,[X,a(d,{name:"naam",type:"name",class:"form-control"}),a(m,{name:"naam",class:"error-feedback"})]),e("div",Y,[Z,a(d,{name:"gewicht",type:"numeric",class:"form-control"}),a(m,{name:"gewicht",class:"error-feedback"})]),e("div",ee,[te,a(d,{name:"lengte",type:"numeric",class:"form-control"}),a(m,{name:"lengte",class:"error-feedback"})]),e("div",se,[oe,a(d,{name:"geslacht",type:"name",class:"form-control",as:"select"},{default:w(()=>[ie,ae,re,ne]),_:1}),a(m,{name:"geslacht",class:"error-feedback"})]),e("div",le,[ce,a(d,{name:"date",type:"date",class:"form-control"}),a(m,{name:"date",class:"error-feedback"})]),de]),_:1},8,["validation-schema","onSubmit"]),e("button",{class:"returnButton",onClick:s[0]||(s[0]=v=>i.goBackToPatient())},he),f.firebaseError!==""?(h(),g("div",_e,l(f.firebaseError),1)):b("",!0),o.message?(h(),g("div",{key:1,class:M(["alert",o.successful?"alert-success":"alert-danger"])},l(o.message),3)):b("",!0)])}const ue=E(R,[["render",ge],["__scopeId","data-v-cb075891"]]);const be={name:"PatientInfo",components:{NavBarTop:C,DeleteForm:K,EditForm:ue,BackButton:j},data(){return{name:"",weight:null,age:"",heightInM:null,patients:null,categories:null,showFormDelete:!1,showFormEdit:!1,gender:"",email:"",fysio:this.$store.getters.getUser.uid,route:y(),patientID:null}},mounted(){this.getPatientData(),this.getCategories()},methods:{async getCategories(){const t=this.route.params.name;let s=await T(t);this.categories=s},async getPatientData(){const t=this.route.params.name;let s=await I(t);this.$store.commit("setPatientName",s.name),this.$store.commit("setPatientEmail",s.email),this.$store.commit("setPatientWeight",s.weight),this.$store.commit("setPatientLength",s.heightInM),this.$store.commit("setPatientGender",s.gender),this.$store.commit("setPatientBirthdate",s.dateOfBirth),this.name=s.name,this.weight=s.weight,this.age=x(s.dateOfBirth),this.heightInM=s.heightInM,this.email=s.email,this.gender=s.gender},deletePatientWithFireStore(){let t=this.route.params.name;$(t),this.$router.push({name:"patients"})},goToExerciseResults(t){let s=this.route.params.name;this.$router.push({name:"exerciseResults",params:{name:s,category:t}})},capitalizeString:W,goToCategory(){const t=this.route.params.name;this.$router.push({name:"addCategorie",params:{name:t}})},blurrStyle(){return this.showFormDelete|this.showFormEdit?"filter: blur(24px); opacity: 0.6;":""},showDeleteForm(t){t.stopPropagation(),this.showFormDelete=!0},showEditForm(t){t.stopPropagation(),window.scrollTo(0,0),this.showFormEdit=!0},closeForm(){this.showFormDelete=!1,this.showFormEdit=!1,this.errorMessage="",this.getPatientData()},checkClickOutside(t){t.target.closest(".form")||this.closeForm()},editPatient(){this.closeForm()}}},c=t=>(P("data-v-9b4ab56f"),t=t(),D(),t),fe={class:"title"},pe={class:"info_container"},ve=c(()=>e("b",null,"Pati\xEBnt gegevens",-1)),we=c(()=>e("td",{class:"header_name"},[e("b",{class:"table_content"},"Naam ")],-1)),Fe={class:"table_data"},ke=c(()=>e("td",{class:"header_name"},[e("b",null,"E-mail")],-1)),ye={class:"table_data"},Ee=c(()=>e("td",{class:"header_name"},[e("b",null,"Gewicht")],-1)),Pe={class:"table_data"},De=c(()=>e("td",{class:"header_name"},[e("b",null,"Lengte")],-1)),Be={class:"table_data"},Ce=c(()=>e("td",{class:"header_name"},[e("b",null,"Geslacht")],-1)),xe={class:"table_data"},Se=c(()=>e("td",{class:"header_name"},[e("b",null,"Leeftijd")],-1)),Te={class:"table_data"},Ie={class:"categoryContainer"},$e={class:"text-holder"},Me={style:{"max-width":"100%","word-break":"break-word"}},Ne=["disabled","onClick"],Ve=["disabled"],Ge=c(()=>e("b",null,"Categorie toevoegen",-1)),Ke=[Ge],We=["disabled"],qe=c(()=>e("b",null,"Gegevens aanpassen",-1)),ze=[qe],Le=["disabled"],Oe=c(()=>e("b",null,"Verwijder pati\xEBnt",-1)),je=[Oe];function Re(t,s,f,B,o,i){const d=_("NavBarTop"),m=_("BackButton"),p=_("DeleteForm"),v=_("EditForm");return h(),g("main",{onClick:s[3]||(s[3]=(...n)=>i.checkClickOutside&&i.checkClickOutside(...n))},[e("div",{style:G(i.blurrStyle())},[a(d),e("h1",fe,l(o.name),1),e("div",pe,[ve,e("table",null,[e("tr",null,[we,e("td",null,[e("div",Fe,l(o.name),1)])]),e("tr",null,[ke,e("td",null,[e("div",ye,l(o.email),1)])]),e("tr",null,[Ee,e("td",null,[e("div",Pe,l(o.weight)+" kg",1)])]),e("tr",null,[De,e("td",null,[e("div",Be,l(o.heightInM)+" m",1)])]),e("tr",null,[Ce,e("td",null,[e("div",xe,l(o.gender),1)])]),e("tr",null,[Se,e("td",null,[e("div",Te,l(o.age)+" jaar",1)])])])]),e("div",Ie,[(h(!0),g(N,null,V(o.categories,([n])=>(h(),g("div",{key:n.id,class:"category"},[e("div",$e,[e("div",Me,[e("b",null,l(i.capitalizeString(n)),1)])]),e("button",{disabled:o.showFormDelete||o.showFormEdit,class:"see-results",onClick:Ae=>i.goToExerciseResults(n)}," Bekijk ",8,Ne)]))),128))]),e("footer",null,[e("button",{disabled:o.showFormDelete||o.showFormEdit,class:"addCategory",onClick:s[0]||(s[0]=n=>i.goToCategory())},Ke,8,Ve),e("button",{disabled:o.showFormDelete||o.showFormEdit,class:"editButton",onClick:s[1]||(s[1]=(...n)=>i.showEditForm&&i.showEditForm(...n))},ze,8,We),e("button",{disabled:o.showFormDelete||o.showFormEdit,class:"deletePatientBtn",onClick:s[2]||(s[2]=(...n)=>i.showDeleteForm&&i.showDeleteForm(...n))},je,8,Le),a(m,{disabled:o.showFormDelete||o.showFormEdit},null,8,["disabled"])])],4),o.showFormDelete&&!o.showFormEdit?(h(),F(p,{key:0,onDelete:i.deletePatientWithFireStore,onClose:i.closeForm},null,8,["onDelete","onClose"])):b("",!0),o.showFormEdit&&!o.showFormDelete?(h(),F(v,{key:1,onEdit:i.editPatient,onClose:i.closeForm},null,8,["onEdit","onClose"])):b("",!0)])}const st=E(be,[["render",Re],["__scopeId","data-v-9b4ab56f"]]);export{st as default};
