import{N as v}from"./NavBarTop.17a87f9f.js";import{B as g}from"./BackButton.cfb9c45a.js";import{_ as k,r as i,o as d,c,b as h,d as e,t as l,ah as u,ai as S,al as b,an as f}from"./index.da8fabef.js";import"./firebaseAuth.4739f8f0.js";import"./fdb.f9eaa51d.js";const N={name:"SensorCheck",components:{NavBarTop:v,BackButton:g},inject:["sensorHandler"],data(){return{sensorsNeeded:null,sensors:[],selected:[],measureMethod:"Selecteer methode"}},created(){this.sensorsNeeded=parseInt(this.$route.params.sensorsNeeded);const t=this.sensorHandler.getAllSensors();for(let s=0;s<t.length;s++){const o={};o.device_name=t[s][1].device_name,o.battery_level=t[s][1].battery_level,this.sensors.push(o)}},methods:{goToMeasureStart(){const t=this.$route.params.name,s=this.$route.params.category;this.$router.push({name:"measure",params:{name:t,category:s}})},selectSensor(){let t=JSON.parse(JSON.stringify(this.selected));const s=[];if(t.length<this.sensorsNeeded)window.alert(`Selecteer minimaal ${this.sensorsNeeded} sensor(en)`);else{for(let o=0;o<t.length;o++)s.push(t[o].device_name);this.$store.commit("setSelectedSensors",s),this.goToMeasureStart()}},chooseMeasureMethod(t){switch(t){case 1:this.measureMethod="hoek in graden";break;case 2:this.measureMethod="snelheid beweging";break}}}},B={id:"fullPage"},y=e("h1",{class:"title"},"Sensor check",-1),M={class:"sensorBox"},x={class:"table"},C=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Naam"),e("th",null,"Batterij niveau")])],-1),w=["value","disabled"],T={class:"dropdown"},D={class:"dropbtn"},H={class:"dropdown-content"},O=e("b",null,"Selecteer sensors",-1),V=[O];function j(t,s,o,A,n,a){const m=i("NavBarTop"),_=i("BackButton");return d(),c(u,null,[h(m),e("main",B,[y,e("div",M,[e("p",null,"Selecteer maximaal "+l(n.sensorsNeeded)+" sensoren",1),e("table",x,[C,e("tbody",null,[(d(!0),c(u,null,S(n.sensors,r=>(d(),c("tr",{key:r.device_name},[e("td",null,[b(e("input",{id:"flexCheckDefault","onUpdate:modelValue":s[0]||(s[0]=p=>n.selected=p),class:"form-check-input",type:"checkbox",value:r,disabled:n.selected.length>=n.sensorsNeeded&&n.selected.indexOf(r)===-1},null,8,w),[[f,n.selected]])]),e("td",null,l(r.device_name),1),e("td",null,l(r.battery_level),1)]))),128))])]),e("div",T,[e("button",D,l(n.measureMethod),1),e("div",H,[e("a",{onClick:s[1]||(s[1]=r=>a.chooseMeasureMethod(1))},"Hoek in graden"),e("a",{onClick:s[2]||(s[2]=r=>a.chooseMeasureMethod(2))},"Snelheid beweging")])])])]),e("footer",null,[e("button",{class:"selectSensorButton",onClick:s[3]||(s[3]=r=>a.selectSensor())},V),h(_)])],64)}const L=k(N,[["render",j]]);export{L as default};
