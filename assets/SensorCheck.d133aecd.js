import{N as v}from"./NavBarTop.5186614e.js";import{B as S}from"./BackButton.7a65497f.js";import{_ as f,r as i,o as r,c as a,b as d,d as e,t as c,ah as u,ai as g,al as N,an as B}from"./index.481e2146.js";import"./firebaseAuth.cbb41bba.js";import"./fdb.78692d36.js";const k={name:"SensorCheck",components:{NavBarTop:v,BackButton:S},inject:["sensorHandler"],data(){return{sensorsNeeded:null,sensors:[],selected:[]}},created(){this.sensorsNeeded=parseInt(this.$route.params.sensorsNeeded);const t=this.sensorHandler.getAllSensors();for(let s=0;s<t.length;s++){const n={};n.device_name=t[s][1].device_name,n.battery_level=t[s][1].battery_level,this.sensors.push(n)}},methods:{goToMeasureStart(){const t=this.$route.params.name,s=this.$route.params.category;this.$router.push({name:"measure",params:{name:t,category:s}})},selectSensor(){let t=JSON.parse(JSON.stringify(this.selected));const s=[];if(console.log(t.length),t.length<this.sensorsNeeded)window.alert(`Selecteer minimaal ${this.sensorsNeeded} sensor(en)`);else{for(let n=0;n<t.length;n++)s.push(t[n].device_name);this.$store.commit("setSelectedSensors",s),this.goToMeasureStart()}}}},y={id:"fullPage"},b=e("h1",{class:"title"},"Sensor check",-1),x={class:"sensorBox"},C={class:"table"},T=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Naam"),e("th",null,"Batterij niveau")])],-1),w=["value","disabled"],D=e("b",null,"Selecteer sensors",-1),M=[D];function O(t,s,n,V,o,h){const m=i("NavBarTop"),_=i("BackButton");return r(),a(u,null,[d(m),e("main",y,[b,e("div",x,[e("p",null,"Selecteer maximaal "+c(o.sensorsNeeded)+" sensoren",1),e("table",C,[T,e("tbody",null,[(r(!0),a(u,null,g(o.sensors,l=>(r(),a("tr",{key:l.device_name},[e("td",null,[N(e("input",{id:"flexCheckDefault","onUpdate:modelValue":s[0]||(s[0]=p=>o.selected=p),class:"form-check-input",type:"checkbox",value:l,disabled:o.selected.length>=o.sensorsNeeded&&o.selected.indexOf(l)===-1},null,8,w),[[B,o.selected]])]),e("td",null,c(l.device_name),1),e("td",null,c(l.battery_level),1)]))),128))])])])]),e("footer",null,[e("button",{class:"selectSensorButton",onClick:s[1]||(s[1]=l=>h.selectSensor())},M),d(_)])],64)}const J=f(k,[["render",O]]);export{J as default};
