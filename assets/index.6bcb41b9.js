var x$=Object.defineProperty;var w$=(n,t,e)=>t in n?x$(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var C0=(n,t,e)=>(w$(n,typeof t!="symbol"?t+"":t,e),e),E$=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var tO=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)};var eO=(n,t,e)=>(E$(n,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function dM(n,t){const e=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)e[i[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}const S$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",M$=dM(S$);function w2(n){return!!n||n===""}function pM(n){if(be(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],r=Zn(i)?C$(i):pM(i);if(r)for(const s in r)t[s]=r[s]}return t}else{if(Zn(n))return n;if(wn(n))return n}}const T$=/;(?![^(]*\))/g,A$=/:(.+)/;function C$(n){const t={};return n.split(T$).forEach(e=>{if(e){const i=e.split(A$);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function mM(n){let t="";if(Zn(n))t=n;else if(be(n))for(let e=0;e<n.length;e++){const i=mM(n[e]);i&&(t+=i+" ")}else if(wn(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function O$(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=b_(n[i],t[i]);return e}function b_(n,t){if(n===t)return!0;let e=nO(n),i=nO(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=Sd(n),i=Sd(t),e||i)return n===t;if(e=be(n),i=be(t),e||i)return e&&i?O$(n,t):!1;if(e=wn(n),i=wn(t),e||i){if(!e||!i)return!1;const r=Object.keys(n).length,s=Object.keys(t).length;if(r!==s)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!b_(n[o],t[o]))return!1}}return String(n)===String(t)}function E2(n,t){return n.findIndex(e=>b_(e,t))}const Z_t=n=>Zn(n)?n:n==null?"":be(n)||wn(n)&&(n.toString===T2||!Re(n.toString))?JSON.stringify(n,S2,2):String(n),S2=(n,t)=>t&&t.__v_isRef?S2(n,t.value):Uu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,r])=>(e[`${i} =>`]=r,e),{})}:w_(t)?{[`Set(${t.size})`]:[...t.values()]}:wn(t)&&!be(t)&&!A2(t)?String(t):t,yn={},zu=[],hs=()=>{},P$=()=>!1,D$=/^on[^a-z]/,x_=n=>D$.test(n),gM=n=>n.startsWith("onUpdate:"),er=Object.assign,yM=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},R$=Object.prototype.hasOwnProperty,Je=(n,t)=>R$.call(n,t),be=Array.isArray,Uu=n=>up(n)==="[object Map]",w_=n=>up(n)==="[object Set]",nO=n=>up(n)==="[object Date]",Re=n=>typeof n=="function",Zn=n=>typeof n=="string",Sd=n=>typeof n=="symbol",wn=n=>n!==null&&typeof n=="object",M2=n=>wn(n)&&Re(n.then)&&Re(n.catch),T2=Object.prototype.toString,up=n=>T2.call(n),L$=n=>up(n).slice(8,-1),A2=n=>up(n)==="[object Object]",vM=n=>Zn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Hg=dM(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),E_=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},I$=/-(\w)/g,Xs=E_(n=>n.replace(I$,(t,e)=>e?e.toUpperCase():"")),k$=/\B([A-Z])/g,gc=E_(n=>n.replace(k$,"-$1").toLowerCase()),S_=E_(n=>n.charAt(0).toUpperCase()+n.slice(1)),O0=E_(n=>n?`on${S_(n)}`:""),Md=(n,t)=>!Object.is(n,t),$g=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},$y=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},N$=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let iO;const F$=()=>iO||(iO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Is;class B${constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Is&&(this.parent=Is,this.index=(Is.scopes||(Is.scopes=[])).push(this)-1)}run(t){if(this.active){const e=Is;try{return Is=this,t()}finally{Is=e}}}on(){Is=this}off(){Is=this.parent}stop(t){if(this.active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function z$(n,t=Is){t&&t.active&&t.effects.push(n)}const _M=n=>{const t=new Set(n);return t.w=0,t.n=0,t},C2=n=>(n.w&Oa)>0,O2=n=>(n.n&Oa)>0,U$=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=Oa},V$=n=>{const{deps:t}=n;if(t.length){let e=0;for(let i=0;i<t.length;i++){const r=t[i];C2(r)&&!O2(r)?r.delete(n):t[e++]=r,r.w&=~Oa,r.n&=~Oa}t.length=e}},vw=new WeakMap;let $f=0,Oa=1;const _w=30;let rs;const ql=Symbol(""),bw=Symbol("");class bM{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,z$(this,i)}run(){if(!this.active)return this.fn();let t=rs,e=wa;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=rs,rs=this,wa=!0,Oa=1<<++$f,$f<=_w?U$(this):rO(this),this.fn()}finally{$f<=_w&&V$(this),Oa=1<<--$f,rs=this.parent,wa=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){rs===this?this.deferStop=!0:this.active&&(rO(this),this.onStop&&this.onStop(),this.active=!1)}}function rO(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}let wa=!0;const P2=[];function yc(){P2.push(wa),wa=!1}function vc(){const n=P2.pop();wa=n===void 0?!0:n}function Sr(n,t,e){if(wa&&rs){let i=vw.get(n);i||vw.set(n,i=new Map);let r=i.get(e);r||i.set(e,r=_M()),D2(r)}}function D2(n,t){let e=!1;$f<=_w?O2(n)||(n.n|=Oa,e=!C2(n)):e=!n.has(rs),e&&(n.add(rs),rs.deps.push(n))}function Do(n,t,e,i,r,s){const o=vw.get(n);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&be(n))o.forEach((l,c)=>{(c==="length"||c>=i)&&a.push(l)});else switch(e!==void 0&&a.push(o.get(e)),t){case"add":be(n)?vM(e)&&a.push(o.get("length")):(a.push(o.get(ql)),Uu(n)&&a.push(o.get(bw)));break;case"delete":be(n)||(a.push(o.get(ql)),Uu(n)&&a.push(o.get(bw)));break;case"set":Uu(n)&&a.push(o.get(ql));break}if(a.length===1)a[0]&&xw(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);xw(_M(l))}}function xw(n,t){const e=be(n)?n:[...n];for(const i of e)i.computed&&sO(i);for(const i of e)i.computed||sO(i)}function sO(n,t){(n!==rs||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const H$=dM("__proto__,__v_isRef,__isVue"),R2=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Sd)),$$=xM(),W$=xM(!1,!0),G$=xM(!0),oO=j$();function j$(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const i=en(this);for(let s=0,o=this.length;s<o;s++)Sr(i,"get",s+"");const r=i[t](...e);return r===-1||r===!1?i[t](...e.map(en)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){yc();const i=en(this)[t].apply(this,e);return vc(),i}}),n}function xM(n=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(n?t?lW:F2:t?N2:k2).get(i))return i;const o=be(i);if(!n&&o&&Je(oO,r))return Reflect.get(oO,r,s);const a=Reflect.get(i,r,s);return(Sd(r)?R2.has(r):H$(r))||(n||Sr(i,"get",r),t)?a:mi(a)?o&&vM(r)?a:a.value:wn(a)?n?B2(a):Oh(a):a}}const q$=L2(),Y$=L2(!0);function L2(n=!1){return function(e,i,r,s){let o=e[i];if(Ju(o)&&mi(o)&&!mi(r))return!1;if(!n&&(!Wy(r)&&!Ju(r)&&(o=en(o),r=en(r)),!be(e)&&mi(o)&&!mi(r)))return o.value=r,!0;const a=be(e)&&vM(i)?Number(i)<e.length:Je(e,i),l=Reflect.set(e,i,r,s);return e===en(s)&&(a?Md(r,o)&&Do(e,"set",i,r):Do(e,"add",i,r)),l}}function X$(n,t){const e=Je(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&e&&Do(n,"delete",t,void 0),i}function K$(n,t){const e=Reflect.has(n,t);return(!Sd(t)||!R2.has(t))&&Sr(n,"has",t),e}function Q$(n){return Sr(n,"iterate",be(n)?"length":ql),Reflect.ownKeys(n)}const I2={get:$$,set:q$,deleteProperty:X$,has:K$,ownKeys:Q$},J$={get:G$,set(n,t){return!0},deleteProperty(n,t){return!0}},Z$=er({},I2,{get:W$,set:Y$}),wM=n=>n,M_=n=>Reflect.getPrototypeOf(n);function bm(n,t,e=!1,i=!1){n=n.__v_raw;const r=en(n),s=en(t);e||(t!==s&&Sr(r,"get",t),Sr(r,"get",s));const{has:o}=M_(r),a=i?wM:e?MM:Td;if(o.call(r,t))return a(n.get(t));if(o.call(r,s))return a(n.get(s));n!==r&&n.get(t)}function xm(n,t=!1){const e=this.__v_raw,i=en(e),r=en(n);return t||(n!==r&&Sr(i,"has",n),Sr(i,"has",r)),n===r?e.has(n):e.has(n)||e.has(r)}function wm(n,t=!1){return n=n.__v_raw,!t&&Sr(en(n),"iterate",ql),Reflect.get(n,"size",n)}function aO(n){n=en(n);const t=en(this);return M_(t).has.call(t,n)||(t.add(n),Do(t,"add",n,n)),this}function lO(n,t){t=en(t);const e=en(this),{has:i,get:r}=M_(e);let s=i.call(e,n);s||(n=en(n),s=i.call(e,n));const o=r.call(e,n);return e.set(n,t),s?Md(t,o)&&Do(e,"set",n,t):Do(e,"add",n,t),this}function cO(n){const t=en(this),{has:e,get:i}=M_(t);let r=e.call(t,n);r||(n=en(n),r=e.call(t,n)),i&&i.call(t,n);const s=t.delete(n);return r&&Do(t,"delete",n,void 0),s}function uO(){const n=en(this),t=n.size!==0,e=n.clear();return t&&Do(n,"clear",void 0,void 0),e}function Em(n,t){return function(i,r){const s=this,o=s.__v_raw,a=en(o),l=t?wM:n?MM:Td;return!n&&Sr(a,"iterate",ql),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function Sm(n,t,e){return function(...i){const r=this.__v_raw,s=en(r),o=Uu(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=e?wM:t?MM:Td;return!t&&Sr(s,"iterate",l?bw:ql),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function na(n){return function(...t){return n==="delete"?!1:this}}function tW(){const n={get(s){return bm(this,s)},get size(){return wm(this)},has:xm,add:aO,set:lO,delete:cO,clear:uO,forEach:Em(!1,!1)},t={get(s){return bm(this,s,!1,!0)},get size(){return wm(this)},has:xm,add:aO,set:lO,delete:cO,clear:uO,forEach:Em(!1,!0)},e={get(s){return bm(this,s,!0)},get size(){return wm(this,!0)},has(s){return xm.call(this,s,!0)},add:na("add"),set:na("set"),delete:na("delete"),clear:na("clear"),forEach:Em(!0,!1)},i={get(s){return bm(this,s,!0,!0)},get size(){return wm(this,!0)},has(s){return xm.call(this,s,!0)},add:na("add"),set:na("set"),delete:na("delete"),clear:na("clear"),forEach:Em(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Sm(s,!1,!1),e[s]=Sm(s,!0,!1),t[s]=Sm(s,!1,!0),i[s]=Sm(s,!0,!0)}),[n,e,t,i]}const[eW,nW,iW,rW]=tW();function EM(n,t){const e=t?n?rW:iW:n?nW:eW;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Je(e,r)&&r in i?e:i,r,s)}const sW={get:EM(!1,!1)},oW={get:EM(!1,!0)},aW={get:EM(!0,!1)},k2=new WeakMap,N2=new WeakMap,F2=new WeakMap,lW=new WeakMap;function cW(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uW(n){return n.__v_skip||!Object.isExtensible(n)?0:cW(L$(n))}function Oh(n){return Ju(n)?n:SM(n,!1,I2,sW,k2)}function hW(n){return SM(n,!1,Z$,oW,N2)}function B2(n){return SM(n,!0,J$,aW,F2)}function SM(n,t,e,i,r){if(!wn(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=uW(n);if(o===0)return n;const a=new Proxy(n,o===2?i:e);return r.set(n,a),a}function Vu(n){return Ju(n)?Vu(n.__v_raw):!!(n&&n.__v_isReactive)}function Ju(n){return!!(n&&n.__v_isReadonly)}function Wy(n){return!!(n&&n.__v_isShallow)}function z2(n){return Vu(n)||Ju(n)}function en(n){const t=n&&n.__v_raw;return t?en(t):n}function U2(n){return $y(n,"__v_skip",!0),n}const Td=n=>wn(n)?Oh(n):n,MM=n=>wn(n)?B2(n):n;function V2(n){wa&&rs&&(n=en(n),D2(n.dep||(n.dep=_M())))}function H2(n,t){n=en(n),n.dep&&xw(n.dep)}function mi(n){return!!(n&&n.__v_isRef===!0)}function fW(n){return $2(n,!1)}function dW(n){return $2(n,!0)}function $2(n,t){return mi(n)?n:new pW(n,t)}class pW{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:en(t),this._value=e?t:Td(t)}get value(){return V2(this),this._value}set value(t){const e=this.__v_isShallow||Wy(t)||Ju(t);t=e?t:en(t),Md(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Td(t),H2(this))}}function Hu(n){return mi(n)?n.value:n}const mW={get:(n,t,e)=>Hu(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const r=n[t];return mi(r)&&!mi(e)?(r.value=e,!0):Reflect.set(n,t,e,i)}};function W2(n){return Vu(n)?n:new Proxy(n,mW)}class gW{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function tbt(n,t,e){const i=n[t];return mi(i)?i:new gW(n,t,e)}var G2;class yW{constructor(t,e,i,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[G2]=!1,this._dirty=!0,this.effect=new bM(t,()=>{this._dirty||(this._dirty=!0,H2(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=en(this);return V2(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}G2="__v_isReadonly";function vW(n,t,e=!1){let i,r;const s=Re(n);return s?(i=n,r=hs):(i=n.get,r=n.set),new yW(i,r,s||!r,e)}const ed=[];function ebt(n,...t){yc();const e=ed.length?ed[ed.length-1].component:null,i=e&&e.appContext.config.warnHandler,r=_W();if(i)So(i,e,11,[n+t.join(""),e&&e.proxy,r.map(({vnode:s})=>`at <${bN(e,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${n}`,...t];r.length&&s.push(`
`,...bW(r)),console.warn(...s)}vc()}function _W(){let n=ed[ed.length-1];if(!n)return[];const t=[];for(;n;){const e=t[0];e&&e.vnode===n?e.recurseCount++:t.push({vnode:n,recurseCount:0});const i=n.component&&n.component.parent;n=i&&i.vnode}return t}function bW(n){const t=[];return n.forEach((e,i)=>{t.push(...i===0?[]:[`
`],...xW(e))}),t}function xW({vnode:n,recurseCount:t}){const e=t>0?`... (${t} recursive calls)`:"",i=n.component?n.component.parent==null:!1,r=` at <${bN(n.component,n.type,i)}`,s=">"+e;return n.props?[r,...wW(n.props),s]:[r+s]}function wW(n){const t=[],e=Object.keys(n);return e.slice(0,3).forEach(i=>{t.push(...j2(i,n[i]))}),e.length>3&&t.push(" ..."),t}function j2(n,t,e){return Zn(t)?(t=JSON.stringify(t),e?t:[`${n}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?e?t:[`${n}=${t}`]:mi(t)?(t=j2(n,en(t.value),!0),e?t:[`${n}=Ref<`,t,">"]):Re(t)?[`${n}=fn${t.name?`<${t.name}>`:""}`]:(t=en(t),e?t:[`${n}=`,t])}function So(n,t,e,i){let r;try{r=i?n(...i):n()}catch(s){T_(s,t,e)}return r}function fs(n,t,e,i){if(Re(n)){const s=So(n,t,e,i);return s&&M2(s)&&s.catch(o=>{T_(o,t,e)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(fs(n[s],t,e,i));return r}function T_(n,t,e,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=e;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){So(l,null,10,[n,o,a]);return}}EW(n,e,r,i)}function EW(n,t,e,i=!0){console.error(n)}let Ad=!1,ww=!1;const Ii=[];let Bs=0;const $u=[];let mo=null,Il=0;const q2=Promise.resolve();let TM=null;function Y2(n){const t=TM||q2;return n?t.then(this?n.bind(this):n):t}function SW(n){let t=Bs+1,e=Ii.length;for(;t<e;){const i=t+e>>>1;Cd(Ii[i])<n?t=i+1:e=i}return t}function AM(n){(!Ii.length||!Ii.includes(n,Ad&&n.allowRecurse?Bs+1:Bs))&&(n.id==null?Ii.push(n):Ii.splice(SW(n.id),0,n),X2())}function X2(){!Ad&&!ww&&(ww=!0,TM=q2.then(Q2))}function MW(n){const t=Ii.indexOf(n);t>Bs&&Ii.splice(t,1)}function TW(n){be(n)?$u.push(...n):(!mo||!mo.includes(n,n.allowRecurse?Il+1:Il))&&$u.push(n),X2()}function hO(n,t=Ad?Bs+1:0){for(;t<Ii.length;t++){const e=Ii[t];e&&e.pre&&(Ii.splice(t,1),t--,e())}}function K2(n){if($u.length){const t=[...new Set($u)];if($u.length=0,mo){mo.push(...t);return}for(mo=t,mo.sort((e,i)=>Cd(e)-Cd(i)),Il=0;Il<mo.length;Il++)mo[Il]();mo=null,Il=0}}const Cd=n=>n.id==null?1/0:n.id,AW=(n,t)=>{const e=Cd(n)-Cd(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function Q2(n){ww=!1,Ad=!0,Ii.sort(AW);const t=hs;try{for(Bs=0;Bs<Ii.length;Bs++){const e=Ii[Bs];e&&e.active!==!1&&So(e,null,14)}}finally{Bs=0,Ii.length=0,K2(),Ad=!1,TM=null,(Ii.length||$u.length)&&Q2()}}function CW(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||yn;let r=e;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||yn;f&&(r=e.map(p=>p.trim())),h&&(r=e.map(N$))}let a,l=i[a=O0(t)]||i[a=O0(Xs(t))];!l&&s&&(l=i[a=O0(gc(t))]),l&&fs(l,n,6,r);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,fs(c,n,6,r)}}function J2(n,t,e=!1){const i=t.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!Re(n)){const l=c=>{const u=J2(c,t,!0);u&&(a=!0,er(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(wn(n)&&i.set(n,null),null):(be(s)?s.forEach(l=>o[l]=null):er(o,s),wn(n)&&i.set(n,o),o)}function A_(n,t){return!n||!x_(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(n,t[0].toLowerCase()+t.slice(1))||Je(n,gc(t))||Je(n,t))}let Fr=null,C_=null;function Gy(n){const t=Fr;return Fr=n,C_=n&&n.type.__scopeId||null,t}function nbt(n){C_=n}function ibt(){C_=null}function OW(n,t=Fr,e){if(!t||n._n)return n;const i=(...r)=>{i._d&&xO(-1);const s=Gy(t),o=n(...r);return Gy(s),i._d&&xO(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function P0(n){const{type:t,vnode:e,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:g}=n;let y,v;const x=Gy(n);try{if(e.shapeFlag&4){const E=r||i;y=Ns(u.call(E,E,h,s,p,f,m)),v=l}else{const E=t;y=Ns(E.length>1?E(s,{attrs:l,slots:a,emit:c}):E(s,null)),v=t.props?l:PW(l)}}catch(E){nd.length=0,T_(E,n,1),y=Xi(ic)}let S=y;if(v&&g!==!1){const E=Object.keys(v),{shapeFlag:M}=S;E.length&&M&7&&(o&&E.some(gM)&&(v=DW(v,o)),S=Zu(S,v))}return e.dirs&&(S=Zu(S),S.dirs=S.dirs?S.dirs.concat(e.dirs):e.dirs),e.transition&&(S.transition=e.transition),y=S,Gy(x),y}const PW=n=>{let t;for(const e in n)(e==="class"||e==="style"||x_(e))&&((t||(t={}))[e]=n[e]);return t},DW=(n,t)=>{const e={};for(const i in n)(!gM(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function RW(n,t,e){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return i?fO(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!A_(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?fO(i,o,c):!0:!!o;return!1}function fO(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==n[s]&&!A_(e,s))return!0}return!1}function LW({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const IW=n=>n.__isSuspense;function kW(n,t){t&&t.pendingBranch?be(n)?t.effects.push(...n):t.effects.push(n):TW(n)}function Wg(n,t){if(pi){let e=pi.provides;const i=pi.parent&&pi.parent.provides;i===e&&(e=pi.provides=Object.create(i)),e[n]=t}}function Ws(n,t,e=!1){const i=pi||Fr;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return e&&Re(t)?t.call(i.proxy):t}}function rbt(n,t){return CM(n,null,t)}const dO={};function Yl(n,t,e){return CM(n,t,e)}function CM(n,t,{immediate:e,deep:i,flush:r,onTrack:s,onTrigger:o}=yn){const a=pi;let l,c=!1,u=!1;if(mi(n)?(l=()=>n.value,c=Wy(n)):Vu(n)?(l=()=>n,i=!0):be(n)?(u=!0,c=n.some(v=>Vu(v)||Wy(v)),l=()=>n.map(v=>{if(mi(v))return v.value;if(Vu(v))return Fl(v);if(Re(v))return So(v,a,2)})):Re(n)?t?l=()=>So(n,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),fs(n,a,3,[f])}:l=hs,t&&i){const v=l;l=()=>Fl(v())}let h,f=v=>{h=y.onStop=()=>{So(v,a,4)}};if(Pd)return f=hs,t?e&&fs(t,a,3,[l(),u?[]:void 0,f]):l(),hs;let p=u?[]:dO;const m=()=>{if(!!y.active)if(t){const v=y.run();(i||c||(u?v.some((x,S)=>Md(x,p[S])):Md(v,p)))&&(h&&h(),fs(t,a,3,[v,p===dO?void 0:p,f]),p=v)}else y.run()};m.allowRecurse=!!t;let g;r==="sync"?g=m:r==="post"?g=()=>ar(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),g=()=>AM(m));const y=new bM(l,g);return t?e?m():p=y.run():r==="post"?ar(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&yM(a.scope.effects,y)}}function NW(n,t,e){const i=this.proxy,r=Zn(n)?n.includes(".")?Z2(i,n):()=>i[n]:n.bind(i,i);let s;Re(t)?s=t:(s=t.handler,e=t);const o=pi;th(this);const a=CM(r,s.bind(i),e);return o?th(o):Xl(),a}function Z2(n,t){const e=t.split(".");return()=>{let i=n;for(let r=0;r<e.length&&i;r++)i=i[e[r]];return i}}function Fl(n,t){if(!wn(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),mi(n))Fl(n.value,t);else if(be(n))for(let e=0;e<n.length;e++)Fl(n[e],t);else if(w_(n)||Uu(n))n.forEach(e=>{Fl(e,t)});else if(A2(n))for(const e in n)Fl(n[e],t);return n}function hp(n){return Re(n)?{setup:n,name:n.name}:n}const Gg=n=>!!n.type.__asyncLoader,tN=n=>n.type.__isKeepAlive;function FW(n,t){eN(n,"a",t)}function BW(n,t){eN(n,"da",t)}function eN(n,t,e=pi){const i=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(O_(t,i,e),e){let r=e.parent;for(;r&&r.parent;)tN(r.parent.vnode)&&zW(i,t,e,r),r=r.parent}}function zW(n,t,e,i){const r=O_(t,n,i,!0);nN(()=>{yM(i[t],r)},e)}function O_(n,t,e=pi,i=!1){if(e){const r=e[n]||(e[n]=[]),s=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;yc(),th(e);const a=fs(t,e,n,o);return Xl(),vc(),a});return i?r.unshift(s):r.push(s),s}}const $o=n=>(t,e=pi)=>(!Pd||n==="sp")&&O_(n,(...i)=>t(...i),e),UW=$o("bm"),VW=$o("m"),HW=$o("bu"),$W=$o("u"),WW=$o("bum"),nN=$o("um"),GW=$o("sp"),jW=$o("rtg"),qW=$o("rtc");function YW(n,t=pi){O_("ec",n,t)}function sbt(n,t){const e=Fr;if(e===null)return n;const i=D_(e)||e.proxy,r=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,c=yn]=t[s];Re(o)&&(o={mounted:o,updated:o}),o.deep&&Fl(a),r.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c})}return n}function xl(n,t,e,i){const r=n.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(yc(),fs(l,e,8,[n.el,a,n,t]),vc())}}const OM="components";function XW(n,t){return rN(OM,n,!0,t)||n}const iN=Symbol();function obt(n){return Zn(n)?rN(OM,n,!1)||n:n||iN}function rN(n,t,e=!0,i=!1){const r=Fr||pi;if(r){const s=r.type;if(n===OM){const a=_N(s,!1);if(a&&(a===t||a===Xs(t)||a===S_(Xs(t))))return s}const o=pO(r[n]||s[n],t)||pO(r.appContext[n],t);return!o&&i?s:o}}function pO(n,t){return n&&(n[t]||n[Xs(t)]||n[S_(Xs(t))])}function abt(n,t,e,i){let r;const s=e&&e[i];if(be(n)||Zn(n)){r=new Array(n.length);for(let o=0,a=n.length;o<a;o++)r[o]=t(n[o],o,void 0,s&&s[o])}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(wn(n))if(n[Symbol.iterator])r=Array.from(n,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(n);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=t(n[c],c,a,s&&s[a])}}else r=[];return e&&(e[i]=r),r}const Ew=n=>n?yN(n)?D_(n)||n.proxy:Ew(n.parent):null,jy=er(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Ew(n.parent),$root:n=>Ew(n.root),$emit:n=>n.emit,$options:n=>PM(n),$forceUpdate:n=>n.f||(n.f=()=>AM(n.update)),$nextTick:n=>n.n||(n.n=Y2.bind(n.proxy)),$watch:n=>NW.bind(n)}),KW={get({_:n},t){const{ctx:e,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return r[t];case 4:return e[t];case 3:return s[t]}else{if(i!==yn&&Je(i,t))return o[t]=1,i[t];if(r!==yn&&Je(r,t))return o[t]=2,r[t];if((c=n.propsOptions[0])&&Je(c,t))return o[t]=3,s[t];if(e!==yn&&Je(e,t))return o[t]=4,e[t];Sw&&(o[t]=0)}}const u=jy[t];let h,f;if(u)return t==="$attrs"&&Sr(n,"get",t),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==yn&&Je(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,Je(f,t))return f[t]},set({_:n},t,e){const{data:i,setupState:r,ctx:s}=n;return r!==yn&&Je(r,t)?(r[t]=e,!0):i!==yn&&Je(i,t)?(i[t]=e,!0):Je(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(s[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!e[o]||n!==yn&&Je(n,o)||t!==yn&&Je(t,o)||(a=s[0])&&Je(a,o)||Je(i,o)||Je(jy,o)||Je(r.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Je(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};let Sw=!0;function QW(n){const t=PM(n),e=n.proxy,i=n.ctx;Sw=!1,t.beforeCreate&&mO(t.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:x,destroyed:S,unmounted:E,render:M,renderTracked:P,renderTriggered:L,errorCaptured:j,serverPrefetch:W,expose:U,inheritAttrs:A,components:F,directives:nt,filters:q}=t;if(c&&JW(c,i,null,n.appContext.config.unwrapInjectedRef),o)for(const Z in o){const V=o[Z];Re(V)&&(i[Z]=V.bind(e))}if(r){const Z=r.call(e,e);wn(Z)&&(n.data=Oh(Z))}if(Sw=!0,s)for(const Z in s){const V=s[Z],Q=Re(V)?V.bind(e,e):Re(V.get)?V.get.bind(e,e):hs,ut=!Re(V)&&Re(V.set)?V.set.bind(e):hs,_t=Bn({get:Q,set:ut});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>_t.value,set:at=>_t.value=at})}if(a)for(const Z in a)sN(a[Z],i,e,Z);if(l){const Z=Re(l)?l.call(e):l;Reflect.ownKeys(Z).forEach(V=>{Wg(V,Z[V])})}u&&mO(u,n,"c");function G(Z,V){be(V)?V.forEach(Q=>Z(Q.bind(e))):V&&Z(V.bind(e))}if(G(UW,h),G(VW,f),G(HW,p),G($W,m),G(FW,g),G(BW,y),G(YW,j),G(qW,P),G(jW,L),G(WW,x),G(nN,E),G(GW,W),be(U))if(U.length){const Z=n.exposed||(n.exposed={});U.forEach(V=>{Object.defineProperty(Z,V,{get:()=>e[V],set:Q=>e[V]=Q})})}else n.exposed||(n.exposed={});M&&n.render===hs&&(n.render=M),A!=null&&(n.inheritAttrs=A),F&&(n.components=F),nt&&(n.directives=nt)}function JW(n,t,e=hs,i=!1){be(n)&&(n=Mw(n));for(const r in n){const s=n[r];let o;wn(s)?"default"in s?o=Ws(s.from||r,s.default,!0):o=Ws(s.from||r):o=Ws(s),mi(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function mO(n,t,e){fs(be(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function sN(n,t,e,i){const r=i.includes(".")?Z2(e,i):()=>e[i];if(Zn(n)){const s=t[n];Re(s)&&Yl(r,s)}else if(Re(n))Yl(r,n.bind(e));else if(wn(n))if(be(n))n.forEach(s=>sN(s,t,e,i));else{const s=Re(n.handler)?n.handler.bind(e):t[n.handler];Re(s)&&Yl(r,s,n)}}function PM(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!e&&!i?l=t:(l={},r.length&&r.forEach(c=>qy(l,c,o,!0)),qy(l,t,o)),wn(t)&&s.set(t,l),l}function qy(n,t,e,i=!1){const{mixins:r,extends:s}=t;s&&qy(n,s,e,!0),r&&r.forEach(o=>qy(n,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const a=ZW[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const ZW={data:gO,props:Cl,emits:Cl,methods:Cl,computed:Cl,beforeCreate:Yi,created:Yi,beforeMount:Yi,mounted:Yi,beforeUpdate:Yi,updated:Yi,beforeDestroy:Yi,beforeUnmount:Yi,destroyed:Yi,unmounted:Yi,activated:Yi,deactivated:Yi,errorCaptured:Yi,serverPrefetch:Yi,components:Cl,directives:Cl,watch:e5,provide:gO,inject:t5};function gO(n,t){return t?n?function(){return er(Re(n)?n.call(this,this):n,Re(t)?t.call(this,this):t)}:t:n}function t5(n,t){return Cl(Mw(n),Mw(t))}function Mw(n){if(be(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function Yi(n,t){return n?[...new Set([].concat(n,t))]:t}function Cl(n,t){return n?er(er(Object.create(null),n),t):t}function e5(n,t){if(!n)return t;if(!t)return n;const e=er(Object.create(null),n);for(const i in t)e[i]=Yi(n[i],t[i]);return e}function n5(n,t,e,i=!1){const r={},s={};$y(s,P_,1),n.propsDefaults=Object.create(null),oN(n,t,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);e?n.props=i?r:hW(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function i5(n,t,e,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=en(r),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(A_(n.emitsOptions,f))continue;const p=t[f];if(l)if(Je(s,f))p!==s[f]&&(s[f]=p,c=!0);else{const m=Xs(f);r[m]=Tw(l,a,m,p,n,!1)}else p!==s[f]&&(s[f]=p,c=!0)}}}else{oN(n,t,r,s)&&(c=!0);let u;for(const h in a)(!t||!Je(t,h)&&((u=gc(h))===h||!Je(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(r[h]=Tw(l,a,h,void 0,n,!0)):delete r[h]);if(s!==a)for(const h in s)(!t||!Je(t,h)&&!0)&&(delete s[h],c=!0)}c&&Do(n,"set","$attrs")}function oN(n,t,e,i){const[r,s]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(Hg(l))continue;const c=t[l];let u;r&&Je(r,u=Xs(l))?!s||!s.includes(u)?e[u]=c:(a||(a={}))[u]=c:A_(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=en(e),c=a||yn;for(let u=0;u<s.length;u++){const h=s[u];e[h]=Tw(r,l,h,c[h],n,!Je(c,h))}}return o}function Tw(n,t,e,i,r,s){const o=n[e];if(o!=null){const a=Je(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&Re(l)){const{propsDefaults:c}=r;e in c?i=c[e]:(th(r),i=c[e]=l.call(null,t),Xl())}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===gc(e))&&(i=!0))}return i}function aN(n,t,e=!1){const i=t.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!Re(n)){const u=h=>{l=!0;const[f,p]=aN(h,t,!0);er(o,f),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return wn(n)&&i.set(n,zu),zu;if(be(s))for(let u=0;u<s.length;u++){const h=Xs(s[u]);yO(h)&&(o[h]=yn)}else if(s)for(const u in s){const h=Xs(u);if(yO(h)){const f=s[u],p=o[h]=be(f)||Re(f)?{type:f}:f;if(p){const m=bO(Boolean,p.type),g=bO(String,p.type);p[0]=m>-1,p[1]=g<0||m<g,(m>-1||Je(p,"default"))&&a.push(h)}}}const c=[o,a];return wn(n)&&i.set(n,c),c}function yO(n){return n[0]!=="$"}function vO(n){const t=n&&n.toString().match(/^\s*function (\w+)/);return t?t[1]:n===null?"null":""}function _O(n,t){return vO(n)===vO(t)}function bO(n,t){return be(t)?t.findIndex(e=>_O(e,n)):Re(t)&&_O(t,n)?0:-1}const lN=n=>n[0]==="_"||n==="$stable",DM=n=>be(n)?n.map(Ns):[Ns(n)],r5=(n,t,e)=>{if(t._n)return t;const i=OW((...r)=>DM(t(...r)),e);return i._c=!1,i},cN=(n,t,e)=>{const i=n._ctx;for(const r in n){if(lN(r))continue;const s=n[r];if(Re(s))t[r]=r5(r,s,i);else if(s!=null){const o=DM(s);t[r]=()=>o}}},uN=(n,t)=>{const e=DM(t);n.slots.default=()=>e},s5=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=en(t),$y(t,"_",e)):cN(t,n.slots={})}else n.slots={},t&&uN(n,t);$y(n.slots,P_,1)},o5=(n,t,e)=>{const{vnode:i,slots:r}=n;let s=!0,o=yn;if(i.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:(er(r,t),!e&&a===1&&delete r._):(s=!t.$stable,cN(t,r)),o=t}else t&&(uN(n,t),o={default:1});if(s)for(const a in r)!lN(a)&&!(a in o)&&delete r[a]};function hN(){return{app:null,config:{isNativeTag:P$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let a5=0;function l5(n,t){return function(i,r=null){Re(i)||(i=Object.assign({},i)),r!=null&&!wn(r)&&(r=null);const s=hN(),o=new Set;let a=!1;const l=s.app={_uid:a5++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:P5,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Re(c.install)?(o.add(c),c.install(l,...u)):Re(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const f=Xi(i,r);return f.appContext=s,u&&t?t(f,c):n(f,c,h),a=!0,l._container=c,c.__vue_app__=l,D_(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}function Aw(n,t,e,i,r=!1){if(be(n)){n.forEach((f,p)=>Aw(f,t&&(be(t)?t[p]:t),e,i,r));return}if(Gg(i)&&!r)return;const s=i.shapeFlag&4?D_(i.component)||i.component.proxy:i.el,o=r?null:s,{i:a,r:l}=n,c=t&&t.r,u=a.refs===yn?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Zn(c)?(u[c]=null,Je(h,c)&&(h[c]=null)):mi(c)&&(c.value=null)),Re(l))So(l,a,12,[o,u]);else{const f=Zn(l),p=mi(l);if(f||p){const m=()=>{if(n.f){const g=f?u[l]:l.value;r?be(g)&&yM(g,s):be(g)?g.includes(s)||g.push(s):f?(u[l]=[s],Je(h,l)&&(h[l]=u[l])):(l.value=[s],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,Je(h,l)&&(h[l]=o)):p&&(l.value=o,n.k&&(u[n.k]=o))};o?(m.id=-1,ar(m,e)):m()}}}const ar=kW;function c5(n){return u5(n)}function u5(n,t){const e=F$();e.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=hs,insertStaticContent:m}=n,g=(O,k,$,X=null,rt=null,mt=null,yt=!1,ht=null,Tt=!!k.dynamicChildren)=>{if(O===k)return;O&&!vf(O,k)&&(X=Et(O),at(O,rt,mt,!0),O=null),k.patchFlag===-2&&(Tt=!1,k.dynamicChildren=null);const{type:bt,ref:N,shapeFlag:R}=k;switch(bt){case RM:y(O,k,$,X);break;case ic:v(O,k,$,X);break;case jg:O==null&&x(k,$,X,yt);break;case yo:F(O,k,$,X,rt,mt,yt,ht,Tt);break;default:R&1?M(O,k,$,X,rt,mt,yt,ht,Tt):R&6?nt(O,k,$,X,rt,mt,yt,ht,Tt):(R&64||R&128)&&bt.process(O,k,$,X,rt,mt,yt,ht,Tt,Mt)}N!=null&&rt&&Aw(N,O&&O.ref,mt,k||O,!k)},y=(O,k,$,X)=>{if(O==null)i(k.el=a(k.children),$,X);else{const rt=k.el=O.el;k.children!==O.children&&c(rt,k.children)}},v=(O,k,$,X)=>{O==null?i(k.el=l(k.children||""),$,X):k.el=O.el},x=(O,k,$,X)=>{[O.el,O.anchor]=m(O.children,k,$,X,O.el,O.anchor)},S=({el:O,anchor:k},$,X)=>{let rt;for(;O&&O!==k;)rt=f(O),i(O,$,X),O=rt;i(k,$,X)},E=({el:O,anchor:k})=>{let $;for(;O&&O!==k;)$=f(O),r(O),O=$;r(k)},M=(O,k,$,X,rt,mt,yt,ht,Tt)=>{yt=yt||k.type==="svg",O==null?P(k,$,X,rt,mt,yt,ht,Tt):W(O,k,rt,mt,yt,ht,Tt)},P=(O,k,$,X,rt,mt,yt,ht)=>{let Tt,bt;const{type:N,props:R,shapeFlag:st,transition:gt,dirs:Ot}=O;if(Tt=O.el=o(O.type,mt,R&&R.is,R),st&8?u(Tt,O.children):st&16&&j(O.children,Tt,null,X,rt,mt&&N!=="foreignObject",yt,ht),Ot&&xl(O,null,X,"created"),R){for(const Wt in R)Wt!=="value"&&!Hg(Wt)&&s(Tt,Wt,null,R[Wt],mt,O.children,X,rt,Y);"value"in R&&s(Tt,"value",null,R.value),(bt=R.onVnodeBeforeMount)&&Ds(bt,X,O)}L(Tt,O,O.scopeId,yt,X),Ot&&xl(O,null,X,"beforeMount");const kt=(!rt||rt&&!rt.pendingBranch)&&gt&&!gt.persisted;kt&&gt.beforeEnter(Tt),i(Tt,k,$),((bt=R&&R.onVnodeMounted)||kt||Ot)&&ar(()=>{bt&&Ds(bt,X,O),kt&&gt.enter(Tt),Ot&&xl(O,null,X,"mounted")},rt)},L=(O,k,$,X,rt)=>{if($&&p(O,$),X)for(let mt=0;mt<X.length;mt++)p(O,X[mt]);if(rt){let mt=rt.subTree;if(k===mt){const yt=rt.vnode;L(O,yt,yt.scopeId,yt.slotScopeIds,rt.parent)}}},j=(O,k,$,X,rt,mt,yt,ht,Tt=0)=>{for(let bt=Tt;bt<O.length;bt++){const N=O[bt]=ht?ya(O[bt]):Ns(O[bt]);g(null,N,k,$,X,rt,mt,yt,ht)}},W=(O,k,$,X,rt,mt,yt)=>{const ht=k.el=O.el;let{patchFlag:Tt,dynamicChildren:bt,dirs:N}=k;Tt|=O.patchFlag&16;const R=O.props||yn,st=k.props||yn;let gt;$&&wl($,!1),(gt=st.onVnodeBeforeUpdate)&&Ds(gt,$,k,O),N&&xl(k,O,$,"beforeUpdate"),$&&wl($,!0);const Ot=rt&&k.type!=="foreignObject";if(bt?U(O.dynamicChildren,bt,ht,$,X,Ot,mt):yt||V(O,k,ht,null,$,X,Ot,mt,!1),Tt>0){if(Tt&16)A(ht,k,R,st,$,X,rt);else if(Tt&2&&R.class!==st.class&&s(ht,"class",null,st.class,rt),Tt&4&&s(ht,"style",R.style,st.style,rt),Tt&8){const kt=k.dynamicProps;for(let Wt=0;Wt<kt.length;Wt++){const vt=kt[Wt],oe=R[vt],ge=st[vt];(ge!==oe||vt==="value")&&s(ht,vt,oe,ge,rt,O.children,$,X,Y)}}Tt&1&&O.children!==k.children&&u(ht,k.children)}else!yt&&bt==null&&A(ht,k,R,st,$,X,rt);((gt=st.onVnodeUpdated)||N)&&ar(()=>{gt&&Ds(gt,$,k,O),N&&xl(k,O,$,"updated")},X)},U=(O,k,$,X,rt,mt,yt)=>{for(let ht=0;ht<k.length;ht++){const Tt=O[ht],bt=k[ht],N=Tt.el&&(Tt.type===yo||!vf(Tt,bt)||Tt.shapeFlag&70)?h(Tt.el):$;g(Tt,bt,N,null,X,rt,mt,yt,!0)}},A=(O,k,$,X,rt,mt,yt)=>{if($!==X){if($!==yn)for(const ht in $)!Hg(ht)&&!(ht in X)&&s(O,ht,$[ht],null,yt,k.children,rt,mt,Y);for(const ht in X){if(Hg(ht))continue;const Tt=X[ht],bt=$[ht];Tt!==bt&&ht!=="value"&&s(O,ht,bt,Tt,yt,k.children,rt,mt,Y)}"value"in X&&s(O,"value",$.value,X.value)}},F=(O,k,$,X,rt,mt,yt,ht,Tt)=>{const bt=k.el=O?O.el:a(""),N=k.anchor=O?O.anchor:a("");let{patchFlag:R,dynamicChildren:st,slotScopeIds:gt}=k;gt&&(ht=ht?ht.concat(gt):gt),O==null?(i(bt,$,X),i(N,$,X),j(k.children,$,N,rt,mt,yt,ht,Tt)):R>0&&R&64&&st&&O.dynamicChildren?(U(O.dynamicChildren,st,$,rt,mt,yt,ht),(k.key!=null||rt&&k===rt.subTree)&&fN(O,k,!0)):V(O,k,$,N,rt,mt,yt,ht,Tt)},nt=(O,k,$,X,rt,mt,yt,ht,Tt)=>{k.slotScopeIds=ht,O==null?k.shapeFlag&512?rt.ctx.activate(k,$,X,yt,Tt):q(k,$,X,rt,mt,yt,Tt):D(O,k,Tt)},q=(O,k,$,X,rt,mt,yt)=>{const ht=O.component=w5(O,X,rt);if(tN(O)&&(ht.ctx.renderer=Mt),E5(ht),ht.asyncDep){if(rt&&rt.registerDep(ht,G),!O.el){const Tt=ht.subTree=Xi(ic);v(null,Tt,k,$)}return}G(ht,O,k,$,rt,mt,yt)},D=(O,k,$)=>{const X=k.component=O.component;if(RW(O,k,$))if(X.asyncDep&&!X.asyncResolved){Z(X,k,$);return}else X.next=k,MW(X.update),X.update();else k.el=O.el,X.vnode=k},G=(O,k,$,X,rt,mt,yt)=>{const ht=()=>{if(O.isMounted){let{next:N,bu:R,u:st,parent:gt,vnode:Ot}=O,kt=N,Wt;wl(O,!1),N?(N.el=Ot.el,Z(O,N,yt)):N=Ot,R&&$g(R),(Wt=N.props&&N.props.onVnodeBeforeUpdate)&&Ds(Wt,gt,N,Ot),wl(O,!0);const vt=P0(O),oe=O.subTree;O.subTree=vt,g(oe,vt,h(oe.el),Et(oe),O,rt,mt),N.el=vt.el,kt===null&&LW(O,vt.el),st&&ar(st,rt),(Wt=N.props&&N.props.onVnodeUpdated)&&ar(()=>Ds(Wt,gt,N,Ot),rt)}else{let N;const{el:R,props:st}=k,{bm:gt,m:Ot,parent:kt}=O,Wt=Gg(k);if(wl(O,!1),gt&&$g(gt),!Wt&&(N=st&&st.onVnodeBeforeMount)&&Ds(N,kt,k),wl(O,!0),R&&Rt){const vt=()=>{O.subTree=P0(O),Rt(R,O.subTree,O,rt,null)};Wt?k.type.__asyncLoader().then(()=>!O.isUnmounted&&vt()):vt()}else{const vt=O.subTree=P0(O);g(null,vt,$,X,O,rt,mt),k.el=vt.el}if(Ot&&ar(Ot,rt),!Wt&&(N=st&&st.onVnodeMounted)){const vt=k;ar(()=>Ds(N,kt,vt),rt)}(k.shapeFlag&256||kt&&Gg(kt.vnode)&&kt.vnode.shapeFlag&256)&&O.a&&ar(O.a,rt),O.isMounted=!0,k=$=X=null}},Tt=O.effect=new bM(ht,()=>AM(bt),O.scope),bt=O.update=()=>Tt.run();bt.id=O.uid,wl(O,!0),bt()},Z=(O,k,$)=>{k.component=O;const X=O.vnode.props;O.vnode=k,O.next=null,i5(O,k.props,X,$),o5(O,k.children,$),yc(),hO(),vc()},V=(O,k,$,X,rt,mt,yt,ht,Tt=!1)=>{const bt=O&&O.children,N=O?O.shapeFlag:0,R=k.children,{patchFlag:st,shapeFlag:gt}=k;if(st>0){if(st&128){ut(bt,R,$,X,rt,mt,yt,ht,Tt);return}else if(st&256){Q(bt,R,$,X,rt,mt,yt,ht,Tt);return}}gt&8?(N&16&&Y(bt,rt,mt),R!==bt&&u($,R)):N&16?gt&16?ut(bt,R,$,X,rt,mt,yt,ht,Tt):Y(bt,rt,mt,!0):(N&8&&u($,""),gt&16&&j(R,$,X,rt,mt,yt,ht,Tt))},Q=(O,k,$,X,rt,mt,yt,ht,Tt)=>{O=O||zu,k=k||zu;const bt=O.length,N=k.length,R=Math.min(bt,N);let st;for(st=0;st<R;st++){const gt=k[st]=Tt?ya(k[st]):Ns(k[st]);g(O[st],gt,$,null,rt,mt,yt,ht,Tt)}bt>N?Y(O,rt,mt,!0,!1,R):j(k,$,X,rt,mt,yt,ht,Tt,R)},ut=(O,k,$,X,rt,mt,yt,ht,Tt)=>{let bt=0;const N=k.length;let R=O.length-1,st=N-1;for(;bt<=R&&bt<=st;){const gt=O[bt],Ot=k[bt]=Tt?ya(k[bt]):Ns(k[bt]);if(vf(gt,Ot))g(gt,Ot,$,null,rt,mt,yt,ht,Tt);else break;bt++}for(;bt<=R&&bt<=st;){const gt=O[R],Ot=k[st]=Tt?ya(k[st]):Ns(k[st]);if(vf(gt,Ot))g(gt,Ot,$,null,rt,mt,yt,ht,Tt);else break;R--,st--}if(bt>R){if(bt<=st){const gt=st+1,Ot=gt<N?k[gt].el:X;for(;bt<=st;)g(null,k[bt]=Tt?ya(k[bt]):Ns(k[bt]),$,Ot,rt,mt,yt,ht,Tt),bt++}}else if(bt>st)for(;bt<=R;)at(O[bt],rt,mt,!0),bt++;else{const gt=bt,Ot=bt,kt=new Map;for(bt=Ot;bt<=st;bt++){const Nt=k[bt]=Tt?ya(k[bt]):Ns(k[bt]);Nt.key!=null&&kt.set(Nt.key,bt)}let Wt,vt=0;const oe=st-Ot+1;let ge=!1,Qt=0;const it=new Array(oe);for(bt=0;bt<oe;bt++)it[bt]=0;for(bt=gt;bt<=R;bt++){const Nt=O[bt];if(vt>=oe){at(Nt,rt,mt,!0);continue}let ft;if(Nt.key!=null)ft=kt.get(Nt.key);else for(Wt=Ot;Wt<=st;Wt++)if(it[Wt-Ot]===0&&vf(Nt,k[Wt])){ft=Wt;break}ft===void 0?at(Nt,rt,mt,!0):(it[ft-Ot]=bt+1,ft>=Qt?Qt=ft:ge=!0,g(Nt,k[ft],$,null,rt,mt,yt,ht,Tt),vt++)}const Gt=ge?h5(it):zu;for(Wt=Gt.length-1,bt=oe-1;bt>=0;bt--){const Nt=Ot+bt,ft=k[Nt],Vt=Nt+1<N?k[Nt+1].el:X;it[bt]===0?g(null,ft,$,Vt,rt,mt,yt,ht,Tt):ge&&(Wt<0||bt!==Gt[Wt]?_t(ft,$,Vt,2):Wt--)}}},_t=(O,k,$,X,rt=null)=>{const{el:mt,type:yt,transition:ht,children:Tt,shapeFlag:bt}=O;if(bt&6){_t(O.component.subTree,k,$,X);return}if(bt&128){O.suspense.move(k,$,X);return}if(bt&64){yt.move(O,k,$,Mt);return}if(yt===yo){i(mt,k,$);for(let R=0;R<Tt.length;R++)_t(Tt[R],k,$,X);i(O.anchor,k,$);return}if(yt===jg){S(O,k,$);return}if(X!==2&&bt&1&&ht)if(X===0)ht.beforeEnter(mt),i(mt,k,$),ar(()=>ht.enter(mt),rt);else{const{leave:R,delayLeave:st,afterLeave:gt}=ht,Ot=()=>i(mt,k,$),kt=()=>{R(mt,()=>{Ot(),gt&&gt()})};st?st(mt,Ot,kt):kt()}else i(mt,k,$)},at=(O,k,$,X=!1,rt=!1)=>{const{type:mt,props:yt,ref:ht,children:Tt,dynamicChildren:bt,shapeFlag:N,patchFlag:R,dirs:st}=O;if(ht!=null&&Aw(ht,null,$,O,!0),N&256){k.ctx.deactivate(O);return}const gt=N&1&&st,Ot=!Gg(O);let kt;if(Ot&&(kt=yt&&yt.onVnodeBeforeUnmount)&&Ds(kt,k,O),N&6)et(O.component,$,X);else{if(N&128){O.suspense.unmount($,X);return}gt&&xl(O,null,k,"beforeUnmount"),N&64?O.type.remove(O,k,$,rt,Mt,X):bt&&(mt!==yo||R>0&&R&64)?Y(bt,k,$,!1,!0):(mt===yo&&R&384||!rt&&N&16)&&Y(Tt,k,$),X&&Ct(O)}(Ot&&(kt=yt&&yt.onVnodeUnmounted)||gt)&&ar(()=>{kt&&Ds(kt,k,O),gt&&xl(O,null,k,"unmounted")},$)},Ct=O=>{const{type:k,el:$,anchor:X,transition:rt}=O;if(k===yo){Lt($,X);return}if(k===jg){E(O);return}const mt=()=>{r($),rt&&!rt.persisted&&rt.afterLeave&&rt.afterLeave()};if(O.shapeFlag&1&&rt&&!rt.persisted){const{leave:yt,delayLeave:ht}=rt,Tt=()=>yt($,mt);ht?ht(O.el,mt,Tt):Tt()}else mt()},Lt=(O,k)=>{let $;for(;O!==k;)$=f(O),r(O),O=$;r(k)},et=(O,k,$)=>{const{bum:X,scope:rt,update:mt,subTree:yt,um:ht}=O;X&&$g(X),rt.stop(),mt&&(mt.active=!1,at(yt,O,k,$)),ht&&ar(ht,k),ar(()=>{O.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},Y=(O,k,$,X=!1,rt=!1,mt=0)=>{for(let yt=mt;yt<O.length;yt++)at(O[yt],k,$,X,rt)},Et=O=>O.shapeFlag&6?Et(O.component.subTree):O.shapeFlag&128?O.suspense.next():f(O.anchor||O.el),lt=(O,k,$)=>{O==null?k._vnode&&at(k._vnode,null,null,!0):g(k._vnode||null,O,k,null,null,null,$),hO(),K2(),k._vnode=O},Mt={p:g,um:at,m:_t,r:Ct,mt:q,mc:j,pc:V,pbc:U,n:Et,o:n};let xt,Rt;return t&&([xt,Rt]=t(Mt)),{render:lt,hydrate:xt,createApp:l5(lt,xt)}}function wl({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function fN(n,t,e=!1){const i=n.children,r=t.children;if(be(i)&&be(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=ya(r[s]),a.el=o.el),e||fN(o,a))}}function h5(n){const t=n.slice(),e=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(r=e[e.length-1],n[r]<c){t[i]=r,e.push(i);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,n[e[a]]<c?s=a+1:o=a;c<n[e[s]]&&(s>0&&(t[i]=e[s-1]),e[s]=i)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}const f5=n=>n.__isTeleport,yo=Symbol(void 0),RM=Symbol(void 0),ic=Symbol(void 0),jg=Symbol(void 0),nd=[];let as=null;function dN(n=!1){nd.push(as=n?null:[])}function d5(){nd.pop(),as=nd[nd.length-1]||null}let Od=1;function xO(n){Od+=n}function pN(n){return n.dynamicChildren=Od>0?as||zu:null,d5(),Od>0&&as&&as.push(n),n}function p5(n,t,e,i,r,s){return pN(gN(n,t,e,i,r,s,!0))}function m5(n,t,e,i,r){return pN(Xi(n,t,e,i,r,!0))}function Cw(n){return n?n.__v_isVNode===!0:!1}function vf(n,t){return n.type===t.type&&n.key===t.key}const P_="__vInternal",mN=({key:n})=>n!=null?n:null,qg=({ref:n,ref_key:t,ref_for:e})=>n!=null?Zn(n)||mi(n)||Re(n)?{i:Fr,r:n,k:t,f:!!e}:n:null;function gN(n,t=null,e=null,i=0,r=null,s=n===yo?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&mN(t),ref:t&&qg(t),scopeId:C_,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(LM(l,e),s&128&&n.normalize(l)):e&&(l.shapeFlag|=Zn(e)?8:16),Od>0&&!o&&as&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&as.push(l),l}const Xi=g5;function g5(n,t=null,e=null,i=0,r=null,s=!1){if((!n||n===iN)&&(n=ic),Cw(n)){const a=Zu(n,t,!0);return e&&LM(a,e),Od>0&&!s&&as&&(a.shapeFlag&6?as[as.indexOf(n)]=a:as.push(a)),a.patchFlag|=-2,a}if(O5(n)&&(n=n.__vccOpts),t){t=y5(t);let{class:a,style:l}=t;a&&!Zn(a)&&(t.class=mM(a)),wn(l)&&(z2(l)&&!be(l)&&(l=er({},l)),t.style=pM(l))}const o=Zn(n)?1:IW(n)?128:f5(n)?64:wn(n)?4:Re(n)?2:0;return gN(n,t,e,i,r,o,s,!0)}function y5(n){return n?z2(n)||P_ in n?er({},n):n:null}function Zu(n,t,e=!1){const{props:i,ref:r,patchFlag:s,children:o}=n,a=t?_5(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&mN(a),ref:t&&t.ref?e&&r?be(r)?r.concat(qg(t)):[r,qg(t)]:qg(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==yo?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Zu(n.ssContent),ssFallback:n.ssFallback&&Zu(n.ssFallback),el:n.el,anchor:n.anchor}}function v5(n=" ",t=0){return Xi(RM,null,n,t)}function lbt(n,t){const e=Xi(jg,null,n);return e.staticCount=t,e}function cbt(n="",t=!1){return t?(dN(),m5(ic,null,n)):Xi(ic,null,n)}function Ns(n){return n==null||typeof n=="boolean"?Xi(ic):be(n)?Xi(yo,null,n.slice()):typeof n=="object"?ya(n):Xi(RM,null,String(n))}function ya(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Zu(n)}function LM(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(be(t))e=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),LM(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!(P_ in t)?t._ctx=Fr:r===3&&Fr&&(Fr.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Re(t)?(t={default:t,_ctx:Fr},e=32):(t=String(t),i&64?(e=16,t=[v5(t)]):e=8);n.children=t,n.shapeFlag|=e}function _5(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=mM([t.class,i.class]));else if(r==="style")t.style=pM([t.style,i.style]);else if(x_(r)){const s=t[r],o=i[r];o&&s!==o&&!(be(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Ds(n,t,e,i=null){fs(n,t,7,[e,i])}const b5=hN();let x5=0;function w5(n,t,e){const i=n.type,r=(t?t.appContext:n.appContext)||b5,s={uid:x5++,vnode:n,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new B$(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aN(i,r),emitsOptions:J2(i,r),emit:null,emitted:null,propsDefaults:yn,inheritAttrs:i.inheritAttrs,ctx:yn,data:yn,props:yn,attrs:yn,slots:yn,refs:yn,setupState:yn,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=CW.bind(null,s),n.ce&&n.ce(s),s}let pi=null;const ubt=()=>pi||Fr,th=n=>{pi=n,n.scope.on()},Xl=()=>{pi&&pi.scope.off(),pi=null};function yN(n){return n.vnode.shapeFlag&4}let Pd=!1;function E5(n,t=!1){Pd=t;const{props:e,children:i}=n.vnode,r=yN(n);n5(n,e,r,t),s5(n,i);const s=r?S5(n,t):void 0;return Pd=!1,s}function S5(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=U2(new Proxy(n.ctx,KW));const{setup:i}=e;if(i){const r=n.setupContext=i.length>1?T5(n):null;th(n),yc();const s=So(i,n,0,[n.props,r]);if(vc(),Xl(),M2(s)){if(s.then(Xl,Xl),t)return s.then(o=>{wO(n,o,t)}).catch(o=>{T_(o,n,0)});n.asyncDep=s}else wO(n,s,t)}else vN(n,t)}function wO(n,t,e){Re(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:wn(t)&&(n.setupState=W2(t)),vN(n,e)}let EO;function vN(n,t,e){const i=n.type;if(!n.render){if(!t&&EO&&!i.render){const r=i.template||PM(n).template;if(r){const{isCustomElement:s,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=er(er({isCustomElement:s,delimiters:a},o),l);i.render=EO(r,c)}}n.render=i.render||hs}th(n),yc(),QW(n),vc(),Xl()}function M5(n){return new Proxy(n.attrs,{get(t,e){return Sr(n,"get","$attrs"),t[e]}})}function T5(n){const t=i=>{n.exposed=i||{}};let e;return{get attrs(){return e||(e=M5(n))},slots:n.slots,emit:n.emit,expose:t}}function D_(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(W2(U2(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in jy)return jy[e](n)}}))}const A5=/(?:^|[-_])(\w)/g,C5=n=>n.replace(A5,t=>t.toUpperCase()).replace(/[-_]/g,"");function _N(n,t=!0){return Re(n)?n.displayName||n.name:n.name||t&&n.__name}function bN(n,t,e=!1){let i=_N(t);if(!i&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&n&&n.parent){const r=s=>{for(const o in s)if(s[o]===t)return o};i=r(n.components||n.parent.type.components)||r(n.appContext.components)}return i?C5(i):e?"App":"Anonymous"}function O5(n){return Re(n)&&"__vccOpts"in n}const Bn=(n,t)=>vW(n,t,Pd);function fp(n,t,e){const i=arguments.length;return i===2?wn(t)&&!be(t)?Cw(t)?Xi(n,null,[t]):Xi(n,t):Xi(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Cw(e)&&(e=[e]),Xi(n,t,e))}const P5="3.2.40",D5="http://www.w3.org/2000/svg",kl=typeof document<"u"?document:null,SO=kl&&kl.createElement("template"),R5={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const r=t?kl.createElementNS(D5,n):kl.createElement(n,e?{is:e}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>kl.createTextNode(n),createComment:n=>kl.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>kl.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,r,s){const o=e?e.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===s||!(r=r.nextSibling)););else{SO.innerHTML=i?`<svg>${n}</svg>`:n;const a=SO.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function L5(n,t,e){const i=n._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}function I5(n,t,e){const i=n.style,r=Zn(e);if(e&&!r){for(const s in e)Ow(i,s,e[s]);if(t&&!Zn(t))for(const s in t)e[s]==null&&Ow(i,s,"")}else{const s=i.display;r?t!==e&&(i.cssText=e):t&&n.removeAttribute("style"),"_vod"in n&&(i.display=s)}}const MO=/\s*!important$/;function Ow(n,t,e){if(be(e))e.forEach(i=>Ow(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=k5(n,t);MO.test(e)?n.setProperty(gc(i),e.replace(MO,""),"important"):n[i]=e}}const TO=["Webkit","Moz","ms"],D0={};function k5(n,t){const e=D0[t];if(e)return e;let i=Xs(t);if(i!=="filter"&&i in n)return D0[t]=i;i=S_(i);for(let r=0;r<TO.length;r++){const s=TO[r]+i;if(s in n)return D0[t]=s}return t}const AO="http://www.w3.org/1999/xlink";function N5(n,t,e,i,r){if(i&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(AO,t.slice(6,t.length)):n.setAttributeNS(AO,t,e);else{const s=M$(t);e==null||s&&!w2(e)?n.removeAttribute(t):n.setAttribute(t,s?"":e)}}function F5(n,t,e,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),n[t]=e==null?"":e;return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=e;const l=e==null?"":e;(n.value!==l||n.tagName==="OPTION")&&(n.value=l),e==null&&n.removeAttribute(t);return}let a=!1;if(e===""||e==null){const l=typeof n[t];l==="boolean"?e=w2(e):e==null&&l==="string"?(e="",a=!0):l==="number"&&(e=0,a=!0)}try{n[t]=e}catch{}a&&n.removeAttribute(t)}const[xN,B5]=(()=>{let n=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const e=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(e&&Number(e[1])<=53)}return[n,t]})();let Pw=0;const z5=Promise.resolve(),U5=()=>{Pw=0},V5=()=>Pw||(z5.then(U5),Pw=xN());function wN(n,t,e,i){n.addEventListener(t,e,i)}function H5(n,t,e,i){n.removeEventListener(t,e,i)}function $5(n,t,e,i,r=null){const s=n._vei||(n._vei={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=W5(t);if(i){const c=s[t]=G5(i,r);wN(n,a,c,l)}else o&&(H5(n,a,o,l),s[t]=void 0)}}const CO=/(?:Once|Passive|Capture)$/;function W5(n){let t;if(CO.test(n)){t={};let i;for(;i=n.match(CO);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):gc(n.slice(2)),t]}function G5(n,t){const e=i=>{const r=i.timeStamp||xN();(B5||r>=e.attached-1)&&fs(j5(i,e.value),t,5,[i])};return e.value=n,e.attached=V5(),e}function j5(n,t){if(be(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const OO=/^on[a-z]/,q5=(n,t,e,i,r=!1,s,o,a,l)=>{t==="class"?L5(n,i,r):t==="style"?I5(n,e,i):x_(t)?gM(t)||$5(n,t,e,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Y5(n,t,i,r))?F5(n,t,i,s,o,a,l):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),N5(n,t,i,r))};function Y5(n,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in n&&OO.test(t)&&Re(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||OO.test(t)&&Zn(e)?!1:t in n}const PO=n=>{const t=n.props["onUpdate:modelValue"]||!1;return be(t)?e=>$g(t,e):t},hbt={deep:!0,created(n,t,e){n._assign=PO(e),wN(n,"change",()=>{const i=n._modelValue,r=X5(n),s=n.checked,o=n._assign;if(be(i)){const a=E2(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(w_(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(EN(n,s))})},mounted:DO,beforeUpdate(n,t,e){n._assign=PO(e),DO(n,t,e)}};function DO(n,{value:t,oldValue:e},i){n._modelValue=t,be(t)?n.checked=E2(t,i.props.value)>-1:w_(t)?n.checked=t.has(i.props.value):t!==e&&(n.checked=b_(t,EN(n,!0)))}function X5(n){return"_value"in n?n._value:n.value}function EN(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const K5=["ctrl","shift","alt","meta"],Q5={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>K5.some(e=>n[`${e}Key`]&&!t.includes(e))},fbt=(n,t)=>(e,...i)=>{for(let r=0;r<t.length;r++){const s=Q5[t[r]];if(s&&s(e,t))return}return n(e,...i)},J5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dbt=(n,t)=>e=>{if(!("key"in e))return;const i=gc(e.key);if(t.some(r=>r===i||J5[r]===i))return n(e)},pbt={beforeMount(n,{value:t},{transition:e}){n._vod=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):_f(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),_f(n,!0),i.enter(n)):i.leave(n,()=>{_f(n,!1)}):_f(n,t))},beforeUnmount(n,{value:t}){_f(n,t)}};function _f(n,t){n.style.display=t?n._vod:"none"}const Z5=er({patchProp:q5},R5);let RO;function tG(){return RO||(RO=c5(Z5))}const SN=(...n)=>{const t=tG().createApp(...n),{mount:e}=t;return t.mount=i=>{const r=eG(i);if(!r)return;const s=t._component;!Re(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=e(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function eG(n){return Zn(n)?document.querySelector(n):n}const nG=(n,t)=>{const e=n.__vccOpts||n;for(const[i,r]of t)e[i]=r;return e},iG={name:"App",inject:["sensorHandler"],mounted(){window.addEventListener("beforeunload",()=>{this.sensorHandler.diconnectAllSensors()})}},rG={id:"app"};function sG(n,t,e,i,r,s){const o=XW("RouterView");return dN(),p5("div",rG,[Xi(o)])}const MN=nG(iG,[["render",sG]]),oG="modulepreload",aG=function(n){return"/"+n},LO={},bi=function(t,e,i){return!e||e.length===0?t():Promise.all(e.map(r=>{if(r=aG(r),r in LO)return;LO[r]=!0;const s=r.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":oG,s||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),s)return new Promise((l,c)=>{a.addEventListener("load",l),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function lG(){return TN().__VUE_DEVTOOLS_GLOBAL_HOOK__}function TN(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const cG=typeof Proxy=="function",uG="devtools-plugin:setup",hG="plugin:settings:set";let Qc,Dw;function fG(){var n;return Qc!==void 0||(typeof window<"u"&&window.performance?(Qc=!0,Dw=window.performance):typeof global<"u"&&((n=global.perf_hooks)===null||n===void 0?void 0:n.performance)?(Qc=!0,Dw=global.perf_hooks.performance):Qc=!1),Qc}function dG(){return fG()?Dw.now():Date.now()}class pG{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const o in t.settings){const a=t.settings[o];i[o]=a.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},i);try{const o=localStorage.getItem(r),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(r,JSON.stringify(o))}catch{}s=o},now(){return dG()}},e&&e.on(hG,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function mG(n,t){const e=n,i=TN(),r=lG(),s=cG&&e.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))r.emit(uG,n,t);else{const o=s?new pG(e,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Su=typeof window<"u";function gG(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const ln=Object.assign;function R0(n,t){const e={};for(const i in t){const r=t[i];e[i]=ms(r)?r.map(n):n(r)}return e}const id=()=>{},ms=Array.isArray,yG=/\/$/,vG=n=>n.replace(yG,"");function L0(n,t,e="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=n(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=wG(i!=null?i:t,e),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function _G(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function IO(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function bG(n,t,e){const i=t.matched.length-1,r=e.matched.length-1;return i>-1&&i===r&&eh(t.matched[i],e.matched[r])&&AN(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function eh(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function AN(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!xG(n[e],t[e]))return!1;return!0}function xG(n,t){return ms(n)?kO(n,t):ms(t)?kO(t,n):n===t}function kO(n,t){return ms(t)?n.length===t.length&&n.every((e,i)=>e===t[i]):n.length===1&&n[0]===t}function wG(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),i=n.split("/");let r=e.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Dd;(function(n){n.pop="pop",n.push="push"})(Dd||(Dd={}));var rd;(function(n){n.back="back",n.forward="forward",n.unknown=""})(rd||(rd={}));function EG(n){if(!n)if(Su){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),vG(n)}const SG=/^[^#]+#/;function MG(n,t){return n.replace(SG,"#")+t}function TG(n,t){const e=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-e.left-(t.left||0),top:i.top-e.top-(t.top||0)}}const R_=()=>({left:window.pageXOffset,top:window.pageYOffset});function AG(n){let t;if("el"in n){const e=n.el,i=typeof e=="string"&&e.startsWith("#"),r=typeof e=="string"?i?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!r)return;t=TG(r,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function NO(n,t){return(history.state?history.state.position-t:-1)+n}const Rw=new Map;function CG(n,t){Rw.set(n,t)}function OG(n){const t=Rw.get(n);return Rw.delete(n),t}let PG=()=>location.protocol+"//"+location.host;function CN(n,t){const{pathname:e,search:i,hash:r}=t,s=n.indexOf("#");if(s>-1){let a=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),IO(l,"")}return IO(e,n)+i+r}function DG(n,t,e,i){let r=[],s=[],o=null;const a=({state:f})=>{const p=CN(n,location),m=e.value,g=t.value;let y=0;if(f){if(e.value=p,t.value=f,o&&o===m){o=null;return}y=g?f.position-g.position:0}else i(p);r.forEach(v=>{v(e.value,m,{delta:y,type:Dd.pop,direction:y?y>0?rd.forward:rd.back:rd.unknown})})};function l(){o=e.value}function c(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return s.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(ln({},f.state,{scroll:R_()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function FO(n,t,e,i=!1,r=!1){return{back:n,current:t,forward:e,replaced:i,position:window.history.length,scroll:r?R_():null}}function RG(n){const{history:t,location:e}=window,i={value:CN(n,e)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=n.indexOf("#"),f=h>-1?(e.host&&document.querySelector("base")?n:n.slice(h))+l:PG()+n+l;try{t[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),e[u?"replace":"assign"](f)}}function o(l,c){const u=ln({},t.state,FO(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=ln({},r.value,t.state,{forward:l,scroll:R_()});s(u.current,u,!0);const h=ln({},FO(i.value,l,null),{position:u.position+1},c);s(l,h,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function LG(n){n=EG(n);const t=RG(n),e=DG(n,t.state,t.location,t.replace);function i(s,o=!0){o||e.pauseListeners(),history.go(s)}const r=ln({location:"",base:n,go:i,createHref:MG.bind(null,n)},t,e);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function IG(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),LG(n)}function kG(n){return typeof n=="string"||n&&typeof n=="object"}function ON(n){return typeof n=="string"||typeof n=="symbol"}const ia={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},PN=Symbol("");var BO;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(BO||(BO={}));function nh(n,t){return ln(new Error,{type:n,[PN]:!0},t)}function ro(n,t){return n instanceof Error&&PN in n&&(t==null||!!(n.type&t))}const zO="[^/]+?",NG={sensitive:!1,strict:!1,start:!0,end:!0},FG=/[.+*?^${}()[\]/\\]/g;function BG(n,t){const e=ln({},NG,t),i=[];let r=e.start?"^":"";const s=[];for(const c of n){const u=c.length?[]:[90];e.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(e.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(FG,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:y,regexp:v}=f;s.push({name:m,repeatable:g,optional:y});const x=v||zO;if(x!==zO){p+=10;try{new RegExp(`(${x})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+E.message)}}let S=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(S=y&&c.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),r+=S,p+=20,y&&(p+=-8),g&&(p+=-20),x===".*"&&(p+=-50)}u.push(p)}i.push(u)}if(e.strict&&e.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}e.strict||(r+="/?"),e.end?r+="$":e.strict&&(r+="(?:/|$)");const o=new RegExp(r,e.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=s[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of n){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:y}=p,v=m in c?c[m]:"";if(ms(v)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=ms(v)?v.join("/"):v;if(!x)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function zG(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=t[e]-n[e];if(i)return i;e++}return n.length<t.length?n.length===1&&n[0]===40+40?-1:1:n.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function UG(n,t){let e=0;const i=n.score,r=t.score;for(;e<i.length&&e<r.length;){const s=zG(i[e],r[e]);if(s)return s;e++}if(Math.abs(r.length-i.length)===1){if(UO(i))return 1;if(UO(r))return-1}return r.length-i.length}function UO(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const VG={type:0,value:""},HG=/[a-zA-Z0-9_]/;function $G(n){if(!n)return[[]];if(n==="/")return[[VG]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${e})/"${c}": ${p}`)}let e=0,i=e;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function h(){!c||(e===0?s.push({type:0,value:c}):e===1||e===2||e===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&e!==2){i=e,e=4;continue}switch(e){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),e=1):f();break;case 4:f(),e=i;break;case 1:l==="("?e=2:HG.test(l)?f():(h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:e=3:u+=l;break;case 3:h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function WG(n,t,e){const i=BG($G(n.path),e),r=ln(i,{record:n,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function GG(n,t){const e=[],i=new Map;t=$O({strict:!1,end:!0,sensitive:!1},t);function r(u){return i.get(u)}function s(u,h,f){const p=!f,m=jG(u);m.aliasOf=f&&f.record;const g=$O(t,u),y=[m];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of S)y.push(ln({},m,{components:f?f.record.components:m.components,path:E,aliasOf:f?f.record:m}))}let v,x;for(const S of y){const{path:E}=S;if(h&&E[0]!=="/"){const M=h.record.path,P=M[M.length-1]==="/"?"":"/";S.path=h.record.path+(E&&P+E)}if(v=WG(S,h,g),f?f.alias.push(v):(x=x||v,x!==v&&x.alias.push(v),p&&u.name&&!HO(v)&&o(u.name)),m.children){const M=m.children;for(let P=0;P<M.length;P++)s(M[P],v,f&&f.children[P])}f=f||v,l(v)}return x?()=>{o(x)}:id}function o(u){if(ON(u)){const h=i.get(u);h&&(i.delete(u),e.splice(e.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=e.indexOf(u);h>-1&&(e.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return e}function l(u){let h=0;for(;h<e.length&&UG(u,e[h])>=0&&(u.record.path!==e[h].record.path||!DN(u,e[h]));)h++;e.splice(h,0,u),u.record.name&&!HO(u)&&i.set(u.record.name,u)}function c(u,h){let f,p={},m,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw nh(1,{location:u});g=f.record.name,p=ln(VO(h.params,f.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&VO(u.params,f.keys.map(x=>x.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=e.find(x=>x.re.test(m)),f&&(p=f.parse(m),g=f.record.name);else{if(f=h.name?i.get(h.name):e.find(x=>x.re.test(h.path)),!f)throw nh(1,{location:u,currentLocation:h});g=f.record.name,p=ln({},h.params,u.params),m=f.stringify(p)}const y=[];let v=f;for(;v;)y.unshift(v.record),v=v.parent;return{name:g,path:m,params:p,matched:y,meta:YG(y)}}return n.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function VO(n,t){const e={};for(const i of t)i in n&&(e[i]=n[i]);return e}function jG(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:qG(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function qG(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const i in n.components)t[i]=typeof e=="boolean"?e:e[i];return t}function HO(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function YG(n){return n.reduce((t,e)=>ln(t,e.meta),{})}function $O(n,t){const e={};for(const i in n)e[i]=i in t?t[i]:n[i];return e}function DN(n,t){return t.children.some(e=>e===n||DN(n,e))}const RN=/#/g,XG=/&/g,KG=/\//g,QG=/=/g,JG=/\?/g,LN=/\+/g,ZG=/%5B/g,tj=/%5D/g,IN=/%5E/g,ej=/%60/g,kN=/%7B/g,nj=/%7C/g,NN=/%7D/g,ij=/%20/g;function IM(n){return encodeURI(""+n).replace(nj,"|").replace(ZG,"[").replace(tj,"]")}function rj(n){return IM(n).replace(kN,"{").replace(NN,"}").replace(IN,"^")}function Lw(n){return IM(n).replace(LN,"%2B").replace(ij,"+").replace(RN,"%23").replace(XG,"%26").replace(ej,"`").replace(kN,"{").replace(NN,"}").replace(IN,"^")}function sj(n){return Lw(n).replace(QG,"%3D")}function oj(n){return IM(n).replace(RN,"%23").replace(JG,"%3F")}function aj(n){return n==null?"":oj(n).replace(KG,"%2F")}function Yy(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function lj(n){const t={};if(n===""||n==="?")return t;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(LN," "),o=s.indexOf("="),a=Yy(o<0?s:s.slice(0,o)),l=o<0?null:Yy(s.slice(o+1));if(a in t){let c=t[a];ms(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function WO(n){let t="";for(let e in n){const i=n[e];if(e=sj(e),i==null){i!==void 0&&(t+=(t.length?"&":"")+e);continue}(ms(i)?i.map(s=>s&&Lw(s)):[i&&Lw(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+e,s!=null&&(t+="="+s))})}return t}function cj(n){const t={};for(const e in n){const i=n[e];i!==void 0&&(t[e]=ms(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const uj=Symbol(""),GO=Symbol(""),kM=Symbol(""),NM=Symbol(""),Iw=Symbol("");function bf(){let n=[];function t(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function e(){n=[]}return{add:t,list:()=>n,reset:e}}function va(n,t,e,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(nh(4,{from:e,to:t})):h instanceof Error?a(h):kG(h)?a(nh(2,{from:t,to:h})):(s&&i.enterCallbacks[r]===s&&typeof h=="function"&&s.push(h),o())},c=n.call(i&&i.instances[r],t,e,l);let u=Promise.resolve(c);n.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function I0(n,t,e,i){const r=[];for(const s of n)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(hj(a)){const c=(a.__vccOpts||a)[t];c&&r.push(va(c,e,i,s,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=gG(c)?c.default:c;s.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&va(f,e,i,s,o)()}))}}return r}function hj(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function jO(n){const t=Ws(kM),e=Ws(NM),i=Bn(()=>t.resolve(Hu(n.to))),r=Bn(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=e.matched;if(!u||!h.length)return-1;const f=h.findIndex(eh.bind(null,u));if(f>-1)return f;const p=qO(l[c-2]);return c>1&&qO(u)===p&&h[h.length-1].path!==p?h.findIndex(eh.bind(null,l[c-2])):f}),s=Bn(()=>r.value>-1&&mj(e.params,i.value.params)),o=Bn(()=>r.value>-1&&r.value===e.matched.length-1&&AN(e.params,i.value.params));function a(l={}){return pj(l)?t[Hu(n.replace)?"replace":"push"](Hu(n.to)).catch(id):Promise.resolve()}return{route:i,href:Bn(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const fj=hp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jO,setup(n,{slots:t}){const e=Oh(jO(n)),{options:i}=Ws(kM),r=Bn(()=>({[YO(n.activeClass,i.linkActiveClass,"router-link-active")]:e.isActive,[YO(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const s=t.default&&t.default(e);return n.custom?s:fp("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:r.value},s)}}}),dj=fj;function pj(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function mj(n,t){for(const e in t){const i=t[e],r=n[e];if(typeof i=="string"){if(i!==r)return!1}else if(!ms(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function qO(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const YO=(n,t,e)=>n!=null?n:t!=null?t:e,gj=hp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const i=Ws(Iw),r=Bn(()=>n.route||i.value),s=Ws(GO,0),o=Bn(()=>{let c=Hu(s);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Bn(()=>r.value.matched[o.value]);Wg(GO,Bn(()=>o.value+1)),Wg(uj,a),Wg(Iw,r);const l=fW();return Yl(()=>[l.value,a.value,n.name],([c,u,h],[f,p,m])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!eh(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=n.name,h=a.value,f=h&&h.components[u];if(!f)return XO(e.default,{Component:f,route:c});const p=h.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,y=fp(f,ln({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return XO(e.default,{Component:y,route:c})||y}}});function XO(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const yj=gj;function vj(n){const t=GG(n.routes,n),e=n.parseQuery||lj,i=n.stringifyQuery||WO,r=n.history,s=bf(),o=bf(),a=bf(),l=dW(ia);let c=ia;Su&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=R0.bind(null,et=>""+et),h=R0.bind(null,aj),f=R0.bind(null,Yy);function p(et,Y){let Et,lt;return ON(et)?(Et=t.getRecordMatcher(et),lt=Y):lt=et,t.addRoute(lt,Et)}function m(et){const Y=t.getRecordMatcher(et);Y&&t.removeRoute(Y)}function g(){return t.getRoutes().map(et=>et.record)}function y(et){return!!t.getRecordMatcher(et)}function v(et,Y){if(Y=ln({},Y||l.value),typeof et=="string"){const O=L0(e,et,Y.path),k=t.resolve({path:O.path},Y),$=r.createHref(O.fullPath);return ln(O,k,{params:f(k.params),hash:Yy(O.hash),redirectedFrom:void 0,href:$})}let Et;if("path"in et)Et=ln({},et,{path:L0(e,et.path,Y.path).path});else{const O=ln({},et.params);for(const k in O)O[k]==null&&delete O[k];Et=ln({},et,{params:h(et.params)}),Y.params=h(Y.params)}const lt=t.resolve(Et,Y),Mt=et.hash||"";lt.params=u(f(lt.params));const xt=_G(i,ln({},et,{hash:rj(Mt),path:lt.path})),Rt=r.createHref(xt);return ln({fullPath:xt,hash:Mt,query:i===WO?cj(et.query):et.query||{}},lt,{redirectedFrom:void 0,href:Rt})}function x(et){return typeof et=="string"?L0(e,et,l.value.path):ln({},et)}function S(et,Y){if(c!==et)return nh(8,{from:Y,to:et})}function E(et){return L(et)}function M(et){return E(ln(x(et),{replace:!0}))}function P(et){const Y=et.matched[et.matched.length-1];if(Y&&Y.redirect){const{redirect:Et}=Y;let lt=typeof Et=="function"?Et(et):Et;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=x(lt):{path:lt},lt.params={}),ln({query:et.query,hash:et.hash,params:"path"in lt?{}:et.params},lt)}}function L(et,Y){const Et=c=v(et),lt=l.value,Mt=et.state,xt=et.force,Rt=et.replace===!0,O=P(Et);if(O)return L(ln(x(O),{state:typeof O=="object"?ln({},Mt,O.state):Mt,force:xt,replace:Rt}),Y||Et);const k=Et;k.redirectedFrom=Y;let $;return!xt&&bG(i,lt,Et)&&($=nh(16,{to:k,from:lt}),ut(lt,lt,!0,!1)),($?Promise.resolve($):W(k,lt)).catch(X=>ro(X)?ro(X,2)?X:Q(X):Z(X,k,lt)).then(X=>{if(X){if(ro(X,2))return L(ln({replace:Rt},x(X.to),{state:typeof X.to=="object"?ln({},Mt,X.to.state):Mt,force:xt}),Y||k)}else X=A(k,lt,!0,Rt,Mt);return U(k,lt,X),X})}function j(et,Y){const Et=S(et,Y);return Et?Promise.reject(Et):Promise.resolve()}function W(et,Y){let Et;const[lt,Mt,xt]=_j(et,Y);Et=I0(lt.reverse(),"beforeRouteLeave",et,Y);for(const O of lt)O.leaveGuards.forEach(k=>{Et.push(va(k,et,Y))});const Rt=j.bind(null,et,Y);return Et.push(Rt),Jc(Et).then(()=>{Et=[];for(const O of s.list())Et.push(va(O,et,Y));return Et.push(Rt),Jc(Et)}).then(()=>{Et=I0(Mt,"beforeRouteUpdate",et,Y);for(const O of Mt)O.updateGuards.forEach(k=>{Et.push(va(k,et,Y))});return Et.push(Rt),Jc(Et)}).then(()=>{Et=[];for(const O of et.matched)if(O.beforeEnter&&!Y.matched.includes(O))if(ms(O.beforeEnter))for(const k of O.beforeEnter)Et.push(va(k,et,Y));else Et.push(va(O.beforeEnter,et,Y));return Et.push(Rt),Jc(Et)}).then(()=>(et.matched.forEach(O=>O.enterCallbacks={}),Et=I0(xt,"beforeRouteEnter",et,Y),Et.push(Rt),Jc(Et))).then(()=>{Et=[];for(const O of o.list())Et.push(va(O,et,Y));return Et.push(Rt),Jc(Et)}).catch(O=>ro(O,8)?O:Promise.reject(O))}function U(et,Y,Et){for(const lt of a.list())lt(et,Y,Et)}function A(et,Y,Et,lt,Mt){const xt=S(et,Y);if(xt)return xt;const Rt=Y===ia,O=Su?history.state:{};Et&&(lt||Rt?r.replace(et.fullPath,ln({scroll:Rt&&O&&O.scroll},Mt)):r.push(et.fullPath,Mt)),l.value=et,ut(et,Y,Et,Rt),Q()}let F;function nt(){F||(F=r.listen((et,Y,Et)=>{if(!Lt.listening)return;const lt=v(et),Mt=P(lt);if(Mt){L(ln(Mt,{replace:!0}),lt).catch(id);return}c=lt;const xt=l.value;Su&&CG(NO(xt.fullPath,Et.delta),R_()),W(lt,xt).catch(Rt=>ro(Rt,12)?Rt:ro(Rt,2)?(L(Rt.to,lt).then(O=>{ro(O,20)&&!Et.delta&&Et.type===Dd.pop&&r.go(-1,!1)}).catch(id),Promise.reject()):(Et.delta&&r.go(-Et.delta,!1),Z(Rt,lt,xt))).then(Rt=>{Rt=Rt||A(lt,xt,!1),Rt&&(Et.delta&&!ro(Rt,8)?r.go(-Et.delta,!1):Et.type===Dd.pop&&ro(Rt,20)&&r.go(-1,!1)),U(lt,xt,Rt)}).catch(id)}))}let q=bf(),D=bf(),G;function Z(et,Y,Et){Q(et);const lt=D.list();return lt.length?lt.forEach(Mt=>Mt(et,Y,Et)):console.error(et),Promise.reject(et)}function V(){return G&&l.value!==ia?Promise.resolve():new Promise((et,Y)=>{q.add([et,Y])})}function Q(et){return G||(G=!et,nt(),q.list().forEach(([Y,Et])=>et?Et(et):Y()),q.reset()),et}function ut(et,Y,Et,lt){const{scrollBehavior:Mt}=n;if(!Su||!Mt)return Promise.resolve();const xt=!Et&&OG(NO(et.fullPath,0))||(lt||!Et)&&history.state&&history.state.scroll||null;return Y2().then(()=>Mt(et,Y,xt)).then(Rt=>Rt&&AG(Rt)).catch(Rt=>Z(Rt,et,Y))}const _t=et=>r.go(et);let at;const Ct=new Set,Lt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:y,getRoutes:g,resolve:v,options:n,push:E,replace:M,go:_t,back:()=>_t(-1),forward:()=>_t(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:V,install(et){const Y=this;et.component("RouterLink",dj),et.component("RouterView",yj),et.config.globalProperties.$router=Y,Object.defineProperty(et.config.globalProperties,"$route",{enumerable:!0,get:()=>Hu(l)}),Su&&!at&&l.value===ia&&(at=!0,E(r.location).catch(Mt=>{}));const Et={};for(const Mt in ia)Et[Mt]=Bn(()=>l.value[Mt]);et.provide(kM,Y),et.provide(NM,Oh(Et)),et.provide(Iw,l);const lt=et.unmount;Ct.add(et),et.unmount=function(){Ct.delete(et),Ct.size<1&&(c=ia,F&&F(),F=null,l.value=ia,at=!1,G=!1),lt()}}};return Lt}function Jc(n){return n.reduce((t,e)=>t.then(()=>e()),Promise.resolve())}function _j(n,t){const e=[],i=[],r=[],s=Math.max(t.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(n.matched.find(c=>eh(c,a))?i.push(a):e.push(a));const l=n.matched[o];l&&(t.matched.find(c=>eh(c,l))||r.push(l))}return[e,i,r]}function mbt(){return Ws(NM)}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var FM="store";function bj(n){return n===void 0&&(n=null),Ws(n!==null?n:FM)}function xj(n,t){return n.filter(t)[0]}function kw(n,t){if(t===void 0&&(t=[]),n===null||typeof n!="object")return n;var e=xj(t,function(r){return r.original===n});if(e)return e.copy;var i=Array.isArray(n)?[]:{};return t.push({original:n,copy:i}),Object.keys(n).forEach(function(r){i[r]=kw(n[r],t)}),i}function Ph(n,t){Object.keys(n).forEach(function(e){return t(n[e],e)})}function FN(n){return n!==null&&typeof n=="object"}function wj(n){return n&&typeof n.then=="function"}function Ej(n,t){return function(){return n(t)}}function BN(n,t,e){return t.indexOf(n)<0&&(e&&e.prepend?t.unshift(n):t.push(n)),function(){var i=t.indexOf(n);i>-1&&t.splice(i,1)}}function zN(n,t){n._actions=Object.create(null),n._mutations=Object.create(null),n._wrappedGetters=Object.create(null),n._modulesNamespaceMap=Object.create(null);var e=n.state;L_(n,e,[],n._modules.root,!0),BM(n,e,t)}function BM(n,t,e){var i=n._state;n.getters={},n._makeLocalGettersCache=Object.create(null);var r=n._wrappedGetters,s={};Ph(r,function(o,a){s[a]=Ej(o,n),Object.defineProperty(n.getters,a,{get:function(){return s[a]()},enumerable:!0})}),n._state=Oh({data:t}),n.strict&&Cj(n),i&&e&&n._withCommit(function(){i.data=null})}function L_(n,t,e,i,r){var s=!e.length,o=n._modules.getNamespace(e);if(i.namespaced&&(n._modulesNamespaceMap[o],n._modulesNamespaceMap[o]=i),!s&&!r){var a=zM(t,e.slice(0,-1)),l=e[e.length-1];n._withCommit(function(){a[l]=i.state})}var c=i.context=Sj(n,o,e);i.forEachMutation(function(u,h){var f=o+h;Mj(n,f,u,c)}),i.forEachAction(function(u,h){var f=u.root?h:o+h,p=u.handler||u;Tj(n,f,p,c)}),i.forEachGetter(function(u,h){var f=o+h;Aj(n,f,u,c)}),i.forEachChild(function(u,h){L_(n,t,e.concat(h),u,r)})}function Sj(n,t,e){var i=t==="",r={dispatch:i?n.dispatch:function(s,o,a){var l=Xy(s,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=t+h),n.dispatch(h,c)},commit:i?n.commit:function(s,o,a){var l=Xy(s,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=t+h),n.commit(h,c,u)}};return Object.defineProperties(r,{getters:{get:i?function(){return n.getters}:function(){return UN(n,t)}},state:{get:function(){return zM(n.state,e)}}}),r}function UN(n,t){if(!n._makeLocalGettersCache[t]){var e={},i=t.length;Object.keys(n.getters).forEach(function(r){if(r.slice(0,i)===t){var s=r.slice(i);Object.defineProperty(e,s,{get:function(){return n.getters[r]},enumerable:!0})}}),n._makeLocalGettersCache[t]=e}return n._makeLocalGettersCache[t]}function Mj(n,t,e,i){var r=n._mutations[t]||(n._mutations[t]=[]);r.push(function(o){e.call(n,i.state,o)})}function Tj(n,t,e,i){var r=n._actions[t]||(n._actions[t]=[]);r.push(function(o){var a=e.call(n,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:n.getters,rootState:n.state},o);return wj(a)||(a=Promise.resolve(a)),n._devtoolHook?a.catch(function(l){throw n._devtoolHook.emit("vuex:error",l),l}):a})}function Aj(n,t,e,i){n._wrappedGetters[t]||(n._wrappedGetters[t]=function(s){return e(i.state,i.getters,s.state,s.getters)})}function Cj(n){Yl(function(){return n._state.data},function(){},{deep:!0,flush:"sync"})}function zM(n,t){return t.reduce(function(e,i){return e[i]},n)}function Xy(n,t,e){return FN(n)&&n.type&&(e=t,t=n,n=n.type),{type:n,payload:t,options:e}}var Oj="vuex bindings",KO="vuex:mutations",k0="vuex:actions",Zc="vuex",Pj=0;function Dj(n,t){mG({id:"org.vuejs.vuex",app:n,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Oj]},function(e){e.addTimelineLayer({id:KO,label:"Vuex Mutations",color:QO}),e.addTimelineLayer({id:k0,label:"Vuex Actions",color:QO}),e.addInspector({id:Zc,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),e.on.getInspectorTree(function(i){if(i.app===n&&i.inspectorId===Zc)if(i.filter){var r=[];WN(r,t._modules.root,i.filter,""),i.rootNodes=r}else i.rootNodes=[$N(t._modules.root,"")]}),e.on.getInspectorState(function(i){if(i.app===n&&i.inspectorId===Zc){var r=i.nodeId;UN(t,r),i.state=Ij(Nj(t._modules,r),r==="root"?t.getters:t._makeLocalGettersCache,r)}}),e.on.editInspectorState(function(i){if(i.app===n&&i.inspectorId===Zc){var r=i.nodeId,s=i.path;r!=="root"&&(s=r.split("/").filter(Boolean).concat(s)),t._withCommit(function(){i.set(t._state.data,s,i.state.value)})}}),t.subscribe(function(i,r){var s={};i.payload&&(s.payload=i.payload),s.state=r,e.notifyComponentUpdate(),e.sendInspectorTree(Zc),e.sendInspectorState(Zc),e.addTimelineEvent({layerId:KO,event:{time:Date.now(),title:i.type,data:s}})}),t.subscribeAction({before:function(i,r){var s={};i.payload&&(s.payload=i.payload),i._id=Pj++,i._time=Date.now(),s.state=r,e.addTimelineEvent({layerId:k0,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:s}})},after:function(i,r){var s={},o=Date.now()-i._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},i.payload&&(s.payload=i.payload),s.state=r,e.addTimelineEvent({layerId:k0,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:s}})}})})}var QO=8702998,Rj=6710886,Lj=16777215,VN={label:"namespaced",textColor:Lj,backgroundColor:Rj};function HN(n){return n&&n!=="root"?n.split("/").slice(-2,-1)[0]:"Root"}function $N(n,t){return{id:t||"root",label:HN(t),tags:n.namespaced?[VN]:[],children:Object.keys(n._children).map(function(e){return $N(n._children[e],t+e+"/")})}}function WN(n,t,e,i){i.includes(e)&&n.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[VN]:[]}),Object.keys(t._children).forEach(function(r){WN(n,t._children[r],e,i+r+"/")})}function Ij(n,t,e){t=e==="root"?t:t[e];var i=Object.keys(t),r={state:Object.keys(n.state).map(function(o){return{key:o,editable:!0,value:n.state[o]}})};if(i.length){var s=kj(t);r.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?HN(o):o,editable:!1,value:Nw(function(){return s[o]})}})}return r}function kj(n){var t={};return Object.keys(n).forEach(function(e){var i=e.split("/");if(i.length>1){var r=t,s=i.pop();i.forEach(function(o){r[o]||(r[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),r=r[o]._custom.value}),r[s]=Nw(function(){return n[e]})}else t[e]=Nw(function(){return n[e]})}),t}function Nj(n,t){var e=t.split("/").filter(function(i){return i});return e.reduce(function(i,r,s){var o=i[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return s===e.length-1?o:o._children},t==="root"?n:n.root._children)}function Nw(n){try{return n()}catch(t){return t}}var ys=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},GN={namespaced:{configurable:!0}};GN.namespaced.get=function(){return!!this._rawModule.namespaced};ys.prototype.addChild=function(t,e){this._children[t]=e};ys.prototype.removeChild=function(t){delete this._children[t]};ys.prototype.getChild=function(t){return this._children[t]};ys.prototype.hasChild=function(t){return t in this._children};ys.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};ys.prototype.forEachChild=function(t){Ph(this._children,t)};ys.prototype.forEachGetter=function(t){this._rawModule.getters&&Ph(this._rawModule.getters,t)};ys.prototype.forEachAction=function(t){this._rawModule.actions&&Ph(this._rawModule.actions,t)};ys.prototype.forEachMutation=function(t){this._rawModule.mutations&&Ph(this._rawModule.mutations,t)};Object.defineProperties(ys.prototype,GN);var _c=function(t){this.register([],t,!1)};_c.prototype.get=function(t){return t.reduce(function(e,i){return e.getChild(i)},this.root)};_c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(i,r){return e=e.getChild(r),i+(e.namespaced?r+"/":"")},"")};_c.prototype.update=function(t){jN([],this.root,t)};_c.prototype.register=function(t,e,i){var r=this;i===void 0&&(i=!0);var s=new ys(e,i);if(t.length===0)this.root=s;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],s)}e.modules&&Ph(e.modules,function(a,l){r.register(t.concat(l),a,i)})};_c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],r=e.getChild(i);!r||!r.runtime||e.removeChild(i)};_c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return e?e.hasChild(i):!1};function jN(n,t,e){if(t.update(e),e.modules)for(var i in e.modules){if(!t.getChild(i))return;jN(n.concat(i),t.getChild(i),e.modules[i])}}function Fj(n){return new ir(n)}var ir=function(t){var e=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new _c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(f,p){return l.call(o,f,p)},this.commit=function(f,p,m){return c.call(o,f,p,m)},this.strict=r;var u=this._modules.root.state;L_(this,u,[],this._modules.root),BM(this,u),i.forEach(function(h){return h(e)})},UM={state:{configurable:!0}};ir.prototype.install=function(t,e){t.provide(e||FM,this),t.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&Dj(t,this)};UM.state.get=function(){return this._state.data};UM.state.set=function(n){};ir.prototype.commit=function(t,e,i){var r=this,s=Xy(t,e,i),o=s.type,a=s.payload,l={type:o,payload:a},c=this._mutations[o];!c||(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,r.state)}))};ir.prototype.dispatch=function(t,e){var i=this,r=Xy(t,e),s=r.type,o=r.payload,a={type:s,payload:o},l=this._actions[s];if(!!l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,i.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(f){try{i._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,i.state)})}catch{}u(f)},function(f){try{i._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,i.state,f)})}catch{}h(f)})})}};ir.prototype.subscribe=function(t,e){return BN(t,this._subscribers,e)};ir.prototype.subscribeAction=function(t,e){var i=typeof t=="function"?{before:t}:t;return BN(i,this._actionSubscribers,e)};ir.prototype.watch=function(t,e,i){var r=this;return Yl(function(){return t(r.state,r.getters)},e,Object.assign({},i))};ir.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._state.data=t})};ir.prototype.registerModule=function(t,e,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,e),L_(this,this.state,t,this._modules.get(t),i.preserveState),BM(this,this.state)};ir.prototype.unregisterModule=function(t){var e=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=zM(e.state,t.slice(0,-1));delete i[t[t.length-1]]}),zN(this)};ir.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ir.prototype.hotUpdate=function(t){this._modules.update(t),zN(this,!0)};ir.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e};Object.defineProperties(ir.prototype,UM);var qN=k_(function(n,t){var e={};return I_(t).forEach(function(i){var r=i.key,s=i.val;e[r]=function(){var a=this.$store.state,l=this.$store.getters;if(n){var c=N_(this.$store,"mapState",n);if(!c)return;a=c.context.state,l=c.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},e[r].vuex=!0}),e}),YN=k_(function(n,t){var e={};return I_(t).forEach(function(i){var r=i.key,s=i.val;e[r]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.commit;if(n){var u=N_(this.$store,"mapMutations",n);if(!u)return;c=u.context.commit}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),e}),XN=k_(function(n,t){var e={};return I_(t).forEach(function(i){var r=i.key,s=i.val;s=n+s,e[r]=function(){if(!(n&&!N_(this.$store,"mapGetters",n)))return this.$store.getters[s]},e[r].vuex=!0}),e}),KN=k_(function(n,t){var e={};return I_(t).forEach(function(i){var r=i.key,s=i.val;e[r]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.dispatch;if(n){var u=N_(this.$store,"mapActions",n);if(!u)return;c=u.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),e}),Bj=function(n){return{mapState:qN.bind(null,n),mapGetters:XN.bind(null,n),mapMutations:YN.bind(null,n),mapActions:KN.bind(null,n)}};function I_(n){return zj(n)?Array.isArray(n)?n.map(function(t){return{key:t,val:t}}):Object.keys(n).map(function(t){return{key:t,val:n[t]}}):[]}function zj(n){return Array.isArray(n)||FN(n)}function k_(n){return function(t,e){return typeof t!="string"?(e=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),n(t,e)}}function N_(n,t,e){var i=n._modulesNamespaceMap[e];return i}function Uj(n){n===void 0&&(n={});var t=n.collapsed;t===void 0&&(t=!0);var e=n.filter;e===void 0&&(e=function(u,h,f){return!0});var i=n.transformer;i===void 0&&(i=function(u){return u});var r=n.mutationTransformer;r===void 0&&(r=function(u){return u});var s=n.actionFilter;s===void 0&&(s=function(u,h){return!0});var o=n.actionTransformer;o===void 0&&(o=function(u){return u});var a=n.logMutations;a===void 0&&(a=!0);var l=n.logActions;l===void 0&&(l=!0);var c=n.logger;return c===void 0&&(c=console),function(u){var h=kw(u.state);typeof c>"u"||(a&&u.subscribe(function(f,p){var m=kw(p);if(e(f,h,m)){var g=tP(),y=r(f),v="mutation "+f.type+g;JO(c,v,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(h)),c.log("%c mutation","color: #03A9F4; font-weight: bold",y),c.log("%c next state","color: #4CAF50; font-weight: bold",i(m)),ZO(c)}h=m}),l&&u.subscribeAction(function(f,p){if(s(f,p)){var m=tP(),g=o(f),y="action "+f.type+m;JO(c,y,t),c.log("%c action","color: #03A9F4; font-weight: bold",g),ZO(c)}}))}}function JO(n,t,e){var i=e?n.groupCollapsed:n.group;try{i.call(n,t)}catch{n.log(t)}}function ZO(n){try{n.groupEnd()}catch{n.log("\u2014\u2014 log end \u2014\u2014")}}function tP(){var n=new Date;return" @ "+Mm(n.getHours(),2)+":"+Mm(n.getMinutes(),2)+":"+Mm(n.getSeconds(),2)+"."+Mm(n.getMilliseconds(),3)}function Vj(n,t){return new Array(t+1).join(n)}function Mm(n,t){return Vj("0",t-n.toString().length)+n}var Hj={version:"4.0.2",Store:ir,storeKey:FM,createStore:Fj,useStore:bj,mapState:qN,mapMutations:YN,mapGetters:XN,mapActions:KN,createNamespacedHelpers:Bj,createLogger:Uj};const QN=Hj;SN(MN).use(QN);const JN=new QN.Store({state:{user:"",patients:[],name:null,email:null,weight:null,length:null,gender:null,birthdate:null,selected_sensors:[]},getters:{getUser(){return JSON.parse(localStorage.getItem("user"))},isLogedIn(){return localStorage.getItem("user")!==null},getPatientName(n){return n.name},getPatientEmail(n){return n.email},getPatientWeight(n){return n.weight},getPatientLength(n){return n.length},getPatientGender(n){return n.gender},getPatientBirthdate(n){return n.birthdate},getPatientList(n){return n.patients},getSelectedSensors(n){return n.selected_sensors}},mutations:{changeProfilePicture(n,t){n.user.photoUrl=t},setPatientName(n,t){n.name=t},setPatientEmail(n,t){n.email=t},setPatientWeight(n,t){n.weight=t},setPatientLength(n,t){n.length=t},setPatientGender(n,t){n.gender=t},setPatientBirthdate(n,t){n.birthdate=t},setUser(n,t){n.user=t,localStorage.setItem("user",JSON.stringify(n.user))},setPatientList(n,t){n.patients=t},setSelectedSensors(n,t){n.selected_sensors=t}},actions:{logOutUser(n){n.user="",localStorage.removeItem("user"),indexedDB.deleteDatabase("firebaseLocalStorageDb"),n.patientEmail="",localStorage.removeItem("patientEmail")},deletePatient(n){n.patientEmail="",localStorage.removeItem("patientEmail")},deleteFysio(n){deleteFysio(n)}}}),ZN=vj({history:IG(),routes:[{path:"/",name:"register",component:()=>bi(()=>import("./RegisterUser.8e512b8a.js"),["assets/RegisterUser.8e512b8a.js","assets/RegisterUser.f04acfd3.css","assets/vee-validate.esm.14d4f283.js","assets/object.1a1e511e.js","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js"])},{path:"/dev",name:"dev",component:()=>bi(()=>import("./DevelopmentSensors.6d094c8f.js"),["assets/DevelopmentSensors.6d094c8f.js","assets/DevelopmentSensors.3584035a.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/patients",name:"patients",component:()=>bi(()=>import("./PatientsOverview.511d9675.js"),["assets/PatientsOverview.511d9675.js","assets/PatientsOverview.214a0a4b.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/RegisterPatientForm.ff178dfa.js","assets/RegisterPatientForm.0afd3f02.css","assets/vee-validate.esm.14d4f283.js","assets/object.1a1e511e.js"])},{path:"/patients/:name",name:"patient",component:()=>bi(()=>import("./PatientInfo.03a1f231.js"),["assets/PatientInfo.03a1f231.js","assets/PatientInfo.f8cea9f3.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/AgeCalculator.549f26af.js","assets/CapitalizeString.9395267a.js","assets/CapitalizeString.e547c2c3.css","assets/vee-validate.esm.14d4f283.js","assets/object.1a1e511e.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/registerPatient",name:"registerPatient",component:()=>bi(()=>import("./RegisterPatientForm.ff178dfa.js"),["assets/RegisterPatientForm.ff178dfa.js","assets/RegisterPatientForm.0afd3f02.css","assets/vee-validate.esm.14d4f283.js","assets/fdb.8030b4b6.js","assets/object.1a1e511e.js"])},{path:"/:name/:category/exerciseResults",name:"exerciseResults",component:()=>bi(()=>import("./ExerciseResults.6367aaee.js"),["assets/ExerciseResults.6367aaee.js","assets/ExerciseResults.ea4d9f2e.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/CapitalizeString.9395267a.js","assets/CapitalizeString.e547c2c3.css","assets/vee-validate.esm.14d4f283.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/selectSensor",name:"selectSensor",component:()=>bi(()=>import("./SelectSensor.183b9281.js"),["assets/SelectSensor.183b9281.js","assets/SelectSensor.141bb60d.css","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js"])},{path:"/:name/:category/:sensorsNeeded/selectSensor",name:"selectSensorFromInfo",component:()=>bi(()=>import("./SelectSensor.183b9281.js"),["assets/SelectSensor.183b9281.js","assets/SelectSensor.141bb60d.css","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js"])},{path:"/:name/:category/measureInfo",name:"measureInfo",component:()=>bi(()=>import("./MeasureInfo.0cae2757.js"),["assets/MeasureInfo.0cae2757.js","assets/MeasureInfo.788c571d.css","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js"])},{path:"/:name/:category/measure",name:"measure",component:()=>bi(()=>import("./MeasureStart.b52c7e0f.js"),["assets/MeasureStart.b52c7e0f.js","assets/MeasureStart.708a838d.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/AgeCalculator.549f26af.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/:name/addCategorie",name:"addCategorie",component:()=>bi(()=>import("./AddCategorie.14223e7f.js"),["assets/AddCategorie.14223e7f.js","assets/AddCategorie.5f88558f.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/:name/:category/:sensorsNeeded/sensorCheck",name:"sensorCheck",component:()=>bi(()=>import("./SensorCheck.81b94555.js"),["assets/SensorCheck.81b94555.js","assets/SensorCheck.ff28b7c0.css","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/fdb.8030b4b6.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/:id/profile",name:"profilePage",component:()=>bi(()=>import("./UserProfilePage.b1ebebaa.js"),["assets/UserProfilePage.b1ebebaa.js","assets/UserProfilePage.025d2f02.css","assets/fdb.8030b4b6.js","assets/NavBarTop.2409f7b2.js","assets/NavBarTop.34f96a3a.css","assets/firebaseAuth.7d437e86.js","assets/BackButton.516e6256.js","assets/BackButton.c5362791.css"])},{path:"/admin",name:"admin",meta:{layout:"admin"},component:()=>bi(()=>import("./AdminLandingPage.348fd0b0.js"),["assets/AdminLandingPage.348fd0b0.js","assets/AdminLandingPage.9bba17d5.css"]),children:[{path:"therapistmanage",name:"therapistmanage",meta:{layout:"admin"},component:()=>bi(()=>import("./TherapistManage.e41e8740.js"),["assets/TherapistManage.e41e8740.js","assets/TherapistManage.1f12bd44.css","assets/fdb.8030b4b6.js"])},{path:"exercise/create",name:"createExercise",meta:{layout:"admin"},component:()=>bi(()=>import("./CreateExercise.67bb5bd7.js"),["assets/CreateExercise.67bb5bd7.js","assets/CreateExercise.3028a53c.css","assets/fdb.8030b4b6.js"])},{path:"exercise/delete",name:"deleteExercise",meta:{layout:"admin"},component:()=>bi(()=>import("./DeleteExercise.970b31b4.js"),["assets/DeleteExercise.970b31b4.js","assets/DeleteExercise.5050ed02.css","assets/fdb.8030b4b6.js"])}]}]});ZN.beforeEach(async n=>{if(n.name!=="register"&&!JN.getters.isLogedIn)return{name:"register"}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},$j=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],a=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},e3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(e[u],e[h],e[f],e[p])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(t3(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):$j(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const h=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw Error();const f=s<<2|a>>4;if(i.push(f),c!==64){const p=a<<4&240|c>>2;if(i.push(p),h!==64){const m=c<<6&192|h;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Wj=function(n){const t=t3(n);return e3.encodeByteArray(t,!0)},n3=function(n){return Wj(n).replace(/\./g,"")},gbt=function(n){try{return e3.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ybt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i3())}function vbt(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _bt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bbt(){const n=i3();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jj(){return typeof indexedDB=="object"}function qj(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="FirebaseError";class Dh extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Yj,Object.setPrototypeOf(this,Dh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r3.prototype.create)}}class r3{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Xj(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Dh(r,a,i)}}function Xj(n,t){return n.replace(Kj,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Kj=/\{\$([^}]+)}/g;function xbt(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Fw(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(eP(s)&&eP(o)){if(!Fw(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function eP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wbt(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ebt(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Sbt(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function Mbt(n,t){const e=new Qj(n,t);return e.subscribe.bind(e)}class Qj{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Jj(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=N0),r.error===void 0&&(r.error=N0),r.complete===void 0&&(r.complete=N0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jj(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function N0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n){return n&&n._delegate?n._delegate:n}class Rd{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Gj;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(e6(t))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Ol){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ol){return this.instances.has(t)}getOptions(t=Ol){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(!!i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t6(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ol){return this.component?this.component.multipleInstances?t:Ol:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t6(n){return n===Ol?void 0:n}function e6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Zj(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(sn||(sn={}));const i6={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},r6=sn.INFO,s6={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},o6=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=s6[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class s3{constructor(t){this.name=t,this._logLevel=r6,this._logHandler=o6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in sn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?i6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...t),this._logHandler(this,sn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...t),this._logHandler(this,sn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,sn.INFO,...t),this._logHandler(this,sn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,sn.WARN,...t),this._logHandler(this,sn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...t),this._logHandler(this,sn.ERROR,...t)}}const a6=(n,t)=>t.some(e=>n instanceof e);let nP,iP;function l6(){return nP||(nP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c6(){return iP||(iP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o3=new WeakMap,Bw=new WeakMap,a3=new WeakMap,F0=new WeakMap,VM=new WeakMap;function u6(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Ea(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&o3.set(e,n)}).catch(()=>{}),VM.set(t,n),t}function h6(n){if(Bw.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Bw.set(n,t)}let zw={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Bw.get(n);if(t==="objectStoreNames")return n.objectStoreNames||a3.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ea(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function f6(n){zw=n(zw)}function d6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(B0(this),t,...e);return a3.set(i,t.sort?t.sort():[t]),Ea(i)}:c6().includes(n)?function(...t){return n.apply(B0(this),t),Ea(o3.get(this))}:function(...t){return Ea(n.apply(B0(this),t))}}function p6(n){return typeof n=="function"?d6(n):(n instanceof IDBTransaction&&h6(n),a6(n,l6())?new Proxy(n,zw):n)}function Ea(n){if(n instanceof IDBRequest)return u6(n);if(F0.has(n))return F0.get(n);const t=p6(n);return t!==n&&(F0.set(n,t),VM.set(t,n)),t}const B0=n=>VM.get(n);function m6(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=Ea(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ea(o.result),l.oldVersion,l.newVersion,Ea(o.transaction))}),e&&o.addEventListener("blocked",()=>e()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const g6=["get","getKey","getAll","getAllKeys","count"],y6=["put","add","delete","clear"],z0=new Map;function rP(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(z0.get(t))return z0.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=y6.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||g6.includes(e)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),r&&l.done]))[0]};return z0.set(t,s),s}f6(n=>({...n,get:(t,e,i)=>rP(t,e)||n.get(t,e,i),has:(t,e)=>!!rP(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_6(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function _6(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Uw="@firebase/app",sP="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new s3("@firebase/app"),b6="@firebase/app-compat",x6="@firebase/analytics-compat",w6="@firebase/analytics",E6="@firebase/app-check-compat",S6="@firebase/app-check",M6="@firebase/auth",T6="@firebase/auth-compat",A6="@firebase/database",C6="@firebase/database-compat",O6="@firebase/functions",P6="@firebase/functions-compat",D6="@firebase/installations",R6="@firebase/installations-compat",L6="@firebase/messaging",I6="@firebase/messaging-compat",k6="@firebase/performance",N6="@firebase/performance-compat",F6="@firebase/remote-config",B6="@firebase/remote-config-compat",z6="@firebase/storage",U6="@firebase/storage-compat",V6="@firebase/firestore",H6="@firebase/firestore-compat",$6="firebase",W6="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="[DEFAULT]",G6={[Uw]:"fire-core",[b6]:"fire-core-compat",[w6]:"fire-analytics",[x6]:"fire-analytics-compat",[S6]:"fire-app-check",[E6]:"fire-app-check-compat",[M6]:"fire-auth",[T6]:"fire-auth-compat",[A6]:"fire-rtdb",[C6]:"fire-rtdb-compat",[O6]:"fire-fn",[P6]:"fire-fn-compat",[D6]:"fire-iid",[R6]:"fire-iid-compat",[L6]:"fire-fcm",[I6]:"fire-fcm-compat",[k6]:"fire-perf",[N6]:"fire-perf-compat",[F6]:"fire-rc",[B6]:"fire-rc-compat",[z6]:"fire-gcs",[U6]:"fire-gcs-compat",[V6]:"fire-fst",[H6]:"fire-fst-compat","fire-js":"fire-js",[$6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map,Vw=new Map;function j6(n,t){try{n.container.addComponent(t)}catch(e){rc.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Qy(n){const t=n.name;if(Vw.has(t))return rc.debug(`There were multiple attempts to register component ${t}.`),!1;Vw.set(t,n);for(const e of Ky.values())j6(e,n);return!0}function q6(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sc=new r3("app","Firebase",Y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=W6;function Q6(n,t={}){typeof t!="object"&&(t={name:t});const e=Object.assign({name:l3,automaticDataCollectionEnabled:!1},t),i=e.name;if(typeof i!="string"||!i)throw sc.create("bad-app-name",{appName:String(i)});const r=Ky.get(i);if(r){if(Fw(n,r.options)&&Fw(e,r.config))return r;throw sc.create("duplicate-app",{appName:i})}const s=new n6(i);for(const a of Vw.values())s.addComponent(a);const o=new X6(n,e,s);return Ky.set(i,o),o}function J6(n=l3){const t=Ky.get(n);if(!t)throw sc.create("no-app",{appName:n});return t}function Wu(n,t,e){var i;let r=(i=G6[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rc.warn(a.join(" "));return}Qy(new Rd(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="firebase-heartbeat-database",t8=1,Ld="firebase-heartbeat-store";let U0=null;function c3(){return U0||(U0=m6(Z6,t8,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Ld)}}}).catch(n=>{throw sc.create("idb-open",{originalErrorMessage:n.message})})),U0}async function e8(n){var t;try{return(await c3()).transaction(Ld).objectStore(Ld).get(u3(n))}catch(e){if(e instanceof Dh)rc.warn(e.message);else{const i=sc.create("idb-get",{originalErrorMessage:(t=e)===null||t===void 0?void 0:t.message});rc.warn(i.message)}}}async function oP(n,t){var e;try{const r=(await c3()).transaction(Ld,"readwrite");return await r.objectStore(Ld).put(t,u3(n)),r.done}catch(i){if(i instanceof Dh)rc.warn(i.message);else{const r=sc.create("idb-set",{originalErrorMessage:(e=i)===null||e===void 0?void 0:e.message});rc.warn(r.message)}}}function u3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=1024,i8=30*24*60*60*1e3;class r8{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new o8(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aP();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=i8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aP(),{heartbeatsToSend:e,unsentEntries:i}=s8(this._heartbeatsCache.heartbeats),r=n3(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function aP(){return new Date().toISOString().substring(0,10)}function s8(n,t=n8){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),lP(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),lP(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class o8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jj()?qj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await e8(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return oP(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return oP(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function lP(n){return n3(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(n){Qy(new Rd("platform-logger",t=>new v6(t),"PRIVATE")),Qy(new Rd("heartbeat",t=>new r8(t),"PRIVATE")),Wu(Uw,sP,n),Wu(Uw,sP,"esm2017"),Wu("fire-js","")}a8("");var l8="firebase",c8="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wu(l8,c8,"app");var u8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,HM=HM||{},Ae=u8||self;function Jy(){}function F_(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function dp(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function h8(n){return Object.prototype.hasOwnProperty.call(n,V0)&&n[V0]||(n[V0]=++f8)}var V0="closure_uid_"+(1e9*Math.random()>>>0),f8=0;function d8(n,t,e){return n.call.apply(n.bind,arguments)}function p8(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Fi(n,t,e){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fi=d8:Fi=p8,Fi.apply(null,arguments)}function Tm(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ai(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function $a(){this.s=this.s,this.o=this.o}var m8=0;$a.prototype.s=!1;$a.prototype.na=function(){!this.s&&(this.s=!0,this.M(),m8!=0)&&h8(this)};$a.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const h3=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function $M(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function cP(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(F_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Bi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Bi.prototype.h=function(){this.defaultPrevented=!0};var g8=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ae.addEventListener("test",Jy,t),Ae.removeEventListener("test",Jy,t)}catch{}return n}();function Zy(n){return/^[\s\xa0]*$/.test(n)}var uP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function H0(n,t){return n<t?-1:n>t?1:0}function B_(){var n=Ae.navigator;return n&&(n=n.userAgent)?n:""}function zs(n){return B_().indexOf(n)!=-1}function WM(n){return WM[" "](n),n}WM[" "]=Jy;function y8(n){var t=b8;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}var v8=zs("Opera"),ih=zs("Trident")||zs("MSIE"),f3=zs("Edge"),Hw=f3||ih,d3=zs("Gecko")&&!(B_().toLowerCase().indexOf("webkit")!=-1&&!zs("Edge"))&&!(zs("Trident")||zs("MSIE"))&&!zs("Edge"),_8=B_().toLowerCase().indexOf("webkit")!=-1&&!zs("Edge");function p3(){var n=Ae.document;return n?n.documentMode:void 0}var tv;t:{var $0="",W0=function(){var n=B_();if(d3)return/rv:([^\);]+)(\)|;)/.exec(n);if(f3)return/Edge\/([\d\.]+)/.exec(n);if(ih)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(_8)return/WebKit\/(\S+)/.exec(n);if(v8)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(W0&&($0=W0?W0[1]:""),ih){var G0=p3();if(G0!=null&&G0>parseFloat($0)){tv=String(G0);break t}}tv=$0}var b8={};function x8(){return y8(function(){let n=0;const t=uP(String(tv)).split("."),e=uP("9").split("."),i=Math.max(t.length,e.length);for(let o=0;n==0&&o<i;o++){var r=t[o]||"",s=e[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;n=H0(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||H0(r[2].length==0,s[2].length==0)||H0(r[2],s[2]),r=r[3],s=s[3]}while(n==0)}return 0<=n})}var $w;if(Ae.document&&ih){var hP=p3();$w=hP||parseInt(tv,10)||void 0}else $w=void 0;var w8=$w;function Id(n,t){if(Bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(d3){t:{try{WM(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else e=="mouseover"?t=n.fromElement:e=="mouseout"&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:E8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Id.X.h.call(this)}}Ai(Id,Bi);var E8={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pp="closure_listenable_"+(1e6*Math.random()|0),S8=0;function M8(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++S8,this.ba=this.ea=!1}function z_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function GM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function m3(n){const t={};for(const e in n)t[e]=n[e];return t}const fP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g3(n,t){let e,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(e in i)n[e]=i[e];for(let s=0;s<fP.length;s++)e=fP[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function U_(n){this.src=n,this.g={},this.h=0}U_.prototype.add=function(n,t,e,i,r){var s=n.toString();n=this.g[s],n||(n=this.g[s]=[],this.h++);var o=Gw(n,t,i,r);return-1<o?(t=n[o],e||(t.ea=!1)):(t=new M8(t,this.src,s,!!i,r),t.ea=e,n.push(t)),t};function Ww(n,t){var e=t.type;if(e in n.g){var i=n.g[e],r=h3(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(z_(t),n.g[e].length==0&&(delete n.g[e],n.h--))}}function Gw(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}var jM="closure_lm_"+(1e6*Math.random()|0),j0={};function y3(n,t,e,i,r){if(i&&i.once)return _3(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)y3(n,t[s],e,i,r);return null}return e=XM(e),n&&n[pp]?n.N(t,e,dp(i)?!!i.capture:!!i,r):v3(n,t,e,!1,i,r)}function v3(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=dp(r)?!!r.capture:!!r,a=YM(n);if(a||(n[jM]=a=new U_(n)),e=a.add(t,e,i,o,s),e.proxy)return e;if(i=T8(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)g8||(r=o),r===void 0&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(x3(t.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return e}function T8(){function n(e){return t.call(n.src,n.listener,e)}const t=A8;return n}function _3(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_3(n,t[s],e,i,r);return null}return e=XM(e),n&&n[pp]?n.O(t,e,dp(i)?!!i.capture:!!i,r):v3(n,t,e,!0,i,r)}function b3(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)b3(n,t[s],e,i,r);else i=dp(i)?!!i.capture:!!i,e=XM(e),n&&n[pp]?(n=n.i,t=String(t).toString(),t in n.g&&(s=n.g[t],e=Gw(s,e,i,r),-1<e&&(z_(s[e]),Array.prototype.splice.call(s,e,1),s.length==0&&(delete n.g[t],n.h--)))):n&&(n=YM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Gw(t,e,i,r)),(e=-1<n?t[n]:null)&&qM(e))}function qM(n){if(typeof n!="number"&&n&&!n.ba){var t=n.src;if(t&&t[pp])Ww(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(x3(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=YM(t))?(Ww(e,n),e.h==0&&(e.src=null,t[jM]=null)):z_(n)}}}function x3(n){return n in j0?j0[n]:j0[n]="on"+n}function A8(n,t){if(n.ba)n=!0;else{t=new Id(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&qM(n),n=e.call(i,t)}return n}function YM(n){return n=n[jM],n instanceof U_?n:null}var q0="__closure_events_fn_"+(1e9*Math.random()>>>0);function XM(n){return typeof n=="function"?n:(n[q0]||(n[q0]=function(t){return n.handleEvent(t)}),n[q0])}function vi(){$a.call(this),this.i=new U_(this),this.P=this,this.I=null}Ai(vi,$a);vi.prototype[pp]=!0;vi.prototype.removeEventListener=function(n,t,e,i){b3(this,n,t,e,i)};function Mi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,typeof t=="string")t=new Bi(t,n);else if(t instanceof Bi)t.target=t.target||n;else{var r=t;t=new Bi(i,n),g3(t,r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=Am(o,i,!0,t)&&r}if(o=t.g=n,r=Am(o,i,!0,t)&&r,r=Am(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)o=t.g=e[s],r=Am(o,i,!1,t)&&r}vi.prototype.M=function(){if(vi.X.M.call(this),this.i){var n=this.i,t;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)z_(e[i]);delete n.g[t],n.h--}}this.I=null};vi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)};vi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};function Am(n,t,e,i){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==e){var a=o.listener,l=o.ha||o.src;o.ea&&Ww(n.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var KM=Ae.JSON.stringify;function C8(){var n=S3;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class O8{constructor(){this.h=this.g=null}add(t,e){const i=w3.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}}var w3=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new P8,n=>n.reset());class P8{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function D8(n){Ae.setTimeout(()=>{throw n},0)}function E3(n,t){jw||R8(),qw||(jw(),qw=!0),S3.add(n,t)}var jw;function R8(){var n=Ae.Promise.resolve(void 0);jw=function(){n.then(L8)}}var qw=!1,S3=new O8;function L8(){for(var n;n=C8();){try{n.h.call(n.g)}catch(e){D8(e)}var t=w3;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}qw=!1}function V_(n,t){vi.call(this),this.h=n||1,this.g=t||Ae,this.j=Fi(this.kb,this),this.l=Date.now()}Ai(V_,vi);re=V_.prototype;re.ca=!1;re.R=null;re.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mi(this,"tick"),this.ca&&(QM(this),this.start()))}};re.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function QM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}re.M=function(){V_.X.M.call(this),QM(this),delete this.g};function JM(n,t,e){if(typeof n=="function")e&&(n=Fi(n,e));else if(n&&typeof n.handleEvent=="function")n=Fi(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ae.setTimeout(n,t||0)}function M3(n){n.g=JM(()=>{n.g=null,n.i&&(n.i=!1,M3(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class I8 extends $a{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:M3(this)}M(){super.M(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kd(n){$a.call(this),this.h=n,this.g={}}Ai(kd,$a);var dP=[];function T3(n,t,e,i){Array.isArray(e)||(e&&(dP[0]=e.toString()),e=dP);for(var r=0;r<e.length;r++){var s=y3(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function A3(n){GM(n.g,function(t,e){this.g.hasOwnProperty(e)&&qM(t)},n),n.g={}}kd.prototype.M=function(){kd.X.M.call(this),A3(this)};kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function H_(){this.g=!0}H_.prototype.Aa=function(){this.g=!1};function k8(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+e+`
`+o})}function N8(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+e+`
`+s+" "+o})}function Ou(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+B8(n,e)+(i?" "+i:"")})}function F8(n,t){n.info(function(){return"TIMEOUT: "+t})}H_.prototype.info=function(){};function B8(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e){for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return KM(e)}catch{return t}}var bc={},pP=null;function $_(){return pP=pP||new vi}bc.Oa="serverreachability";function C3(n){Bi.call(this,bc.Oa,n)}Ai(C3,Bi);function Nd(n){const t=$_();Mi(t,new C3(t))}bc.STAT_EVENT="statevent";function O3(n,t){Bi.call(this,bc.STAT_EVENT,n),this.stat=t}Ai(O3,Bi);function Ki(n){const t=$_();Mi(t,new O3(t,n))}bc.Pa="timingevent";function P3(n,t){Bi.call(this,bc.Pa,n),this.size=t}Ai(P3,Bi);function mp(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){n()},t)}var W_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},D3={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ZM(){}ZM.prototype.h=null;function mP(n){return n.h||(n.h=n.i())}function R3(){}var gp={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function tT(){Bi.call(this,"d")}Ai(tT,Bi);function eT(){Bi.call(this,"c")}Ai(eT,Bi);var Yw;function G_(){}Ai(G_,ZM);G_.prototype.g=function(){return new XMLHttpRequest};G_.prototype.i=function(){return{}};Yw=new G_;function yp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new kd(this),this.O=z8,n=Hw?125:void 0,this.T=new V_(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new L3}function L3(){this.i=null,this.g="",this.h=!1}var z8=45e3,Xw={},ev={};re=yp.prototype;re.setTimeout=function(n){this.O=n};function Kw(n,t,e){n.K=1,n.v=q_(Lo(t)),n.s=e,n.P=!0,I3(n,null)}function I3(n,t){n.F=Date.now(),vp(n),n.A=Lo(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),H3(e.i,"t",i),n.C=0,e=n.l.H,n.h=new L3,n.g=cF(n.l,e?t:null,!n.s),0<n.N&&(n.L=new I8(Fi(n.Ka,n,n.g),n.N)),T3(n.S,n.g,"readystatechange",n.hb),t=n.H?m3(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),Nd(),k8(n.j,n.u,n.A,n.m,n.U,n.s)}re.hb=function(n){n=n.target;const t=this.L;t&&xo(n)==3?t.l():this.Ka(n)};re.Ka=function(n){try{if(n==this.g)t:{const u=xo(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Hw||this.g&&(this.h.h||this.g.fa()||_P(this.g)))){this.I||u!=4||t==7||(t==8||0>=h?Nd(3):Nd(2)),j_(this);var e=this.g.aa();this.Y=e;e:if(k3(this)){var i=_P(this.g);n="";var r=i.length,s=xo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bl(this),sd(this);var o="";break e}this.h.i=new Ae.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=e==200,N8(this.j,this.u,this.A,this.m,this.U,u,e),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zy(a)){var c=a;break e}}c=null}if(e=c)Ou(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qw(this,e);else{this.i=!1,this.o=3,Ki(12),Bl(this),sd(this);break t}}this.P?(N3(this,u,o),Hw&&this.i&&u==3&&(T3(this.S,this.T,"tick",this.gb),this.T.start())):(Ou(this.j,this.m,o,null),Qw(this,o)),u==4&&Bl(this),this.i&&!this.I&&(u==4?sF(this.l,this):(this.i=!1,vp(this)))}else e==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ki(12)):(this.o=0,Ki(13)),Bl(this),sd(this)}}}catch{}finally{}};function k3(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Da:!1}function N3(n,t,e){let i=!0,r;for(;!n.I&&n.C<e.length;)if(r=U8(n,e),r==ev){t==4&&(n.o=4,Ki(14),i=!1),Ou(n.j,n.m,null,"[Incomplete Response]");break}else if(r==Xw){n.o=4,Ki(15),Ou(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}else Ou(n.j,n.m,r,null),Qw(n,r);k3(n)&&r!=ev&&r!=Xw&&(n.h.g="",n.C=0),t!=4||e.length!=0||n.h.h||(n.o=1,Ki(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,t=n.l,t.g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),lT(t),t.K=!0,Ki(11))):(Ou(n.j,n.m,e,"[Invalid Chunked Response]"),Bl(n),sd(n))}re.gb=function(){if(this.g){var n=xo(this.g),t=this.g.fa();this.C<t.length&&(j_(this),N3(this,n,t),this.i&&n!=4&&vp(this))}};function U8(n,t){var e=n.C,i=t.indexOf(`
`,e);return i==-1?ev:(e=Number(t.substring(e,i)),isNaN(e)?Xw:(i+=1,i+e>t.length?ev:(t=t.substr(i,e),n.C=i+e,t)))}re.cancel=function(){this.I=!0,Bl(this)};function vp(n){n.V=Date.now()+n.O,F3(n,n.O)}function F3(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=mp(Fi(n.fb,n),t)}function j_(n){n.B&&(Ae.clearTimeout(n.B),n.B=null)}re.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(F8(this.j,this.A),this.K!=2&&(Nd(),Ki(17)),Bl(this),this.o=2,sd(this)):F3(this,this.V-n)};function sd(n){n.l.G==0||n.I||sF(n.l,n)}function Bl(n){j_(n);var t=n.L;t&&typeof t.na=="function"&&t.na(),n.L=null,QM(n.T),A3(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Qw(n,t){try{var e=n.l;if(e.G!=0&&(e.g==n||Jw(e.h,n))){if(!n.J&&Jw(e.h,n)&&e.G==3){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!e.u){if(e.g)if(e.g.F+3e3<n.F)rv(e),K_(e);else break t;aT(e),Ki(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&e.A==0&&!e.v&&(e.v=mp(Fi(e.bb,e),6e3));if(1>=G3(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else zl(e,11)}else if((n.J||e.g==n)&&rv(e),!Zy(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.T=c[0],c=c[1],e.G==2)if(c[0]=="c"){e.I=c[1],e.ka=c[2];const u=c[3];u!=null&&(e.ma=u,e.j.info("VER="+e.ma));const h=c[4];h!=null&&(e.Ca=h,e.j.info("SVER="+e.Ca));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,e.J=i,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const p=n.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=i.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(nT(s,s.h),s.h=null))}if(i.D){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,In(i.F,i.D,g))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms")),i=e;var o=n;if(i.sa=lF(i,i.H?i.ka:null,i.V),o.J){j3(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(j_(a),vp(a)),i.g=o}else iF(i);0<e.i.length&&Q_(e)}else c[0]!="stop"&&c[0]!="close"||zl(e,7);else e.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?zl(e,7):oT(e):c[0]!="noop"&&e.l&&e.l.wa(c),e.A=0)}}Nd(4)}catch{}}function V8(n){if(n.W&&typeof n.W=="function")return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(F_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}t=[],e=0;for(i in n)t[e++]=n[i];return t}function H8(n){if(n.oa&&typeof n.oa=="function")return n.oa();if(!n.W||typeof n.W!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(F_(n)||typeof n=="string"){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}function B3(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(F_(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var e=H8(n),i=V8(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}var z3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $8(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Kl(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Kl){this.h=t!==void 0?t:n.h,nv(this,n.j),this.s=n.s,this.g=n.g,iv(this,n.m),this.l=n.l,t=n.i;var e=new Fd;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),gP(this,e),this.o=n.o}else n&&(e=String(n).match(z3))?(this.h=!!t,nv(this,e[1]||"",!0),this.s=Wf(e[2]||""),this.g=Wf(e[3]||"",!0),iv(this,e[4]),this.l=Wf(e[5]||"",!0),gP(this,e[6]||"",!0),this.o=Wf(e[7]||"")):(this.h=!!t,this.i=new Fd(null,this.h))}Kl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Gf(t,yP,!0),":");var e=this.g;return(e||t=="file")&&(n.push("//"),(t=this.s)&&n.push(Gf(t,yP,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.m,e!=null&&n.push(":",String(e))),(e=this.l)&&(this.g&&e.charAt(0)!="/"&&n.push("/"),n.push(Gf(e,e.charAt(0)=="/"?j8:G8,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Gf(e,Y8)),n.join("")};function Lo(n){return new Kl(n)}function nv(n,t,e){n.j=e?Wf(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function iv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function gP(n,t,e){t instanceof Fd?(n.i=t,X8(n.i,n.h)):(e||(t=Gf(t,q8)),n.i=new Fd(t,n.h))}function In(n,t,e){n.i.set(t,e)}function q_(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wf(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gf(n,t,e){return typeof n=="string"?(n=encodeURI(n).replace(t,W8),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function W8(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var yP=/[#\/\?@]/g,G8=/[#\?:]/g,j8=/[#\?]/g,q8=/[#\?@]/g,Y8=/#/g;function Fd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Wa(n){n.g||(n.g=new Map,n.h=0,n.i&&$8(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}re=Fd.prototype;re.add=function(n,t){Wa(this),this.i=null,n=Rh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this};function U3(n,t){Wa(n),t=Rh(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function V3(n,t){return Wa(n),t=Rh(n,t),n.g.has(t)}re.forEach=function(n,t){Wa(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)};re.oa=function(){Wa(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e};re.W=function(n){Wa(this);let t=[];if(typeof n=="string")V3(this,n)&&(t=t.concat(this.g.get(Rh(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t};re.set=function(n,t){return Wa(this),this.i=null,n=Rh(this,n),V3(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};re.get=function(n,t){return n?(n=this.W(n),0<n.length?String(n[0]):t):t};function H3(n,t,e){U3(n,t),0<e.length&&(n.i=null,n.g.set(Rh(n,t),$M(e)),n.h+=e.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};function Rh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function X8(n,t){t&&!n.j&&(Wa(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(U3(this,i),H3(this,r,e))},n)),n.j=t}var K8=class{constructor(n,t){this.h=n,this.g=t}};function $3(n){this.l=n||Q8,Ae.PerformanceNavigationTiming?(n=Ae.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Ae.g&&Ae.g.Ga&&Ae.g.Ga()&&Ae.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Q8=10;function W3(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function G3(n){return n.h?1:n.g?n.g.size:0}function Jw(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function nT(n,t){n.g?n.g.add(t):n.h=t}function j3(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}$3.prototype.cancel=function(){if(this.i=q3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function q3(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return $M(n.i)}function iT(){}iT.prototype.stringify=function(n){return Ae.JSON.stringify(n,void 0)};iT.prototype.parse=function(n){return Ae.JSON.parse(n,void 0)};function J8(){this.g=new iT}function Z8(n,t,e){const i=e||"";try{B3(n,function(r,s){let o=r;dp(r)&&(o=KM(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function t9(n,t){const e=new H_;if(Ae.Image){const i=new Image;i.onload=Tm(Cm,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Tm(Cm,e,i,"TestLoadImage: error",!1,t),i.onabort=Tm(Cm,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Tm(Cm,e,i,"TestLoadImage: timeout",!1,t),Ae.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}function Cm(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function _p(n){this.l=n.$b||null,this.j=n.ib||!1}Ai(_p,ZM);_p.prototype.g=function(){return new Y_(this.l,this.j)};_p.prototype.i=function(n){return function(){return n}}({});function Y_(n,t){vi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=rT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ai(Y_,vi);var rT=0;re=Y_.prototype;re.open=function(n,t){if(this.readyState!=rT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Bd(this)};re.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ae).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bp(this)),this.readyState=rT};re.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bd(this)),this.g&&(this.readyState=3,Bd(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y3(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))};function Y3(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}re.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?bp(this):Bd(this),this.readyState==3&&Y3(this)}};re.Ua=function(n){this.g&&(this.response=this.responseText=n,bp(this))};re.Ta=function(n){this.g&&(this.response=n,bp(this))};re.ga=function(){this.g&&bp(this)};function bp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bd(n)}re.setRequestHeader=function(n,t){this.v.append(n,t)};re.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)e=e.value,n.push(e[0]+": "+e[1]),e=t.next();return n.join(`\r
`)};function Bd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Y_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var e9=Ae.JSON.parse;function ti(n){vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=X3,this.K=this.L=!1}Ai(ti,vi);var X3="",n9=/^https?$/i,i9=["POST","PUT"];re=ti.prototype;re.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yw.g(),this.C=this.u?mP(this.u):mP(Yw),this.g.onreadystatechange=Fi(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){vP(this,s);return}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())e.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(e.keys()).find(s=>s.toLowerCase()=="content-type"),r=Ae.FormData&&n instanceof Ae.FormData,!(0<=h3(i9,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{J3(this),0<this.B&&((this.K=r9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.qa,this)):this.A=JM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){vP(this,s)}};function r9(n){return ih&&x8()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}re.qa=function(){typeof HM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))};function vP(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,K3(n),X_(n)}function K3(n){n.D||(n.D=!0,Mi(n,"complete"),Mi(n,"error"))}re.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),X_(this))};re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),X_(this,!0)),ti.X.M.call(this)};re.Ha=function(){this.s||(this.F||this.v||this.l?Q3(this):this.eb())};re.eb=function(){Q3(this)};function Q3(n){if(n.h&&typeof HM<"u"&&(!n.C[1]||xo(n)!=4||n.aa()!=2)){if(n.v&&xo(n)==4)JM(n.Ha,0,n);else if(Mi(n,"readystatechange"),xo(n)==4){n.h=!1;try{const a=n.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var e;if(!(e=t)){var i;if(i=a===0){var r=String(n.H).match(z3)[1]||null;if(!r&&Ae.self&&Ae.self.location){var s=Ae.self.location.protocol;r=s.substr(0,s.length-1)}i=!n9.test(r?r.toLowerCase():"")}e=i}if(e)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var o=2<xo(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",K3(n)}}finally{X_(n)}}}}function X_(n,t){if(n.g){J3(n);const e=n.g,i=n.C[0]?Jy:null;n.g=null,n.C=null,t||Mi(n,"ready");try{e.onreadystatechange=i}catch{}}}function J3(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ae.clearTimeout(n.A),n.A=null)}function xo(n){return n.g?n.g.readyState:0}re.aa=function(){try{return 2<xo(this)?this.g.status:-1}catch{return-1}};re.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),e9(t)}};function _P(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case X3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}re.Ea=function(){return this.m};re.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function Z3(n){let t="";return GM(n,function(e,i){t+=i,t+=":",t+=e,t+=`\r
`}),t}function sT(n,t,e){t:{for(i in e){var i=!1;break t}i=!0}i||(e=Z3(e),typeof n=="string"?e!=null&&encodeURIComponent(String(e)):In(n,t,e))}function xf(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function tF(n){this.Ca=0,this.i=[],this.j=new H_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=xf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=xf("baseRetryDelayMs",5e3,n),this.ab=xf("retryDelaySeedMs",1e4,n),this.Za=xf("forwardChannelMaxRetries",2,n),this.ta=xf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new $3(n&&n.concurrentRequestLimit),this.Fa=new J8,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}re=tF.prototype;re.ma=8;re.G=1;function oT(n){if(eF(n),n.G==3){var t=n.U++,e=Lo(n.F);In(e,"SID",n.I),In(e,"RID",t),In(e,"TYPE","terminate"),xp(n,e),t=new yp(n,n.j,t,void 0),t.K=2,t.v=q_(Lo(e)),e=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(e=Ae.navigator.sendBeacon(t.v.toString(),"")),!e&&Ae.Image&&(new Image().src=t.v,e=!0),e||(t.g=cF(t.l,null),t.g.da(t.v)),t.F=Date.now(),vp(t)}aF(n)}function K_(n){n.g&&(lT(n),n.g.cancel(),n.g=null)}function eF(n){K_(n),n.u&&(Ae.clearTimeout(n.u),n.u=null),rv(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&Ae.clearTimeout(n.m),n.m=null)}function Q_(n){W3(n.h)||n.m||(n.m=!0,E3(n.Ja,n),n.C=0)}function s9(n,t){return G3(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=t.D.concat(n.i),!0):n.G==1||n.G==2||n.C>=(n.Ya?0:n.Za)?!1:(n.m=mp(Fi(n.Ja,n,t),oF(n,n.C)),n.C++,!0)}re.Ja=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new yp(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=m3(s),g3(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)t:{for(var t=0,e=0;e<this.i.length;e++){e:{var i=this.i[e];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=e;break t}if(t===4096||e===this.i.length-1){t=e+1;break t}}t=1e3}else t=1e3;t=nF(this,r,t),e=Lo(this.F),In(e,"RID",n),In(e,"CVER",22),this.D&&In(e,"X-HTTP-Session-Id",this.D),xp(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(Z3(s)))+"&"+t:this.o&&sT(e,this.o,s)),nT(this.h,r),this.Xa&&In(e,"TYPE","init"),this.O?(In(e,"$req",t),In(e,"SID","null"),r.Z=!0,Kw(r,e,null)):Kw(r,e,t),this.G=2}}else this.G==3&&(n?bP(this,n):this.i.length==0||W3(this.h)||bP(this))};function bP(n,t){var e;t?e=t.m:e=n.U++;const i=Lo(n.F);In(i,"SID",n.I),In(i,"RID",e),In(i,"AID",n.T),xp(n,i),n.o&&n.s&&sT(i,n.o,n.s),e=new yp(n,n.j,e,n.C+1),n.o===null&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=nF(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),nT(n.h,e),Kw(e,i,t)}function xp(n,t){n.ia&&GM(n.ia,function(e,i){In(t,i,e)}),n.l&&B3({},function(e,i){In(t,i,e)})}function nF(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Fi(n.l.Qa,n.l,n):null;t:{var r=n.i;let s=-1;for(;;){const o=["count="+e];s==-1?0<e?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{Z8(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return n=n.i.splice(0,e),t.D=n,i}function iF(n){n.g||n.u||(n.Z=1,E3(n.Ia,n),n.A=0)}function aT(n){return n.g||n.u||3<=n.A?!1:(n.Z++,n.u=mp(Fi(n.Ia,n),oF(n,n.A)),n.A++,!0)}re.Ia=function(){if(this.u=null,rF(this),this.$&&!(this.K||this.g==null||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=mp(Fi(this.cb,this),n)}};re.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ki(10),K_(this),rF(this))};function lT(n){n.B!=null&&(Ae.clearTimeout(n.B),n.B=null)}function rF(n){n.g=new yp(n,n.j,"rpc",n.Z),n.o===null&&(n.g.H=n.s),n.g.N=0;var t=Lo(n.sa);In(t,"RID","rpc"),In(t,"SID",n.I),In(t,"CI",n.L?"0":"1"),In(t,"AID",n.T),In(t,"TYPE","xmlhttp"),xp(n,t),n.o&&n.s&&sT(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=q_(Lo(t)),e.s=null,e.P=!0,I3(e,n)}re.bb=function(){this.v!=null&&(this.v=null,K_(this),aT(this),Ki(19))};function rv(n){n.v!=null&&(Ae.clearTimeout(n.v),n.v=null)}function sF(n,t){var e=null;if(n.g==t){rv(n),lT(n),n.g=null;var i=2}else if(Jw(n.h,t))e=t.D,j3(n.h,t),i=1;else return;if(n.G!=0){if(n.pa=t.Y,t.i)if(i==1){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;i=$_(),Mi(i,new P3(i,e)),Q_(n)}else iF(n);else if(r=t.o,r==3||r==0&&0<n.pa||!(i==1&&s9(n,t)||i==2&&aT(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:zl(n,5);break;case 4:zl(n,10);break;case 3:zl(n,6);break;default:zl(n,2)}}}function oF(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function zl(n,t){if(n.j.info("Error code "+t),t==2){var e=null;n.l&&(e=null);var i=Fi(n.jb,n);e||(e=new Kl("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||nv(e,"https"),q_(e)),t9(e.toString(),i)}else Ki(2);n.G=0,n.l&&n.l.va(t),aF(n),eF(n)}re.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ki(2)):(this.j.info("Failed to ping google.com"),Ki(1))};function aF(n){if(n.G=0,n.la=[],n.l){const t=q3(n.h);(t.length!=0||n.i.length!=0)&&(cP(n.la,t),cP(n.la,n.i),n.h.i.length=0,$M(n.i),n.i.length=0),n.l.ua()}}function lF(n,t,e){var i=e instanceof Kl?Lo(e):new Kl(e,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),iv(i,i.m);else{var r=Ae.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Kl(null,void 0);i&&nv(s,i),t&&(s.g=t),r&&iv(s,r),e&&(s.l=e),i=s}return e=n.D,t=n.za,e&&t&&In(i,e,t),In(i,"VER",n.ma),xp(n,i),i}function cF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=e&&n.Da&&!n.ra?new ti(new _p({ib:!0})):new ti(n.ra),t.L=n.H,t}function uF(){}re=uF.prototype;re.xa=function(){};re.wa=function(){};re.va=function(){};re.ua=function(){};re.Qa=function(){};function sv(){if(ih&&!(10<=Number(w8)))throw Error("Environmental error: no available transport.")}sv.prototype.g=function(n,t){return new Mr(n,t)};function Mr(n,t){vi.call(this),this.g=new tF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!Zy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zy(t)&&(this.g.D=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Lh(this)}Ai(Mr,vi);Mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Ki(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=lF(n,null,n.V),Q_(n)};Mr.prototype.close=function(){oT(this.g)};Mr.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var e={};e.__data__=n,n=e}else this.v&&(e={},e.__data__=KM(n),n=e);t.i.push(new K8(t.$a++,n)),t.G==3&&Q_(t)};Mr.prototype.M=function(){this.g.l=null,delete this.j,oT(this.g),delete this.g,Mr.X.M.call(this)};function hF(n){tT.call(this);var t=n.__sm__;if(t){t:{for(const e in t){n=e;break t}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}Ai(hF,tT);function fF(){eT.call(this),this.status=1}Ai(fF,eT);function Lh(n){this.g=n}Ai(Lh,uF);Lh.prototype.xa=function(){Mi(this.g,"a")};Lh.prototype.wa=function(n){Mi(this.g,new hF(n))};Lh.prototype.va=function(n){Mi(this.g,new fF)};Lh.prototype.ua=function(){Mi(this.g,"b")};sv.prototype.createWebChannel=sv.prototype.g;Mr.prototype.send=Mr.prototype.u;Mr.prototype.open=Mr.prototype.m;Mr.prototype.close=Mr.prototype.close;W_.NO_ERROR=0;W_.TIMEOUT=8;W_.HTTP_ERROR=6;D3.COMPLETE="complete";R3.EventType=gp;gp.OPEN="a";gp.CLOSE="b";gp.ERROR="c";gp.MESSAGE="d";vi.prototype.listen=vi.prototype.N;ti.prototype.listenOnce=ti.prototype.O;ti.prototype.getLastError=ti.prototype.Na;ti.prototype.getLastErrorCode=ti.prototype.Ea;ti.prototype.getStatus=ti.prototype.aa;ti.prototype.getResponseJson=ti.prototype.Ra;ti.prototype.getResponseText=ti.prototype.fa;ti.prototype.send=ti.prototype.da;var o9=function(){return new sv},a9=function(){return $_()},Y0=W_,l9=D3,c9=bc,xP={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},u9=_p,Om=R3,h9=ti;const wP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih="9.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new s3("@firebase/firestore");function EP(){return oc.logLevel}function le(n,...t){if(oc.logLevel<=sn.DEBUG){const e=t.map(cT);oc.debug(`Firestore (${Ih}): ${n}`,...e)}}function Io(n,...t){if(oc.logLevel<=sn.ERROR){const e=t.map(cT);oc.error(`Firestore (${Ih}): ${n}`,...e)}}function SP(n,...t){if(oc.logLevel<=sn.WARN){const e=t.map(cT);oc.warn(`Firestore (${Ih}): ${n}`,...e)}}function cT(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const t=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: `+n;throw Io(t),new Error(t)}function xn(n,t){n||De()}function Le(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Dh{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class d9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(lr.UNAUTHENTICATED))}shutdown(){}}class p9{constructor(t){this.t=t,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let i=this.i;const r=l=>this.i!==i?(i=this.i,e(l)):Promise.resolve();let s=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mo,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mo)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xn(typeof i.accessToken=="string"),new f9(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return xn(t===null||typeof t=="string"),new lr(t)}}class m9{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xn(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class g9{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new m9(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v9{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(xn(typeof e.token=="string"),this.A=e.token,new y9(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=_9(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function on(n,t){return n<t?-1:n>t?1:0}function rh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ne(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ne(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ne(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ne(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return si.fromMillis(Date.now())}static fromDate(t){return si.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new si(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?on(this.nanoseconds,t.nanoseconds):on(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ge(t)}static min(){return new Ge(new si(0,0))}static max(){return new Ge(new si(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,e,i){e===void 0?e=0:e>t.length&&De(),i===void 0?i=t.length-e:i>t.length-e&&De(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return zd.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zd?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class An extends zd{construct(t,e,i){return new An(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ne(It.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new An(e)}static emptyPath(){return new An([])}}const b9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends zd{construct(t,e,i){return new ki(t,e,i)}static isValidIdentifier(t){return b9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ki(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ne(It.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new ne(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ne(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ki(e)}static emptyPath(){return new ki([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.path=t}static fromPath(t){return new fe(An.fromString(t))}static fromName(t){return new fe(An.fromString(t).popFirst(5))}static empty(){return new fe(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&An.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return An.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fe(new An(t.slice()))}}function x9(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ge.fromTimestamp(i===1e9?new si(e+1,0):new si(e,i));return new Pa(r,fe.empty(),t)}function w9(n){return new Pa(n.readTime,n.key,-1)}class Pa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Pa(Ge.min(),fe.empty(),-1)}static max(){return new Pa(Ge.max(),fe.empty(),-1)}}function E9(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=fe.comparator(n.documentKey,t.documentKey),e!==0?e:on(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(n){if(n.code!==It.FAILED_PRECONDITION||n.message!==S9)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new zt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof zt?e:zt.resolve(e)}catch(e){return zt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):zt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):zt.reject(e)}static resolve(t){return new zt((e,i)=>{e(t)})}static reject(t){return new zt((e,i)=>{i(t)})}static waitFor(t){return new zt((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=zt.resolve(!1);for(const i of t)e=e.next(r=>r?zt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new zt((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new zt((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function Ep(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function xc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function pF(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uT.at=-1;class li{constructor(t,e){this.comparator=t,this.root=e||wi.EMPTY}insert(t,e){return new li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(t){return new li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pm(this.root,t,this.comparator,!0)}}class Pm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wi{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i!=null?i:wi.RED,this.left=r!=null?r:wi.EMPTY,this.right=s!=null?s:wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new wi(t!=null?t:this.key,e!=null?e:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return wi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const t=this.left.check();if(t!==this.right.check())throw De();return t+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(n,t,e,i,r){return this}insert(n,t,e){return new wi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.comparator=t,this.data=new li(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new TP(this.data.getIterator())}getIteratorFrom(t){return new TP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof oi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new oi(this.comparator);return e.data=t,e}}class TP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this.fields=t,t.sort(ki.comparator)}static empty(){return new Br([])}unionWith(t){let e=new oi(ki.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Br(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ti(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ti(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return on(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const T9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(xn(!!n),typeof n=="string"){let t=0;const e=T9.exec(n);if(xn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sh(n){return typeof n=="string"?Ti.fromBase64String(n):Ti.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function gF(n){const t=n.mapValue.fields.__previous_value__;return mF(t)?gF(t):t}function Ud(n){const t=Da(n.mapValue.fields.__local_write_time__.timestampValue);return new si(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t,e,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Vd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Vd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Vd&&t.projectId===this.projectId&&t.database===this.database}}function J_(n){return n==null}function ov(n){return n===0&&1/n==-1/0}function C9(n){return typeof n=="number"&&Number.isInteger(n)&&!ov(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mF(n)?4:O9(n)?9007199254740991:10:De()}function Ks(n,t){if(n===t)return!0;const e=ac(n);if(e!==ac(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ud(n).isEqual(Ud(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Da(i.timestampValue),o=Da(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,r){return sh(i.bytesValue).isEqual(sh(r.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Qn(i.geoPointValue.latitude)===Qn(r.geoPointValue.latitude)&&Qn(i.geoPointValue.longitude)===Qn(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Qn(i.integerValue)===Qn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Qn(i.doubleValue),o=Qn(r.doubleValue);return s===o?ov(s)===ov(o):isNaN(s)&&isNaN(o)}return!1}(n,t);case 9:return rh(n.arrayValue.values||[],t.arrayValue.values||[],Ks);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(MP(s)!==MP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ks(s[a],o[a])))return!1;return!0}(n,t);default:return De()}}function Hd(n,t){return(n.values||[]).find(e=>Ks(e,t))!==void 0}function oh(n,t){if(n===t)return 0;const e=ac(n),i=ac(t);if(e!==i)return on(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return on(n.booleanValue,t.booleanValue);case 2:return function(r,s){const o=Qn(r.integerValue||r.doubleValue),a=Qn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,t);case 3:return AP(n.timestampValue,t.timestampValue);case 4:return AP(Ud(n),Ud(t));case 5:return on(n.stringValue,t.stringValue);case 6:return function(r,s){const o=sh(r),a=sh(s);return o.compareTo(a)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=on(o[l],a[l]);if(c!==0)return c}return on(o.length,a.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const o=on(Qn(r.latitude),Qn(s.latitude));return o!==0?o:on(Qn(r.longitude),Qn(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=oh(o[l],a[l]);if(c)return c}return on(o.length,a.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Dm.mapValue&&s===Dm.mapValue)return 0;if(r===Dm.mapValue)return 1;if(s===Dm.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=on(a[u],c[u]);if(h!==0)return h;const f=oh(o[a[u]],l[c[u]]);if(f!==0)return f}return on(a.length,c.length)}(n.mapValue,t.mapValue);default:throw De()}}function AP(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return on(n,t);const e=Da(n),i=Da(t),r=on(e.seconds,i.seconds);return r!==0?r:on(e.nanos,i.nanos)}function Gu(n){return Zw(n)}function Zw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Da(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sh(n.bytesValue).toBase64():"referenceValue"in n?(e=n.referenceValue,fe.fromName(e).toString()):"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Zw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Zw(i.fields[a])}`;return s+"}"}(n.mapValue):De();var t,e}function CP(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function tE(n){return!!n&&"integerValue"in n}function hT(n){return!!n&&"arrayValue"in n}function OP(n){return!!n&&"nullValue"in n}function PP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yg(n){return!!n&&"mapValue"in n}function od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return xc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=od(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=od(n.arrayValue.values[e]);return t}return Object.assign({},n)}function O9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.value=t}static empty(){return new hr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Yg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=od(e)}setAll(t){let e=ki.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=od(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Yg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ks(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Yg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){xc(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new hr(od(this.value))}}function yF(n){const t=[];return xc(n.fields,(e,i)=>{const r=new ki([e]);if(Yg(i)){const s=yF(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Br(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,e,i,r,s,o){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ei(t,0,Ge.min(),Ge.min(),hr.empty(),0)}static newFoundDocument(t,e,i){return new Ei(t,1,e,Ge.min(),i,0)}static newNoDocument(t,e){return new Ei(t,2,e,Ge.min(),hr.empty(),0)}static newUnknownDocument(t,e){return new Ei(t,3,e,Ge.min(),hr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ei&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function DP(n,t=null,e=[],i=[],r=null,s=null,o=null){return new P9(n,t,e,i,r,s,o)}function fT(n){const t=Le(n);if(t.ht===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Gu(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),J_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Gu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Gu(i)).join(",")),t.ht=e}return t.ht}function D9(n){let t=n.path.canonicalString();return n.collectionGroup!==null&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Gu(i.value)}`;var i}).join(", ")}]`),J_(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(e)).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Gu(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Gu(e)).join(",")),`Target(${t})`}function dT(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!z9(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(e=n.filters[r],i=t.filters[r],e.op!==i.op||!e.field.isEqual(i.field)||!Ks(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!LP(n.startAt,t.startAt)&&LP(n.endAt,t.endAt)}function eE(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Qi extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.lt(t,e,i):new R9(t,e,i):e==="array-contains"?new k9(t,i):e==="in"?new N9(t,i):e==="not-in"?new F9(t,i):e==="array-contains-any"?new B9(t,i):new Qi(t,e,i)}static lt(t,e,i){return e==="in"?new L9(t,i):new I9(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.ft(oh(e,this.value)):e!==null&&ac(this.value)===ac(e)&&this.ft(oh(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return De()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class R9 extends Qi{constructor(t,e,i){super(t,e,i),this.key=fe.fromName(i.referenceValue)}matches(t){const e=fe.comparator(t.key,this.key);return this.ft(e)}}class L9 extends Qi{constructor(t,e){super(t,"in",e),this.keys=vF("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class I9 extends Qi{constructor(t,e){super(t,"not-in",e),this.keys=vF("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function vF(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>fe.fromName(i.referenceValue))}class k9 extends Qi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hT(e)&&Hd(e.arrayValue,this.value)}}class N9 extends Qi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hd(this.value.arrayValue,e)}}class F9 extends Qi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Hd(this.value.arrayValue,e)}}class B9 extends Qi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hT(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Hd(this.value.arrayValue,i))}}class av{constructor(t,e){this.position=t,this.inclusive=e}}class ad{constructor(t,e="asc"){this.field=t,this.dir=e}}function z9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function RP(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=fe.comparator(fe.fromName(o.referenceValue),e.key):i=oh(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function LP(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ks(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function U9(n,t,e,i,r,s,o,a){return new Sp(n,t,e,i,r,s,o,a)}function pT(n){return new Sp(n)}function IP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _F(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bF(n){for(const t of n.filters)if(t.dt())return t.field;return null}function xF(n){return n.collectionGroup!==null}function $d(n){const t=Le(n);if(t._t===null){t._t=[];const e=bF(t),i=_F(t);if(e!==null&&i===null)e.isKeyField()||t._t.push(new ad(e)),t._t.push(new ad(ki.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ad(ki.keyField(),s))}}}return t._t}function ko(n){const t=Le(n);if(!t.wt)if(t.limitType==="F")t.wt=DP(t.path,t.collectionGroup,$d(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of $d(t)){const o=s.dir==="desc"?"asc":"desc";e.push(new ad(s.field,o))}const i=t.endAt?new av(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new av(t.startAt.position,t.startAt.inclusive):null;t.wt=DP(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function nE(n,t,e){return new Sp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Z_(n,t){return dT(ko(n),ko(t))&&n.limitType===t.limitType}function wF(n){return`${fT(ko(n))}|lt:${n.limitType}`}function iE(n){return`Query(target=${D9(ko(n))}; limitType=${n.limitType})`}function mT(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return e.collectionGroup!==null?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):fe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&function(e,i){return!(e.startAt&&!function(r,s,o){const a=RP(r,s,o);return r.inclusive?a<=0:a<0}(e.startAt,$d(e),i)||e.endAt&&!function(r,s,o){const a=RP(r,s,o);return r.inclusive?a>=0:a>0}(e.endAt,$d(e),i))}(n,t)}function V9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EF(n){return(t,e)=>{let i=!1;for(const r of $d(n)){const s=H9(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function H9(n,t,e){const i=n.field.isKeyField()?fe.comparator(t.key,e.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?oh(a,l):De()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ov(t)?"-0":t}}function MF(n){return{integerValue:""+n}}function $9(n,t){return C9(t)?MF(t):SF(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this._=void 0}}function W9(n,t,e){return n instanceof lv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof ah?AF(n,t):n instanceof Wd?CF(n,t):function(i,r){const s=TF(i,r),o=kP(s)+kP(i.yt);return tE(s)&&tE(i.yt)?MF(o):SF(i.It,o)}(n,t)}function G9(n,t,e){return n instanceof ah?AF(n,t):n instanceof Wd?CF(n,t):e}function TF(n,t){return n instanceof cv?tE(e=t)||function(i){return!!i&&"doubleValue"in i}(e)?t:{integerValue:0}:null;var e}class lv extends tb{}class ah extends tb{constructor(t){super(),this.elements=t}}function AF(n,t){const e=OF(t);for(const i of n.elements)e.some(r=>Ks(r,i))||e.push(i);return{arrayValue:{values:e}}}class Wd extends tb{constructor(t){super(),this.elements=t}}function CF(n,t){let e=OF(t);for(const i of n.elements)e=e.filter(r=>!Ks(r,i));return{arrayValue:{values:e}}}class cv extends tb{constructor(t,e){super(),this.It=t,this.yt=e}}function kP(n){return Qn(n.integerValue||n.doubleValue)}function OF(n){return hT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(t,e){this.field=t,this.transform=e}}function q9(n,t){return n.field.isEqual(t.field)&&function(e,i){return e instanceof ah&&i instanceof ah||e instanceof Wd&&i instanceof Wd?rh(e.elements,i.elements,Ks):e instanceof cv&&i instanceof cv?Ks(e.yt,i.yt):e instanceof lv&&i instanceof lv}(n.transform,t.transform)}class Y9{constructor(t,e){this.version=t,this.transformResults=e}}class ds{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ds}static exists(t){return new ds(void 0,t)}static updateTime(t){return new ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xg(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class eb{}function PF(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new gT(n.key,ds.none()):new Mp(n.key,n.data,ds.none());{const e=n.data,i=hr.empty();let r=new oi(ki.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ga(n.key,i,new Br(r.toArray()),ds.none())}}function X9(n,t,e){n instanceof Mp?function(i,r,s){const o=i.value.clone(),a=FP(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,t,e):n instanceof Ga?function(i,r,s){if(!Xg(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=FP(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(DF(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,e)}function ld(n,t,e,i){return n instanceof Mp?function(r,s,o,a){if(!Xg(r.precondition,s))return o;const l=r.value.clone(),c=BP(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ga?function(r,s,o,a){if(!Xg(r.precondition,s))return o;const l=BP(r.fieldTransforms,a,s),c=s.data;return c.setAll(DF(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,t,e,i):function(r,s,o){return Xg(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(n,t,e)}function K9(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=TF(i.transform,r||null);s!=null&&(e===null&&(e=hr.empty()),e.set(i.field,s))}return e||null}function NP(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(e,i){return e===void 0&&i===void 0||!(!e||!i)&&rh(e,i,(r,s)=>q9(r,s))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Mp extends eb{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ga extends eb{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DF(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function FP(n,t,e){const i=new Map;xn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,G9(o,a,e[r]))}return i}function BP(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,W9(s,o,t))}return i}class gT extends eb{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q9 extends eb{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Qe;function Z9(n){switch(n){default:return De();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0}}function RF(n){if(n===void 0)return Io("GRPC error has no .code"),It.UNKNOWN;switch(n){case Kn.OK:return It.OK;case Kn.CANCELLED:return It.CANCELLED;case Kn.UNKNOWN:return It.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return It.INTERNAL;case Kn.UNAVAILABLE:return It.UNAVAILABLE;case Kn.UNAUTHENTICATED:return It.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case Kn.NOT_FOUND:return It.NOT_FOUND;case Kn.ALREADY_EXISTS:return It.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return It.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case Kn.ABORTED:return It.ABORTED;case Kn.OUT_OF_RANGE:return It.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return It.UNIMPLEMENTED;case Kn.DATA_LOSS:return It.DATA_LOSS;default:return De()}}(Qe=Kn||(Kn={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){xc(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return pF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new li(fe.comparator);function No(){return tq}const LF=new li(fe.comparator);function jf(...n){let t=LF;for(const e of n)t=t.insert(e.key,e);return t}function IF(n){let t=LF;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ul(){return cd()}function kF(){return cd()}function cd(){return new kh(n=>n.toString(),(n,t)=>n.isEqual(t))}const eq=new li(fe.comparator),nq=new oi(fe.comparator);function qe(...n){let t=nq;for(const e of n)t=t.add(e);return t}const iq=new oi(on);function NF(){return iq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Tp.createSynthesizedTargetChangeForCurrentChange(t,e)),new nb(Ge.min(),i,NF(),No(),qe())}}class Tp{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Tp(Ti.EMPTY_BYTE_STRING,e,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class FF{constructor(t,e){this.targetId=t,this.At=e}}class BF{constructor(t,e,i=Ti.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class zP{constructor(){this.Rt=0,this.bt=VP(),this.Pt=Ti.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=qe(),e=qe(),i=qe();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:De()}}),new Tp(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=VP()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class rq{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=No(),this.qt=UP(),this.Kt=new oi(on)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:De()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(eE(s))if(i===0){const o=new fe(s.path);this.jt(e,o,Ei.newNoDocument(o,Ge.min()))}else xn(i===1);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&eE(a.target)){const l=new fe(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Ei.newNoDocument(l,t))}s.Dt&&(e.set(o,s.xt()),s.Nt())}});let i=qe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(t));const r=new nb(t,e,this.Kt,this.Ut,i);return this.Ut=No(),this.qt=UP(),this.Kt=new oi(on),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new zP,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new oi(on),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=this.Xt(t)!==null;return e||le("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new zP),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function UP(){return new li(fe.comparator)}function VP(){return new li(fe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class aq{constructor(t,e){this.databaseId=t,this.gt=e}}function uv(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zF(n,t){return n.gt?t.toBase64():t.toUint8Array()}function lq(n,t){return uv(n,t.toTimestamp())}function To(n){return xn(!!n),Ge.fromTimestamp(function(t){const e=Da(t);return new si(e.seconds,e.nanos)}(n))}function yT(n,t){return function(e){return new An(["projects",e.projectId,"databases",e.database])}(n).child("documents").child(t).canonicalString()}function UF(n){const t=An.fromString(n);return xn($F(t)),t}function rE(n,t){return yT(n.databaseId,t.path)}function X0(n,t){const e=UF(t);if(e.get(1)!==n.databaseId.projectId)throw new ne(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ne(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new fe(VF(e))}function sE(n,t){return yT(n.databaseId,t)}function cq(n){const t=UF(n);return t.length===4?An.emptyPath():VF(t)}function oE(n){return new An(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VF(n){return xn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function HP(n,t,e){return{name:rE(n,t),fields:e.value.mapValue.fields}}function uq(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:De()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(l,c){return l.gt?(xn(c===void 0||typeof c=="string"),Ti.fromBase64String(c||"")):(xn(c===void 0||c instanceof Uint8Array),Ti.fromUint8Array(c||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?It.UNKNOWN:RF(l.code);return new ne(c,l.message||"")}(o);e=new BF(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=X0(n,i.document.name),s=To(i.document.updateTime),o=new hr({mapValue:{fields:i.document.fields}}),a=Ei.newFoundDocument(r,s,o),l=i.targetIds||[],c=i.removedTargetIds||[];e=new Kg(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=X0(n,i.document),s=i.readTime?To(i.readTime):Ge.min(),o=Ei.newNoDocument(r,s),a=i.removedTargetIds||[];e=new Kg([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=X0(n,i.document),s=i.removedTargetIds||[];e=new Kg([],s,r,null)}else{if(!("filter"in t))return De();{t.filter;const i=t.filter;i.targetId;const r=i.count||0,s=new J9(r),o=i.targetId;e=new FF(o,s)}}return e}function hq(n,t){let e;if(t instanceof Mp)e={update:HP(n,t.key,t.value)};else if(t instanceof gT)e={delete:rE(n,t.key)};else if(t instanceof Ga)e={update:HP(n,t.key,t.data),updateMask:xq(t.fieldMask)};else{if(!(t instanceof Q9))return De();e={verify:rE(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof lv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ah)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cv)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw De()}(0,i))),t.precondition.isNone||(e.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:lq(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:De()}(n,t.precondition)),e}function fq(n,t){return n&&n.length>0?(xn(t!==void 0),n.map(e=>function(i,r){let s=i.updateTime?To(i.updateTime):To(r);return s.isEqual(Ge.min())&&(s=To(r)),new Y9(s,i.transformResults||[])}(e,t))):[]}function dq(n,t){return{documents:[sE(n,t.path)]}}function pq(n,t){const e={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(e.parent=sE(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=sE(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(PP(h.value))return{unaryFilter:{field:tu(h.field),op:"IS_NAN"}};if(OP(h.value))return{unaryFilter:{field:tu(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(PP(h.value))return{unaryFilter:{field:tu(h.field),op:"IS_NOT_NAN"}};if(OP(h.value))return{unaryFilter:{field:tu(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(h.field),op:vq(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:tu(u.field),direction:yq(u.dir)}}(c))}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=function(l,c){return l.gt||J_(c)?c:{value:c}}(n,t.limit);var a;return o!==null&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e}function mq(n){let t=cq(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){xn(i===1);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=HF(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(u=>function(h){return new ad(Pu(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;e.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,J_(h)?null:h}(e.limit));let l=null;e.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new av(f,h)}(e.startAt));let c=null;return e.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new av(f,h)}(e.endAt)),U9(t,r,o,s,a,"F",l,c)}function gq(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return De()}}(0,t.purpose);return e==null?null:{"goog-listen-tags":e}}function HF(n){return n?n.unaryFilter!==void 0?[bq(n)]:n.fieldFilter!==void 0?[_q(n)]:n.compositeFilter!==void 0?n.compositeFilter.filters.map(t=>HF(t)).reduce((t,e)=>t.concat(e)):De():[]}function yq(n){return sq[n]}function vq(n){return oq[n]}function tu(n){return{fieldPath:n.canonicalString()}}function Pu(n){return ki.fromServerFormat(n.fieldPath)}function _q(n){return Qi.create(Pu(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value)}function bq(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Pu(n.unaryFilter.field);return Qi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Pu(n.unaryFilter.field);return Qi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pu(n.unaryFilter.field);return Qi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Pu(n.unaryFilter.field);return Qi.create(r,"!=",{nullValue:"NULL_VALUE"});default:return De()}}function xq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $F(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&X9(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ld(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ld(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=kF();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=PF(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qe())}isEqual(t){return this.batchId===t.batchId&&rh(this.mutations,t.mutations,(e,i)=>NP(e,i))&&rh(this.baseMutations,t.baseMutations,(e,i)=>NP(e,i))}}class vT{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){xn(t.mutations.length===i.length);let r=eq;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new vT(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,e,i,r,s=Ge.min(),o=Ge.min(),a=Ti.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Ql(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(t){this.re=t}}function Mq(n){const t=mq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nE(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(){this.Ye=new Aq}addToCollectionParentIndex(t,e){return this.Ye.add(e),zt.resolve()}getCollectionParents(t,e){return zt.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return zt.resolve()}deleteFieldIndex(t,e){return zt.resolve()}getDocumentsMatchingTarget(t,e){return zt.resolve(null)}getIndexType(t,e){return zt.resolve(0)}getFieldIndexes(t,e){return zt.resolve([])}getNextCollectionGroupToUpdate(t){return zt.resolve(null)}getMinOffset(t,e){return zt.resolve(Pa.min())}getMinOffsetFromCollectionGroup(t,e){return zt.resolve(Pa.min())}updateCollectionGroup(t,e,i){return zt.resolve()}updateIndexEntries(t,e){return zt.resolve()}}class Aq{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new oi(An.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new oi(An.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new lh(0)}static vn(){return new lh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(){this.changes=new kh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ei.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?zt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(i!==null&&ld(i.mutation,r,Br.empty(),si.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,qe()).next(()=>i))}getLocalViewOfDocuments(t,e,i=qe()){const r=Ul();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=jf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Ul();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,qe()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=No();const o=cd(),a=cd();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Ga)?s=s.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),ld(u.mutation,c,u.mutation.getFieldMask(),si.now()))}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var h;return a.set(c,new Oq(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,e){const i=cd();let r=new li((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(c===null)return;let u=i.get(l)||Br.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||qe()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=kF();u.forEach(f=>{if(!s.has(f)){const p=PF(e.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return zt.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return function(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xF(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):zt.resolve(Ul());let a=-1,l=s;return o.next(c=>zt.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?zt.resolve():this.getBaseDocument(t,u,h).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,qe())).next(u=>({batchId:a,changes:IF(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new fe(e)).next(i=>{let r=jf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=jf();return this.indexManager.getCollectionParents(t,r).next(o=>zt.forEach(o,a=>{const l=function(c,u){return new Sp(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e,a.child(r));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,Ei.newInvalidDocument(c)))});let o=jf();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&ld(c.mutation,l,Br.empty(),si.now()),mT(e,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(t,e,i){return i===null||i.mutation.type===1?this.remoteDocumentCache.getEntry(t,e):zt.resolve(Ei.newInvalidDocument(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return zt.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:To(i.createTime)}),zt.resolve()}getNamedQuery(t,e){return zt.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(i){return{name:i.name,query:Mq(i.bundledQuery),readTime:To(i.readTime)}}(e)),zt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(){this.overlays=new li(fe.comparator),this.es=new Map}getOverlay(t,e){return zt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ul();return zt.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),zt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),zt.resolve()}getOverlaysForCollection(t,e,i){const r=Ul(),s=e.length+1,o=new fe(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return zt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new li((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Ul(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ul(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return zt.resolve(a)}ue(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Eq(e,i));let s=this.es.get(e);s===void 0&&(s=qe(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.ns=new oi(fi.ss),this.rs=new oi(fi.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new fi(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new fi(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new fe(new An([])),i=new fi(e,t),r=new fi(e,t+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new fe(new An([])),i=new fi(e,t),r=new fi(e,t+1);let s=qe();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new fi(t,0),i=this.ns.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class fi{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return fe.comparator(t.key,e.key)||on(t._s,e._s)}static os(t,e){return on(t._s,e._s)||fe.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new oi(fi.ss)}checkEmpty(t){return zt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wq(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new fi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return zt.resolve(o)}lookupMutationBatch(t,e){return zt.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ps(i),s=r<0?0:r;return zt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return zt.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return zt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new fi(e,0),r=new fi(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),zt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new oi(on);return e.forEach(r=>{const s=new fi(r,0),o=new fi(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),zt.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;fe.isDocumentKey(s)||(s=s.child(""));const o=new fi(new fe(s),0);let a=new oi(on);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l._s)),!0)},o),zt.resolve(this.Is(a))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){xn(this.Ts(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return zt.forEach(e.mutations,r=>{const s=new fi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new fi(e,0),r=this.gs.firstAfterOrEqual(i);return zt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,zt.resolve()}Ts(t,e){return this.ps(t)}ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(t){this.Es=t,this.docs=new li(fe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return zt.resolve(i?i.document.mutableCopy():Ei.newInvalidDocument(e))}getEntries(t,e){let i=No();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ei.newInvalidDocument(r))}),zt.resolve(i)}getAllFromCollection(t,e,i){let r=No();const s=new fe(e.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!e.isPrefixOf(a.path))break;a.path.length>e.length+1||E9(w9(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return zt.resolve(r)}getAllFromCollectionGroup(t,e,i,r){De()}As(t,e){return zt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new kq(this)}getSize(t){return zt.resolve(this.size)}}class kq extends Cq{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),zt.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(t){this.persistence=t,this.Rs=new kh(e=>fT(e),dT),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _T,this.targetCount=0,this.vs=lh.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),zt.resolve()}getLastRemoteSnapshotVersion(t){return zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return zt.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),zt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),zt.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new lh(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,zt.resolve()}updateTargetData(t,e){return this.Dn(e),zt.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,zt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),zt.waitFor(s).next(()=>r)}getTargetCount(t){return zt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return zt.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),zt.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),zt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),zt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return zt.resolve(i)}containsKey(t,e){return zt.resolve(this.Ps.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new uT(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Nq(this),this.indexManager=new Tq,this.remoteDocumentCache=function(i){return new Iq(i)}(i=>this.referenceDelegate.xs(i)),this.It=new Sq(e),this.Ns=new Dq(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Rq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Lq(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){le("MemoryPersistence","Starting transaction:",t);const r=new Bq(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return zt.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Bq extends M9{constructor(t){super(),this.currentSequenceNumber=t}}class bT{constructor(t){this.persistence=t,this.Fs=new _T,this.$s=null}static Bs(t){return new bT(t)}get Ls(){if(this.$s)return this.$s;throw De()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),zt.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),zt.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),zt.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.Ls,i=>{const r=fe.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Ge.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return zt.or([()=>zt.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=qe(),r=qe();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new xT(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Mi(t,e,r,i)).next(s=>s||this.Oi(t,e))}ki(t,e){if(IP(e))return zt.resolve(null);let i=ko(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=nE(e,null,"F"),i=ko(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=qe(...s);return this.Ni.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Fi(e,a);return this.$i(e,c,o,l.readTime)?this.ki(t,nE(e,null,"F")):this.Bi(t,c,e,l)}))})))}Mi(t,e,i,r){return IP(e)||r.isEqual(Ge.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(s=>{const o=this.Fi(e,s);return this.$i(e,o,i,r)?this.Oi(t,e):(EP()<=sn.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iE(e)),this.Bi(t,o,e,x9(r,-1)))})}Fi(t,e){let i=new oi(EF(t));return e.forEach((r,s)=>{mT(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return EP()<=sn.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",iE(e)),this.Ni.getDocumentsMatchingQuery(t,e,Pa.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new li(on),this.qi=new kh(s=>fT(s),dT),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pq(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function Vq(n,t,e,i){return new Uq(n,t,e,i)}async function WF(n,t){const e=Le(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=qe();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function Hq(n,t){const e=Le(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=zt.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const g=l.docVersions.get(p);xn(g!==null),m.version.compareTo(g)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=qe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function GF(n){const t=Le(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function $q(n,t){const e=Le(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const a=[];t.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(e.Cs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>e.Cs.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(h)?p=p.withResumeToken(Ti.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,u)&&a.push(e.Cs.updateTargetData(s,p))});let l=No(),c=qe();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Wq(s,o,t.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!i.isEqual(Ge.min())){const u=e.Cs.getLastRemoteSnapshotVersion(s).next(h=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return zt.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.Ui=r,s))}function Wq(n,t,e){let i=qe(),r=qe();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=No();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ge.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function Gq(n,t){const e=Le(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function jq(n,t){const e=Le(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,zt.resolve(r)):e.Cs.allocateTargetId(i).next(o=>(r=new Ql(t,o,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}async function aE(n,t,e){const i=Le(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ep(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}function $P(n,t,e){const i=Le(n);let r=Ge.min(),s=qe();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Le(a),h=u.qi.get(c);return h!==void 0?zt.resolve(u.Ui.get(h)):u.Cs.getTargetData(l,c)}(i,o,ko(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,t,e?r:Ge.min(),e?s:qe())).next(a=>(qq(i,V9(t),a),{documents:a,Hi:s})))}function qq(n,t,e){let i=Ge.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}class WP{constructor(){this.activeTargetIds=NF()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yq{constructor(){this.Lr=new WP,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new WP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const o=this.ao(t,e);le("RestConnection","Sending: ",o,i);const a={};return this.ho(a,r,s),this.lo(t,o,a,i).then(l=>(le("RestConnection","Received: ",l),l),l=>{throw SP("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",i),l})}fo(t,e,i,r,s,o){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ih,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){const i=Kq[t];return`${this.oo}/v1/${e}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((s,o)=>{const a=new h9;a.listenOnce(l9.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Y0.NO_ERROR:const c=a.getResponseJson();le("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Y0.TIMEOUT:le("Connection",'RPC "'+t+'" timed out'),o(new ne(It.DEADLINE_EXCEEDED,"Request time out"));break;case Y0.HTTP_ERROR:const u=a.getStatus();if(le("Connection",'RPC "'+t+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(m)>=0?m:It.UNKNOWN}(h.status);o(new ne(f,h.message))}else o(new ne(It.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ne(It.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{le("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(r);a.send(e,"POST",l,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=o9(),o=a9(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new u9({})),this.ho(a.initMessageHeaders,e,i),a.encodeInitMessageHeaders=!0;const l=r.join("");le("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,h=!1;const f=new Qq({Hr:m=>{h?le("Connection","Not sending because WebChannel is closed:",m):(u||(le("Connection","Opening WebChannel transport."),c.open(),u=!0),le("Connection","WebChannel sending:",m),c.send(m))},Jr:()=>c.close()}),p=(m,g,y)=>{m.listen(g,v=>{try{y(v)}catch(x){setTimeout(()=>{throw x},0)}})};return p(c,Om.EventType.OPEN,()=>{h||le("Connection","WebChannel transport opened.")}),p(c,Om.EventType.CLOSE,()=>{h||(h=!0,le("Connection","WebChannel transport closed"),f.io())}),p(c,Om.EventType.ERROR,m=>{h||(h=!0,SP("Connection","WebChannel transport errored:",m),f.io(new ne(It.UNAVAILABLE,"The operation could not be completed")))}),p(c,Om.EventType.MESSAGE,m=>{var g;if(!h){const y=m.data[0];xn(!!y);const v=y,x=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(x){le("Connection","WebChannel received error:",x);const S=x.status;let E=function(P){const L=Kn[P];if(L!==void 0)return RF(L)}(S),M=x.message;E===void 0&&(E=It.INTERNAL,M="Unknown error status: "+S+" with message "+x.message),h=!0,f.io(new ne(E,M)),c.close()}else le("Connection","WebChannel received:",y),f.ro(y)}}),p(o,c9.STAT_EVENT,m=>{m.stat===xP.PROXY?le("Connection","Detected buffering proxy"):m.stat===xP.NOPROXY&&le("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function K0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n){return new aq(n,!0)}class jF{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(t,e,i,r,s,o,a,l){this.Hs=t,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new jF(t,e)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,t!==4?this.xo.reset():e&&e.code===It.RESOURCE_EXHAUSTED?(Io(e.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):e&&e.code===It.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new ne(It.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(t){return le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zq extends qF{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=uq(this.It,t),i=function(r){if(!("targetChange"in r))return Ge.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ge.min():s.readTime?To(s.readTime):Ge.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=oE(this.It),e.addTarget=function(r,s){let o;const a=s.target;return o=eE(a)?{documents:dq(r,a)}:{query:pq(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=zF(r,s.resumeToken):s.snapshotVersion.compareTo(Ge.min())>0&&(o.readTime=uv(r,s.snapshotVersion.toTimestamp())),o}(this.It,t);const i=gq(this.It,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=oE(this.It),e.removeTarget=t,this.Bo(e)}}class t7 extends qF{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(xn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=fq(t.writeResults,t.commitTime),i=To(t.commitTime);return this.listener.Zo(i,e)}return xn(!t.writeResults||t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=oE(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>hq(this.It,i))};this.Bo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new ne(It.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(t,e,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(It.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(t,e,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(It.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class n7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,t==="Online"&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Io(e),this.ou=!1):le("OnlineStateTracker",e)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{i.enqueueAndForget(async()=>{wc(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Le(a);l._u.add(4),await Ap(l),l.gu.set("Unknown"),l._u.delete(4),await rb(l)}(this))})}),this.gu=new n7(i,r)}}async function rb(n){if(wc(n))for(const t of n.wu)await t(!0)}async function Ap(n){for(const t of n.wu)await t(!1)}function YF(n,t){const e=Le(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),ST(e)?ET(e):Nh(e).ko()&&wT(e,t))}function XF(n,t){const e=Le(n),i=Nh(e);e.du.delete(t),i.ko()&&KF(e,t),e.du.size===0&&(i.ko()?i.Fo():wc(e)&&e.gu.set("Unknown"))}function wT(n,t){n.yu.Ot(t.targetId),Nh(n).zo(t)}function KF(n,t){n.yu.Ot(t),Nh(n).Ho(t)}function ET(n){n.yu=new rq({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Nh(n).start(),n.gu.uu()}function ST(n){return wc(n)&&!Nh(n).No()&&n.du.size>0}function wc(n){return Le(n)._u.size===0}function QF(n){n.yu=void 0}async function r7(n){n.du.forEach((t,e)=>{wT(n,t)})}async function s7(n,t){QF(n),ST(n)?(n.gu.hu(t),ET(n)):n.gu.set("Unknown")}async function o7(n,t,e){if(n.gu.set("Online"),t instanceof BF&&t.state===2&&t.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(n,t)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await hv(n,i)}else if(t instanceof Kg?n.yu.Gt(t):t instanceof FF?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Ge.min()))try{const i=await GF(n.localStore);e.compareTo(i)>=0&&await function(r,s){const o=r.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.du.get(l);c&&r.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(Ti.EMPTY_BYTE_STRING,l.snapshotVersion)),KF(r,a);const c=new Ql(l.target,a,1,l.sequenceNumber);wT(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(n,e)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await hv(n,i)}}async function hv(n,t,e){if(!Ep(t))throw t;n._u.add(1),await Ap(n),n.gu.set("Offline"),e||(e=()=>GF(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await e(),n._u.delete(1),await rb(n)})}function JF(n,t){return t().catch(e=>hv(n,e,t))}async function sb(n){const t=Le(n),e=Ra(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;a7(t);)try{const r=await Gq(t.localStore,i);if(r===null){t.fu.length===0&&e.Fo();break}i=r.batchId,l7(t,r)}catch(r){await hv(t,r)}ZF(t)&&tB(t)}function a7(n){return wc(n)&&n.fu.length<10}function l7(n,t){n.fu.push(t);const e=Ra(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function ZF(n){return wc(n)&&!Ra(n).No()&&n.fu.length>0}function tB(n){Ra(n).start()}async function c7(n){Ra(n).eu()}async function u7(n){const t=Ra(n);for(const e of n.fu)t.Xo(e.mutations)}async function h7(n,t,e){const i=n.fu.shift(),r=vT.from(i,t,e);await JF(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await sb(n)}async function f7(n,t){t&&Ra(n).Yo&&await async function(e,i){if(r=i.code,Z9(r)&&r!==It.ABORTED){const s=e.fu.shift();Ra(e).Oo(),await JF(e,()=>e.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sb(e)}var r}(n,t),ZF(n)&&tB(n)}async function jP(n,t){const e=Le(n);e.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=wc(e);e._u.add(3),await Ap(e),i&&e.gu.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),await rb(e)}async function d7(n,t){const e=Le(n);t?(e._u.delete(2),await rb(e)):t||(e._u.add(2),await Ap(e),e.gu.set("Unknown"))}function Nh(n){return n.pu||(n.pu=function(t,e,i){const r=Le(t);return r.su(),new Zq(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:r7.bind(null,n),Zr:s7.bind(null,n),Wo:o7.bind(null,n)}),n.wu.push(async t=>{t?(n.pu.Oo(),ST(n)?ET(n):n.gu.set("Unknown")):(await n.pu.stop(),QF(n))})),n.pu}function Ra(n){return n.Iu||(n.Iu=function(t,e,i){const r=Le(t);return r.su(),new t7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:c7.bind(null,n),Zr:f7.bind(null,n),tu:u7.bind(null,n),Zo:h7.bind(null,n)}),n.wu.push(async t=>{t?(n.Iu.Oo(),await sb(n)):(await n.Iu.stop(),n.fu.length>0&&(le("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))})),n.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new MT(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(It.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TT(n,t){if(Io("AsyncQueue",`${t}: ${n}`),Ep(n))return new ne(It.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t){this.comparator=t?(e,i)=>t(e,i)||fe.comparator(e.key,i.key):(e,i)=>fe.comparator(e.key,i.key),this.keyedMap=jf(),this.sortedSet=new li(this.comparator)}static emptySet(t){return new ju(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ju)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new ju;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.Tu=new li(fe.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?t.type!==0&&i.type===3?this.Tu=this.Tu.insert(e,t):t.type===3&&i.type!==1?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Tu=this.Tu.remove(e):t.type===1&&i.type===2?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):De():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class ch{constructor(t,e,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(o=>{s.push({type:0,doc:o})}),new ch(t,e,ju.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Z_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.Au=void 0,this.listeners=[]}}class m7{constructor(){this.queries=new kh(t=>wF(t),Z_),this.onlineState="Unknown",this.Ru=new Set}}async function eB(n,t){const e=Le(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new p7),r)try{s.Au=await e.onListen(i)}catch(o){const a=TT(o,`Initialization of query '${iE(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&AT(e)}async function nB(n,t){const e=Le(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return e.queries.delete(i),e.onUnlisten(i)}function g7(n,t){const e=Le(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&AT(e)}function y7(n,t,e){const i=Le(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function AT(n){n.Ru.forEach(t=>{t.next()})}class iB{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ch(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const i=e!=="Offline";return(!this.options.Nu||!i)&&(!t.docs.isEmpty()||e==="Offline")}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}xu(t){t=ch.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(t){this.key=t}}class sB{constructor(t){this.key=t}}class v7{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=qe(),this.mutatedKeys=qe(),this.Ku=EF(t),this.Gu=new ju(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new qP,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,h)=>{const f=r.get(u),p=mT(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(i.track({type:3,doc:p}),y=!0):this.zu(f,p)||(i.track({type:2,doc:p}),y=!0,(l&&this.Ku(p,l)>0||c&&this.Ku(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),y=!0):f&&!p&&(i.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Gu:o,Wu:i,$i:a,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return p(h)-p(f)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(i);const o=e?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new ch(this.query,t.Gu,r,s,t.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new qP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=qe(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new sB(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new rB(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=qe();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return ch.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class _7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class b7{constructor(t){this.key=t,this.ec=!1}}class x7{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new kh(a=>wF(a),Z_),this.ic=new Map,this.rc=new Set,this.oc=new li(fe.comparator),this.uc=new Map,this.cc=new _T,this.ac={},this.hc=new Map,this.lc=lh.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function w7(n,t){const e=R7(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const o=await jq(e.localStore,ko(t));e.isPrimaryClient&&YF(e.remoteStore,o);const a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await E7(e,t,i,a==="current")}return r}async function E7(n,t,e,i){n.dc=(u,h,f)=>async function(p,m,g,y){let v=m.view.ju(g);v.$i&&(v=await $P(p.localStore,m.query,!1).then(({documents:E})=>m.view.ju(E,v)));const x=y&&y.targetChanges.get(m.targetId),S=m.view.applyChanges(v,p.isPrimaryClient,x);return XP(p,m.targetId,S.Yu),S.snapshot}(n,u,h,f);const r=await $P(n.localStore,t,!0),s=new v7(t,r.Hi),o=s.ju(r.documents),a=Tp.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline"),l=s.applyChanges(o,n.isPrimaryClient,a);XP(n,e,l.Yu);const c=new _7(t,e,s);return n.sc.set(t,c),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),l.snapshot}async function S7(n,t){const e=Le(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!Z_(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||await aE(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),XF(e.remoteStore,i.targetId),lE(e,i.targetId)}).catch(wp)):(lE(e,i.targetId),await aE(e.localStore,i.targetId,!0))}async function M7(n,t,e){const i=L7(n);try{const r=await function(s,o){const a=Le(s),l=si.now(),c=o.reduce((f,p)=>f.add(p.key),qe());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=No(),m=qe();return a.Gi.getEntries(f,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(g=>{u=g;const y=[];for(const v of o){const x=K9(v,u.get(v.key).overlayedDocument);x!=null&&y.push(new Ga(v.key,x,yF(x.value.mapValue),ds.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,y,o)}).next(g=>{h=g;const y=g.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:h.batchId,changes:IF(u)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new li(on)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(i,r.batchId,e),await Cp(i,r.changes),await sb(i.remoteStore)}catch(r){const s=TT(r,"Failed to persist write");e.reject(s)}}async function oB(n,t){const e=Le(n);try{const i=await $q(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.uc.get(s);o&&(xn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ec=!0:r.modifiedDocuments.size>0?xn(o.ec):r.removedDocuments.size>0&&(xn(o.ec),o.ec=!1))}),await Cp(e,i,t)}catch(i){await wp(i)}}function YP(n,t,e){const i=Le(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.sc.forEach((s,o)=>{const a=o.view.bu(t);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=Le(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.bu(o)&&(l=!0)}),l&&AT(a)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function T7(n,t,e){const i=Le(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let o=new li(fe.comparator);o=o.insert(s,Ei.newNoDocument(s,Ge.min()));const a=qe().add(s),l=new nb(Ge.min(),new Map,new oi(on),o,a);await oB(i,l),i.oc=i.oc.remove(s),i.uc.delete(t),CT(i)}else await aE(i.localStore,t,!1).then(()=>lE(i,t,e)).catch(wp)}async function A7(n,t){const e=Le(n),i=t.batch.batchId;try{const r=await Hq(e.localStore,t);lB(e,i,null),aB(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Cp(e,r)}catch(r){await wp(r)}}async function C7(n,t,e){const i=Le(n);try{const r=await function(s,o){const a=Le(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(xn(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,t);lB(i,t,e),aB(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Cp(i,r)}catch(r){await wp(r)}}function aB(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function lB(n,t,e){const i=Le(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function lE(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||cB(n,i)})}function cB(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);e!==null&&(XF(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),CT(n))}function XP(n,t,e){for(const i of e)i instanceof rB?(n.cc.addReference(i.key,t),O7(n,i)):i instanceof sB?(le("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||cB(n,i.key)):De()}function O7(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(le("SyncEngine","New document in limbo: "+e),n.rc.add(i),CT(n))}function CT(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new fe(An.fromString(t)),i=n.lc.next();n.uc.set(i,new b7(e)),n.oc=n.oc.insert(e,i),YF(n.remoteStore,new Ql(ko(pT(e.path)),i,2,uT.at))}}async function Cp(n,t,e){const i=Le(n),r=[],s=[],o=[];i.sc.isEmpty()||(i.sc.forEach((a,l)=>{o.push(i.dc(l,t,e).then(c=>{if(c){i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=xT.Ci(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.nc.Wo(r),await async function(a,l){const c=Le(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>zt.forEach(l,h=>zt.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>zt.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Ep(u))throw u;le("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ui.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ui=c.Ui.insert(h,m)}}}(i.localStore,s))}async function P7(n,t){const e=Le(n);if(!e.currentUser.isEqual(t)){le("SyncEngine","User change. New user:",t.toKey());const i=await WF(e.localStore,t);e.currentUser=t,function(r,s){r.hc.forEach(o=>{o.forEach(a=>{a.reject(new ne(It.CANCELLED,s))})}),r.hc.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Cp(e,i.ji)}}function D7(n,t){const e=Le(n),i=e.uc.get(t);if(i&&i.ec)return qe().add(i.key);{let r=qe();const s=e.ic.get(t);if(!s)return r;for(const o of s){const a=e.sc.get(o);r=r.unionWith(a.view.Qu)}return r}}function R7(n){const t=Le(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=oB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=D7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=T7.bind(null,t),t.nc.Wo=g7.bind(null,t.eventManager),t.nc._c=y7.bind(null,t.eventManager),t}function L7(n){const t=Le(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=C7.bind(null,t),t}class I7{constructor(){this.synchronizeTabs=!1}async initialize(t){this.It=ib(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),await this.persistence.start(),this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore)}Ic(t,e){return null}Tc(t,e){return null}yc(t){return Vq(this.persistence,new zq,t.initialUser,this.It)}gc(t){return new Fq(bT.Bs,this.It)}mc(t){return new Yq}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class k7{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=P7.bind(null,this.syncEngine),await d7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new m7}createDatastore(t){const e=ib(t.databaseInfo.databaseId),i=(r=t.databaseInfo,new Jq(r));var r;return function(s,o,a,l){return new e7(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=a=>YP(this.syncEngine,a,0),o=GP.C()?new GP:new Xq,new i7(e,i,r,s,o);var e,i,r,s,o}createSyncEngine(t,e){return function(i,r,s,o,a,l,c){const u=new x7(i,r,s,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Le(t);le("RemoteStore","RemoteStore shutting down."),e._u.add(5),await Ap(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Io("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(t,e,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=lr.UNAUTHENTICATED,this.clientId=dF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(It.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=TT(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function F7(n,t){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const e=await n.getConfiguration();await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await WF(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}async function B7(n,t){n.asyncQueue.verifyOperationInProgress();const e=await z7(n);le("FirestoreClient","Initializing OnlineComponentProvider");const i=await n.getConfiguration();await t.initialize(e,i),n.setCredentialChangeListener(r=>jP(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>jP(t.remoteStore,s)),n.onlineComponents=t}async function z7(n){return n.offlineComponents||(le("FirestoreClient","Using default OfflineComponentProvider"),await F7(n,new I7)),n.offlineComponents}async function hB(n){return n.onlineComponents||(le("FirestoreClient","Using default OnlineComponentProvider"),await B7(n,new k7)),n.onlineComponents}function U7(n){return hB(n).then(t=>t.syncEngine)}async function fB(n){const t=await hB(n),e=t.eventManager;return e.onListen=w7.bind(null,t.syncEngine),e.onUnlisten=S7.bind(null,t.syncEngine),e}function V7(n,t,e={}){const i=new Mo;return n.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new uB({next:h=>{s.enqueueAndForget(()=>nB(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new ne(It.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new ne(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new iB(pT(o.path),c,{includeMetadataChanges:!0,Nu:!0});return eB(r,u)}(await fB(n),n.asyncQueue,t,e,i)),i.promise}function H7(n,t,e={}){const i=new Mo;return n.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new uB({next:h=>{s.enqueueAndForget(()=>nB(r,u)),h.fromCache&&a.source==="server"?l.reject(new ne(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new iB(o,c,{includeMetadataChanges:!0,Nu:!0});return eB(r,u)}(await fB(n),n.asyncQueue,t,e,i)),i.promise}const KP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(n,t,e){if(!e)throw new ne(It.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $7(n,t,e,i){if(t===!0&&i===!0)throw new ne(It.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function QP(n){if(!fe.isDocumentKey(n))throw new ne(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JP(n){if(fe.isDocumentKey(n))throw new ne(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ob(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":De()}function Fo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ne(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ob(n);throw new ne(It.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(t){var e;if(t.host===void 0){if(t.ssl!==void 0)throw new ne(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ne(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$7("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ne(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZP(t),t.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new d9;switch(e.type){case"gapi":const i=e.client;return new g9(i,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ne(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=KP.get(t);e&&(le("ComponentProvider","Removing Datastore"),KP.delete(t),e.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ji(this.firestore,t,this._key)}}class Op{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Op(this.firestore,t,this._query)}}class Sa extends Op{constructor(t,e,i){super(t,e,pT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ji(this.firestore,null,new fe(t))}withConverter(t){return new Sa(this.firestore,t,this._path)}}function Tbt(n,t,...e){if(n=Ro(n),dB("collection","path",t),n instanceof OT){const i=An.fromString(t,...e);return JP(i),new Sa(n,null,i)}{if(!(n instanceof Ji||n instanceof Sa))throw new ne(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(t,...e));return JP(i),new Sa(n.firestore,null,i)}}function Abt(n,t,...e){if(n=Ro(n),arguments.length===1&&(t=dF.R()),dB("doc","path",t),n instanceof OT){const i=An.fromString(t,...e);return QP(i),new Ji(n,null,new fe(i))}{if(!(n instanceof Ji||n instanceof Sa))throw new ne(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(t,...e));return QP(i),new Ji(n.firestore,n instanceof Sa?n.converter:null,new fe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new jF(this,"async_queue_retry"),this.jc=()=>{const e=K0();e&&le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=K0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=K0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Mo;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(t){if(!Ep(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{this.qc=i,this.Kc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Io("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=MT.createAndSchedule(this,t,e,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&De()}verifyOperationInProgress(){}async Yc(){let t;do t=this.$c,await t;while(t!==this.$c)}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}class Fh extends OT{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new W7,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pB(this),this._firestoreClient.terminate()}}function G7(n,t){const e=typeof n=="object"?n:J6(),i=typeof n=="string"?n:t||"(default)";return q6(e,"firestore").getImmediate({identifier:i})}function PT(n){return n._firestoreClient||pB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pB(n){var t;const e=n._freezeSettings(),i=function(r,s,o,a){return new A9(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,e);n._firestoreClient=new N7(n._authCredentials,n._appCheckCredentials,n._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ne(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uh(Ti.fromBase64String(t))}catch(e){throw new ne(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new uh(Ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ne(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ne(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return on(this._lat,t._lat)||on(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=/^__.*__$/;class q7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ga(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mp(t,this.data,e,this.fieldTransforms)}}class mB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ga(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function gB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class cb{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new cb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return fv(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(t.length===0)throw this.aa("Document fields must not be empty");if(gB(this.na)&&j7.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class Y7{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||ib(t)}fa(t,e,i,r=!1){return new cb({na:t,methodName:e,la:i,path:ki.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function RT(n){const t=n._freezeSettings(),e=ib(n._databaseId);return new Y7(n._databaseId,!!t.ignoreUndefinedProperties,e)}function X7(n,t,e,i,r,s={}){const o=n.fa(s.merge||s.mergeFields?2:0,t,e,r);LT("Data must be an object, but it was:",o,i);const a=yB(i,o);let l,c;if(s.merge)l=new Br(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=cE(t,h,e);if(!o.contains(f))throw new ne(It.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);_B(u,f)||u.push(f)}l=new Br(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new q7(new hr(a),l,c)}class ub extends lb{_toFieldTransform(t){if(t.na!==2)throw t.na===1?t.aa(`${this._methodName}() can only appear at the top level of your update data`):t.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ub}}function K7(n,t,e){return new cb({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class Q7 extends lb{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=K7(this,t,!0),i=this.da.map(s=>Bh(s,e)),r=new ah(i);return new j9(t.path,r)}isEqual(t){return this===t}}function J7(n,t,e,i){const r=n.fa(1,t,e);LT("Data must be an object, but it was:",r,i);const s=[],o=hr.empty();xc(i,(l,c)=>{const u=IT(t,l,e);c=Ro(c);const h=r.ua(u);if(c instanceof ub)s.push(u);else{const f=Bh(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new Br(s);return new mB(o,a,r.fieldTransforms)}function Z7(n,t,e,i,r,s){const o=n.fa(1,t,e),a=[cE(t,i,e)],l=[r];if(s.length%2!=0)throw new ne(It.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cE(t,s[f])),l.push(s[f+1]);const c=[],u=hr.empty();for(let f=a.length-1;f>=0;--f)if(!_B(c,a[f])){const p=a[f];let m=l[f];m=Ro(m);const g=o.ua(p);if(m instanceof ub)c.push(p);else{const y=Bh(m,g);y!=null&&(c.push(p),u.set(p,y))}}const h=new Br(c);return new mB(u,h,o.fieldTransforms)}function tY(n,t,e,i=!1){return Bh(e,n.fa(i?4:3,t))}function Bh(n,t){if(vB(n=Ro(n)))return LT("Unsupported field value:",t,n),yB(n,t);if(n instanceof lb)return function(e,i){if(!gB(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&t.na!==4)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const o of e){let a=Bh(o,i.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if((e=Ro(e))===null)return{nullValue:"NULL_VALUE"};if(typeof e=="number")return $9(i.It,e);if(typeof e=="boolean")return{booleanValue:e};if(typeof e=="string")return{stringValue:e};if(e instanceof Date){const r=si.fromDate(e);return{timestampValue:uv(i.It,r)}}if(e instanceof si){const r=new si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uv(i.It,r)}}if(e instanceof DT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uh)return{bytesValue:zF(i.It,e._byteString)};if(e instanceof Ji){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:yT(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${ob(e)}`)}(n,t)}function yB(n,t){const e={};return pF(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xc(n,(i,r)=>{const s=Bh(r,t.ia(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function vB(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof si||n instanceof DT||n instanceof uh||n instanceof Ji||n instanceof lb)}function LT(n,t,e){if(!vB(e)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(e)){const i=ob(e);throw i==="an object"?t.aa(n+" a custom object"):t.aa(n+" "+i)}}function cE(n,t,e){if((t=Ro(t))instanceof ab)return t._internalPath;if(typeof t=="string")return IT(n,t);throw fv("Field path arguments must be of type string or ",n,!1,void 0,e)}const eY=new RegExp("[~\\*/\\[\\]]");function IT(n,t,e){if(t.search(eY)>=0)throw fv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ab(...t.split("."))._internalPath}catch{throw fv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function fv(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ne(It.INVALID_ARGUMENT,a+n+l)}function _B(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(kT("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class nY extends bB{data(){return super.data()}}function kT(n,t){return typeof t=="string"?IT(n,t):t instanceof ab?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xB extends bB{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(kT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Qg extends xB{data(t={}){return super.data(t)}}class iY{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new qf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Qg(this._firestore,this._userDataWriter,i.key,i,new qf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ne(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new Qg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Qg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:rY(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function rY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ne(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oY{}function Cbt(n,...t){for(const e of t)n=e._apply(n);return n}class aY extends oY{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=RT(t.firestore),i=function(r,s,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){eD(u,c);const p=[];for(const m of u)p.push(tD(a,r,m));h={arrayValue:{values:p}}}else h=tD(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||eD(u,c),h=tY(o,s,u,c==="in"||c==="not-in");const f=Qi.create(l,c,h);return function(p,m){if(m.dt()){const y=bF(p);if(y!==null&&!y.isEqual(m.field))throw new ne(It.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${y.toString()}' and '${m.field.toString()}'`);const v=_F(p);v!==null&&lY(p,m.field,v)}const g=function(y,v){for(const x of y.filters)if(v.indexOf(x.op)>=0)return x.op;return null}(p,function(y){switch(y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(g!==null)throw g===m.op?new ne(It.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new ne(It.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${g.toString()}' filters.`)}(r,f),f}(t._query,"where",e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Op(t.firestore,t.converter,function(r,s){const o=r.filters.concat([s]);return new Sp(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function Obt(n,t,e){const i=t,r=kT("where",n);return new aY(r,i,e)}function tD(n,t,e){if(typeof(e=Ro(e))=="string"){if(e==="")throw new ne(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xF(t)&&e.indexOf("/")!==-1)throw new ne(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(An.fromString(e));if(!fe.isDocumentKey(i))throw new ne(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CP(n,new fe(i))}if(e instanceof Ji)return CP(n,e._key);throw new ne(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ob(e)}.`)}function eD(n,t){if(!Array.isArray(n)||n.length===0)throw new ne(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ne(It.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function lY(n,t,e){if(!e.isEqual(t))throw new ne(It.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{convertValue(t,e="none"){switch(ac(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw De()}}convertObject(t,e){const i={};return xc(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new DT(Qn(t.latitude),Qn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=gF(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ud(t));default:return null}}convertTimestamp(t){const e=Da(t);return new si(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=An.fromString(t);xn($F(i));const r=new Vd(i.get(1),i.get(3)),s=new fe(i.popFirst(5));return r.isEqual(e)||Io(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pbt(n){n=Fo(n,Ji);const t=Fo(n.firestore,Fh);return V7(PT(t),n._key).then(e=>hY(t,n,e))}class wB extends cY{constructor(t){super(),this.firestore=t}convertBytes(t){return new uh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ji(this.firestore,null,e)}}function Dbt(n){n=Fo(n,Op);const t=Fo(n.firestore,Fh),e=PT(t),i=new wB(t);return sY(n._query),H7(e,n._query).then(r=>new iY(t,i,n,r))}function Rbt(n,t,e){n=Fo(n,Ji);const i=Fo(n.firestore,Fh),r=uY(n.converter,t,e);return NT(i,[X7(RT(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,ds.none())])}function Lbt(n,t,e,...i){n=Fo(n,Ji);const r=Fo(n.firestore,Fh),s=RT(r);let o;return o=typeof(t=Ro(t))=="string"||t instanceof ab?Z7(s,"updateDoc",n._key,t,e,i):J7(s,"updateDoc",n._key,t),NT(r,[o.toMutation(n._key,ds.exists(!0))])}function Ibt(n){return NT(Fo(n.firestore,Fh),[new gT(n._key,ds.none())])}function NT(n,t){return function(e,i){const r=new Mo;return e.asyncQueue.enqueueAndForget(async()=>M7(await U7(e),i,r)),r.promise}(PT(n),t)}function hY(n,t,e){const i=e.docs.get(t._key),r=new wB(n);return new xB(n,r,t._key,i,new qf(e.hasPendingWrites,e.fromCache),t.converter)}function kbt(...n){return new Q7("arrayUnion",n)}(function(n,t=!0){(function(e){Ih=e})(K6),Qy(new Rd("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),o=new Fh(new p9(e.getProvider("auth-internal")),new v9(e.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ne(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Wu(wP,"3.5.0",n),Wu(wP,"3.5.0","esm2017")})();var EB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SB={exports:{}};/*!
 * Chartkick.js
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * v4.2.0
 * MIT License
 */(function(n,t){(function(e,i){n.exports=i()})(EB,function(){function e(C){return Object.prototype.toString.call(C)==="[object Array]"}function i(C){return C instanceof Function}function r(C){return Object.prototype.toString.call(C)==="[object Object]"&&!i(C)&&C instanceof Object}function s(C,w){var B;for(B in w)B!=="__proto__"&&(r(w[B])||e(w[B])?(r(w[B])&&!r(C[B])&&(C[B]={}),e(w[B])&&!e(C[B])&&(C[B]=[]),s(C[B],w[B])):w[B]!==void 0&&(C[B]=w[B]))}function o(C,w){var B={};return s(B,C),s(B,w),B}var a=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i;function l(C){var w,B,K;for(w=0;w<C.length;w++)for(K=C[w].data,B=0;B<K.length;B++)if(K[B][1]<0)return!0;return!1}function c(C){return""+C}function u(C){return parseFloat(C)}function h(C){var w,B,K,dt;if(typeof C!="object")if(typeof C=="number")C=new Date(C*1e3);else{if(C=c(C),w=C.match(a))return B=parseInt(w[1],10),K=parseInt(w[3],10)-1,dt=parseInt(w[5],10),new Date(B,K,dt);var At=C.replace(/ /,"T").replace(" ","").replace("UTC","Z");C=new Date(Date.parse(At)||C)}return C}function f(C){if(!e(C)){var w=[],B;for(B in C)C.hasOwnProperty(B)&&w.push([B,C[B]]);C=w}return C}function p(C,w,B,K,dt,At,te,ce){return function(ue,Me,Ve){var Pn=ue.data,pe=o({},C);return pe=o(pe,Ve||{}),(ue.singleSeriesFormat||"legend"in Me)&&w(pe,Me.legend,ue.singleSeriesFormat),Me.title&&B(pe,Me.title),"min"in Me?K(pe,Me.min):l(Pn)||K(pe,0),Me.max&&dt(pe,Me.max),"stacked"in Me&&At(pe,Me.stacked),Me.colors&&(pe.colors=Me.colors),Me.xtitle&&te(pe,Me.xtitle),Me.ytitle&&ce(pe,Me.ytitle),pe=o(pe,Me.library||{}),pe}}function m(C,w){return C[0].getTime()-w[0].getTime()}function g(C,w){return C[0]-w[0]}function y(C,w){return C-w}function v(C){return C.getMilliseconds()===0&&C.getSeconds()===0}function x(C){return v(C)&&C.getMinutes()===0}function S(C){return x(C)&&C.getHours()===0}function E(C,w){return S(C)&&C.getDay()===w}function M(C){return S(C)&&C.getDate()===1}function P(C){return M(C)&&C.getMonth()===0}function L(C){return!isNaN(h(C))&&c(C).length>=6}function j(C){return typeof C=="number"}var W=["bytes","KB","MB","GB","TB","PB","EB"];function U(C,w,B,K){C=C||"",B.prefix&&(w<0&&(w=w*-1,C+="-"),C+=B.prefix);var dt=B.suffix||"",At=B.precision,te=B.round;if(B.byteScale){var ce,ue=K?B.byteScale:w;ue>=1152921504606847e3?(w/=1152921504606847e3,ce=6):ue>=0x4000000000000?(w/=0x4000000000000,ce=5):ue>=1099511627776?(w/=1099511627776,ce=4):ue>=1073741824?(w/=1073741824,ce=3):ue>=1048576?(w/=1048576,ce=2):ue>=1024?(w/=1024,ce=1):ce=0,At===void 0&&te===void 0&&(w>=1023.5&&ce<W.length-1&&(w=1,ce+=1),At=w>=1e3?4:3),dt=" "+W[ce]}if(At!==void 0&&te!==void 0)throw Error("Use either round or precision, not both");if(!K&&(At!==void 0&&(w=w.toPrecision(At),B.zeros||(w=parseFloat(w))),te!==void 0))if(te<0){var Me=Math.pow(10,-1*te);w=parseInt((1*w/Me).toFixed(0))*Me}else w=w.toFixed(te),B.zeros||(w=parseFloat(w));if(B.thousands||B.decimal){w=c(w);var Ve=w.split(".");w=Ve[0],B.thousands&&(w=w.replace(/\B(?=(\d{3})+(?!\d))/g,B.thousands)),Ve.length>1&&(w+=(B.decimal||".")+Ve[1])}return C+w+dt}function A(C,w,B){return B in w?w[B]:B in C.options?C.options[B]:null}function F(C){var w,B,K;for(w=0;w<C.length;w++)for(K=C[w].data,B=0;B<K.length;B++)if(K[B][1]!=0)return!1;return!0}var nt={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},q={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},D=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],G=function(C,w,B){w!==void 0?(C.plugins.legend.display=!!w,w&&w!==!0&&(C.plugins.legend.position=w)):B&&(C.plugins.legend.display=!1)},Z=function(C,w){C.plugins.title.display=!0,C.plugins.title.text=w},V=function(C,w){w!==null&&(C.scales.y.min=u(w))},Q=function(C,w){C.scales.y.max=u(w)},ut=function(C,w){w!==null&&(C.scales.x.min=u(w))},_t=function(C,w){C.scales.x.max=u(w)},at=function(C,w){C.scales.x.stacked=!!w,C.scales.y.stacked=!!w},Ct=function(C,w){C.scales.x.title.display=!0,C.scales.x.title.text=w},Lt=function(C,w){C.scales.y.title.display=!0,C.scales.y.title.text=w},et=function(C,w){var B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);return B?"rgba("+parseInt(B[1],16)+", "+parseInt(B[2],16)+", "+parseInt(B[3],16)+", "+w+")":C},Y=function(C){return C!=null},Et=function(C,w,B){var K=Math.ceil(C.element.offsetWidth/4/w.labels.length);K>25?K=25:K<10&&(K=10),B.scales.x.ticks.callback||(B.scales.x.ticks.callback=function(dt){return dt=c(this.getLabelForValue(dt)),dt.length>K?dt.substring(0,K-2)+"...":dt})},lt=function(C,w,B){var K={prefix:C.options.prefix,suffix:C.options.suffix,thousands:C.options.thousands,decimal:C.options.decimal,precision:C.options.precision,round:C.options.round,zeros:C.options.zeros};if(C.options.bytes){var dt=C.data;B==="pie"&&(dt=[{data:dt}]);for(var At=0,te=0;te<dt.length;te++)for(var ce=dt[te],ue=0;ue<ce.data.length;ue++)ce.data[ue][1]>At&&(At=ce.data[ue][1]);for(var Me=1;At>=1024;)Me*=1024,At/=1024;K.byteScale=Me}if(B!=="pie"){var Ve=w.scales.y;B==="bar"&&(Ve=w.scales.x),K.byteScale&&(Ve.ticks.stepSize||(Ve.ticks.stepSize=K.byteScale/2),Ve.ticks.maxTicksLimit||(Ve.ticks.maxTicksLimit=4)),Ve.ticks.callback||(Ve.ticks.callback=function(pe){return U("",pe,K,!0)})}if(!w.plugins.tooltip.callbacks.label)if(B==="scatter")w.plugins.tooltip.callbacks.label=function(pe){var We=pe.dataset.label||"";return We&&(We+=": "),We+"("+pe.label+", "+pe.formattedValue+")"};else if(B==="bubble")w.plugins.tooltip.callbacks.label=function(pe){var We=pe.dataset.label||"";We&&(We+=": ");var mr=pe.raw;return We+"("+mr.x+", "+mr.y+", "+mr.v+")"};else if(B==="pie")w.plugins.tooltip.callbacks.label=function(pe){var We=pe.label,mr=": ";return e(We)?(We=We.slice(),We[0]+=mr):We+=mr,U(We,pe.parsed,K)};else{var Pn=B==="bar"?"x":"y";w.plugins.tooltip.callbacks.label=function(pe){if(pe.parsed[Pn]!==null){var We=pe.dataset.label||"";return We&&(We+=": "),U(We,pe.parsed[Pn],K)}}}},Mt=p(o(nt,q),G,Z,V,Q,at,Ct,Lt),xt=function(C,w,B){var K=[],dt=[],At=C.options.colors||D,te=!0,ce=!0,ue,Me=!0,Ve=!0,Pn=!0,pe=!0,We=C.data,mr=0;if(B==="bubble")for(var qt=0;qt<We.length;qt++)for(var Oe=We[qt],Ut=0;Ut<Oe.data.length;Ut++)Oe.data[Ut][2]>mr&&(mr=Oe.data[Ut][2]);var Fn,Wi,Oi,Cc,qo,nl=[],il=[];if(B==="bar"||B==="column"||C.xtype!=="number"&&C.xtype!=="bubble"){var rl=[];for(Fn=0;Fn<We.length;Fn++)for(Oi=We[Fn],Wi=0;Wi<Oi.data.length;Wi++)Cc=Oi.data[Wi],qo=C.xtype=="datetime"?Cc[0].getTime():Cc[0],nl[qo]||(nl[qo]=new Array(We.length)),nl[qo][Fn]=u(Cc[1]),rl.indexOf(qo)===-1&&rl.push(qo);for((C.xtype==="datetime"||C.xtype==="number")&&rl.sort(y),Wi=0;Wi<We.length;Wi++)il.push([]);var ni,Oc;for(Oc=0;Oc<rl.length;Oc++)for(Fn=rl[Oc],C.xtype==="datetime"?(ni=new Date(u(Fn)),te=te&&S(ni),ue||(ue=ni.getDay()),ce=ce&&E(ni,ue),Me=Me&&M(ni),Ve=Ve&&P(ni),Pn=Pn&&x(ni),pe=pe&&v(ni)):ni=Fn,dt.push(ni),Wi=0;Wi<We.length;Wi++)il[Wi].push(nl[Fn][Wi]===void 0?null:nl[Fn][Wi])}else for(var ef=0;ef<We.length;ef++){for(var sl=We[ef],Yo=[],sr=0;sr<sl.data.length;sr++){var Pc={x:u(sl.data[sr][0]),y:u(sl.data[sr][1])};B==="bubble"&&(Pc.r=u(sl.data[sr][2])*20/mr,Pc.v=sl.data[sr][2]),Yo.push(Pc)}il.push(Yo)}var Yr,Xo;for(Fn=0;Fn<We.length;Fn++){if(Oi=We[Fn],C.options.colors&&C.singleSeriesFormat&&(B==="bar"||B==="column")&&!Oi.color&&e(C.options.colors)&&!e(C.options.colors[0])){Yr=At,Xo=[];for(var Dc=0;Dc<At.length;Dc++)Xo[Dc]=et(Yr[Dc],.5)}else Yr=Oi.color||At[Fn],Xo=B!=="line"?et(Yr,.5):Yr;var Sn={label:Oi.name||"",data:il[Fn],fill:B==="area",borderColor:Yr,backgroundColor:Xo,borderWidth:2},Kp=B==="line"||B==="area"||B==="scatter"||B==="bubble";Kp&&(Sn.pointBackgroundColor=Yr,Sn.pointHoverBackgroundColor=Yr,Sn.pointHitRadius=50),B==="bubble"&&(Sn.pointBackgroundColor=Xo,Sn.pointHoverBackgroundColor=Xo,Sn.pointHoverBorderWidth=2),Oi.stack&&(Sn.stack=Oi.stack);var Qp=A(C,Oi,"curve");Qp===!1?Sn.tension=0:Kp&&(Sn.tension=.4);var Jp=A(C,Oi,"points");Jp===!1&&(Sn.pointRadius=0,Sn.pointHoverRadius=0),Sn=o(Sn,C.options.dataset||{}),Sn=o(Sn,Oi.library||{}),Sn=o(Sn,Oi.dataset||{}),K.push(Sn)}var Ms=C.options.xmin,Pi=C.options.xmax;if(C.xtype==="datetime"?(Y(Ms)&&(w.scales.x.min=h(Ms).getTime()),Y(Pi)&&(w.scales.x.max=h(Pi).getTime())):C.xtype==="number"&&(Y(Ms)&&(w.scales.x.min=Ms),Y(Pi)&&(w.scales.x.max=Pi)),C.xtype==="datetime"&&dt.length===0&&(Y(Ms)&&dt.push(h(Ms)),Y(Pi)&&dt.push(h(Pi)),te=!1,ce=!1,Me=!1,Ve=!1,Pn=!1,pe=!1),C.xtype==="datetime"&&dt.length>0){var Xr=(Y(Ms)?h(Ms):dt[0]).getTime(),Kr=(Y(Pi)?h(Pi):dt[0]).getTime();for(Fn=1;Fn<dt.length;Fn++){var Ts=dt[Fn].getTime();Ts<Xr&&(Xr=Ts),Ts>Kr&&(Kr=Ts)}var Ko=(Kr-Xr)/(86400*1e3);if(!w.scales.x.time.unit){var As;if(Ve||Ko>365*10?(w.scales.x.time.unit="year",As=365):Me||Ko>30*10?(w.scales.x.time.unit="month",As=30):te||Ko>10?(w.scales.x.time.unit="day",As=1):Pn||Ko>.5?(w.scales.x.time.displayFormats={hour:"MMM d, h a"},w.scales.x.time.unit="hour",As=1/24):pe&&(w.scales.x.time.displayFormats={minute:"h:mm a"},w.scales.x.time.unit="minute",As=1/24/60),As&&Ko>0){var nf=C.element.offsetWidth;if(nf>0){var rf=Math.ceil(Ko/As/(nf/100));ce&&As===1&&(rf=Math.ceil(rf/7)*7),w.scales.x.time.stepSize=rf}}}w.scales.x.time.tooltipFormat||(te?w.scales.x.time.tooltipFormat="PP":Pn?w.scales.x.time.tooltipFormat="MMM d, h a":pe&&(w.scales.x.time.tooltipFormat="h:mm a"))}var Jb={labels:dt,datasets:K};return Jb},Rt=function(w){this.name="chartjs",this.library=w};Rt.prototype.renderLineChart=function(w,B){var K={};!w.options.max&&F(w.data)&&(K.max=1);var dt=Mt(w,o(K,w.options));lt(w,dt,B);var At=xt(w,dt,B||"line");w.xtype==="number"?(dt.scales.x.type=dt.scales.x.type||"linear",dt.scales.x.position=dt.scales.x.position||"bottom"):dt.scales.x.type=w.xtype==="string"?"category":"time",this.drawChart(w,"line",At,dt)},Rt.prototype.renderPieChart=function(w){var B=o({},nt);w.options.donut&&(B.cutout="50%"),"legend"in w.options&&G(B,w.options.legend),w.options.title&&Z(B,w.options.title),B=o(B,w.options.library||{}),lt(w,B,"pie");for(var K=[],dt=[],At=0;At<w.data.length;At++){var te=w.data[At];K.push(te[0]),dt.push(te[1])}var ce={data:dt,backgroundColor:w.options.colors||D};ce=o(ce,w.options.dataset||{});var ue={labels:K,datasets:[ce]};this.drawChart(w,"pie",ue,B)},Rt.prototype.renderColumnChart=function(w,B){var K;if(B==="bar"){var dt=o(nt,q);dt.indexAxis="y",dt.scales.x.grid.drawOnChartArea=!0,dt.scales.y.grid.drawOnChartArea=!1,delete dt.scales.y.ticks.maxTicksLimit,K=p(dt,G,Z,ut,_t,at,Ct,Lt)(w,w.options)}else K=Mt(w,w.options);lt(w,K,B);var At=xt(w,K,"column");B!=="bar"&&Et(w,At,K),this.drawChart(w,"bar",At,K)},Rt.prototype.renderAreaChart=function(w){this.renderLineChart(w,"area")},Rt.prototype.renderBarChart=function(w){this.renderColumnChart(w,"bar")},Rt.prototype.renderScatterChart=function(w,B){B=B||"scatter";var K=Mt(w,w.options);lt(w,K,B),"showLine"in K||(K.showLine=!1);var dt=xt(w,K,B);K.scales.x.type=K.scales.x.type||"linear",K.scales.x.position=K.scales.x.position||"bottom","mode"in K.interaction||(K.interaction.mode="nearest"),this.drawChart(w,B,dt,K)},Rt.prototype.renderBubbleChart=function(w){this.renderScatterChart(w,"bubble")},Rt.prototype.destroy=function(w){w.chart&&w.chart.destroy()},Rt.prototype.drawChart=function(w,B,K,dt){if(this.destroy(w),!w.destroyed){var At={type:B,data:K,options:dt};w.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(At)+");"),w.element.innerHTML="<canvas></canvas>";var te=w.element.getElementsByTagName("CANVAS")[0];w.chart=new this.library(te,At)}};var O={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}},k=function(C,w,B){w!==void 0?(C.legend.enabled=!!w,w&&w!==!0&&(w==="top"||w==="bottom"?C.legend.verticalAlign=w:(C.legend.layout="vertical",C.legend.verticalAlign="middle",C.legend.align=w))):B&&(C.legend.enabled=!1)},$=function(C,w){C.title.text=w},X=function(C,w){C.yAxis.min=w},rt=function(C,w){C.yAxis.max=w},mt=function(C,w){var B=w?w===!0?"normal":w:null;C.plotOptions.series.stacking=B,C.plotOptions.area.stacking=B,C.plotOptions.areaspline.stacking=B},yt=function(C,w){C.xAxis.title.text=w},ht=function(C,w){C.yAxis.title.text=w},Tt=p(O,k,$,X,rt,mt,yt,ht),bt=function(C,w,B){var K={prefix:C.options.prefix,suffix:C.options.suffix,thousands:C.options.thousands,decimal:C.options.decimal,precision:C.options.precision,round:C.options.round,zeros:C.options.zeros};B!=="pie"&&!e(w.yAxis)&&!w.yAxis.labels.formatter&&(w.yAxis.labels.formatter=function(){return U("",this.value,K)}),!w.tooltip.pointFormatter&&!w.tooltip.pointFormat&&(w.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25CF</span> '+U(this.series.name+": <b>",this.y,K)+"</b><br/>"})},N=function(w){this.name="highcharts",this.library=w};N.prototype.renderLineChart=function(w,B){B=B||"spline";var K={};B==="areaspline"&&(K={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),w.options.curve===!1&&(B==="areaspline"?B="area":B==="spline"&&(B="line"));var dt=Tt(w,w.options,K),At,te,ce;w.xtype==="number"?dt.xAxis.type=dt.xAxis.type||"linear":dt.xAxis.type=w.xtype==="string"?"category":"datetime",dt.chart.type||(dt.chart.type=B),bt(w,dt,B);var ue=w.data;for(te=0;te<ue.length;te++){if(ue[te].name=ue[te].name||"Value",At=ue[te].data,w.xtype==="datetime")for(ce=0;ce<At.length;ce++)At[ce][0]=At[ce][0].getTime();ue[te].marker={symbol:"circle"},w.options.points===!1&&(ue[te].marker.enabled=!1)}this.drawChart(w,ue,dt)},N.prototype.renderScatterChart=function(w){var B=Tt(w,w.options,{});B.chart.type="scatter",this.drawChart(w,w.data,B)},N.prototype.renderPieChart=function(w){var B=o(O,{});w.options.colors&&(B.colors=w.options.colors),w.options.donut&&(B.plotOptions={pie:{innerSize:"50%"}}),"legend"in w.options&&k(B,w.options.legend),w.options.title&&$(B,w.options.title);var K=o(B,w.options.library||{});bt(w,K,"pie");var dt=[{type:"pie",name:w.options.label||"Value",data:w.data}];this.drawChart(w,dt,K)},N.prototype.renderColumnChart=function(w,B){B=B||"column";var K=w.data,dt=Tt(w,w.options),At,te,ce,ue,Me=[],Ve=[];for(dt.chart.type=B,bt(w,dt,B),At=0;At<K.length;At++)for(ce=K[At],te=0;te<ce.data.length;te++)ue=ce.data[te],Me[ue[0]]||(Me[ue[0]]=new Array(K.length),Ve.push(ue[0])),Me[ue[0]][At]=ue[1];w.xtype==="number"&&Ve.sort(y),dt.xAxis.categories=Ve;var Pn=[],pe;for(At=0;At<K.length;At++){for(ue=[],te=0;te<Ve.length;te++)ue.push(Me[Ve[te]][At]||0);pe={name:K[At].name||"Value",data:ue},K[At].stack&&(pe.stack=K[At].stack),Pn.push(pe)}this.drawChart(w,Pn,dt)},N.prototype.renderBarChart=function(w){this.renderColumnChart(w,"bar")},N.prototype.renderAreaChart=function(w){this.renderLineChart(w,"areaspline")},N.prototype.destroy=function(w){w.chart&&w.chart.destroy()},N.prototype.drawChart=function(w,B,K){this.destroy(w),!w.destroyed&&(K.chart.renderTo=w.element.id,K.series=B,w.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(K)+");"),w.chart=new this.library.Chart(K))};var R={},st=[],gt={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},Ot=function(C,w,B){if(w!==void 0){var K;w?w===!0?K="right":K=w:K="none",C.legend.position=K}else B&&(C.legend.position="none")},kt=function(C,w){C.title=w,C.titleTextStyle={color:"#333",fontSize:"20px"}},Wt=function(C,w){C.vAxis.viewWindow.min=w},vt=function(C,w){C.vAxis.viewWindow.max=w},oe=function(C,w){C.hAxis.viewWindow.min=w},ge=function(C,w){C.hAxis.viewWindow.max=w},Qt=function(C,w){C.isStacked=w||!1},it=function(C,w){C.hAxis.title=w,C.hAxis.titleTextStyle.italic=!1},Gt=function(C,w){C.vAxis.title=w,C.vAxis.titleTextStyle.italic=!1},Nt=p(gt,Ot,kt,Wt,vt,Qt,it,Gt),ft=function(C){window.attachEvent?window.attachEvent("onresize",C):window.addEventListener&&window.addEventListener("resize",C,!0),C()},Vt=function(w){this.name="google",this.library=w};Vt.prototype.renderLineChart=function(w){var B=this;this.waitForLoaded(w,function(){var K={};w.options.curve===!1&&(K.curveType="none"),w.options.points===!1&&(K.pointSize=0);var dt=Nt(w,w.options,K),At=B.createDataTable(w.data,w.xtype);B.drawChart(w,"LineChart",At,dt)})},Vt.prototype.renderPieChart=function(w){var B=this;this.waitForLoaded(w,function(){var K={chartArea:{top:"10%",height:"80%"},legend:{}};w.options.colors&&(K.colors=w.options.colors),w.options.donut&&(K.pieHole=.5),"legend"in w.options&&Ot(K,w.options.legend),w.options.title&&kt(K,w.options.title);var dt=o(o(gt,K),w.options.library||{}),At=new B.library.visualization.DataTable;At.addColumn("string",""),At.addColumn("number","Value"),At.addRows(w.data),B.drawChart(w,"PieChart",At,dt)})},Vt.prototype.renderColumnChart=function(w){var B=this;this.waitForLoaded(w,function(){var K=Nt(w,w.options),dt=B.createDataTable(w.data,w.xtype);B.drawChart(w,"ColumnChart",dt,K)})},Vt.prototype.renderBarChart=function(w){var B=this;this.waitForLoaded(w,function(){var K={hAxis:{gridlines:{color:"#ccc"}}},dt=p(gt,Ot,kt,oe,ge,Qt,it,Gt)(w,w.options,K),At=B.createDataTable(w.data,w.xtype);B.drawChart(w,"BarChart",At,dt)})},Vt.prototype.renderAreaChart=function(w){var B=this;this.waitForLoaded(w,function(){var K={isStacked:!0,pointSize:0,areaOpacity:.5},dt=Nt(w,w.options,K),At=B.createDataTable(w.data,w.xtype);B.drawChart(w,"AreaChart",At,dt)})},Vt.prototype.renderGeoChart=function(w){var B=this;this.waitForLoaded(w,"geochart",function(){var K={legend:"none",colorAxis:{colors:w.options.colors||["#f6c7b6","#ce502d"]}},dt=o(o(gt,K),w.options.library||{}),At=new B.library.visualization.DataTable;At.addColumn("string",""),At.addColumn("number",w.options.label||"Value"),At.addRows(w.data),B.drawChart(w,"GeoChart",At,dt)})},Vt.prototype.renderScatterChart=function(w){var B=this;this.waitForLoaded(w,function(){var K={},dt=Nt(w,w.options,K),At=w.data,te=[],ce,ue,Me,Ve;for(ce=0;ce<At.length;ce++)for(At[ce].name=At[ce].name||"Value",Ve=At[ce].data,ue=0;ue<Ve.length;ue++){var Pn=new Array(At.length+1);Pn[0]=Ve[ue][0],Pn[ce+1]=Ve[ue][1],te.push(Pn)}for(Me=new B.library.visualization.DataTable,Me.addColumn("number",""),ce=0;ce<At.length;ce++)Me.addColumn("number",At[ce].name);Me.addRows(te),B.drawChart(w,"ScatterChart",Me,dt)})},Vt.prototype.renderTimeline=function(w){var B=this;this.waitForLoaded(w,"timeline",function(){var K={legend:"none"};w.options.colors&&(K.colors=w.options.colors);var dt=o(o(gt,K),w.options.library||{}),At=new B.library.visualization.DataTable;At.addColumn({type:"string",id:"Name"}),At.addColumn({type:"date",id:"Start"}),At.addColumn({type:"date",id:"End"}),At.addRows(w.data),w.element.style.lineHeight="normal",B.drawChart(w,"Timeline",At,dt)})},Vt.prototype.destroy=function(w){w.chart&&w.chart.clearChart()},Vt.prototype.drawChart=function(w,B,K,dt){this.destroy(w),!w.destroyed&&(w.options.code&&window.console.log("var data = new google.visualization.DataTable("+K.toJSON()+`);
var chart = new google.visualization.`+B+`(element);
chart.draw(data, `+JSON.stringify(dt)+");"),w.chart=new this.library.visualization[B](w.element),ft(function(){w.chart.draw(K,dt)}))},Vt.prototype.waitForLoaded=function(w,B,K){var dt=this;if(K||(K=B,B="corechart"),st.push({pack:B,callback:K}),R[B])this.runCallbacks();else{R[B]=!0;var At={packages:[B],callback:function(){dt.runCallbacks()}},te=w.__config();te.language&&(At.language=te.language),B==="geochart"&&te.mapsApiKey&&(At.mapsApiKey=te.mapsApiKey),this.library.charts.load("current",At)}},Vt.prototype.runCallbacks=function(){for(var w,B,K=0;K<st.length;K++)w=st[K],B=this.library.visualization&&(w.pack==="corechart"&&this.library.visualization.LineChart||w.pack==="timeline"&&this.library.visualization.Timeline||w.pack==="geochart"&&this.library.visualization.GeoChart),B&&(w.callback(),st.splice(K,1),K--)},Vt.prototype.createDataTable=function(w,B){var K,dt,At,te,ce,ue=[],Me=[];for(K=0;K<w.length;K++)for(At=w[K],w[K].name=w[K].name||"Value",dt=0;dt<At.data.length;dt++)te=At.data[dt],ce=B==="datetime"?te[0].getTime():te[0],ue[ce]||(ue[ce]=new Array(w.length),Me.push(ce)),ue[ce][K]=u(te[1]);var Ve=[],Pn=!0,pe;for(dt=0;dt<Me.length;dt++)K=Me[dt],B==="datetime"?(pe=new Date(u(K)),Pn=Pn&&S(pe)):B==="number"?pe=u(K):pe=K,Ve.push([pe].concat(ue[K]));if(B==="datetime")Ve.sort(m);else if(B==="number"){for(Ve.sort(g),K=0;K<Ve.length;K++)Ve[K][0]=c(Ve[K][0]);B="string"}var We=new this.library.visualization.DataTable;for(B=B==="datetime"&&Pn?"date":B,We.addColumn(B,""),K=0;K<w.length;K++)We.addColumn("number",w[K].name);return We.addRows(Ve),We};function de(C,w){var B=[],K,dt;if(w==="number"?dt=u:w==="datetime"?dt=h:dt=c,w==="bubble")for(K=0;K<C.length;K++)B.push([u(C[K][0]),u(C[K][1]),u(C[K][2])]);else for(K=0;K<C.length;K++)B.push([dt(C[K][0]),u(C[K][1])]);return w==="datetime"?B.sort(m):w==="number"&&B.sort(g),B}function jt(C,w,B){return Wn(C)?(B.xmin||B.xmax)&&(!B.xmin||L(B.xmin))&&(!B.xmax||L(B.xmax))?"datetime":"number":_e(C,j)?"number":!w&&_e(C,L)?"datetime":"string"}function _e(C,w){var B,K,dt;for(B=0;B<C.length;B++)for(dt=f(C[B].data),K=0;K<dt.length;K++)if(!w(dt[K][0]))return!1;return!0}function Ie(C){var w=[],B,K;for(B=0;B<C.length;B++){var dt={};for(K in C[B])C[B].hasOwnProperty(K)&&(dt[K]=C[B][K]);w.push(dt)}return w}function Ce(C,w,B){var K,dt=C.options,At=C.rawData;for(C.singleSeriesFormat=!e(At)||typeof At[0]!="object"||e(At[0]),C.singleSeriesFormat&&(At=[{name:dt.label,data:At}]),At=Ie(At),K=0;K<At.length;K++)At[K].data=f(At[K].data);for(C.xtype=w||(dt.discrete?"string":jt(At,B,dt)),K=0;K<At.length;K++)At[K].data=de(At[K].data,C.xtype);return At}function ei(C){var w=f(C.rawData),B;for(B=0;B<w.length;B++)w[B]=[c(w[B][0]),u(w[B][1])];return w}function Wn(C,w){if(w==="PieChart"||w==="GeoChart"||w==="Timeline")return C.length===0;for(var B=0;B<C.length;B++)if(C[B].data.length>0)return!1;return!0}function Za(C){var w=C.element,B=document.createElement("a"),K=C.options.download;K===!0?K={}:typeof K=="string"&&(K={filename:K}),B.download=K.filename||"chart.png",B.style.position="absolute",B.style.top="20px",B.style.right="20px",B.style.zIndex=1e3,B.style.lineHeight="20px",B.target="_blank";var dt=document.createElement("img");dt.alt="Download",dt.style.border="none",dt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",B.appendChild(dt),w.style.position="relative",C.__downloadAttached=!0,C.__enterEvent=Es(w,"mouseover",function(At){var te=At.relatedTarget;(!te||te!==this&&!to(this,te))&&C.options.download&&(B.href=C.toImage(K),w.appendChild(B))}),C.__leaveEvent=Es(w,"mouseout",function(At){var te=At.relatedTarget;(!te||te!==this&&!to(this,te))&&B.parentNode&&B.parentNode.removeChild(B)})}function Es(C,w,B){if(C.addEventListener)return C.addEventListener(w,B,!1),B;var K=function(){return B.call(C,window.event)};return C.attachEvent("on"+w,K),K}function jr(C,w,B){C.removeEventListener?C.removeEventListener(w,B,!1):C.detachEvent("on"+w,B)}function to(C,w){if(C===w)return!1;for(;w&&w!==C;)w=w.parentNode;return w===C}var jo=[],tl=0,Zh=4;function tf(C,w,B){jo.push([C,w,B]),H()}function H(){if(tl<Zh){var C=jo.shift();C&&(tl++,St(C[0],C[1],C[2]),H())}}function ct(){tl--,H()}function St(C,w,B){wt(C,w,function(K,dt,At){var te=typeof At=="string"?At:At.message;B(te)})}function wt(C,w,B){var K=window.jQuery||window.Zepto||window.$;if(K&&K.ajax)K.ajax({dataType:"json",url:C,success:w,error:B,complete:ct});else{var dt=new XMLHttpRequest;dt.open("GET",C,!0),dt.setRequestHeader("Content-Type","application/json"),dt.onload=function(){ct(),dt.status===200?w(JSON.parse(dt.responseText),dt.statusText,dt):B(dt,"error",dt.statusText)},dt.send()}}var Pt={},ae=[];function ee(C,w){document.body.innerText?C.innerText=w:C.textContent=w}function Ht(C,w,B){B||(w="Error Loading Chart: "+w),ee(C,w),C.style.color="#ff0000"}function xe(C){try{C.__render()}catch(w){throw Ht(C.element,w.message),w}}function He(C,w,B){if(B&&C.options.loading&&(typeof w=="string"||typeof w=="function")&&ee(C.element,C.options.loading),typeof w=="string")tf(w,function(K){C.rawData=K,xe(C)},function(K){Ht(C.element,K)});else if(typeof w=="function")try{w(function(K){C.rawData=K,xe(C)},function(K){Ht(C.element,K,!0)})}catch(K){Ht(C.element,K,!0)}else C.rawData=w,xe(C)}function $e(C){if(C){if(C.product==="Highcharts")return N;if(C.charts)return Vt;if(i(C))return Rt}throw new Error("Unknown adapter")}function Fe(C){var w=$e(C),B=new w(C);ae.indexOf(B)===-1&&ae.push(B)}function vn(){"Chart"in window&&Fe(window.Chart),"Highcharts"in window&&Fe(window.Highcharts),window.google&&window.google.charts&&Fe(window.google)}function qr(C,w){if(Wn(w.data,C)){var B=w.options.empty||w.options.messages&&w.options.messages.empty||"No data";ee(w.element,B)}else Ss(C,w),w.options.download&&!w.__downloadAttached&&w.adapter==="chartjs"&&Za(w)}function Ss(C,w){var B,K,dt,At;for(dt="render"+C,At=w.options.adapter,vn(),B=0;B<ae.length;B++)if(K=ae[B],(!At||At===K.name)&&i(K[dt]))return w.adapter=K.name,w.__adapterObject=K,K[dt](w);throw ae.length>0?new Error("No charting library found for "+C):new Error("No charting libraries found - be sure to include one before your charts")}var Xe=function(w,B,K){var dt;if(typeof w=="string"&&(dt=w,w=document.getElementById(w),!w))throw new Error("No element with id "+dt);this.element=w,this.options=o(gn.options,K||{}),this.dataSource=B,gn.charts[w.id]=this,He(this,B,!0),this.options.refresh&&this.startRefresh()};Xe.prototype.getElement=function(){return this.element},Xe.prototype.getDataSource=function(){return this.dataSource},Xe.prototype.getData=function(){return this.data},Xe.prototype.getOptions=function(){return this.options},Xe.prototype.getChartObject=function(){return this.chart},Xe.prototype.getAdapter=function(){return this.adapter},Xe.prototype.updateData=function(w,B){this.dataSource=w,B&&this.__updateOptions(B),He(this,w,!0)},Xe.prototype.setOptions=function(w){this.__updateOptions(w),this.redraw()},Xe.prototype.redraw=function(){He(this,this.rawData)},Xe.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var w=this.dataSource.indexOf("?")===-1?"?":"&",B=this.dataSource+w+"_="+new Date().getTime();He(this,B)}else typeof this.dataSource=="function"&&He(this,this.dataSource)},Xe.prototype.startRefresh=function(){var w=this,B=this.options.refresh;if(B&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(B)this.intervalId=setInterval(function(){w.refreshData()},B*1e3);else throw new Error("No refresh interval")},Xe.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Xe.prototype.toImage=function(w){if(this.adapter==="chartjs")if(w&&w.background&&w.background!=="transparent"){var B=this.chart.canvas,K=this.chart.ctx,dt=document.createElement("canvas"),At=dt.getContext("2d");return dt.width=K.canvas.width,dt.height=K.canvas.height,At.fillStyle=w.background,At.fillRect(0,0,dt.width,dt.height),At.drawImage(B,0,0),dt.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")},Xe.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&jr(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&jr(this.element,"mouseout",this.__leaveEvent)},Xe.prototype.__updateOptions=function(w){var B=w.refresh&&w.refresh!==this.options.refresh;this.options=o(gn.options,w),B&&(this.stopRefresh(),this.startRefresh())},Xe.prototype.__render=function(){this.data=this.__processData(),qr(this.__chartName(),this)},Xe.prototype.__config=function(){return Pt};var Ci=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return Ce(this)},w.prototype.__chartName=function(){return"LineChart"},w}(Xe),Ue=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return ei(this)},w.prototype.__chartName=function(){return"PieChart"},w}(Xe),pr=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return Ce(this,null,!0)},w.prototype.__chartName=function(){return"ColumnChart"},w}(Xe),En=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return Ce(this,null,!0)},w.prototype.__chartName=function(){return"BarChart"},w}(Xe),Hi=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return Ce(this)},w.prototype.__chartName=function(){return"AreaChart"},w}(Xe),rr=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return ei(this)},w.prototype.__chartName=function(){return"GeoChart"},w}(Xe),$i=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return Ce(this,"number")},w.prototype.__chartName=function(){return"ScatterChart"},w}(Xe),el=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){return Ce(this,"bubble")},w.prototype.__chartName=function(){return"BubbleChart"},w}(Xe),Gn=function(C){function w(){C.apply(this,arguments)}return C&&(w.__proto__=C),w.prototype=Object.create(C&&C.prototype),w.prototype.constructor=w,w.prototype.__processData=function(){var K,dt=this.rawData;for(K=0;K<dt.length;K++)dt[K][1]=h(dt[K][1]),dt[K][2]=h(dt[K][2]);return dt},w.prototype.__chartName=function(){return"Timeline"},w}(Xe),gn={LineChart:Ci,PieChart:Ue,ColumnChart:pr,BarChart:En,AreaChart:Hi,GeoChart:rr,ScatterChart:$i,BubbleChart:el,Timeline:Gn,charts:{},configure:function(C){for(var w in C)C.hasOwnProperty(w)&&(Pt[w]=C[w])},setDefaultOptions:function(C){gn.options=C},eachChart:function(C){for(var w in gn.charts)gn.charts.hasOwnProperty(w)&&C(gn.charts[w])},destroyAll:function(){for(var C in gn.charts)gn.charts.hasOwnProperty(C)&&(gn.charts[C].destroy(),delete gn.charts[C])},config:Pt,options:{},adapters:ae,addAdapter:Fe,use:function(C){return Fe(C),gn}};return typeof window<"u"&&!window.Chartkick&&(window.Chartkick=gn,document.addEventListener("turbolinks:before-render",function(){Pt.autoDestroy!==!1&&gn.destroyAll()}),document.addEventListener("turbo:before-render",function(){Pt.autoDestroy!==!1&&gn.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0)),gn.default=gn,gn})})(SB);const xr=SB.exports;/*!
 * Vue Chartkick
 * Create beautiful JavaScript charts with one line of Vue
 * https://github.com/ankane/vue-chartkick
 * v1.1.0
 * MIT License
 */var fY=1,ra=function(n,t,e){var i=["adapter","bytes","code","colors","curve","dataset","decimal","discrete","donut","download","empty","label","legend","library","loading","max","messages","min","points","precision","prefix","refresh","round","stacked","suffix","thousands","title","xmax","xmin","xtitle","ytitle","zeros"];n.component(t,{props:["data","id","width","height"].concat(i),render:function(){var r=this.chartOptions.loading!==void 0?this.chartOptions.loading:"Loading...";if(typeof r!="string")throw new Error("loading must be a string");return fp("div",{id:this.chartId,style:this.chartStyle},[r])},data:function(){return{chartId:null}},computed:{chartStyle:function(){return this.data,this.chartOptions,{height:this.height||"300px",lineHeight:this.height||"300px",width:this.width||"100%",textAlign:"center",color:"#999",fontSize:"14px",fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif"}},chartOptions:function(){for(var r={},s=i,o=0;o<s.length;o++){var a=s[o];this[a]!==void 0&&(r[a]=this[a])}return r}},created:function(){this.chartId=this.chartId||this.id||"chart-"+fY++},mounted:function(){this.updateChart()},updated:function(){this.updateChart()},beforeUnmount:function(){this.chart&&this.chart.destroy()},methods:{updateChart:function(){this.data!==null?this.chart?this.chart.updateData(this.data,this.chartOptions):this.chart=new e(this.chartId,this.data,this.chartOptions):this.chart&&(this.chart.destroy(),this.chart=null,this.$el.innerText="Loading...")}}})};xr.install=function(n,t){t&&t.adapter&&xr.addAdapter(t.adapter),ra(n,"line-chart",xr.LineChart),ra(n,"pie-chart",xr.PieChart),ra(n,"column-chart",xr.ColumnChart),ra(n,"bar-chart",xr.BarChart),ra(n,"area-chart",xr.AreaChart),ra(n,"scatter-chart",xr.ScatterChart),ra(n,"geo-chart",xr.GeoChart),ra(n,"timeline",xr.Timeline)};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function so(){}const dY=function(){let n=0;return function(){return n++}}();function tn(n){return n===null||typeof n>"u"}function bn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ye(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const Yn=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function kr(n,t){return Yn(n)?n:t}function Ne(n,t){return typeof n>"u"?t:n}const pY=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/t,MB=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function _n(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function un(n,t,e,i){let r,s,o;if(bn(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(Ye(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function dv(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function pv(n){if(bn(n))return n.map(pv);if(Ye(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=pv(n[e[r]]);return t}return n}function TB(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function mY(n,t,e,i){if(!TB(n))return;const r=t[n],s=e[n];Ye(r)&&Ye(s)?Gd(r,s,i):t[n]=pv(s)}function Gd(n,t,e){const i=bn(t)?t:[t],r=i.length;if(!Ye(n))return n;e=e||{};const s=e.merger||mY;for(let o=0;o<r;++o){if(t=i[o],!Ye(t))continue;const a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)s(a[l],n,t,e)}return n}function ud(n,t){return Gd(n,t,{merger:gY})}function gY(n,t,e){if(!TB(n))return;const i=t[n],r=e[n];Ye(i)&&Ye(r)?ud(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=pv(r))}const nD={"":n=>n,x:n=>n.x,y:n=>n.y};function La(n,t){return(nD[t]||(nD[t]=yY(t)))(n)}function yY(n){const t=vY(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function vY(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function FT(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Vr=n=>typeof n<"u",Ia=n=>typeof n=="function",iD=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function _Y(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const kn=Math.PI,pn=2*kn,bY=pn+kn,mv=Number.POSITIVE_INFINITY,xY=kn/180,Hn=kn/2,wf=kn/4,rD=kn*2/3,Nr=Math.log10,Gs=Math.sign;function sD(n){const t=Math.round(n);n=hd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Nr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function wY(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function hh(n){return!isNaN(parseFloat(n))&&isFinite(n)}function hd(n,t,e){return Math.abs(n-t)<e}function EY(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function AB(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ls(n){return n*(kn/180)}function BT(n){return n*(180/kn)}function oD(n){if(!Yn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function CB(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*kn&&(s+=pn),{angle:s,distance:r}}function uE(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function SY(n,t){return(n-t+bY)%pn-kn}function wr(n){return(n%pn+pn)%pn}function jd(n,t,e,i){const r=wr(n),s=wr(t),o=wr(e),a=wr(s-r),l=wr(o-r),c=wr(r-s),u=wr(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function gi(n,t,e){return Math.max(t,Math.min(e,n))}function MY(n){return gi(n,-32768,32767)}function wo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function zT(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Eo=(n,t,e,i)=>zT(n,e,i?r=>n[r][t]<=e:r=>n[r][t]<e),TY=(n,t,e)=>zT(n,e,i=>n[i][t]>=e);function AY(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const OB=["push","pop","shift","splice","unshift"];function CY(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),OB.forEach(e=>{const i="_onData"+FT(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function aD(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(OB.forEach(s=>{delete n[s]}),delete n._chartjs)}function PB(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const DB=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function RB(n,t,e){const i=e||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=i(o),r||(r=!0,DB.call(window,()=>{r=!1,n.apply(t,s)}))}}function OY(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const UT=n=>n==="start"?"left":n==="end"?"right":"center",Ri=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,PY=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function LB(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=gi(Math.min(Eo(a,o.axis,c).lo,e?i:Eo(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?s=gi(Math.max(Eo(a,o.axis,u,!0).hi+1,e?0:Eo(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function IB(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Rm=n=>n===0||n===1,lD=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*pn/e)),cD=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*pn/e)+1,fd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Hn)+1,easeOutSine:n=>Math.sin(n*Hn),easeInOutSine:n=>-.5*(Math.cos(kn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rm(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rm(n)?n:lD(n,.075,.3),easeOutElastic:n=>Rm(n)?n:cD(n,.075,.3),easeInOutElastic(n){return Rm(n)?n:n<.5?.5*lD(n*2,.1125,.45):.5+.5*cD(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-fd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fd.easeInBounce(n*2)*.5:fd.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Pp(n){return n+.5|0}const ba=(n,t,e)=>Math.max(Math.min(n,e),t);function Yf(n){return ba(Pp(n*2.55),0,255)}function Ma(n){return ba(Pp(n*255),0,255)}function vo(n){return ba(Pp(n/2.55)/100,0,1)}function uD(n){return ba(Pp(n*100),0,100)}const Dr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hE=[..."0123456789ABCDEF"],DY=n=>hE[n&15],RY=n=>hE[(n&240)>>4]+hE[n&15],Lm=n=>(n&240)>>4===(n&15),LY=n=>Lm(n.r)&&Lm(n.g)&&Lm(n.b)&&Lm(n.a);function IY(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Dr[n[1]]*17,g:255&Dr[n[2]]*17,b:255&Dr[n[3]]*17,a:t===5?Dr[n[4]]*17:255}:(t===7||t===9)&&(e={r:Dr[n[1]]<<4|Dr[n[2]],g:Dr[n[3]]<<4|Dr[n[4]],b:Dr[n[5]]<<4|Dr[n[6]],a:t===9?Dr[n[7]]<<4|Dr[n[8]]:255})),e}const kY=(n,t)=>n<255?t(n):"";function NY(n){var t=LY(n)?DY:RY;return n?"#"+t(n.r)+t(n.g)+t(n.b)+kY(n.a,t):void 0}const FY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kB(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function BY(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function zY(n,t,e){const i=kB(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function UY(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function VT(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=UY(e,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function HT(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ma)}function $T(n,t,e){return HT(kB,n,t,e)}function VY(n,t,e){return HT(zY,n,t,e)}function HY(n,t,e){return HT(BY,n,t,e)}function NB(n){return(n%360+360)%360}function $Y(n){const t=FY.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Yf(+t[5]):Ma(+t[5]));const r=NB(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=VY(r,s,o):t[1]==="hsv"?i=HY(r,s,o):i=$T(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function WY(n,t){var e=VT(n);e[0]=NB(e[0]+t),e=$T(e),n.r=e[0],n.g=e[1],n.b=e[2]}function GY(n){if(!n)return;const t=VT(n),e=t[0],i=uD(t[1]),r=uD(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${vo(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const hD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jY(){const n={},t=Object.keys(fD),e=Object.keys(hD);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,hD[s]);s=parseInt(fD[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let Im;function qY(n){Im||(Im=jY(),Im.transparent=[0,0,0,0]);const t=Im[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const YY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XY(n){const t=YY.exec(n);let e=255,i,r,s;if(!!t){if(t[7]!==i){const o=+t[7];e=t[8]?Yf(o):ba(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Yf(i):ba(i,0,255)),r=255&(t[4]?Yf(r):ba(r,0,255)),s=255&(t[6]?Yf(s):ba(s,0,255)),{r:i,g:r,b:s,a:e}}}function KY(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${vo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Q0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,eu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function QY(n,t,e){const i=eu(vo(n.r)),r=eu(vo(n.g)),s=eu(vo(n.b));return{r:Ma(Q0(i+e*(eu(vo(t.r))-i))),g:Ma(Q0(r+e*(eu(vo(t.g))-r))),b:Ma(Q0(s+e*(eu(vo(t.b))-s))),a:n.a+e*(t.a-n.a)}}function km(n,t,e){if(n){let i=VT(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=$T(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function FB(n,t){return n&&Object.assign(t||{},n)}function dD(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ma(n[3]))):(t=FB(n,{r:0,g:0,b:0,a:1}),t.a=Ma(t.a)),t}function JY(n){return n.charAt(0)==="r"?XY(n):$Y(n)}class gv{constructor(t){if(t instanceof gv)return t;const e=typeof t;let i;e==="object"?i=dD(t):e==="string"&&(i=IY(t)||qY(t)||JY(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=FB(this._rgb);return t&&(t.a=vo(t.a)),t}set rgb(t){this._rgb=dD(t)}rgbString(){return this._valid?KY(this._rgb):void 0}hexString(){return this._valid?NY(this._rgb):void 0}hslString(){return this._valid?GY(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=QY(this._rgb,t._rgb,e)),this}clone(){return new gv(this.rgb)}alpha(t){return this._rgb.a=Ma(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Pp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return km(this._rgb,2,t),this}darken(t){return km(this._rgb,2,-t),this}saturate(t){return km(this._rgb,1,t),this}desaturate(t){return km(this._rgb,1,-t),this}rotate(t){return WY(this._rgb,t),this}}function BB(n){return new gv(n)}function zB(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function pD(n){return zB(n)?n:BB(n)}function J0(n){return zB(n)?n:BB(n).saturate(.5).darken(.1).hexString()}const lc=Object.create(null),fE=Object.create(null);function dd(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function Z0(n,t,e){return typeof t=="string"?Gd(dd(n,t),e):Gd(dd(n,""),t)}class ZY{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>J0(i.backgroundColor),this.hoverBorderColor=(e,i)=>J0(i.borderColor),this.hoverColor=(e,i)=>J0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return Z0(this,t,e)}get(t){return dd(this,t)}describe(t,e){return Z0(fE,t,e)}override(t,e){return Z0(lc,t,e)}route(t,e,i,r){const s=dd(this,t),o=dd(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[r];return Ye(l)?Object.assign({},c,l):Ne(l,c)},set(l){this[a]=l}}})}}var Ke=new ZY({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function tX(n){return!n||tn(n.size)||tn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function yv(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function eX(n,t,e,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=e[l],h!=null&&bn(h)!==!0)o=yv(n,r,s,o,h);else if(bn(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!bn(f)&&(o=yv(n,r,s,o,f));n.restore();const p=s.length/2;if(p>e.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function El(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function mD(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function dE(n,t,e,i){UB(n,t,e,i,null)}function UB(n,t,e,i,r){let s,o,a,l,c,u;const h=t.pointStyle,f=t.rotation,p=t.radius;let m=(f||0)*xY;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(m),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),h){default:r?n.ellipse(e,i,r/2,p,0,0,pn):n.arc(e,i,p,0,pn),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(m)*p,i-Math.cos(m)*p),m+=rD,n.lineTo(e+Math.sin(m)*p,i-Math.cos(m)*p),m+=rD,n.lineTo(e+Math.sin(m)*p,i-Math.cos(m)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+wf)*l,a=Math.sin(m+wf)*l,n.arc(e-o,i-a,c,m-kn,m-Hn),n.arc(e+a,i-o,c,m-Hn,m),n.arc(e+o,i+a,c,m,m+Hn),n.arc(e-a,i+o,c,m+Hn,m+kn),n.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*p,u=r?r/2:l,n.rect(e-u,i-l,2*u,2*l);break}m+=wf;case"rectRot":o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+a,i-o),n.lineTo(e+o,i+a),n.lineTo(e-a,i+o),n.closePath();break;case"crossRot":m+=wf;case"cross":o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"star":o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o),m+=wf,o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"line":o=r?r/2:Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(m)*p,i+Math.sin(m)*p);break}n.fill(),t.borderWidth>0&&n.stroke()}}function qd(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function hb(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function fb(n){n.restore()}function nX(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function iX(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function cc(n,t,e,i,r,s={}){const o=bn(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,rX(n,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),tn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,e,i,s.maxWidth)),n.fillText(c,e,i,s.maxWidth),sX(n,e,i,c,s),i+=r.lineHeight;n.restore()}function rX(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),tn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function sX(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,c=e+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function Yd(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,-Hn,kn,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,kn,Hn,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Hn,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-Hn,!0),n.lineTo(e+o.topLeft,i)}const oX=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),aX=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function lX(n,t){const e=(""+n).match(oX);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const cX=n=>+n||0;function WT(n,t){const e={},i=Ye(t),r=i?Object.keys(t):t,s=Ye(n)?i?o=>Ne(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=cX(s(o));return e}function VB(n){return WT(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Jl(n){return WT(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ui(n){const t=VB(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ri(n,t){n=n||{},t=t||Ke.font;let e=Ne(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ne(n.style,t.style);i&&!(""+i).match(aX)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Ne(n.family,t.family),lineHeight:lX(Ne(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ne(n.weight,t.weight),string:""};return r.string=tX(r),r}function Xf(n,t,e,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&bn(a)&&(a=a[e%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function uX(n,t,e){const{min:i,max:r}=n,s=MB(t,(r-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function ja(n,t){return Object.assign(Object.create(n),t)}function GT(n,t=[""],e=n,i,r=()=>n[0]){Vr(i)||(i=GB("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:o=>GT([o,...n],t,e,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete n[0][a],!0},get(o,a){return $B(o,a,()=>vX(a,t,n,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,a){return yD(o).includes(a)},ownKeys(o){return yD(o)},set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function fh(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:HB(n,i),setContext:s=>fh(n,s,e,i),override:s=>fh(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return $B(s,o,()=>fX(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function HB(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ia(e)?e:()=>e,isIndexable:Ia(i)?i:()=>i}}const hX=(n,t)=>n?n+FT(t):t,jT=(n,t)=>Ye(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $B(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function fX(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let a=i[t];return Ia(a)&&o.isScriptable(t)&&(a=dX(t,a,n,e)),bn(a)&&a.length&&(a=pX(t,a,n,o.isIndexable)),jT(t,a)&&(a=fh(a,r,s&&s[t],o)),a}function dX(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),t=t(s,o||i),a.delete(n),jT(n,t)&&(t=qT(r._scopes,r,n,t)),t}function pX(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(Vr(s.index)&&i(n))t=t[s.index%t.length];else if(Ye(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=qT(c,r,n,u);t.push(fh(h,s,o&&o[n],a))}}return t}function WB(n,t,e){return Ia(n)?n(t,e):n}const mX=(n,t)=>n===!0?t:typeof n=="string"?La(t,n):void 0;function gX(n,t,e,i,r){for(const s of t){const o=mX(e,s);if(o){n.add(o);const a=WB(o._fallback,e,r);if(Vr(a)&&a!==e&&a!==i)return a}else if(o===!1&&Vr(i)&&e!==i)return null}return!1}function qT(n,t,e,i){const r=t._rootScopes,s=WB(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let l=gD(a,o,e,s||e,i);return l===null||Vr(s)&&s!==e&&(l=gD(a,o,s,l,i),l===null)?!1:GT(Array.from(a),[""],r,s,()=>yX(t,e,i))}function gD(n,t,e,i,r){for(;e;)e=gX(n,t,e,i,r);return e}function yX(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return bn(r)&&Ye(e)?e:r}function vX(n,t,e,i){let r;for(const s of t)if(r=GB(hX(s,n),e),Vr(r))return jT(n,r)?qT(e,i,n,r):r}function GB(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Vr(i))return i}}function yD(n){let t=n._keys;return t||(t=n._keys=_X(n._scopes)),t}function _X(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function jB(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+e,u=t[c],o[a]={r:r.parse(La(u,s),c)};return o}const bX=Number.EPSILON||1e-14,dh=(n,t)=>t<n.length&&!n[t].skip&&n[t],qB=n=>n==="x"?"y":"x";function xX(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,a=uE(s,r),l=uE(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function wX(n,t,e){const i=n.length;let r,s,o,a,l,c=dh(n,0);for(let u=0;u<i-1;++u)if(l=c,c=dh(n,u+1),!(!l||!c)){if(hd(t[u],0,bX)){e[u]=e[u+1]=0;continue}r=e[u]/t[u],s=e[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=r*o*t[u],e[u+1]=s*o*t[u])}}function EX(n,t,e="x"){const i=qB(e),r=n.length;let s,o,a,l=dh(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=dh(n,c+1),!a)continue;const u=a[e],h=a[i];o&&(s=(u-o[e])/3,a[`cp1${e}`]=u-s,a[`cp1${i}`]=h-s*t[c]),l&&(s=(l[e]-u)/3,a[`cp2${e}`]=u+s,a[`cp2${i}`]=h+s*t[c])}}function SX(n,t="x"){const e=qB(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=dh(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=dh(n,o+1),!!l){if(c){const u=c[t]-l[t];r[o]=u!==0?(c[e]-l[e])/u:0}s[o]=a?c?Gs(r[o-1])!==Gs(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}wX(n,r,s),EX(n,s,t)}function Nm(n,t,e){return Math.max(Math.min(n,e),t)}function MX(n,t){let e,i,r,s,o,a=qd(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=a,a=e<i-1&&qd(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Nm(r.cp1x,t.left,t.right),r.cp1y=Nm(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Nm(r.cp2x,t.left,t.right),r.cp2y=Nm(r.cp2y,t.top,t.bottom)))}function TX(n,t,e,i,r){let s,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")SX(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=xX(c,a,n[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&MX(n,e)}function YB(){return typeof window<"u"&&typeof document<"u"}function YT(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function vv(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const db=n=>window.getComputedStyle(n,null);function AX(n,t){return db(n).getPropertyValue(t)}const CX=["top","right","bottom","left"];function Zl(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=CX[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const OX=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function PX(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(OX(r,s,n.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Pl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=db(e),s=r.boxSizing==="border-box",o=Zl(r,"padding"),a=Zl(r,"border","width"),{x:l,y:c,box:u}=PX(n,e),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=t;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/p*e.width/i),y:Math.round((c-f)/m*e.height/i)}}function DX(n,t,e){let i,r;if(t===void 0||e===void 0){const s=YT(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),a=db(s),l=Zl(a,"border","width"),c=Zl(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=vv(a.maxWidth,s,"clientWidth"),r=vv(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||mv,maxHeight:r||mv}}const tx=n=>Math.round(n*10)/10;function RX(n,t,e,i){const r=db(n),s=Zl(r,"margin"),o=vv(r.maxWidth,n,"clientWidth")||mv,a=vv(r.maxHeight,n,"clientHeight")||mv,l=DX(n,t,e);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=Zl(r,"border","width"),f=Zl(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=tx(Math.min(c,o,l.maxWidth)),u=tx(Math.min(u,a,l.maxHeight)),c&&!u&&(u=tx(c/2)),{width:c,height:u}}function vD(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const LX=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function _D(n,t){const e=AX(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Dl(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function IX(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function kX(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=Dl(n,r,e),a=Dl(r,s,e),l=Dl(s,t,e),c=Dl(o,a,e),u=Dl(a,l,e);return Dl(c,u,e)}const bD=new Map;function NX(n,t){t=t||{};const e=n+JSON.stringify(t);let i=bD.get(e);return i||(i=new Intl.NumberFormat(n,t),bD.set(e,i)),i}function Dp(n,t,e){return NX(t,e).format(n)}const FX=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},BX=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function qu(n,t,e){return n?FX(t,e):BX()}function XB(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function KB(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function QB(n){return n==="angle"?{between:jd,compare:SY,normalize:wr}:{between:wo,compare:(t,e)=>t-e,normalize:t=>t}}function xD({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function zX(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:a}=QB(i),l=t.length;let{start:c,end:u,loop:h}=n,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(t[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function JB(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:a,between:l,normalize:c}=QB(i),{start:u,end:h,loop:f,style:p}=zX(n,t,e),m=[];let g=!1,y=null,v,x,S;const E=()=>l(r,S,v)&&a(r,S)!==0,M=()=>a(s,v)===0||l(s,S,v),P=()=>g||E(),L=()=>!g||M();for(let j=u,W=u;j<=h;++j)x=t[j%o],!x.skip&&(v=c(x[i]),v!==S&&(g=l(v,r,s),y===null&&P()&&(y=a(v,r)===0?j:W),y!==null&&L()&&(m.push(xD({start:y,end:j,loop:f,count:o,style:p})),y=null),W=j,S=v));return y!==null&&m.push(xD({start:y,end:h,loop:f,count:o,style:p})),m}function ZB(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=JB(i[r],n.points,t);s.length&&e.push(...s)}return e}function UX(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function VX(n,t,e,i){const r=n.length,s=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function HX(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:a}=UX(e,r,s,i);if(i===!0)return wD(n,[{start:o,end:a,loop:s}],e,t);const l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return wD(n,VX(e,o,l,c),e,t)}function wD(n,t,e,i){return!i||!i.setContext||!e?t:$X(n,t,e,i)}function $X(n,t,e,i){const r=n._chart.getContext(),s=ED(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=s,h=t[0].start,f=h;function p(m,g,y,v){const x=a?-1:1;if(m!==g){for(m+=l;e[m%l].skip;)m-=x;for(;e[g%l].skip;)g+=x;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:y,style:v}),u=v,h=g%l)}}for(const m of t){h=a?h:m.start;let g=e[h%l],y;for(f=h+1;f<=m.end;f++){const v=e[f%l];y=ED(i.setContext(ja(r,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),WX(y,u)&&p(h,f-1,m.loop,u),g=v,u=y}h<f-1&&p(h,f-1,m.loop,u)}return c}function ED(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function WX(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class GX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=DB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var fo=new GX;const SD="transparent",jX={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=pD(n||SD),r=i.valid&&pD(t||SD);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class qX{constructor(t,e,i,r){const s=e[i];r=Xf([t.to,r,s,t.from]);const o=Xf([t.from,s,r]);this._active=!0,this._fn=t.fn||jX[t.type||typeof o],this._easing=fd[t.easing]||fd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Xf([t.to,e,r,t.from]),this._from=Xf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}const YX=["x","y","borderWidth","radius","tension"],XX=["color","borderColor","backgroundColor"];Ke.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const KX=Object.keys(Ke.animation);Ke.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});Ke.set("animations",{colors:{type:"color",properties:XX},numbers:{type:"number",properties:YX}});Ke.describe("animations",{_fallback:"animation"});Ke.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class tz{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ye(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Ye(r))return;const s={};for(const o of KX)s[o]=r[o];(bn(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!e.has(o))&&e.set(o,s)})})}_animateOptions(t,e){const i=e.options,r=JX(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&QX(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,e));continue}const u=e[c];let h=s[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}s[c]=h=new qX(f,t,c,u),r.push(h)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return fo.add(this._chart,i),!0}}function QX(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function JX(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function MD(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function ZX(n,t,e){if(e===!1)return!1;const i=MD(n,e),r=MD(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function tK(n){let t,e,i,r;return Ye(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function ez(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function TD(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(i.all)continue;break}c=n.values[l],Yn(c)&&(s||t===0||Gs(t)===Gs(c))&&(t+=c)}return t}}function eK(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}function AD(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function nK(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function iK(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function rK(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function CD(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function OD(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=nK(s,o,i),h=t.length;let f;for(let p=0;p<h;++p){const m=t[p],{[l]:g,[c]:y}=m,v=m._stacks||(m._stacks={});f=v[c]=rK(r,u,g),f[a]=y,f._top=CD(f,o,!0,i.type),f._bottom=CD(f,o,!1,i.type)}}function ex(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function sK(n,t){return ja(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function oK(n,t,e){return ja(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ef(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(!!i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e]}}}const nx=n=>n==="reset"||n==="none",PD=(n,t)=>t?n:Object.assign({},n),aK=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:ez(e,!0),values:null};class vs{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=AD(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Ef(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,s=e.xAxisID=Ne(i.xAxisID,ex(t,"x")),o=e.yAxisID=Ne(i.yAxisID,ex(t,"y")),a=e.rAxisID=Ne(i.rAxisID,ex(t,"r")),l=e.indexAxis,c=e.iAxisID=r(l,s,o,a),u=e.vAxisID=r(l,o,s,a);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&aD(this._data,this),t._stacked&&Ef(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ye(e))this._data=eK(e);else if(i!==e){if(i){aD(i,this);const r=this._cachedMeta;Ef(r),r._parsed=[]}e&&Object.isExtensible(e)&&CY(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=AD(e.vScale,e),e.stack!==i.stack&&(r=!0,Ef(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&OD(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&e===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{bn(r[t])?f=this.parseArrayData(i,r,t,e):Ye(r[t])?f=this.parseObjectData(i,r,t,e):f=this.parsePrimitiveData(i,r,t,e);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<e;++u)i._parsed[u+t]=h=f[u],l&&(p()&&(l=!1),c=h);i._sorted=l}o&&OD(this,f)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let f,p,m;for(f=0,p=r;f<p;++f)m=f+i,h[f]={[a]:u||s.parse(c[m],m),[l]:o.parse(e[m],m)};return h}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=e[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,f,p;for(u=0,h=r;u<h;++u)f=u+i,p=e[f],c[u]={x:s.parse(La(p,a),f),y:o.parse(La(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],a={keys:ez(r,!0),values:e._stacks[t.axis]};return TD(a,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const a=r&&i._stacks[e.axis];r&&a&&(r.values=a,o=TD(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=aK(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=iK(a);let f,p;function m(){p=r[f];const g=p[a.axis];return!Yn(p[t.axis])||u>g||h<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],Yn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=tK(Ne(this.options.clip,ZX(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=oK(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=sK(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,a=s[o],l=this.enableOptionSharing&&Vr(i);if(a)return PD(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ke.elements[t]),m=()=>this.getContext(i,r),g=c.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(PD(g,l))),g}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,e),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,e))}const c=new tz(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||nx(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){nx(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!nx(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Ef(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}vs.defaults={};vs.prototype.datasetElementType=null;vs.prototype.dataElementType=null;function lK(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=PB(i.sort((r,s)=>r-s))}return n._cache.$bar}function cK(n){const t=n.iScale,e=lK(t,n.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Vr(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function uK(n,t,e,i){const r=e.barThickness;let s,o;return tn(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function hK(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}function fK(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function nz(n,t,e,i){return bn(n)?fK(n,t,e,i):t[e.axis]=e.parse(n,i),t}function DD(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,f;for(c=e,u=e+i;c<u;++c)f=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(nz(f,h,s,c));return l}function ix(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function dK(n,t,e){return n!==0?Gs(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function pK(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function mK(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=pK(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=c:(e._bottom||0)===i?r=u:(s[RD(u,o,a,l)]=!0,r=c)),s[RD(r,o,a,l)]=!0,n.borderSkipped=s}function RD(n,t,e,i){return i?(n=gK(n,t,e),n=LD(n,e,t)):n=LD(n,t,e),n}function gK(n,t,e){return n===t?e:n===e?t:n}function LD(n,t,e){return n==="start"?t:n==="end"?e:n}function yK(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class pb extends vs{parsePrimitiveData(t,e,i,r){return DD(t,e,i,r)}parseArrayData(t,e,i,r){return DD(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,m,g;for(f=i,p=i+r;f<p;++f)g=e[f],m={},m[s.axis]=s.parse(La(g,c),f),h.push(nz(La(g,u),m,o,f));return h}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,a=ix(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,r);for(let p=e;p<e+i;p++){const m=this.getParsed(p),g=s||tn(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),v=(m._stacks||{})[a.axis],x={horizontal:c,base:g.base,enableBorderRadius:!v||ix(m._custom)||o===v._top||o===v._bottom,x:c?g.head:y.center,y:c?y.center:g.head,height:c?y.size:Math.abs(g.size),width:c?Math.abs(g.size):y.size};f&&(x.options=h||this.resolveDataElementOptions(p,t[p].active?"active":r));const S=x.options||t[p].options;mK(x,S,v,o),yK(x,S,u.ratio),this.updateElement(t[p],p,x,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(e),u=c&&c[l.vScale.axis];if(tn(u)||isNaN(u))return!0};for(const l of r)if(!(e!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||cK(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=ix(l);let u=a[e.axis],h=0,f=i?this.applyStack(e,a,i):u,p,m;f!==u&&(h=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&Gs(u)!==Gs(l.barEnd)&&(h=0),h+=u);const g=!tn(r)&&!c?r:h;let y=e.getPixelForValue(g);if(this.chart.getDataVisibility(t)?p=e.getPixelForValue(h+f):p=y,m=p-y,Math.abs(m)<s){m=dK(m,e,o)*s,u===o&&(y-=m/2);const v=e.getPixelForDecimal(0),x=e.getPixelForDecimal(1),S=Math.min(v,x),E=Math.max(v,x);y=Math.max(Math.min(y,E),S),p=y+m}if(y===e.getPixelForValue(o)){const v=Gs(m)*e.getLineWidthForValue(o)/2;y+=v,m-=v}return{size:m,base:y,head:p,center:p+m/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Ne(r.maxBarThickness,1/0);let a,l;if(e.grouped){const c=s?this._getStackCount(t):e.stackCount,u=r.barThickness==="flex"?hK(t,e,r,c):uK(t,e,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&i[s].draw(this._ctx)}}pb.id="bar";pb.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};pb.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class mb extends vs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let o=0;o<s.length;o++){const a=e[i+o];s[o]._custom=Ne(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let o=0;o<s.length;o++){const a=e[i+o];s[o]._custom=Ne(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:e.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,r),u=o.axis,h=a.axis;for(let f=e;f<e+i;f++){const p=t[f],m=!s&&this.getParsed(f),g={},y=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),v=g[h]=s?a.getBasePixel():a.getPixelForValue(m[h]);g.skip=isNaN(y)||isNaN(v),c&&(g.options=l||this.resolveDataElementOptions(f,p.active?"active":r),s&&(g.options.radius=0)),this.updateElement(p,f,g,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ne(i&&i._custom,s),r}}mb.id="bubble";mb.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};mb.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function vK(n,t,e){let i=1,r=1,s=0,o=0;if(t<pn){const a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(S,E,M)=>jd(S,a,l,!0)?1:Math.max(E,E*e,M,M*e),m=(S,E,M)=>jd(S,a,l,!0)?-1:Math.min(E,E*e,M,M*e),g=p(0,c,h),y=p(Hn,u,f),v=m(kn,c,h),x=m(kn+Hn,u,f);i=(g-v)/2,r=(y-x)/2,s=-(g+v)/2,o=-(y+x)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class zh extends vs{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(Ye(i[t])){const{key:l="value"}=this._parsing;s=c=>+La(i[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return ls(this.options.rotation-90)}_getCircumference(){return ls(this.options.circumference)}_getRotationExtents(){let t=pn,e=-pn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(pY(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=vK(h,u,l),y=(i.width-o)/f,v=(i.height-o)/p,x=Math.max(Math.min(y,v)/2,0),S=MB(this.options.radius,x),E=Math.max(S*l,0),M=(S-E)/this._getVisibleDatasetWeightTotal();this.offsetX=m*S,this.offsetY=g*S,r.total=this.calculateTotal(),this.outerRadius=S-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/pn)}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,r);let v=this._getRotation(),x;for(x=0;x<e;++x)v+=this._circumference(x,s);for(x=e;x<e+i;++x){const S=this._circumference(x,s),E=t[x],M={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+S,circumference:S,outerRadius:m,innerRadius:p};y&&(M.options=g||this.resolveDataElementOptions(x,E.active?"active":r)),v+=S,this.updateElement(E,x,M,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?pn*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Dp(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ne(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}zh.id="doughnut";zh.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};zh.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};zh.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,r)=>{const o=n.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(r),index:r}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let t=n.label;const e=": "+n.formattedValue;return bn(t)?(t=t.slice(),t[0]+=e):t+=e,t}}}}};class gb extends vs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=LB(e,r,o);this._drawStart=a,this._drawCount=l,IB(e)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r),f=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,y=hh(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none";let x=e>0&&this.getParsed(e-1);for(let S=e;S<e+i;++S){const E=t[S],M=this.getParsed(S),P=v?E:{},L=tn(M[p]),j=P[f]=o.getPixelForValue(M[f],S),W=P[p]=s||L?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[p],S);P.skip=isNaN(j)||isNaN(W)||L,P.stop=S>0&&Math.abs(M[f]-x[f])>y,g&&(P.parsed=M,P.raw=c.data[S]),h&&(P.options=u||this.resolveDataElementOptions(S,E.active?"active":r)),v||this.updateElement(E,S,P,r),x=M}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}gb.id="line";gb.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};gb.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class yb extends vs{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Dp(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return jB.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*kn;let p=f,m;const g=360/this.countVisibleElements();for(m=0;m<e;++m)p+=this._computeAngle(m,r,g);for(m=e;m<e+i;m++){const y=t[m];let v=p,x=p+this._computeAngle(m,r,g),S=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=x,s&&(l.animateScale&&(S=0),l.animateRotate&&(v=x=f));const E={x:u,y:h,innerRadius:0,outerRadius:S,startAngle:v,endAngle:x,options:this.resolveDataElementOptions(m,y.active?"active":r)};this.updateElement(y,m,E,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ls(this.resolveDataElementOptions(t,e).angle||i):0}}yb.id="polarArea";yb.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};yb.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,r)=>{const o=n.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(r),index:r}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class XT extends zh{}XT.id="pie";XT.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class vb extends vs{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return jB.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=e;a<e+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,f=o?s.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,r)}}}vb.id="radar";vb.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};vb.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class _s{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return hh(this.x)&&hh(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}_s.defaults={};_s.defaultRoutes=void 0;const iz={values(n){return bn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=_K(n,e)}const o=Nr(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Dp(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";const i=n/Math.pow(10,Math.floor(Nr(n)));return i===1||i===2||i===5?iz.numeric.call(this,n,t,e):""}};function _K(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var _b={formatters:iz};Ke.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_b.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Ke.route("scale.ticks","color","","color");Ke.route("scale.grid","color","","borderColor");Ke.route("scale.grid","borderColor","","borderColor");Ke.route("scale.title","color","","color");Ke.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});Ke.describe("scales",{_fallback:"scale"});Ke.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function bK(n,t){const e=n.options.ticks,i=e.maxTicksLimit||xK(n),r=e.major.enabled?EK(t):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return SK(t,l,r,s/i),l;const c=wK(r,t,i);if(s>0){let u,h;const f=s>1?Math.round((a-o)/(s-1)):null;for(Fm(t,l,c,tn(f)?0:o-f,o),u=0,h=s-1;u<h;u++)Fm(t,l,c,r[u],r[u+1]);return Fm(t,l,c,a,tn(f)?t.length:a+f),l}return Fm(t,l,c),l}function xK(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function wK(n,t,e){const i=MK(n),r=t.length/e;if(!i)return Math.max(r,1);const s=wY(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function EK(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function SK(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function Fm(n,t,e,i,r){const s=Ne(i,0),o=Math.min(Ne(r,n.length),n.length);let a=0,l,c,u;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),u=s;u<0;)a++,u=Math.round(s+a*e);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(s+a*e))}function MK(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const TK=n=>n==="left"?"right":n==="right"?"left":n,ID=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e;function kD(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function AK(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),c;if(!(e&&(i===1?c=Math.max(l-s,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function CK(n,t){un(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Sf(n){return n.drawTicks?n.tickLength:0}function ND(n,t){if(!n.display)return 0;const e=ri(n.font,t),i=Ui(n.padding);return(bn(n.text)?n.text.length:1)*e.lineHeight+i.height}function OK(n,t){return ja(n,{scale:t,type:"scale"})}function PK(n,t,e){return ja(n,{tick:e,index:t,type:"tick"})}function DK(n,t,e){let i=UT(n);return(e&&t!=="right"||!e&&t==="right")&&(i=TK(i)),i}function RK(n,t,e,i){const{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,f,p,m;const g=o-r,y=a-s;if(n.isHorizontal()){if(p=Ri(i,s,a),Ye(e)){const v=Object.keys(e)[0],x=e[v];m=u[v].getPixelForValue(x)+g-t}else e==="center"?m=(c.bottom+c.top)/2+g-t:m=ID(n,e,t);f=a-s}else{if(Ye(e)){const v=Object.keys(e)[0],x=e[v];p=u[v].getPixelForValue(x)-y+t}else e==="center"?p=(c.left+c.right)/2-y+t:p=ID(n,e,t);m=Ri(i,o,r),h=e==="left"?-Hn:Hn}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class Ec extends _s{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=kr(t,Number.POSITIVE_INFINITY),e=kr(e,Number.NEGATIVE_INFINITY),i=kr(i,Number.POSITIVE_INFINITY),r=kr(r,Number.NEGATIVE_INFINITY),{min:kr(t,i),max:kr(e,r),minDefined:Yn(t),maxDefined:Yn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:kr(e,kr(i,e)),max:kr(i,kr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_n(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uX(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?kD(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_n(this.options.afterUpdate,[this])}beforeSetDimensions(){_n(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_n(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),_n(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_n(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=_n(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){_n(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_n(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=gi(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(t.offset?.5:1)),l=this.maxHeight-Sf(t.grid)-e.padding-ND(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=BT(Math.min(Math.asin(gi((u.highest.height+6)/a,-1,1)),Math.asin(gi(l/c,-1,1))-Math.asin(gi(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){_n(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_n(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=ND(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Sf(s)+l):(t.height=this.maxHeight,t.width=Sf(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,m=ls(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(a){const v=i.mirror?0:y*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=i.mirror?0:g*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,u,y,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=r*t.width,p=i*e.height):(f=i*t.height,p=r*e.width):s==="start"?p=e.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,p=e.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=e.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=e.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_n(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)tn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=kD(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,c,u,h,f,p,m,g,y,v,x,S;for(c=0;c<e;++c){if(f=t[c].label,p=this._resolveTickFontOptions(c),i.font=m=p.string,g=r[m]=r[m]||{data:{},gc:[]},y=p.lineHeight,v=x=0,!tn(f)&&!bn(f))v=yv(i,g.data,g.gc,v,f),x=y;else if(bn(f))for(u=0,h=f.length;u<h;++u)S=f[u],!tn(S)&&!bn(S)&&(v=yv(i,g.data,g.gc,v,S),x+=y);s.push(v),o.push(x),a=Math.max(v,a),l=Math.max(x,l)}CK(r,e);const E=s.indexOf(a),M=o.indexOf(l),P=L=>({width:s[L]||0,height:o[L]||0});return{first:P(0),last:P(e-1),widest:P(E),highest:P(M),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return MY(this._alignToPixels?El(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=PK(this.getContext(),t,i))}return this.$context||(this.$context=OK(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ls(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=Sf(s),f=[],p=s.setContext(this.getContext()),m=p.drawBorder?p.borderWidth:0,g=m/2,y=function(D){return El(i,D,m)};let v,x,S,E,M,P,L,j,W,U,A,F;if(o==="top")v=y(this.bottom),P=this.bottom-h,j=v-g,U=y(t.top)+g,F=t.bottom;else if(o==="bottom")v=y(this.top),U=t.top,F=y(t.bottom)-g,P=v+g,j=this.top+h;else if(o==="left")v=y(this.right),M=this.right-h,L=v-g,W=y(t.left)+g,A=t.right;else if(o==="right")v=y(this.left),W=t.left,A=y(t.right)-g,M=v+g,L=this.left+h;else if(e==="x"){if(o==="center")v=y((t.top+t.bottom)/2+.5);else if(Ye(o)){const D=Object.keys(o)[0],G=o[D];v=y(this.chart.scales[D].getPixelForValue(G))}U=t.top,F=t.bottom,P=v+g,j=P+h}else if(e==="y"){if(o==="center")v=y((t.left+t.right)/2);else if(Ye(o)){const D=Object.keys(o)[0],G=o[D];v=y(this.chart.scales[D].getPixelForValue(G))}M=v-g,L=M-h,W=t.left,A=t.right}const nt=Ne(r.ticks.maxTicksLimit,u),q=Math.max(1,Math.ceil(u/nt));for(x=0;x<u;x+=q){const D=s.setContext(this.getContext(x)),G=D.lineWidth,Z=D.color,V=D.borderDash||[],Q=D.borderDashOffset,ut=D.tickWidth,_t=D.tickColor,at=D.tickBorderDash||[],Ct=D.tickBorderDashOffset;S=AK(this,x,a),S!==void 0&&(E=El(i,S,G),l?M=L=W=A=E:P=j=U=F=E,f.push({tx1:M,ty1:P,tx2:L,ty2:j,x1:W,y1:U,x2:A,y2:F,width:G,color:Z,borderDash:V,borderDashOffset:Q,tickWidth:ut,tickColor:_t,tickBorderDash:at,tickBorderDashOffset:Ct}))}return this._ticksLength=u,this._borderValue=v,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=Sf(i.grid),p=f+u,m=h?-u:p,g=-ls(this.labelRotation),y=[];let v,x,S,E,M,P,L,j,W,U,A,F,nt="middle";if(r==="top")P=this.bottom-m,L=this._getXAxisLabelAlignment();else if(r==="bottom")P=this.top+m,L=this._getXAxisLabelAlignment();else if(r==="left"){const D=this._getYAxisLabelAlignment(f);L=D.textAlign,M=D.x}else if(r==="right"){const D=this._getYAxisLabelAlignment(f);L=D.textAlign,M=D.x}else if(e==="x"){if(r==="center")P=(t.top+t.bottom)/2+p;else if(Ye(r)){const D=Object.keys(r)[0],G=r[D];P=this.chart.scales[D].getPixelForValue(G)+p}L=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")M=(t.left+t.right)/2-p;else if(Ye(r)){const D=Object.keys(r)[0],G=r[D];M=this.chart.scales[D].getPixelForValue(G)}L=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?nt="top":l==="end"&&(nt="bottom"));const q=this._getLabelSizes();for(v=0,x=a.length;v<x;++v){S=a[v],E=S.label;const D=s.setContext(this.getContext(v));j=this.getPixelForTick(v)+s.labelOffset,W=this._resolveTickFontOptions(v),U=W.lineHeight,A=bn(E)?E.length:1;const G=A/2,Z=D.color,V=D.textStrokeColor,Q=D.textStrokeWidth;let ut=L;o?(M=j,L==="inner"&&(v===x-1?ut=this.options.reverse?"left":"right":v===0?ut=this.options.reverse?"right":"left":ut="center"),r==="top"?c==="near"||g!==0?F=-A*U+U/2:c==="center"?F=-q.highest.height/2-G*U+U:F=-q.highest.height+U/2:c==="near"||g!==0?F=U/2:c==="center"?F=q.highest.height/2-G*U:F=q.highest.height-A*U,h&&(F*=-1)):(P=j,F=(1-A)*U/2);let _t;if(D.showLabelBackdrop){const at=Ui(D.backdropPadding),Ct=q.heights[v],Lt=q.widths[v];let et=P+F-at.top,Y=M-at.left;switch(nt){case"middle":et-=Ct/2;break;case"bottom":et-=Ct;break}switch(L){case"center":Y-=Lt/2;break;case"right":Y-=Lt;break}_t={left:Y,top:et,width:Lt+at.width,height:Ct+at.height,color:D.backdropColor}}y.push({rotation:g,label:E,font:W,color:Z,strokeColor:V,strokeWidth:Q,textOffset:F,textAlign:ut,textBaseline:nt,translation:[M,P],backdrop:_t})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ls(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return e==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=El(t,this.left,s)-s/2,c=El(t,this.right,o)+o/2,u=h=a):(u=El(t,this.top,s)-s/2,h=El(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&hb(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;cc(i,u,0,h,c,l)}r&&fb(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=ri(i.font),o=Ui(i.padding),a=i.align;let l=s.lineHeight/2;e==="bottom"||e==="center"||Ye(e)?(l+=o.bottom,bn(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=RK(this,l,e,a);cc(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:DK(a,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ne(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Ec.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ri(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Bm{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;kK(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,LK(t,o,i),this.override&&Ke.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ke[r]&&(delete Ke[r][i],this.override&&delete lc[i])}}function LK(n,t,e){const i=Gd(Object.create(null),[e?Ke.get(e):{},Ke.get(t),n.defaults]);Ke.set(t,i),n.defaultRoutes&&IK(t,n.defaultRoutes),n.descriptors&&Ke.describe(t,n.descriptors)}function IK(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");Ke.route(s,r,l,a)})}function kK(n){return"id"in n&&"defaults"in n}class NK{constructor(){this.controllers=new Bm(vs,"datasets",!0),this.elements=new Bm(_s,"elements"),this.plugins=new Bm(Object,"plugins"),this.scales=new Bm(Ec,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):un(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const r=FT(t);_n(i["before"+r],[],i),e[t](i),_n(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Hs=new NK;class bb extends vs{update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:o}=LB(e,i,r);if(this._drawStart=s,this._drawCount=o,IB(e)&&(s=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},t)}this.updateElements(i,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Hs.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(e,r),h=this.getSharedOptions(u),f=this.includeOptions(r,h),p=o.axis,m=a.axis,{spanGaps:g,segment:y}=this.options,v=hh(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none";let S=e>0&&this.getParsed(e-1);for(let E=e;E<e+i;++E){const M=t[E],P=this.getParsed(E),L=x?M:{},j=tn(P[m]),W=L[p]=o.getPixelForValue(P[p],E),U=L[m]=s||j?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[m],E);L.skip=isNaN(W)||isNaN(U)||j,L.stop=E>0&&Math.abs(P[p]-S[p])>v,y&&(L.parsed=P,L.raw=c.data[E]),f&&(L.options=h||this.resolveDataElementOptions(E,M.active?"active":r)),x||this.updateElement(M,E,L,r),S=P}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,o)/2}}bb.id="scatter";bb.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};bb.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var FK=Object.freeze({__proto__:null,BarController:pb,BubbleController:mb,DoughnutController:zh,LineController:gb,PolarAreaController:yb,PieController:XT,RadarController:vb,ScatterController:bb});function Sl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pE{constructor(t){this.options=t||{}}init(t){}formats(){return Sl()}parse(t,e){return Sl()}format(t,e){return Sl()}add(t,e,i){return Sl()}diff(t,e,i){return Sl()}startOf(t,e,i){return Sl()}endOf(t,e){return Sl()}}pE.override=function(n){Object.assign(pE.prototype,n)};var rz={_date:pE};function BK(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?TY:Eo;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(s,t,e-u),f=l(s,t,e+u);return{lo:h.lo,hi:f.hi}}}}else return l(s,t,e)}return{lo:0,hi:s.length-1}}function Rp(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=BK(s[a],t,o,r);for(let p=h;p<=f;++p){const m=u[p];m.skip||i(m,c,p)}}}function zK(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function rx(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||Rp(n,e,t,function(a,l,c){!r&&!qd(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function UK(n,t,e,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=CB(o,{x:t.x,y:t.y});jd(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Rp(n,e,t,s),r}function VK(n,t,e,i,r,s){let o=[];const a=zK(e);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(t.x,t.y,r);if(i&&!p)return;const m=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(m))&&!p)return;const y=a(t,m);y<l?(o=[{element:u,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:f})}return Rp(n,e,t,c),o}function sx(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?UK(n,t,e,r):VK(n,t,e,i,r,s)}function FD(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return Rp(n,e,t,(l,c,u)=>{l[o](t[e],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var HK={evaluateInteractionItems:Rp,modes:{index(n,t,e,i){const r=Pl(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?rx(n,r,s,i,o):sx(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,i){const r=Pl(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?rx(n,r,s,i,o):sx(n,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,i){const r=Pl(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return rx(n,r,s,i,o)},nearest(n,t,e,i){const r=Pl(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return sx(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=Pl(t,n);return FD(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Pl(t,n);return FD(n,r,"y",e.intersect,i)}}};const sz=["left","top","right","bottom"];function Mf(n,t){return n.filter(e=>e.pos===t)}function BD(n,t){return n.filter(e=>sz.indexOf(e.pos)===-1&&e.box.axis===t)}function Tf(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $K(n){const t=[];let e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function WK(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!sz.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function GK(n,t){const e=WK(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&t.availableHeight)}return e}function jK(n){const t=$K(n),e=Tf(t.filter(c=>c.box.fullSize),!0),i=Tf(Mf(t,"left"),!0),r=Tf(Mf(t,"right")),s=Tf(Mf(t,"top"),!0),o=Tf(Mf(t,"bottom")),a=BD(t,"x"),l=BD(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Mf(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function zD(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function oz(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function qK(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!Ye(r)){e.size&&(n[r]-=e.size);const h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,n[r]+=e.size}s.getPadding&&oz(o,s.getPadding());const a=Math.max(0,t.outerWidth-zD(o,n,"left","right")),l=Math.max(0,t.outerHeight-zD(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function YK(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function XK(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Kf(n,t,e,i){const r=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,XK(a.horizontal,t));const{same:h,other:f}=qK(t,e,a,i);c|=h&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&Kf(r,t,e,i)||u}function zm(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function UD(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;Vr(c.start)&&(o=c.start),l.fullSize?zm(l,r.left,o,e.outerWidth-r.right-r.left,f):zm(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;Vr(c.start)&&(s=c.start),l.fullSize?zm(l,s,r.top,f,e.outerHeight-r.bottom-r.top):zm(l,s,t.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}Ke.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ni={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Ui(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=jK(n.boxes),l=a.vertical,c=a.horizontal;un(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);oz(f,Ui(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),m=GK(l.concat(c),h);Kf(a.fullSize,p,h,m),Kf(l,p,h,m),Kf(c,p,h,m)&&Kf(l,p,h,m),YK(p),UD(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,UD(a.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},un(a.chartArea,g=>{const y=g.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class az{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class KK extends az{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jg="$chartjs",QK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},VD=n=>n===null||n==="";function JK(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Jg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",VD(r)){const s=_D(n,"width");s!==void 0&&(n.width=s)}if(VD(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=_D(n,"height");s!==void 0&&(n.height=s)}return n}const lz=LX?{passive:!0}:!1;function ZK(n,t,e){n.addEventListener(t,e,lz)}function tQ(n,t,e){n.canvas.removeEventListener(t,e,lz)}function eQ(n,t){const e=QK[n.type]||n.type,{x:i,y:r}=Pl(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function _v(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nQ(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_v(a.addedNodes,i),o=o&&!_v(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function iQ(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_v(a.removedNodes,i),o=o&&!_v(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Xd=new Map;let HD=0;function cz(){const n=window.devicePixelRatio;n!==HD&&(HD=n,Xd.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function rQ(n,t){Xd.size||window.addEventListener("resize",cz),Xd.set(n,t)}function sQ(n){Xd.delete(n),Xd.size||window.removeEventListener("resize",cz)}function oQ(n,t,e){const i=n.canvas,r=i&&YT(i);if(!r)return;const s=RB((a,l)=>{const c=r.clientWidth;e(a,l),c<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),rQ(n,s),o}function ox(n,t,e){e&&e.disconnect(),t==="resize"&&sQ(n)}function aQ(n,t,e){const i=n.canvas,r=RB(s=>{n.ctx!==null&&e(eQ(s,n))},n,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return ZK(i,t,r),r}class lQ extends az{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(JK(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Jg])return!1;const i=e[Jg].initial;["height","width"].forEach(s=>{const o=i[s];tn(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[Jg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:nQ,detach:iQ,resize:oQ}[e]||aQ;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:ox,detach:ox,resize:ox}[e]||tQ)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return RX(t,e,i,r)}isAttached(t){const e=YT(t);return!!(e&&e.isConnected)}}function cQ(n){return!YB()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?KK:lQ}class uQ{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[e,r,s.options];if(_n(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){tn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ne(i.options&&i.options.plugins,{}),s=hQ(i);return r===!1&&!e?[]:dQ(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function hQ(n){const t={},e=[],i=Object.keys(Hs.plugins.items);for(let s=0;s<i.length;s++)e.push(Hs.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function fQ(n,t){return!t&&n===!1?null:n===!0?{}:n}function dQ(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const a of t){const l=a.id,c=fQ(i[l],r);c!==null&&s.push({plugin:a,options:pQ(n.config,{plugin:a,local:e[l]},c,o)})}return s}function pQ(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mE(n,t){const e=Ke.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function mQ(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function gQ(n,t){return n===t?"_index_":"_value_"}function yQ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gE(n,t){return n==="x"||n==="y"?n:t.axis||yQ(t.position)||n.charAt(0).toLowerCase()}function vQ(n,t){const e=lc[n.type]||{scales:{}},i=t.scales||{},r=mE(n.type,t),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Ye(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=gE(a,l),u=gQ(c,r),h=e.scales||{};s[c]=s[c]||a,o[a]=ud(Object.create(null),[{axis:c},l,h[c],h[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||mE(l,t),h=(lc[l]||{}).scales||{};Object.keys(h).forEach(f=>{const p=mQ(f,c),m=a[p+"AxisID"]||s[p]||p;o[m]=o[m]||Object.create(null),ud(o[m],[{axis:p},i[m],h[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];ud(l,[Ke.scales[l.type],Ke.scale])}),o}function uz(n){const t=n.options||(n.options={});t.plugins=Ne(t.plugins,{}),t.scales=vQ(n,t)}function hz(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _Q(n){return n=n||{},n.data=hz(n.data),uz(n),n}const $D=new Map,fz=new Set;function Um(n,t){let e=$D.get(n);return e||(e=t(),$D.set(n,e),fz.add(e)),e}const Af=(n,t,e)=>{const i=La(t,e);i!==void 0&&n.add(i)};class bQ{constructor(t){this._config=_Q(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hz(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),uz(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Um(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Um(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Um(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Um(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(h=>Af(l,t,h))),u.forEach(h=>Af(l,r,h)),u.forEach(h=>Af(l,lc[s]||{},h)),u.forEach(h=>Af(l,Ke,h)),u.forEach(h=>Af(l,fE,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),fz.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,lc[e]||{},Ke.datasets[e]||{},{type:e},Ke,fE]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=WD(this._resolverCache,t,r);let l=o;if(wQ(o,e)){s.$shared=!1,i=Ia(i)?i():i;const c=this.createResolver(t,i,a);l=fh(o,i,c)}for(const c of e)s[c]=l[c];return s}createResolver(t,e,i=[""],r){const{resolver:s}=WD(this._resolverCache,t,i);return Ye(e)?fh(s,e,void 0,r):s}}function WD(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:GT(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const xQ=n=>Ye(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Ia(n[e]),!1);function wQ(n,t){const{isScriptable:e,isIndexable:i}=HB(n);for(const r of t){const s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(Ia(a)||xQ(a))||o&&bn(a))return!0}return!1}var EQ="3.9.1";const SQ=["top","bottom","left","right","chartArea"];function GD(n,t){return n==="top"||n==="bottom"||SQ.indexOf(n)===-1&&t==="x"}function jD(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function qD(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),_n(e&&e.onComplete,[n],t)}function MQ(n){const t=n.chart,e=t.options.animation;_n(e&&e.onProgress,[n],t)}function dz(n){return YB()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const bv={},pz=n=>{const t=dz(n);return Object.values(bv).filter(e=>e.canvas===t).pop()};function TQ(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function AQ(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class xb{constructor(t,e){const i=this.config=new bQ(e),r=dz(t),s=pz(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cQ(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=dY(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OY(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],bv[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}fo.listen(this,"complete",qD),fo.listen(this,"progress",MQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return tn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mD(this.canvas,this.ctx),this}stop(){return fo.stop(this),this}resize(t,e){fo.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vD(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),_n(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};un(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=gE(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),un(s,o=>{const a=o.options,l=a.id,c=gE(l,a),u=Ne(a.type,o.dtype);(a.position===void 0||GD(a.position,c)!==GD(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Hs.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),un(r,(o,a)=>{o||delete i[a]}),un(i,o=>{Ni.configure(this,o,o.options),Ni.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(jD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||mE(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Hs.getController(a),{datasetElementType:c,dataElementType:u}=Ke.datasets[a];Object.assign(l.prototype,{dataElementType:Hs.getElement(u),datasetElementType:c&&Hs.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){un(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||un(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(jD("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){un(this.scales,t=>{Ni.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!iD(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;TQ(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!iD(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ni.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],un(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ia(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fo.has(this)?this.attached&&!fo.running(this)&&fo.start(this):(this.draw(),qD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&hb(e,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&fb(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return qd(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=HK.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ja(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Vr(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),fo.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),mD(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete bv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};un(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){un(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},un(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,a,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!dv(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(e,t),a=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,a=this._getActiveElements(t,r,i,o),l=_Y(t),c=AQ(t,this._lastEvent,i,l);i&&(this._lastEvent=null,_n(s.onHover,[t,a,this],this),l&&_n(s.onClick,[t,a,this],this));const u=!dv(a,r);return(u||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=c,u}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}const YD=()=>un(xb.instances,n=>n._plugins.invalidate()),sa=!0;Object.defineProperties(xb,{defaults:{enumerable:sa,value:Ke},instances:{enumerable:sa,value:bv},overrides:{enumerable:sa,value:lc},registry:{enumerable:sa,value:Hs},version:{enumerable:sa,value:EQ},getChart:{enumerable:sa,value:pz},register:{enumerable:sa,value:(...n)=>{Hs.add(...n),YD()}},unregister:{enumerable:sa,value:(...n)=>{Hs.remove(...n),YD()}}});function mz(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;n.beginPath(),n.arc(s,o,a,i-c,e+c),l>r?(c=r/l,n.arc(s,o,l,e+c,i-c,!0)):n.arc(s,o,r,e+Hn,i-Hn),n.closePath(),n.clip()}function CQ(n){return WT(n,["outerStart","outerEnd","innerStart","innerEnd"])}function OQ(n,t,e,i){const r=CQ(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),a=l=>{const c=(e-Math.min(s,l))*i/2;return gi(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:gi(r.innerStart,0,o),innerEnd:gi(r.innerEnd,0,o)}}function nu(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function yE(n,t,e,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+e-c,0),f=u>0?u+i+e+c:0;let p=0;const m=r-l;if(i){const D=u>0?u-i:0,G=h>0?h-i:0,Z=(D+G)/2,V=Z!==0?m*Z/(Z+i):m;p=(m-V)/2}const g=Math.max(.001,m*h-e/kn)/h,y=(m-g)/2,v=l+y+p,x=r-y-p,{outerStart:S,outerEnd:E,innerStart:M,innerEnd:P}=OQ(t,f,h,x-v),L=h-S,j=h-E,W=v+S/L,U=x-E/j,A=f+M,F=f+P,nt=v+M/A,q=x-P/F;if(n.beginPath(),s){if(n.arc(o,a,h,W,U),E>0){const Z=nu(j,U,o,a);n.arc(Z.x,Z.y,E,U,x+Hn)}const D=nu(F,x,o,a);if(n.lineTo(D.x,D.y),P>0){const Z=nu(F,q,o,a);n.arc(Z.x,Z.y,P,x+Hn,q+Math.PI)}if(n.arc(o,a,f,x-P/f,v+M/f,!0),M>0){const Z=nu(A,nt,o,a);n.arc(Z.x,Z.y,M,nt+Math.PI,v-Hn)}const G=nu(L,v,o,a);if(n.lineTo(G.x,G.y),S>0){const Z=nu(L,W,o,a);n.arc(Z.x,Z.y,S,v-Hn,W)}}else{n.moveTo(o,a);const D=Math.cos(W)*h+o,G=Math.sin(W)*h+a;n.lineTo(D,G);const Z=Math.cos(U)*h+o,V=Math.sin(U)*h+a;n.lineTo(Z,V)}n.closePath()}function PQ(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){yE(n,t,e,i,o+pn,r);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+a%pn,a%pn===0&&(l+=pn))}return yE(n,t,e,i,l,r),n.fill(),l}function DQ(n,t,e){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let u;for(e&&mz(n,t,s+pn),n.beginPath(),n.arc(i,r,c,s+pn,s,!0),u=0;u<a;++u)n.stroke();for(n.beginPath(),n.arc(i,r,l,s,s+pn),u=0;u<a;++u)n.stroke()}function RQ(n,t,e,i,r,s){const{options:o}=t,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";!a||(c?(n.lineWidth=a*2,n.lineJoin=l||"round"):(n.lineWidth=a,n.lineJoin=l||"bevel"),t.fullCircles&&DQ(n,t,c),c&&mz(n,t,r),yE(n,t,e,i,r,s),n.stroke())}class wb extends _s{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=CB(r,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,m=Ne(h,l-a)>=pn||jd(s,a,l),g=wo(o,c+f,u+f);return m&&g}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,u=(r+s)/2,h=(o+a+c+l)/2;return{x:e+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>pn?Math.floor(i/pn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=kn&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const l=PQ(t,this,a,s,o);RQ(t,this,a,s,l,o),t.restore()}}wb.id="arc";wb.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};wb.defaultRoutes={backgroundColor:"backgroundColor"};function gz(n,t,e=t){n.lineCap=Ne(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ne(e.borderDash,t.borderDash)),n.lineDashOffset=Ne(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ne(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ne(e.borderWidth,t.borderWidth),n.strokeStyle=Ne(e.borderColor,t.borderColor)}function LQ(n,t,e){n.lineTo(e.x,e.y)}function IQ(n){return n.stepped?nX:n.tension||n.cubicInterpolationMode==="monotone"?iX:LQ}function yz(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function kQ(n,t,e,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=yz(r,e,i),u=IQ(s);let{move:h=!0,reverse:f}=i||{},p,m,g;for(p=0;p<=c;++p)m=r[(a+(f?c-p:p))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,g,m,f,s.stepped),g=m);return l&&(m=r[(a+(f?c:0))%o],u(n,g,m,f,s.stepped)),!!l}function NQ(n,t,e,i){const r=t.points,{count:s,start:o,ilen:a}=yz(r,e,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,p,m,g,y,v;const x=E=>(o+(c?a-E:E))%s,S=()=>{g!==y&&(n.lineTo(u,y),n.lineTo(u,g),n.lineTo(u,v))};for(l&&(p=r[x(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[x(f)],p.skip)continue;const E=p.x,M=p.y,P=E|0;P===m?(M<g?g=M:M>y&&(y=M),u=(h*u+E)/++h):(S(),n.lineTo(E,M),m=P,h=0,g=y=M),v=M}S()}function vE(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?NQ:kQ}function FQ(n){return n.stepped?IX:n.tension||n.cubicInterpolationMode==="monotone"?kX:Dl}function BQ(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),gz(n,t.options),n.stroke(r)}function zQ(n,t,e,i){const{segments:r,options:s}=t,o=vE(t);for(const a of r)gz(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const UQ=typeof Path2D=="function";function VQ(n,t,e,i){UQ&&!t.options.segment?BQ(n,t,e,i):zQ(n,t,e,i)}class qa extends _s{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;TX(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HX(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=ZB(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],l=FQ(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=s[h],m=s[f];if(p===m){a.push(p);continue}const g=Math.abs((r-p[e])/(m[e]-p[e])),y=l(p,m,g,i.stepped);y[e]=t[e],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,e,i){return vE(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=vE(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of r)o&=s(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),VQ(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}qa.id="line";qa.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};qa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};qa.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function XD(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class Eb extends _s{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return XD(this,t,"x",e)}inYRange(t,e){return XD(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!qd(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,dE(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Eb.id="point";Eb.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Eb.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function vz(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(e,r),l=Math.max(e,r),c=i-h,u=i+h):(h=s/2,a=e-h,l=e+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function xa(n,t,e,i){return n?0:gi(t,e,i)}function HQ(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=VB(i);return{t:xa(r.top,s.top,0,e),r:xa(r.right,s.right,0,t),b:xa(r.bottom,s.bottom,0,e),l:xa(r.left,s.left,0,t)}}function $Q(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Jl(r),o=Math.min(t,e),a=n.borderSkipped,l=i||Ye(r);return{topLeft:xa(!l||a.top||a.left,s.topLeft,0,o),topRight:xa(!l||a.top||a.right,s.topRight,0,o),bottomLeft:xa(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:xa(!l||a.bottom||a.right,s.bottomRight,0,o)}}function WQ(n){const t=vz(n),e=t.right-t.left,i=t.bottom-t.top,r=HQ(n,e/2,i/2),s=$Q(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function ax(n,t,e,i){const r=t===null,s=e===null,a=n&&!(r&&s)&&vz(n,i);return a&&(r||wo(t,a.left,a.right))&&(s||wo(e,a.top,a.bottom))}function GQ(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function jQ(n,t){n.rect(t.x,t.y,t.w,t.h)}function lx(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class Sb extends _s{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=WQ(this),a=GQ(o.radius)?Yd:jQ;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,lx(o,e,s)),t.clip(),a(t,lx(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,lx(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return ax(this,t,e,i)}inXRange(t,e){return ax(this,t,null,e)}inYRange(t,e){return ax(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Sb.id="bar";Sb.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Sb.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var qQ=Object.freeze({__proto__:null,ArcElement:wb,LineElement:qa,PointElement:Eb,BarElement:Sb});function YQ(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(s-2);let l=0;const c=t+e-1;let u=t,h,f,p,m,g;for(o[l++]=n[u],h=0;h<s-2;h++){let y=0,v=0,x;const S=Math.floor((h+1)*a)+1+t,E=Math.min(Math.floor((h+2)*a)+1,e)+t,M=E-S;for(x=S;x<E;x++)y+=n[x].x,v+=n[x].y;y/=M,v/=M;const P=Math.floor(h*a)+1+t,L=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:j,y:W}=n[u];for(p=m=-1,x=P;x<L;x++)m=.5*Math.abs((j-y)*(n[x].y-W)-(j-n[x].x)*(v-W)),m>p&&(p=m,f=n[x],g=x);o[l++]=f,u=g}return o[l++]=n[c],o}function XQ(n,t,e,i){let r=0,s=0,o,a,l,c,u,h,f,p,m,g;const y=[],v=t+e-1,x=n[t].x,E=n[v].x-x;for(o=t;o<t+e;++o){a=n[o],l=(a.x-x)/E*i,c=a.y;const M=l|0;if(M===u)c<m?(m=c,h=o):c>g&&(g=c,f=o),r=(s*r+a.x)/++s;else{const P=o-1;if(!tn(h)&&!tn(f)){const L=Math.min(h,f),j=Math.max(h,f);L!==p&&L!==P&&y.push({...n[L],x:r}),j!==p&&j!==P&&y.push({...n[j],x:r})}o>0&&P!==p&&y.push(n[P]),y.push(a),u=M,s=0,m=g=c,h=f=p=o}}return y}function _z(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function KD(n){n.data.datasets.forEach(t=>{_z(t)})}function KQ(n,t){const e=t.length;let i=0,r;const{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=gi(Eo(t,s.axis,o).lo,0,e-1)),c?r=gi(Eo(t,s.axis,a).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var QQ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){KD(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(s),c=o||r.data;if(Xf([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=KQ(l,c);const p=e.threshold||4*i;if(f<=p){_z(r);return}tn(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(e.algorithm){case"lttb":m=YQ(c,h,f,i,e);break;case"min-max":m=XQ(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=m})},destroy(n){KD(n)}};function JQ(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=KT(l,c,r);const u=_E(e,r[l],r[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=ZB(t,u);for(const f of h){const p=_E(e,s[f.start],s[f.end],f.loop),m=JB(a,r,p);for(const g of m)o.push({source:g,target:f,start:{[e]:QD(u,p,"start",Math.max)},end:{[e]:QD(u,p,"end",Math.min)}})}}return o}function _E(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=wr(r),s=wr(s)),{property:n,start:r,end:s}}function ZQ(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=KT(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):e!==null&&(s.push({x:e,y:l.y}),s.push({x:e,y:c.y}))}),s}function KT(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function QD(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function bz(n,t){let e=[],i=!1;return bn(n)?(i=!0,e=n):e=ZQ(n,t),e.length?new qa({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function JD(n){return n&&n.fill!==!1}function tJ(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Yn(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function eJ(n,t,e){const i=sJ(n);if(Ye(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Yn(r)&&Math.floor(r)===r?nJ(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function nJ(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function iJ(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ye(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function rJ(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ye(n)?i=n.value:i=t.getBaseValue(),i}function sJ(n){const t=n.options,e=t.fill;let i=Ne(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function oJ(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,a=aJ(t,e);a.push(bz({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)lJ(r,o[u],a)}return new qa({points:r,options:{}})}function aJ(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function lJ(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:a,point:l}=cJ(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function cJ(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][e],f=o[u.end][e];if(wo(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:i}}class xz{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return e=e||{start:0,end:pn},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function uJ(n){const{chart:t,fill:e,line:i}=n;if(Yn(e))return hJ(t,e);if(e==="stack")return oJ(n);if(e==="shape")return!0;const r=fJ(n);return r instanceof xz?r:bz(r,i)}function hJ(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function fJ(n){return(n.scale||{}).getPointPositionForValue?pJ(n):dJ(n)}function dJ(n){const{scale:t={},fill:e}=n,i=iJ(e,t);if(Yn(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function pJ(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=rJ(e,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new xz({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function cx(n,t,e){const i=uJ(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(hb(n,e),mJ(n,{line:r,target:i,above:u,below:h,area:e,scale:s,axis:o}),fb(n))}function mJ(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&s!==r&&(ZD(n,i,o.top),tR(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore(),n.save(),ZD(n,i,o.bottom)),tR(n,{line:e,target:i,color:s,scale:a,property:l}),n.restore()}function ZD(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[KT(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function tR(n,t){const{line:e,target:i,property:r,color:s,scale:o}=t,a=JQ(e,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=s}={}}=l,p=i!==!0;n.save(),n.fillStyle=f,gJ(n,o,p&&_E(r,u,h)),n.beginPath();const m=!!e.pathSegment(n,l);let g;if(p){m?n.closePath():eR(n,i,h,r);const y=!!i.pathSegment(n,c,{move:m,reverse:!0});g=m&&y,g||eR(n,i,u,r)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function gJ(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=e||{};s==="x"&&(n.beginPath(),n.rect(o,i,a-o,r-i),n.clip())}function eR(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var yJ={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof qa&&(l={visible:n.isDatasetVisible(o),index:o,fill:eJ(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=tJ(r,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;!a||(a.line.updateControlPoints(s,a.axis),i&&a.fill&&cx(n.ctx,a,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;JD(s)&&cx(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!JD(i)||e.drawTime!=="beforeDatasetDraw"||cx(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nR=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},vJ=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class iR extends _s{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=_n(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=ri(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=nR(i,s);let c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,g)=>{const y=i+e/2+s.measureText(m.text).width;(g===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:y,height:r},c[c.length-1]+=y+a}),h}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((y,v)=>{const x=i+e/2+s.measureText(y.text).width;v>0&&p+r+2*a>u&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[v]={left:m,top:p,col:g,width:x,height:r},f=Math.max(f,x),p+=r+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=qu(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ri(i,this.left+r,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Ri(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Ri(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Ri(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;hb(t,this),this._draw(),fb(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Ke.color,l=qu(t.rtl,this.left,this.width),c=ri(o.font),{color:u,padding:h}=o,f=c.size,p=f/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:v}=nR(o,f),x=function(L,j,W){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const U=Ne(W.lineWidth,1);if(r.fillStyle=Ne(W.fillStyle,a),r.lineCap=Ne(W.lineCap,"butt"),r.lineDashOffset=Ne(W.lineDashOffset,0),r.lineJoin=Ne(W.lineJoin,"miter"),r.lineWidth=U,r.strokeStyle=Ne(W.strokeStyle,a),r.setLineDash(Ne(W.lineDash,[])),o.usePointStyle){const A={radius:y*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:U},F=l.xPlus(L,g/2),nt=j+p;UB(r,A,F,nt,o.pointStyleWidth&&g)}else{const A=j+Math.max((f-y)/2,0),F=l.leftForLtr(L,g),nt=Jl(W.borderRadius);r.beginPath(),Object.values(nt).some(q=>q!==0)?Yd(r,{x:F,y:A,w:g,h:y,radius:nt}):r.rect(F,A,g,y),r.fill(),U!==0&&r.stroke()}r.restore()},S=function(L,j,W){cc(r,W.text,L,j+v/2,c,{strikethrough:W.hidden,textAlign:l.textAlign(W.textAlign)})},E=this.isHorizontal(),M=this._computeTitleHeight();E?m={x:Ri(s,this.left+h,this.right-i[0]),y:this.top+h+M,line:0}:m={x:this.left+h,y:Ri(s,this.top+M+h,this.bottom-e[0].height),line:0},XB(this.ctx,t.textDirection);const P=v+h;this.legendItems.forEach((L,j)=>{r.strokeStyle=L.fontColor||u,r.fillStyle=L.fontColor||u;const W=r.measureText(L.text).width,U=l.textAlign(L.textAlign||(L.textAlign=o.textAlign)),A=g+p+W;let F=m.x,nt=m.y;l.setWidth(this.width),E?j>0&&F+A+h>this.right&&(nt=m.y+=P,m.line++,F=m.x=Ri(s,this.left+h,this.right-i[m.line])):j>0&&nt+P>this.bottom&&(F=m.x=F+e[m.line].width+h,m.line++,nt=m.y=Ri(s,this.top+M+h,this.bottom-e[m.line].height));const q=l.x(F);x(q,nt,L),F=PY(U,F+g+p,E?F+A:this.right,t.rtl),S(l.x(F),nt,L),E?m.x+=A+h:m.y+=P}),KB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ri(e.font),r=Ui(e.padding);if(!e.display)return;const s=qu(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,c=r.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Ri(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=c+Ri(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=Ri(a,h,h+f);o.textAlign=s.textAlign(UT(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,cc(o,e.text,p,u,i)}_computeTitleHeight(){const t=this.options.title,e=ri(t.font),i=Ui(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(wo(t,this.left,this.right)&&wo(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],wo(t,r.left,r.left+r.width)&&wo(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!_J(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=vJ(r,i);r&&!s&&_n(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&_n(e.onHover,[t,i,this],this)}else i&&_n(e.onClick,[t,i,this],this)}}function _J(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var bJ={id:"legend",_element:iR,start(n,t,e){const i=n.legend=new iR({ctx:n.ctx,options:e,chart:n});Ni.configure(n,i,e),Ni.addBox(n,i)},stop(n){Ni.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ni.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(e?0:void 0),l=Ui(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class QT extends _s{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=bn(i.text)?i.text.length:1;this._padding=Ui(i.padding);const s=r*ri(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Ri(a,i,s),h=e+t,c=s-i):(o.position==="left"?(u=i+t,h=Ri(a,r,e),l=kn*-.5):(u=s-t,h=Ri(a,e,r),l=kn*.5),c=r-e),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ri(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);cc(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:UT(e.align),textBaseline:"middle",translation:[o,a]})}}function xJ(n,t){const e=new QT({ctx:n.ctx,options:t,chart:n});Ni.configure(n,e,t),Ni.addBox(n,e),n.titleBlock=e}var wJ={id:"title",_element:QT,start(n,t,e){xJ(n,e)},stop(n){const t=n.titleBlock;Ni.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vm=new WeakMap;var EJ={id:"subtitle",start(n,t,e){const i=new QT({ctx:n.ctx,options:e,chart:n});Ni.configure(n,i,e),Ni.addBox(n,i),Vm.set(n,i)},stop(n){Ni.removeBox(n,Vm.get(n)),Vm.delete(n)},beforeUpdate(n,t,e){const i=Vm.get(n);Ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pd={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=uE(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function ks(n,t){return t&&(bn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function po(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function SJ(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function rR(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=ri(t.bodyFont),c=ri(t.titleFont),u=ri(t.footerFont),h=s.length,f=r.length,p=i.length,m=Ui(t.padding);let g=m.height,y=0,v=i.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const E=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*E+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let x=0;const S=function(E){y=Math.max(y,e.measureText(E).width+x)};return e.save(),e.font=c.string,un(n.title,S),e.font=l.string,un(n.beforeBody.concat(n.afterBody),S),x=t.displayColors?o+2+t.boxPadding:0,un(i,E=>{un(E.before,S),un(E.lines,S),un(E.after,S)}),x=0,e.font=u.string,un(n.footer,S),e.restore(),y+=m.width,{width:y,height:g}}function MJ(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function TJ(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function AJ(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),TJ(c,n,t,e)&&(c="center"),c}function sR(n,t,e){const i=e.yAlign||t.yAlign||MJ(n,e);return{xAlign:e.xAlign||t.xAlign||AJ(n,t,e,i),yAlign:i}}function CJ(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function OJ(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function oR(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=r+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Jl(o);let m=CJ(t,a);const g=OJ(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+r:a==="right"&&(m+=Math.max(h,p)+r),{x:gi(m,0,i.width-t.width),y:gi(g,0,i.height-t.height)}}function Hm(n,t,e){const i=Ui(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function aR(n){return ks([],po(n))}function PJ(n,t,e){return ja(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function lR(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}class bE extends _s{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new tz(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=PJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=i.beforeTitle.apply(this,[t]),s=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let a=[];return a=ks(a,po(r)),a=ks(a,po(s)),a=ks(a,po(o)),a}getBeforeBody(t,e){return aR(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:i}=e,r=[];return un(t,s=>{const o={before:[],lines:[],after:[]},a=lR(i,s);ks(o.before,po(a.beforeLabel.call(this,s))),ks(o.lines,a.label.call(this,s)),ks(o.after,po(a.afterLabel.call(this,s))),r.push(o)}),r}getAfterBody(t,e){return aR(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:i}=e,r=i.beforeFooter.apply(this,[t]),s=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let a=[];return a=ks(a,po(r)),a=ks(a,po(s)),a=ks(a,po(o)),a}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(SJ(this.chart,e[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),un(a,u=>{const h=lR(t.callbacks,u);r.push(h.labelColor.call(this,u)),s.push(h.labelPointStyle.call(this,u)),o.push(h.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=pd[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=rR(this,i),c=Object.assign({},a,l),u=sR(this.chart,i,c),h=oR(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Jl(a),{x:f,y:p}=t,{width:m,height:g}=e;let y,v,x,S,E,M;return s==="center"?(E=p+g/2,r==="left"?(y=f,v=y-o,S=E+o,M=E-o):(y=f+m,v=y+o,S=E-o,M=E+o),x=y):(r==="left"?v=f+Math.max(l,u)+o:r==="right"?v=f+m-Math.max(c,h)-o:v=this.caretX,s==="top"?(S=p,E=S-o,y=v-o,x=v+o):(S=p+g,E=S+o,y=v+o,x=v-o),M=S),{x1:y,x2:v,x3:x,y1:S,y2:E,y3:M}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=qu(i.rtl,this.x,this.width);for(t.x=Hm(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=ri(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<s;++l)e.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ri(s.bodyFont),f=Hm(this,"left",s),p=r.x(f),m=l<h.lineHeight?(h.lineHeight-l)/2:0,g=e.y+m;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(p,c)+c/2,x=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,dE(t,y,v,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,dE(t,y,v,x)}else{t.lineWidth=Ye(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(p,c-u),v=r.leftForLtr(r.xPlus(p,1),c-u-2),x=Jl(o.borderRadius);Object.values(x).some(S=>S!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Yd(t,{x:y,y:g,w:c,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Yd(t,{x:v,y:g+1,w:c-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,g,c,l),t.strokeRect(y,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(v,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=ri(i.bodyFont);let f=h.lineHeight,p=0;const m=qu(i.rtl,this.x,this.width),g=function(j){e.fillText(j,m.x(t.x+p),t.y+f/2),t.y+=f+s},y=m.textAlign(o);let v,x,S,E,M,P,L;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=Hm(this,y,i),e.fillStyle=i.bodyColor,un(this.beforeBody,g),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,P=r.length;E<P;++E){for(v=r[E],x=this.labelTextColors[E],e.fillStyle=x,un(v.before,g),S=v.lines,a&&S.length&&(this._drawColorBox(e,t,E,m,i),f=Math.max(h.lineHeight,l)),M=0,L=S.length;M<L;++M)g(S[M]),f=h.lineHeight;un(v.after,g)}p=0,f=h.lineHeight,un(this.afterBody,g),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,a;if(s){const l=qu(i.rtl,this.x,this.width);for(t.x=Hm(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=ri(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<s;++a)e.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=Jl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+h,l),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(a+c-f,l),e.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(a+c,l+u-m),e.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(a+p,l+u),e.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(a,l+h),e.quadraticCurveTo(a,l,a+h,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=pd[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=rR(this,t),l=Object.assign({},o,this._size),c=sR(e,t,l),u=oR(t,l,c,e);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ui(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),XB(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),KB(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!dv(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),a=this._positionChanged(o,t),l=e||!dv(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=pd[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}bE.positioners=pd;var DJ={id:"tooltip",_element:bE,positioners:pd,afterInit(n,t,e){e&&(n.tooltip=new bE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",e)===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:so,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:so,beforeBody:so,beforeLabel:so,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return tn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:so,afterBody:so,beforeFooter:so,footer:so,afterFooter:so}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RJ=Object.freeze({__proto__:null,Decimation:QQ,Filler:yJ,Legend:bJ,SubTitle:EJ,Title:wJ,Tooltip:DJ});const LJ=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function IJ(n,t,e,i){const r=n.indexOf(t);if(r===-1)return LJ(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const kJ=(n,t)=>n===null?null:gi(Math.round(n),0,t);class xv extends Ec{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(tn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:IJ(i,t,Ne(e,t),this._addedLabels),kJ(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}xv.id="category";xv.defaults={ticks:{callback:xv.prototype.getLabelForValue}};function NJ(n,t){const e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=s||1,m=u-1,{min:g,max:y}=t,v=!tn(o),x=!tn(a),S=!tn(c),E=(y-g)/(h+1);let M=sD((y-g)/m/p)*p,P,L,j,W;if(M<1e-14&&!v&&!x)return[{value:g},{value:y}];W=Math.ceil(y/M)-Math.floor(g/M),W>m&&(M=sD(W*M/m/p)*p),tn(l)||(P=Math.pow(10,l),M=Math.ceil(M*P)/P),r==="ticks"?(L=Math.floor(g/M)*M,j=Math.ceil(y/M)*M):(L=g,j=y),v&&x&&s&&EY((a-o)/s,M/1e3)?(W=Math.round(Math.min((a-o)/M,u)),M=(a-o)/W,L=o,j=a):S?(L=v?o:L,j=x?a:j,W=c-1,M=(j-L)/W):(W=(j-L)/M,hd(W,Math.round(W),M/1e3)?W=Math.round(W):W=Math.ceil(W));const U=Math.max(oD(M),oD(L));P=Math.pow(10,tn(l)?U:l),L=Math.round(L*P)/P,j=Math.round(j*P)/P;let A=0;for(v&&(f&&L!==o?(e.push({value:o}),L<o&&A++,hd(Math.round((L+A*M)*P)/P,o,cR(o,E,n))&&A++):L<o&&A++);A<W;++A)e.push({value:Math.round((L+A*M)*P)/P});return x&&f&&j!==a?e.length&&hd(e[e.length-1].value,a,cR(a,E,n))?e[e.length-1].value=a:e.push({value:a}):(!x||j===a)&&e.push({value:j}),e}function cR(n,t,{horizontal:e,minRotation:i}){const r=ls(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class wv extends Ec{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return tn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=e?r:l,a=l=>s=i?s:l;if(t){const l=Gs(r),c=Gs(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=NJ(r,s);return t.bounds==="ticks"&&AB(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Dp(t,this.chart.options.locale,this.options.ticks.format)}}class JT extends wv{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Yn(t)?t:0,this.max=Yn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ls(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}JT.id="linear";JT.defaults={ticks:{callback:_b.formatters.numeric}};function uR(n){return n/Math.pow(10,Math.floor(Nr(n)))===1}function FJ(n,t){const e=Math.floor(Nr(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let s=kr(n.min,Math.pow(10,Math.floor(Nr(t.min)))),o=Math.floor(Nr(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do r.push({value:s,major:uR(s)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l;while(o<e||o===e&&a<i);const c=kr(n.max,s);return r.push({value:c,major:uR(s)}),r}class ZT extends Ec{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=wv.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Yn(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Yn(t)?Math.max(0,t):null,this.max=Yn(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,o=l=>r=e?r:l,a=(l,c)=>Math.pow(10,Math.floor(Nr(l))+c);i===r&&(i<=0?(s(1),o(10)):(s(a(i,-1)),o(a(r,1)))),i<=0&&s(a(r,-1)),r<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&s(a(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=FJ(e,this);return t.bounds==="ticks"&&AB(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Dp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Nr(t),this._valueRange=Nr(this.max)-Nr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Nr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ZT.id="logarithmic";ZT.defaults={ticks:{callback:_b.formatters.logarithmic,major:{enabled:!0}}};function xE(n){const t=n.ticks;if(t.display&&n.display){const e=Ui(t.backdropPadding);return Ne(t.font&&t.font.size,Ke.font.size)+e.height}return 0}function BJ(n,t,e){return e=bn(e)?e:[e],{w:eX(n,t.string,e),h:e.length*t.lineHeight}}function hR(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function zJ(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?kn/s:0;for(let l=0;l<s;l++){const c=o.setContext(n.getPointLabelContext(l));r[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+r[l],a),h=ri(c.font),f=BJ(n.ctx,h,n._pointLabels[l]);i[l]=f;const p=wr(n.getIndexAngle(l)+a),m=Math.round(BT(p)),g=hR(m,u.x,f.w,0,180),y=hR(m,u.y,f.h,90,270);UJ(e,t,p,g,y)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=VJ(n,i,r)}function UJ(n,t,e,i,r){const s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function VJ(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,o=xE(s)/2,a=n.drawingArea,l=s.pointLabels.centerPointLabels?kn/r:0;for(let c=0;c<r;c++){const u=n.getPointPosition(c,a+o+e[c],l),h=Math.round(BT(wr(u.angle+Hn))),f=t[c],p=WJ(u.y,f.h,h),m=HJ(h),g=$J(u.x,f.w,m);i.push({x:u.x,y:p,textAlign:m,left:g,top:p,right:g+f.w,bottom:p+f.h})}return i}function HJ(n){return n===0||n===180?"center":n<180?"left":"right"}function $J(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function WJ(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function GJ(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),o=ri(s.font),{x:a,y:l,textAlign:c,left:u,top:h,right:f,bottom:p}=n._pointLabelItems[r],{backdropColor:m}=s;if(!tn(m)){const g=Jl(s.borderRadius),y=Ui(s.backdropPadding);e.fillStyle=m;const v=u-y.left,x=h-y.top,S=f-u+y.width,E=p-h+y.height;Object.values(g).some(M=>M!==0)?(e.beginPath(),Yd(e,{x:v,y:x,w:S,h:E,radius:g}),e.fill()):e.fillRect(v,x,S,E)}cc(e,n._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function wz(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,pn);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function jJ(n,t,e,i){const r=n.ctx,s=t.circular,{color:o,lineWidth:a}=t;!s&&!i||!o||!a||e<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),wz(n,e,s,i),r.closePath(),r.stroke(),r.restore())}function qJ(n,t,e){return ja(n,{label:e,index:t,type:"pointLabel"})}class Lp extends wv{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ui(xE(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Yn(t)&&!isNaN(t)?t:0,this.max=Yn(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xE(this.options))}generateTickLabels(t){wv.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=_n(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?zJ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=pn/(this._pointLabels.length||1),i=this.options.startAngle||0;return wr(t*e+ls(i))}getDistanceFromCenterForValue(t){if(tn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(tn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return qJ(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Hn+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),wz(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&GJ(this,s),r.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const h=r.setContext(this.getContext(u-1));jJ(this,h,a,s)}}),i.display){for(t.save(),o=s-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),u=ri(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Ui(c.backdropPadding);t.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}cc(t,a.label,0,-s,u,{color:c.color})}),t.restore()}drawTitle(){}}Lp.id="radialLinear";Lp.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_b.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};Lp.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Lp.descriptors={angleLines:{_fallback:"grid"}};const Mb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fr=Object.keys(Mb);function YJ(n,t){return n-t}function fR(n,t){if(tn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Yn(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(hh(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function dR(n,t,e,i){const r=fr.length;for(let s=fr.indexOf(n);s<r-1;++s){const o=Mb[fr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return fr[s]}return fr[r-1]}function XJ(n,t,e,i,r){for(let s=fr.length-1;s>=fr.indexOf(e);s--){const o=fr[s];if(Mb[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return fr[e?fr.indexOf(e):0]}function KJ(n){for(let t=fr.indexOf(n)+1,e=fr.length;t<e;++t)if(Mb[fr[t]].common)return fr[t]}function pR(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=zT(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function QJ(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function mR(n,t,e){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!e?i:QJ(n,i,r,e)}class Ip extends Ec{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const i=t.time||(t.time={}),r=this._adapter=new rz._date(t.adapters.date);r.init(e),ud(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:fR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Yn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Yn(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=AY(r,s,o);return this._unit=e.unit||(i.autoSkip?dR(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):XJ(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:KJ(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),mR(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=gi(e,0,o),i=gi(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||dR(s.minUnit,e,i,this._getLabelCapacity(e)),a=Ne(s.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=hh(l)||l===!0,u={};let h=e,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,a,o),p++)pR(u,f,m);return(f===i||r.bounds==="ticks"||p===1)&&pR(u,f,m),Object.keys(u).sort((g,y)=>g-y).map(g=>+g)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=i[e],f=l&&u&&h&&h.major,p=this._adapter.format(t,r||(f?u:c)),m=s.ticks.callback;return m?_n(m,[p,e,i],this):p}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ls(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,mR(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(fR(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PB(t.sort(YJ))}}Ip.id="time";Ip.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function $m(n,t,e){let i=0,r=n.length-1,s,o,a,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Eo(n,"pos",t)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Eo(n,"time",t)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class t1 extends Ip{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=$m(e,this.min),this._tableRange=$m(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return($m(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return $m(this._table,i*this._tableRange+this._minPos,!0)}}t1.id="timeseries";t1.defaults=Ip.defaults;var JJ=Object.freeze({__proto__:null,CategoryScale:xv,LinearScale:JT,LogarithmicScale:ZT,RadialLinearScale:Lp,TimeScale:Ip,TimeSeriesScale:t1});const ZJ=[FK,qQ,RJ,JJ];xb.register(...ZJ);function On(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function se(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Zg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zg=function(e){return typeof e}:Zg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(n)}function me(n){se(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||Zg(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ez(n,t){se(2,arguments);var e=me(n),i=On(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function e1(n,t){se(2,arguments);var e=me(n),i=On(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+i+1,0);var o=s.getDate();return r>=o?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function kp(n,t){se(2,arguments);var e=me(n).getTime(),i=On(t);return new Date(e+i)}var tZ=36e5;function eZ(n,t){se(2,arguments);var e=On(t);return kp(n,e*tZ)}var nZ={};function Ya(){return nZ}function gR(n,t){var e,i,r,s,o,a,l,c;se(1,arguments);var u=Ya(),h=On((e=(i=(r=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=me(n),p=f.getDay(),m=(p<h?7:0)+p-h;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function Ev(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function wE(n){se(1,arguments);var t=me(n);return t.setHours(0,0,0,0),t}var iZ=864e5;function rZ(n,t){se(2,arguments);var e=wE(n),i=wE(t),r=e.getTime()-Ev(e),s=i.getTime()-Ev(i);return Math.round((r-s)/iZ)}var sZ=6e4;function oZ(n,t){se(2,arguments);var e=On(t);return kp(n,e*sZ)}function aZ(n,t){se(2,arguments);var e=On(t),i=e*3;return e1(n,i)}function lZ(n,t){se(2,arguments);var e=On(t);return kp(n,e*1e3)}function cZ(n,t){se(2,arguments);var e=On(t),i=e*7;return Ez(n,i)}function uZ(n,t){se(2,arguments);var e=On(t);return e1(n,e*12)}function md(n,t){se(2,arguments);var e=me(n),i=me(t),r=e.getTime()-i.getTime();return r<0?-1:r>0?1:r}var Tb=6e4,Ab=36e5,hZ=1e3;function ty(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ty=function(e){return typeof e}:ty=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(n)}function fZ(n){return se(1,arguments),n instanceof Date||ty(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Sz(n){if(se(1,arguments),!fZ(n)&&typeof n!="number")return!1;var t=me(n);return!isNaN(Number(t))}function dZ(n,t){se(2,arguments);var e=me(n),i=me(t),r=e.getFullYear()-i.getFullYear(),s=e.getMonth()-i.getMonth();return r*12+s}function pZ(n,t){se(2,arguments);var e=me(n),i=me(t);return e.getFullYear()-i.getFullYear()}function yR(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function Mz(n,t){se(2,arguments);var e=me(n),i=me(t),r=yR(e,i),s=Math.abs(rZ(e,i));e.setDate(e.getDate()-r*s);var o=Number(yR(e,i)===-r),a=r*(s-o);return a===0?0:a}function Cb(n,t){return se(2,arguments),me(n).getTime()-me(t).getTime()}var vR={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},mZ="trunc";function Np(n){return n?vR[n]:vR[mZ]}function gZ(n,t,e){se(2,arguments);var i=Cb(n,t)/Ab;return Np(e==null?void 0:e.roundingMethod)(i)}function yZ(n,t,e){se(2,arguments);var i=Cb(n,t)/Tb;return Np(e==null?void 0:e.roundingMethod)(i)}function Tz(n){se(1,arguments);var t=me(n);return t.setHours(23,59,59,999),t}function Az(n){se(1,arguments);var t=me(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function vZ(n){se(1,arguments);var t=me(n);return Tz(t).getTime()===Az(t).getTime()}function Cz(n,t){se(2,arguments);var e=me(n),i=me(t),r=md(e,i),s=Math.abs(dZ(e,i)),o;if(s<1)o=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-r*s);var a=md(e,i)===-r;vZ(me(n))&&s===1&&md(n,i)===1&&(a=!1),o=r*(s-Number(a))}return o===0?0:o}function _Z(n,t,e){se(2,arguments);var i=Cz(n,t)/3;return Np(e==null?void 0:e.roundingMethod)(i)}function bZ(n,t,e){se(2,arguments);var i=Cb(n,t)/1e3;return Np(e==null?void 0:e.roundingMethod)(i)}function xZ(n,t,e){se(2,arguments);var i=Mz(n,t)/7;return Np(e==null?void 0:e.roundingMethod)(i)}function wZ(n,t){se(2,arguments);var e=me(n),i=me(t),r=md(e,i),s=Math.abs(pZ(e,i));e.setFullYear(1584),i.setFullYear(1584);var o=md(e,i)===-r,a=r*(s-Number(o));return a===0?0:a}function EZ(n){se(1,arguments);var t=me(n);return t.setSeconds(0,0),t}function SZ(n){se(1,arguments);var t=me(n),e=t.getMonth(),i=e-e%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function MZ(n){se(1,arguments);var t=me(n);return t.setDate(1),t.setHours(0,0,0,0),t}function TZ(n){se(1,arguments);var t=me(n),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function AZ(n){se(1,arguments);var t=me(n),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function CZ(n){se(1,arguments);var t=me(n);return t.setMinutes(59,59,999),t}function OZ(n,t){var e,i,r,s,o,a,l,c;se(1,arguments);var u=Ya(),h=On((e=(i=(r=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=me(n),p=f.getDay(),m=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+m),f.setHours(23,59,59,999),f}function PZ(n){se(1,arguments);var t=me(n);return t.setSeconds(59,999),t}function DZ(n){se(1,arguments);var t=me(n),e=t.getMonth(),i=e-e%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function RZ(n){se(1,arguments);var t=me(n);return t.setMilliseconds(999),t}function Oz(n,t){se(2,arguments);var e=On(t);return kp(n,-e)}var LZ=864e5;function IZ(n){se(1,arguments);var t=me(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),r=e-i;return Math.floor(r/LZ)+1}function ph(n){se(1,arguments);var t=1,e=me(n),i=e.getUTCDay(),r=(i<t?7:0)+i-t;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function Pz(n){se(1,arguments);var t=me(n),e=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=ph(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=ph(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function kZ(n){se(1,arguments);var t=Pz(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var i=ph(e);return i}var NZ=6048e5;function Dz(n){se(1,arguments);var t=me(n),e=ph(t).getTime()-kZ(t).getTime();return Math.round(e/NZ)+1}function uc(n,t){var e,i,r,s,o,a,l,c;se(1,arguments);var u=Ya(),h=On((e=(i=(r=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=me(n),p=f.getUTCDay(),m=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function n1(n,t){var e,i,r,s,o,a,l,c;se(1,arguments);var u=me(n),h=u.getUTCFullYear(),f=Ya(),p=On((e=(i=(r=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&i!==void 0?i:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,p),m.setUTCHours(0,0,0,0);var g=uc(m,t),y=new Date(0);y.setUTCFullYear(h,0,p),y.setUTCHours(0,0,0,0);var v=uc(y,t);return u.getTime()>=g.getTime()?h+1:u.getTime()>=v.getTime()?h:h-1}function FZ(n,t){var e,i,r,s,o,a,l,c;se(1,arguments);var u=Ya(),h=On((e=(i=(r=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1),f=n1(n,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var m=uc(p,t);return m}var BZ=6048e5;function Rz(n,t){se(1,arguments);var e=me(n),i=uc(e,t).getTime()-FZ(e,t).getTime();return Math.round(i/BZ)+1}function an(n,t){for(var e=n<0?"-":"",i=Math.abs(n).toString();i.length<t;)i="0"+i;return e+i}var zZ={y:function(t,e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return an(e==="yy"?r%100:r,e.length)},M:function(t,e){var i=t.getUTCMonth();return e==="M"?String(i+1):an(i+1,2)},d:function(t,e){return an(t.getUTCDate(),e.length)},a:function(t,e){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(t,e){return an(t.getUTCHours()%12||12,e.length)},H:function(t,e){return an(t.getUTCHours(),e.length)},m:function(t,e){return an(t.getUTCMinutes(),e.length)},s:function(t,e){return an(t.getUTCSeconds(),e.length)},S:function(t,e){var i=e.length,r=t.getUTCMilliseconds(),s=Math.floor(r*Math.pow(10,i-3));return an(s,e.length)}};const oa=zZ;var iu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UZ={G:function(t,e,i){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})}},y:function(t,e,i){if(e==="yo"){var r=t.getUTCFullYear(),s=r>0?r:1-r;return i.ordinalNumber(s,{unit:"year"})}return oa.y(t,e)},Y:function(t,e,i,r){var s=n1(t,r),o=s>0?s:1-s;if(e==="YY"){var a=o%100;return an(a,2)}return e==="Yo"?i.ordinalNumber(o,{unit:"year"}):an(o,e.length)},R:function(t,e){var i=Pz(t);return an(i,e.length)},u:function(t,e){var i=t.getUTCFullYear();return an(i,e.length)},Q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return an(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return an(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,i){var r=t.getUTCMonth();switch(e){case"M":case"MM":return oa.M(t,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,i){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return an(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,i,r){var s=Rz(t,r);return e==="wo"?i.ordinalNumber(s,{unit:"week"}):an(s,e.length)},I:function(t,e,i){var r=Dz(t);return e==="Io"?i.ordinalNumber(r,{unit:"week"}):an(r,e.length)},d:function(t,e,i){return e==="do"?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):oa.d(t,e)},D:function(t,e,i){var r=IZ(t);return e==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):an(r,e.length)},E:function(t,e,i){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,i,r){var s=t.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return an(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,i,r){var s=t.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return an(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,i){var r=t.getUTCDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return an(s,e.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});case"iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,i){var r=t.getUTCHours(),s=r/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,i){var r=t.getUTCHours(),s;switch(r===12?s=iu.noon:r===0?s=iu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,i){var r=t.getUTCHours(),s;switch(r>=17?s=iu.evening:r>=12?s=iu.afternoon:r>=4?s=iu.morning:s=iu.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,i){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return oa.h(t,e)},H:function(t,e,i){return e==="Ho"?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):oa.H(t,e)},K:function(t,e,i){var r=t.getUTCHours()%12;return e==="Ko"?i.ordinalNumber(r,{unit:"hour"}):an(r,e.length)},k:function(t,e,i){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?i.ordinalNumber(r,{unit:"hour"}):an(r,e.length)},m:function(t,e,i){return e==="mo"?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):oa.m(t,e)},s:function(t,e,i){return e==="so"?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):oa.s(t,e)},S:function(t,e){return oa.S(t,e)},X:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return bR(o);case"XXXX":case"XX":return Rl(o);case"XXXXX":case"XXX":default:return Rl(o,":")}},x:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"x":return bR(o);case"xxxx":case"xx":return Rl(o);case"xxxxx":case"xxx":default:return Rl(o,":")}},O:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_R(o,":");case"OOOO":default:return"GMT"+Rl(o,":")}},z:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_R(o,":");case"zzzz":default:return"GMT"+Rl(o,":")}},t:function(t,e,i,r){var s=r._originalDate||t,o=Math.floor(s.getTime()/1e3);return an(o,e.length)},T:function(t,e,i,r){var s=r._originalDate||t,o=s.getTime();return an(o,e.length)}};function _R(n,t){var e=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=i%60;if(s===0)return e+String(r);var o=t||"";return e+String(r)+o+an(s,2)}function bR(n,t){if(n%60===0){var e=n>0?"-":"+";return e+an(Math.abs(n)/60,2)}return Rl(n,t)}function Rl(n,t){var e=t||"",i=n>0?"-":"+",r=Math.abs(n),s=an(Math.floor(r/60),2),o=an(r%60,2);return i+s+e+o}const VZ=UZ;var xR=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Lz=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},HZ=function(t,e){var i=t.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return xR(t,e);var o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",xR(r,e)).replace("{{time}}",Lz(s,e))},$Z={p:Lz,P:HZ};const EE=$Z;var WZ=["D","DD"],GZ=["YY","YYYY"];function Iz(n){return WZ.indexOf(n)!==-1}function kz(n){return GZ.indexOf(n)!==-1}function Sv(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var jZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qZ=function(t,e,i){var r,s=jZ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};const YZ=qZ;function ux(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,i=n.formats[e]||n.formats[n.defaultWidth];return i}}var XZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JZ={date:ux({formats:XZ,defaultWidth:"full"}),time:ux({formats:KZ,defaultWidth:"full"}),dateTime:ux({formats:QZ,defaultWidth:"full"})};const ZZ=JZ;var ttt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ett=function(t,e,i,r){return ttt[t]};const ntt=ett;function Cf(n){return function(t,e){var i=e!=null&&e.context?String(e.context):"standalone",r;if(i==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,o=e!=null&&e.width?String(e.width):s;r=n.formattingValues[o]||n.formattingValues[s]}else{var a=n.defaultWidth,l=e!=null&&e.width?String(e.width):n.defaultWidth;r=n.values[l]||n.values[a]}var c=n.argumentCallback?n.argumentCallback(t):t;return r[c]}}var itt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rtt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},stt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ott={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},att={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ltt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ctt=function(t,e){var i=Number(t),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},utt={ordinalNumber:ctt,era:Cf({values:itt,defaultWidth:"wide"}),quarter:Cf({values:rtt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Cf({values:stt,defaultWidth:"wide"}),day:Cf({values:ott,defaultWidth:"wide"}),dayPeriod:Cf({values:att,defaultWidth:"wide",formattingValues:ltt,defaultFormattingWidth:"wide"})};const htt=utt;function Of(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],s=t.match(r);if(!s)return null;var o=s[0],a=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?dtt(a,function(h){return h.test(o)}):ftt(a,function(h){return h.test(o)}),c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function ftt(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function dtt(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function ptt(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(n.matchPattern);if(!i)return null;var r=i[0],s=t.match(n.parsePattern);if(!s)return null;var o=n.valueCallback?n.valueCallback(s[0]):s[0];o=e.valueCallback?e.valueCallback(o):o;var a=t.slice(r.length);return{value:o,rest:a}}}var mtt=/^(\d+)(th|st|nd|rd)?/i,gtt=/\d+/i,ytt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vtt={any:[/^b/i,/^(a|c)/i]},_tt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},btt={any:[/1/i,/2/i,/3/i,/4/i]},xtt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wtt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ett={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Stt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mtt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ttt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Att={ordinalNumber:ptt({matchPattern:mtt,parsePattern:gtt,valueCallback:function(t){return parseInt(t,10)}}),era:Of({matchPatterns:ytt,defaultMatchWidth:"wide",parsePatterns:vtt,defaultParseWidth:"any"}),quarter:Of({matchPatterns:_tt,defaultMatchWidth:"wide",parsePatterns:btt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Of({matchPatterns:xtt,defaultMatchWidth:"wide",parsePatterns:wtt,defaultParseWidth:"any"}),day:Of({matchPatterns:Ett,defaultMatchWidth:"wide",parsePatterns:Stt,defaultParseWidth:"any"}),dayPeriod:Of({matchPatterns:Mtt,defaultMatchWidth:"any",parsePatterns:Ttt,defaultParseWidth:"any"})};const Ctt=Att;var Ott={code:"en-US",formatDistance:YZ,formatLong:ZZ,formatRelative:ntt,localize:htt,match:Ctt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Nz=Ott;var Ptt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dtt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rtt=/^'([^]*?)'?$/,Ltt=/''/g,Itt=/[a-zA-Z]/;function ktt(n,t,e){var i,r,s,o,a,l,c,u,h,f,p,m,g,y,v,x,S,E;se(2,arguments);var M=String(t),P=Ya(),L=(i=(r=e==null?void 0:e.locale)!==null&&r!==void 0?r:P.locale)!==null&&i!==void 0?i:Nz,j=On((s=(o=(a=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(c=e.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:P.firstWeekContainsDate)!==null&&o!==void 0?o:(h=P.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=On((p=(m=(g=(y=e==null?void 0:e.weekStartsOn)!==null&&y!==void 0?y:e==null||(v=e.locale)===null||v===void 0||(x=v.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&g!==void 0?g:P.weekStartsOn)!==null&&m!==void 0?m:(S=P.locale)===null||S===void 0||(E=S.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(W>=0&&W<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var U=me(n);if(!Sz(U))throw new RangeError("Invalid time value");var A=Ev(U),F=Oz(U,A),nt={firstWeekContainsDate:j,weekStartsOn:W,locale:L,_originalDate:U},q=M.match(Dtt).map(function(D){var G=D[0];if(G==="p"||G==="P"){var Z=EE[G];return Z(D,L.formatLong)}return D}).join("").match(Ptt).map(function(D){if(D==="''")return"'";var G=D[0];if(G==="'")return Ntt(D);var Z=VZ[G];if(Z)return!(e!=null&&e.useAdditionalWeekYearTokens)&&kz(D)&&Sv(D,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Iz(D)&&Sv(D,t,String(n)),Z(F,D,L.localize,nt);if(G.match(Itt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return D}).join("");return q}function Ntt(n){var t=n.match(Rtt);return t?t[1].replace(Ltt,"'"):n}function Ftt(n,t){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function ey(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ey=function(e){return typeof e}:ey=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(n)}function Fz(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&SE(n,t)}function SE(n,t){return SE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},SE(n,t)}function Bz(n){var t=ztt();return function(){var i=Mv(n),r;if(t){var s=Mv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Btt(this,r)}}function Btt(n,t){return t&&(ey(t)==="object"||typeof t=="function")?t:ME(n)}function ME(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ztt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mv(n){return Mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mv(n)}function i1(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function r1(n,t,e){return t&&wR(n.prototype,t),e&&wR(n,e),n}function TE(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Utt=10,zz=function(){function n(){i1(this,n),TE(this,"subPriority",0)}return r1(n,[{key:"validate",value:function(e,i){return!0}}]),n}(),Vtt=function(n){Fz(e,n);var t=Bz(e);function e(i,r,s,o,a){var l;return i1(this,e),l=t.call(this),l.value=i,l.validateValue=r,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return r1(e,[{key:"validate",value:function(r,s){return this.validateValue(r,this.value,s)}},{key:"set",value:function(r,s,o){return this.setValue(r,s,this.value,o)}}]),e}(zz),Htt=function(n){Fz(e,n);var t=Bz(e);function e(){var i;i1(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),TE(ME(i),"priority",Utt),TE(ME(i),"subPriority",-1),i}return r1(e,[{key:"set",value:function(r,s){if(s.timestampIsSet)return r;var o=new Date(0);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}}]),e}(zz);function $tt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ER(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Wtt(n,t,e){return t&&ER(n.prototype,t),e&&ER(n,e),n}var rn=function(){function n(){$tt(this,n)}return Wtt(n,[{key:"run",value:function(e,i,r,s){var o=this.parse(e,i,r,s);return o?{setter:new Vtt(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,i,r){return!0}}]),n}();function ny(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ny=function(e){return typeof e}:ny=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(n)}function Gtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function jtt(n,t,e){return t&&SR(n.prototype,t),e&&SR(n,e),n}function qtt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&AE(n,t)}function AE(n,t){return AE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},AE(n,t)}function Ytt(n){var t=Ktt();return function(){var i=Tv(n),r;if(t){var s=Tv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Xtt(this,r)}}function Xtt(n,t){return t&&(ny(t)==="object"||typeof t=="function")?t:CE(n)}function CE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ktt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tv(n){return Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tv(n)}function MR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Qtt=function(n){qtt(e,n);var t=Ytt(e);function e(){var i;Gtt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),MR(CE(i),"priority",140),MR(CE(i),"incompatibleTokens",["R","u","t","T"]),i}return jtt(e,[{key:"parse",value:function(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}},{key:"set",value:function(r,s,o){return s.era=o,r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn),jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Us={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qn(n,t){return n&&{value:t(n.value),rest:n.rest}}function zn(n,t){var e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Vs(n,t){var e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var i=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:i*(r*Ab+s*Tb+o*hZ),rest:t.slice(e[0].length)}}function Uz(n){return zn(jn.anyDigitsSigned,n)}function $n(n,t){switch(n){case 1:return zn(jn.singleDigit,t);case 2:return zn(jn.twoDigits,t);case 3:return zn(jn.threeDigits,t);case 4:return zn(jn.fourDigits,t);default:return zn(new RegExp("^\\d{1,"+n+"}"),t)}}function Av(n,t){switch(n){case 1:return zn(jn.singleDigitSigned,t);case 2:return zn(jn.twoDigitsSigned,t);case 3:return zn(jn.threeDigitsSigned,t);case 4:return zn(jn.fourDigitsSigned,t);default:return zn(new RegExp("^-?\\d{1,"+n+"}"),t)}}function s1(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Vz(n,t){var e=t>0,i=e?t:1-t,r;if(i<=50)r=n||100;else{var s=i+50,o=Math.floor(s/100)*100,a=n>=s%100;r=n+o-(a?100:0)}return e?r:1-r}function Hz(n){return n%400===0||n%4===0&&n%100!==0}function iy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iy=function(e){return typeof e}:iy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(n)}function Jtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function TR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Ztt(n,t,e){return t&&TR(n.prototype,t),e&&TR(n,e),n}function tet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&OE(n,t)}function OE(n,t){return OE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},OE(n,t)}function eet(n){var t=iet();return function(){var i=Cv(n),r;if(t){var s=Cv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return net(this,r)}}function net(n,t){return t&&(iy(t)==="object"||typeof t=="function")?t:PE(n)}function PE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cv(n){return Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cv(n)}function AR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ret=function(n){tet(e,n);var t=eet(e);function e(){var i;Jtt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),AR(PE(i),"priority",130),AR(PE(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return Ztt(e,[{key:"parse",value:function(r,s,o){var a=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return qn($n(4,r),a);case"yo":return qn(o.ordinalNumber(r,{unit:"year"}),a);default:return qn($n(s.length,r),a)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,o){var a=r.getUTCFullYear();if(o.isTwoDigitYear){var l=Vz(o.year,a);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function ry(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ry=function(e){return typeof e}:ry=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(n)}function set(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function oet(n,t,e){return t&&CR(n.prototype,t),e&&CR(n,e),n}function aet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&DE(n,t)}function DE(n,t){return DE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},DE(n,t)}function cet(n){var t=het();return function(){var i=Ov(n),r;if(t){var s=Ov(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return uet(this,r)}}function uet(n,t){return t&&(ry(t)==="object"||typeof t=="function")?t:RE(n)}function RE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function het(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ov(n){return Ov=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ov(n)}function OR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var fet=function(n){aet(e,n);var t=cet(e);function e(){var i;set(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),OR(RE(i),"priority",130),OR(RE(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return oet(e,[{key:"parse",value:function(r,s,o){var a=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return qn($n(4,r),a);case"Yo":return qn(o.ordinalNumber(r,{unit:"year"}),a);default:return qn($n(s.length,r),a)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,o,a){var l=n1(r,a);if(o.isTwoDigitYear){var c=Vz(o.year,l);return r.setUTCFullYear(c,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),uc(r,a)}var u=!("era"in s)||s.era===1?o.year:1-o.year;return r.setUTCFullYear(u,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),uc(r,a)}}]),e}(rn);function sy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sy=function(e){return typeof e}:sy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(n)}function det(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function PR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function pet(n,t,e){return t&&PR(n.prototype,t),e&&PR(n,e),n}function met(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&LE(n,t)}function LE(n,t){return LE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},LE(n,t)}function get(n){var t=vet();return function(){var i=Pv(n),r;if(t){var s=Pv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return yet(this,r)}}function yet(n,t){return t&&(sy(t)==="object"||typeof t=="function")?t:IE(n)}function IE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pv(n){return Pv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pv(n)}function DR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var _et=function(n){met(e,n);var t=get(e);function e(){var i;det(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),DR(IE(i),"priority",130),DR(IE(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return pet(e,[{key:"parse",value:function(r,s){return Av(s==="R"?4:s.length,r)}},{key:"set",value:function(r,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),ph(a)}}]),e}(rn);function oy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oy=function(e){return typeof e}:oy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(n)}function bet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function RR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function xet(n,t,e){return t&&RR(n.prototype,t),e&&RR(n,e),n}function wet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&kE(n,t)}function kE(n,t){return kE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},kE(n,t)}function Eet(n){var t=Tet();return function(){var i=Dv(n),r;if(t){var s=Dv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Met(this,r)}}function Met(n,t){return t&&(oy(t)==="object"||typeof t=="function")?t:NE(n)}function NE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dv(n){return Dv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dv(n)}function LR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Aet=function(n){wet(e,n);var t=Eet(e);function e(){var i;bet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),LR(NE(i),"priority",130),LR(NE(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return xet(e,[{key:"parse",value:function(r,s){return Av(s==="u"?4:s.length,r)}},{key:"set",value:function(r,s,o){return r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function ay(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ay=function(e){return typeof e}:ay=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(n)}function Cet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function IR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Oet(n,t,e){return t&&IR(n.prototype,t),e&&IR(n,e),n}function Pet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&FE(n,t)}function FE(n,t){return FE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},FE(n,t)}function Det(n){var t=Let();return function(){var i=Rv(n),r;if(t){var s=Rv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Ret(this,r)}}function Ret(n,t){return t&&(ay(t)==="object"||typeof t=="function")?t:BE(n)}function BE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Let(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rv(n){return Rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rv(n)}function kR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Iet=function(n){Pet(e,n);var t=Det(e);function e(){var i;Cet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),kR(BE(i),"priority",120),kR(BE(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Oet(e,[{key:"parse",value:function(r,s,o){switch(s){case"Q":case"QQ":return $n(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function ly(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ly=function(e){return typeof e}:ly=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(n)}function ket(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Net(n,t,e){return t&&NR(n.prototype,t),e&&NR(n,e),n}function Fet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&zE(n,t)}function zE(n,t){return zE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},zE(n,t)}function Bet(n){var t=Uet();return function(){var i=Lv(n),r;if(t){var s=Lv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return zet(this,r)}}function zet(n,t){return t&&(ly(t)==="object"||typeof t=="function")?t:UE(n)}function UE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Uet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lv(n){return Lv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lv(n)}function FR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Vet=function(n){Fet(e,n);var t=Bet(e);function e(){var i;ket(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),FR(UE(i),"priority",120),FR(UE(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Net(e,[{key:"parse",value:function(r,s,o){switch(s){case"q":case"qq":return $n(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function cy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cy=function(e){return typeof e}:cy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(n)}function Het(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function $et(n,t,e){return t&&BR(n.prototype,t),e&&BR(n,e),n}function Wet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&VE(n,t)}function VE(n,t){return VE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},VE(n,t)}function Get(n){var t=qet();return function(){var i=Iv(n),r;if(t){var s=Iv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return jet(this,r)}}function jet(n,t){return t&&(cy(t)==="object"||typeof t=="function")?t:HE(n)}function HE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iv(n){return Iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Iv(n)}function zR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Yet=function(n){Wet(e,n);var t=Get(e);function e(){var i;Het(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),zR(HE(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),zR(HE(i),"priority",110),i}return $et(e,[{key:"parse",value:function(r,s,o){var a=function(c){return c-1};switch(s){case"M":return qn(zn(jn.month,r),a);case"MM":return qn($n(2,r),a);case"Mo":return qn(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function uy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uy=function(e){return typeof e}:uy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(n)}function Xet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Ket(n,t,e){return t&&UR(n.prototype,t),e&&UR(n,e),n}function Qet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&$E(n,t)}function $E(n,t){return $E=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},$E(n,t)}function Jet(n){var t=tnt();return function(){var i=kv(n),r;if(t){var s=kv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Zet(this,r)}}function Zet(n,t){return t&&(uy(t)==="object"||typeof t=="function")?t:WE(n)}function WE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kv(n){return kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kv(n)}function VR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ent=function(n){Qet(e,n);var t=Jet(e);function e(){var i;Xet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),VR(WE(i),"priority",110),VR(WE(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return Ket(e,[{key:"parse",value:function(r,s,o){var a=function(c){return c-1};switch(s){case"L":return qn(zn(jn.month,r),a);case"LL":return qn($n(2,r),a);case"Lo":return qn(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function nnt(n,t,e){se(2,arguments);var i=me(n),r=On(t),s=Rz(i,e)-r;return i.setUTCDate(i.getUTCDate()-s*7),i}function hy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hy=function(e){return typeof e}:hy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(n)}function int(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function rnt(n,t,e){return t&&HR(n.prototype,t),e&&HR(n,e),n}function snt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&GE(n,t)}function GE(n,t){return GE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},GE(n,t)}function ont(n){var t=lnt();return function(){var i=Nv(n),r;if(t){var s=Nv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ant(this,r)}}function ant(n,t){return t&&(hy(t)==="object"||typeof t=="function")?t:jE(n)}function jE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nv(n){return Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nv(n)}function $R(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var cnt=function(n){snt(e,n);var t=ont(e);function e(){var i;int(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),$R(jE(i),"priority",100),$R(jE(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return rnt(e,[{key:"parse",value:function(r,s,o){switch(s){case"w":return zn(jn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,o,a){return uc(nnt(r,o,a),a)}}]),e}(rn);function unt(n,t){se(2,arguments);var e=me(n),i=On(t),r=Dz(e)-i;return e.setUTCDate(e.getUTCDate()-r*7),e}function fy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fy=function(e){return typeof e}:fy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(n)}function hnt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function fnt(n,t,e){return t&&WR(n.prototype,t),e&&WR(n,e),n}function dnt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&qE(n,t)}function qE(n,t){return qE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},qE(n,t)}function pnt(n){var t=gnt();return function(){var i=Fv(n),r;if(t){var s=Fv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return mnt(this,r)}}function mnt(n,t){return t&&(fy(t)==="object"||typeof t=="function")?t:YE(n)}function YE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fv(n){return Fv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fv(n)}function GR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ynt=function(n){dnt(e,n);var t=pnt(e);function e(){var i;hnt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),GR(YE(i),"priority",100),GR(YE(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return fnt(e,[{key:"parse",value:function(r,s,o){switch(s){case"I":return zn(jn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,o){return ph(unt(r,o))}}]),e}(rn);function dy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dy=function(e){return typeof e}:dy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(n)}function vnt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _nt(n,t,e){return t&&jR(n.prototype,t),e&&jR(n,e),n}function bnt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&XE(n,t)}function XE(n,t){return XE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},XE(n,t)}function xnt(n){var t=Ent();return function(){var i=Bv(n),r;if(t){var s=Bv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return wnt(this,r)}}function wnt(n,t){return t&&(dy(t)==="object"||typeof t=="function")?t:py(n)}function py(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ent(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bv(n){return Bv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bv(n)}function hx(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Snt=[31,28,31,30,31,30,31,31,30,31,30,31],Mnt=[31,29,31,30,31,30,31,31,30,31,30,31],Tnt=function(n){bnt(e,n);var t=xnt(e);function e(){var i;vnt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),hx(py(i),"priority",90),hx(py(i),"subPriority",1),hx(py(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return _nt(e,[{key:"parse",value:function(r,s,o){switch(s){case"d":return zn(jn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){var o=r.getUTCFullYear(),a=Hz(o),l=r.getUTCMonth();return a?s>=1&&s<=Mnt[l]:s>=1&&s<=Snt[l]}},{key:"set",value:function(r,s,o){return r.setUTCDate(o),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function my(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?my=function(e){return typeof e}:my=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(n)}function Ant(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Cnt(n,t,e){return t&&qR(n.prototype,t),e&&qR(n,e),n}function Ont(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&KE(n,t)}function KE(n,t){return KE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},KE(n,t)}function Pnt(n){var t=Rnt();return function(){var i=zv(n),r;if(t){var s=zv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Dnt(this,r)}}function Dnt(n,t){return t&&(my(t)==="object"||typeof t=="function")?t:gy(n)}function gy(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zv(n){return zv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zv(n)}function fx(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Lnt=function(n){Ont(e,n);var t=Pnt(e);function e(){var i;Ant(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),fx(gy(i),"priority",90),fx(gy(i),"subpriority",1),fx(gy(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return Cnt(e,[{key:"parse",value:function(r,s,o){switch(s){case"D":case"DD":return zn(jn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){var o=r.getUTCFullYear(),a=Hz(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(r,s,o){return r.setUTCMonth(0,o),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function o1(n,t,e){var i,r,s,o,a,l,c,u;se(2,arguments);var h=Ya(),f=On((i=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=me(n),m=On(t),g=p.getUTCDay(),y=m%7,v=(y+7)%7,x=(v<f?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+x),p}function yy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yy=function(e){return typeof e}:yy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(n)}function Int(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function YR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function knt(n,t,e){return t&&YR(n.prototype,t),e&&YR(n,e),n}function Nnt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&QE(n,t)}function QE(n,t){return QE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},QE(n,t)}function Fnt(n){var t=znt();return function(){var i=Uv(n),r;if(t){var s=Uv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Bnt(this,r)}}function Bnt(n,t){return t&&(yy(t)==="object"||typeof t=="function")?t:JE(n)}function JE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function znt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uv(n){return Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uv(n)}function XR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Unt=function(n){Nnt(e,n);var t=Fnt(e);function e(){var i;Int(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),XR(JE(i),"priority",90),XR(JE(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return knt(e,[{key:"parse",value:function(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=o1(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function vy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vy=function(e){return typeof e}:vy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(n)}function Vnt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function KR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Hnt(n,t,e){return t&&KR(n.prototype,t),e&&KR(n,e),n}function $nt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&ZE(n,t)}function ZE(n,t){return ZE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},ZE(n,t)}function Wnt(n){var t=jnt();return function(){var i=Vv(n),r;if(t){var s=Vv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Gnt(this,r)}}function Gnt(n,t){return t&&(vy(t)==="object"||typeof t=="function")?t:tS(n)}function tS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vv(n){return Vv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vv(n)}function QR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var qnt=function(n){$nt(e,n);var t=Wnt(e);function e(){var i;Vnt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),QR(tS(i),"priority",90),QR(tS(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return Hnt(e,[{key:"parse",value:function(r,s,o,a){var l=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return qn($n(s.length,r),l);case"eo":return qn(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=o1(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function _y(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_y=function(e){return typeof e}:_y=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(n)}function Ynt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function JR(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Xnt(n,t,e){return t&&JR(n.prototype,t),e&&JR(n,e),n}function Knt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&eS(n,t)}function eS(n,t){return eS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},eS(n,t)}function Qnt(n){var t=Znt();return function(){var i=Hv(n),r;if(t){var s=Hv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Jnt(this,r)}}function Jnt(n,t){return t&&(_y(t)==="object"||typeof t=="function")?t:nS(n)}function nS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Znt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hv(n){return Hv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hv(n)}function ZR(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var tit=function(n){Knt(e,n);var t=Qnt(e);function e(){var i;Ynt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ZR(nS(i),"priority",90),ZR(nS(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return Xnt(e,[{key:"parse",value:function(r,s,o,a){var l=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return qn($n(s.length,r),l);case"co":return qn(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=o1(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function eit(n,t){se(2,arguments);var e=On(t);e%7===0&&(e=e-7);var i=1,r=me(n),s=r.getUTCDay(),o=e%7,a=(o+7)%7,l=(a<i?7:0)+e-s;return r.setUTCDate(r.getUTCDate()+l),r}function by(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?by=function(e){return typeof e}:by=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(n)}function nit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function tL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function iit(n,t,e){return t&&tL(n.prototype,t),e&&tL(n,e),n}function rit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&iS(n,t)}function iS(n,t){return iS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},iS(n,t)}function sit(n){var t=ait();return function(){var i=$v(n),r;if(t){var s=$v(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return oit(this,r)}}function oit(n,t){return t&&(by(t)==="object"||typeof t=="function")?t:rS(n)}function rS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ait(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(n){return $v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$v(n)}function eL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var lit=function(n){rit(e,n);var t=sit(e);function e(){var i;nit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),eL(rS(i),"priority",90),eL(rS(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return iit(e,[{key:"parse",value:function(r,s,o){var a=function(c){return c===0?7:c};switch(s){case"i":case"ii":return $n(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return qn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return qn(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return qn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return qn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(r,s){return s>=1&&s<=7}},{key:"set",value:function(r,s,o){return r=eit(r,o),r.setUTCHours(0,0,0,0),r}}]),e}(rn);function xy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xy=function(e){return typeof e}:xy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(n)}function cit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function nL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function uit(n,t,e){return t&&nL(n.prototype,t),e&&nL(n,e),n}function hit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&sS(n,t)}function sS(n,t){return sS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},sS(n,t)}function fit(n){var t=pit();return function(){var i=Wv(n),r;if(t){var s=Wv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return dit(this,r)}}function dit(n,t){return t&&(xy(t)==="object"||typeof t=="function")?t:oS(n)}function oS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wv(n){return Wv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wv(n)}function iL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var mit=function(n){hit(e,n);var t=fit(e);function e(){var i;cit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),iL(oS(i),"priority",80),iL(oS(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return uit(e,[{key:"parse",value:function(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(s1(o),0,0,0),r}}]),e}(rn);function wy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wy=function(e){return typeof e}:wy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(n)}function git(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function rL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function yit(n,t,e){return t&&rL(n.prototype,t),e&&rL(n,e),n}function vit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&aS(n,t)}function aS(n,t){return aS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},aS(n,t)}function _it(n){var t=xit();return function(){var i=Gv(n),r;if(t){var s=Gv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return bit(this,r)}}function bit(n,t){return t&&(wy(t)==="object"||typeof t=="function")?t:lS(n)}function lS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gv(n){return Gv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gv(n)}function sL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var wit=function(n){vit(e,n);var t=_it(e);function e(){var i;git(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),sL(lS(i),"priority",80),sL(lS(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return yit(e,[{key:"parse",value:function(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(s1(o),0,0,0),r}}]),e}(rn);function Ey(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ey=function(e){return typeof e}:Ey=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(n)}function Eit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function oL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Sit(n,t,e){return t&&oL(n.prototype,t),e&&oL(n,e),n}function Mit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&cS(n,t)}function cS(n,t){return cS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},cS(n,t)}function Tit(n){var t=Cit();return function(){var i=jv(n),r;if(t){var s=jv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Ait(this,r)}}function Ait(n,t){return t&&(Ey(t)==="object"||typeof t=="function")?t:uS(n)}function uS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jv(n){return jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jv(n)}function aL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Oit=function(n){Mit(e,n);var t=Tit(e);function e(){var i;Eit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),aL(uS(i),"priority",80),aL(uS(i),"incompatibleTokens",["a","b","t","T"]),i}return Sit(e,[{key:"parse",value:function(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(s1(o),0,0,0),r}}]),e}(rn);function Sy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sy=function(e){return typeof e}:Sy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(n)}function Pit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Dit(n,t,e){return t&&lL(n.prototype,t),e&&lL(n,e),n}function Rit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&hS(n,t)}function hS(n,t){return hS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},hS(n,t)}function Lit(n){var t=kit();return function(){var i=qv(n),r;if(t){var s=qv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Iit(this,r)}}function Iit(n,t){return t&&(Sy(t)==="object"||typeof t=="function")?t:fS(n)}function fS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qv(n){return qv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qv(n)}function cL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Nit=function(n){Rit(e,n);var t=Lit(e);function e(){var i;Pit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),cL(fS(i),"priority",70),cL(fS(i),"incompatibleTokens",["H","K","k","t","T"]),i}return Dit(e,[{key:"parse",value:function(r,s,o){switch(s){case"h":return zn(jn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=12}},{key:"set",value:function(r,s,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):!a&&o===12?r.setUTCHours(0,0,0,0):r.setUTCHours(o,0,0,0),r}}]),e}(rn);function My(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?My=function(e){return typeof e}:My=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(n)}function Fit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function uL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Bit(n,t,e){return t&&uL(n.prototype,t),e&&uL(n,e),n}function zit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&dS(n,t)}function dS(n,t){return dS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},dS(n,t)}function Uit(n){var t=Hit();return function(){var i=Yv(n),r;if(t){var s=Yv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Vit(this,r)}}function Vit(n,t){return t&&(My(t)==="object"||typeof t=="function")?t:pS(n)}function pS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Hit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yv(n){return Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yv(n)}function hL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var $it=function(n){zit(e,n);var t=Uit(e);function e(){var i;Fit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),hL(pS(i),"priority",70),hL(pS(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return Bit(e,[{key:"parse",value:function(r,s,o){switch(s){case"H":return zn(jn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=23}},{key:"set",value:function(r,s,o){return r.setUTCHours(o,0,0,0),r}}]),e}(rn);function Ty(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ty=function(e){return typeof e}:Ty=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(n)}function Wit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function fL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Git(n,t,e){return t&&fL(n.prototype,t),e&&fL(n,e),n}function jit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&mS(n,t)}function mS(n,t){return mS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},mS(n,t)}function qit(n){var t=Xit();return function(){var i=Xv(n),r;if(t){var s=Xv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Yit(this,r)}}function Yit(n,t){return t&&(Ty(t)==="object"||typeof t=="function")?t:gS(n)}function gS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Xit(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xv(n){return Xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xv(n)}function dL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Kit=function(n){jit(e,n);var t=qit(e);function e(){var i;Wit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),dL(gS(i),"priority",70),dL(gS(i),"incompatibleTokens",["h","H","k","t","T"]),i}return Git(e,[{key:"parse",value:function(r,s,o){switch(s){case"K":return zn(jn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):r.setUTCHours(o,0,0,0),r}}]),e}(rn);function Ay(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ay=function(e){return typeof e}:Ay=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(n)}function Qit(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function pL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Jit(n,t,e){return t&&pL(n.prototype,t),e&&pL(n,e),n}function Zit(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&yS(n,t)}function yS(n,t){return yS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},yS(n,t)}function trt(n){var t=nrt();return function(){var i=Kv(n),r;if(t){var s=Kv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ert(this,r)}}function ert(n,t){return t&&(Ay(t)==="object"||typeof t=="function")?t:vS(n)}function vS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nrt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kv(n){return Kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kv(n)}function mL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var irt=function(n){Zit(e,n);var t=trt(e);function e(){var i;Qit(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),mL(vS(i),"priority",70),mL(vS(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return Jit(e,[{key:"parse",value:function(r,s,o){switch(s){case"k":return zn(jn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=24}},{key:"set",value:function(r,s,o){var a=o<=24?o%24:o;return r.setUTCHours(a,0,0,0),r}}]),e}(rn);function Cy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cy=function(e){return typeof e}:Cy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(n)}function rrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function gL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function srt(n,t,e){return t&&gL(n.prototype,t),e&&gL(n,e),n}function ort(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&_S(n,t)}function _S(n,t){return _S=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},_S(n,t)}function art(n){var t=crt();return function(){var i=Qv(n),r;if(t){var s=Qv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return lrt(this,r)}}function lrt(n,t){return t&&(Cy(t)==="object"||typeof t=="function")?t:bS(n)}function bS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function crt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qv(n){return Qv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qv(n)}function yL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var urt=function(n){ort(e,n);var t=art(e);function e(){var i;rrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),yL(bS(i),"priority",60),yL(bS(i),"incompatibleTokens",["t","T"]),i}return srt(e,[{key:"parse",value:function(r,s,o){switch(s){case"m":return zn(jn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,o){return r.setUTCMinutes(o,0,0),r}}]),e}(rn);function Oy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oy=function(e){return typeof e}:Oy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(n)}function hrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function vL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function frt(n,t,e){return t&&vL(n.prototype,t),e&&vL(n,e),n}function drt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&xS(n,t)}function xS(n,t){return xS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},xS(n,t)}function prt(n){var t=grt();return function(){var i=Jv(n),r;if(t){var s=Jv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return mrt(this,r)}}function mrt(n,t){return t&&(Oy(t)==="object"||typeof t=="function")?t:wS(n)}function wS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function grt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jv(n){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jv(n)}function _L(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var yrt=function(n){drt(e,n);var t=prt(e);function e(){var i;hrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),_L(wS(i),"priority",50),_L(wS(i),"incompatibleTokens",["t","T"]),i}return frt(e,[{key:"parse",value:function(r,s,o){switch(s){case"s":return zn(jn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return $n(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,o){return r.setUTCSeconds(o,0),r}}]),e}(rn);function Py(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Py=function(e){return typeof e}:Py=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(n)}function vrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function bL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _rt(n,t,e){return t&&bL(n.prototype,t),e&&bL(n,e),n}function brt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&ES(n,t)}function ES(n,t){return ES=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},ES(n,t)}function xrt(n){var t=Ert();return function(){var i=Zv(n),r;if(t){var s=Zv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return wrt(this,r)}}function wrt(n,t){return t&&(Py(t)==="object"||typeof t=="function")?t:SS(n)}function SS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ert(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zv(n){return Zv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zv(n)}function xL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Srt=function(n){brt(e,n);var t=xrt(e);function e(){var i;vrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),xL(SS(i),"priority",30),xL(SS(i),"incompatibleTokens",["t","T"]),i}return _rt(e,[{key:"parse",value:function(r,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return qn($n(s.length,r),o)}},{key:"set",value:function(r,s,o){return r.setUTCMilliseconds(o),r}}]),e}(rn);function Dy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dy=function(e){return typeof e}:Dy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(n)}function Mrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function wL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Trt(n,t,e){return t&&wL(n.prototype,t),e&&wL(n,e),n}function Art(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&MS(n,t)}function MS(n,t){return MS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},MS(n,t)}function Crt(n){var t=Prt();return function(){var i=t_(n),r;if(t){var s=t_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Ort(this,r)}}function Ort(n,t){return t&&(Dy(t)==="object"||typeof t=="function")?t:TS(n)}function TS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Prt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t_(n){return t_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t_(n)}function EL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Drt=function(n){Art(e,n);var t=Crt(e);function e(){var i;Mrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),EL(TS(i),"priority",10),EL(TS(i),"incompatibleTokens",["t","T","x"]),i}return Trt(e,[{key:"parse",value:function(r,s){switch(s){case"X":return Vs(Us.basicOptionalMinutes,r);case"XX":return Vs(Us.basic,r);case"XXXX":return Vs(Us.basicOptionalSeconds,r);case"XXXXX":return Vs(Us.extendedOptionalSeconds,r);case"XXX":default:return Vs(Us.extended,r)}}},{key:"set",value:function(r,s,o){return s.timestampIsSet?r:new Date(r.getTime()-o)}}]),e}(rn);function Ry(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ry=function(e){return typeof e}:Ry=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(n)}function Rrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function SL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Lrt(n,t,e){return t&&SL(n.prototype,t),e&&SL(n,e),n}function Irt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&AS(n,t)}function AS(n,t){return AS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},AS(n,t)}function krt(n){var t=Frt();return function(){var i=e_(n),r;if(t){var s=e_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Nrt(this,r)}}function Nrt(n,t){return t&&(Ry(t)==="object"||typeof t=="function")?t:CS(n)}function CS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Frt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e_(n){return e_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e_(n)}function ML(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Brt=function(n){Irt(e,n);var t=krt(e);function e(){var i;Rrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ML(CS(i),"priority",10),ML(CS(i),"incompatibleTokens",["t","T","X"]),i}return Lrt(e,[{key:"parse",value:function(r,s){switch(s){case"x":return Vs(Us.basicOptionalMinutes,r);case"xx":return Vs(Us.basic,r);case"xxxx":return Vs(Us.basicOptionalSeconds,r);case"xxxxx":return Vs(Us.extendedOptionalSeconds,r);case"xxx":default:return Vs(Us.extended,r)}}},{key:"set",value:function(r,s,o){return s.timestampIsSet?r:new Date(r.getTime()-o)}}]),e}(rn);function Ly(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ly=function(e){return typeof e}:Ly=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(n)}function zrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function TL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Urt(n,t,e){return t&&TL(n.prototype,t),e&&TL(n,e),n}function Vrt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&OS(n,t)}function OS(n,t){return OS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},OS(n,t)}function Hrt(n){var t=Wrt();return function(){var i=n_(n),r;if(t){var s=n_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return $rt(this,r)}}function $rt(n,t){return t&&(Ly(t)==="object"||typeof t=="function")?t:PS(n)}function PS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Wrt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n_(n){return n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n_(n)}function AL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Grt=function(n){Vrt(e,n);var t=Hrt(e);function e(){var i;zrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),AL(PS(i),"priority",40),AL(PS(i),"incompatibleTokens","*"),i}return Urt(e,[{key:"parse",value:function(r){return Uz(r)}},{key:"set",value:function(r,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),e}(rn);function Iy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iy=function(e){return typeof e}:Iy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(n)}function jrt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function CL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function qrt(n,t,e){return t&&CL(n.prototype,t),e&&CL(n,e),n}function Yrt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&DS(n,t)}function DS(n,t){return DS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},DS(n,t)}function Xrt(n){var t=Qrt();return function(){var i=i_(n),r;if(t){var s=i_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Krt(this,r)}}function Krt(n,t){return t&&(Iy(t)==="object"||typeof t=="function")?t:RS(n)}function RS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qrt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i_(n){return i_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i_(n)}function OL(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Jrt=function(n){Yrt(e,n);var t=Xrt(e);function e(){var i;jrt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),OL(RS(i),"priority",20),OL(RS(i),"incompatibleTokens","*"),i}return qrt(e,[{key:"parse",value:function(r){return Uz(r)}},{key:"set",value:function(r,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),e}(rn),Zrt={G:new Qtt,y:new ret,Y:new fet,R:new _et,u:new Aet,Q:new Iet,q:new Vet,M:new Yet,L:new ent,w:new cnt,I:new ynt,d:new Tnt,D:new Lnt,E:new Unt,e:new qnt,c:new tit,i:new lit,a:new mit,b:new wit,B:new Oit,h:new Nit,H:new $it,K:new Kit,k:new irt,m:new urt,s:new yrt,S:new Srt,X:new Drt,x:new Brt,t:new Grt,T:new Jrt};function ky(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ky=function(e){return typeof e}:ky=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(n)}function PL(n,t){var e;if(typeof Symbol>"u"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=tst(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=n[Symbol.iterator]()},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function tst(n,t){if(!!n){if(typeof n=="string")return DL(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return DL(n,t)}}function DL(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var est=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nst=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ist=/^'([^]*?)'?$/,rst=/''/g,sst=/\S/,ost=/[a-zA-Z]/;function ast(n,t,e,i){var r,s,o,a,l,c,u,h,f,p,m,g,y,v,x,S,E,M;se(3,arguments);var P=String(n),L=String(t),j=Ya(),W=(r=(s=i==null?void 0:i.locale)!==null&&s!==void 0?s:j.locale)!==null&&r!==void 0?r:Nz;if(!W.match)throw new RangeError("locale must contain match property");var U=On((o=(a=(l=(c=i==null?void 0:i.firstWeekContainsDate)!==null&&c!==void 0?c:i==null||(u=i.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&a!==void 0?a:(f=j.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(U>=1&&U<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=On((m=(g=(y=(v=i==null?void 0:i.weekStartsOn)!==null&&v!==void 0?v:i==null||(x=i.locale)===null||x===void 0||(S=x.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(E=j.locale)===null||E===void 0||(M=E.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(L==="")return P===""?me(e):new Date(NaN);var F={firstWeekContainsDate:U,weekStartsOn:A,locale:W},nt=[new Htt],q=L.match(nst).map(function(lt){var Mt=lt[0];if(Mt in EE){var xt=EE[Mt];return xt(lt,W.formatLong)}return lt}).join("").match(est),D=[],G=PL(q),Z;try{var V=function(){var Mt=Z.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&kz(Mt)&&Sv(Mt,L,n),!(i!=null&&i.useAdditionalDayOfYearTokens)&&Iz(Mt)&&Sv(Mt,L,n);var xt=Mt[0],Rt=Zrt[xt];if(Rt){var O=Rt.incompatibleTokens;if(Array.isArray(O)){var k=D.find(function(X){return O.includes(X.token)||X.token===xt});if(k)throw new RangeError("The format string mustn't contain `".concat(k.fullToken,"` and `").concat(Mt,"` at the same time"))}else if(Rt.incompatibleTokens==="*"&&D.length>0)throw new RangeError("The format string mustn't contain `".concat(Mt,"` and any other token at the same time"));D.push({token:xt,fullToken:Mt});var $=Rt.run(P,Mt,W.match,F);if(!$)return{v:new Date(NaN)};nt.push($.setter),P=$.rest}else{if(xt.match(ost))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xt+"`");if(Mt==="''"?Mt="'":xt==="'"&&(Mt=lst(Mt)),P.indexOf(Mt)===0)P=P.slice(Mt.length);else return{v:new Date(NaN)}}};for(G.s();!(Z=G.n()).done;){var Q=V();if(ky(Q)==="object")return Q.v}}catch(lt){G.e(lt)}finally{G.f()}if(P.length>0&&sst.test(P))return new Date(NaN);var ut=nt.map(function(lt){return lt.priority}).sort(function(lt,Mt){return Mt-lt}).filter(function(lt,Mt,xt){return xt.indexOf(lt)===Mt}).map(function(lt){return nt.filter(function(Mt){return Mt.priority===lt}).sort(function(Mt,xt){return xt.subPriority-Mt.subPriority})}).map(function(lt){return lt[0]}),_t=me(e);if(isNaN(_t.getTime()))return new Date(NaN);var at=Oz(_t,Ev(_t)),Ct={},Lt=PL(ut),et;try{for(Lt.s();!(et=Lt.n()).done;){var Y=et.value;if(!Y.validate(at,F))return new Date(NaN);var Et=Y.set(at,Ct,F);Array.isArray(Et)?(at=Et[0],Ftt(Ct,Et[1])):at=Et}}catch(lt){Lt.e(lt)}finally{Lt.f()}return at}function lst(n){return n.match(ist)[1].replace(rst,"'")}function cst(n){se(1,arguments);var t=me(n);return t.setMinutes(0,0,0),t}function ust(n){se(1,arguments);var t=me(n);return t.setMilliseconds(0),t}function hst(n,t){var e;se(1,arguments);var i=On((e=t==null?void 0:t.additionalDigits)!==null&&e!==void 0?e:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=mst(n),s;if(r.date){var o=gst(r.date,i);s=yst(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(r.time&&(l=vst(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=_st(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+l+c)}var Wm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fst=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dst=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pst=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mst(n){var t={},e=n.split(Wm.dateTimeDelimiter),i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],Wm.timeZoneDelimiter.test(t.date)&&(t.date=n.split(Wm.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){var r=Wm.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function gst(n,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function yst(n,t){if(t===null)return new Date(NaN);var e=n.match(fst);if(!e)return new Date(NaN);var i=!!e[4],r=Pf(e[1]),s=Pf(e[2])-1,o=Pf(e[3]),a=Pf(e[4]),l=Pf(e[5])-1;if(i)return Sst(t,a,l)?bst(t,a,l):new Date(NaN);var c=new Date(0);return!wst(t,s,o)||!Est(t,r)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(r,o)),c)}function Pf(n){return n?parseInt(n):1}function vst(n){var t=n.match(dst);if(!t)return NaN;var e=dx(t[1]),i=dx(t[2]),r=dx(t[3]);return Mst(e,i,r)?e*Ab+i*Tb+r*1e3:NaN}function dx(n){return n&&parseFloat(n.replace(",","."))||0}function _st(n){if(n==="Z")return 0;var t=n.match(pst);if(!t)return 0;var e=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return Tst(i,r)?e*(i*Ab+r*Tb):NaN}function bst(n,t,e){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(t-1)*7+e+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var xst=[31,null,31,30,31,30,31,31,30,31,30,31];function $z(n){return n%400===0||n%4===0&&n%100!==0}function wst(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(xst[t]||($z(n)?29:28))}function Est(n,t){return t>=1&&t<=($z(n)?366:365)}function Sst(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function Mst(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function Tst(n,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v2.0.0
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const Ast={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};rz._date.override({_id:"date-fns",formats:function(){return Ast},parse:function(n,t){if(n===null||typeof n>"u")return null;const e=typeof n;return e==="number"||n instanceof Date?n=me(n):e==="string"&&(typeof t=="string"?n=ast(n,t,new Date,this.options):n=hst(n,this.options)),Sz(n)?n.getTime():null},format:function(n,t){return ktt(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return kp(n,t);case"second":return lZ(n,t);case"minute":return oZ(n,t);case"hour":return eZ(n,t);case"day":return Ez(n,t);case"week":return cZ(n,t);case"month":return e1(n,t);case"quarter":return aZ(n,t);case"year":return uZ(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return Cb(n,t);case"second":return bZ(n,t);case"minute":return yZ(n,t);case"hour":return gZ(n,t);case"day":return Mz(n,t);case"week":return xZ(n,t);case"month":return Cz(n,t);case"quarter":return _Z(n,t);case"year":return wZ(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return ust(n);case"minute":return EZ(n);case"hour":return cst(n);case"day":return wE(n);case"week":return gR(n);case"isoWeek":return gR(n,{weekStartsOn:+e});case"month":return MZ(n);case"quarter":return SZ(n);case"year":return AZ(n);default:return n}},endOf:function(n,t){switch(t){case"second":return RZ(n);case"minute":return PZ(n);case"hour":return CZ(n);case"day":return Tz(n);case"week":return OZ(n);case"month":return Az(n);case"quarter":return DZ(n);case"year":return TZ(n);default:return n}}});xr.use(xb);var Zi="top",Tr="bottom",Ar="right",tr="left",Ob="auto",Uh=[Zi,Tr,Ar,tr],hc="start",mh="end",Wz="clippingParents",a1="viewport",Mu="popper",Gz="reference",LS=Uh.reduce(function(n,t){return n.concat([t+"-"+hc,t+"-"+mh])},[]),l1=[].concat(Uh,[Ob]).reduce(function(n,t){return n.concat([t,t+"-"+hc,t+"-"+mh])},[]),jz="beforeRead",qz="read",Yz="afterRead",Xz="beforeMain",Kz="main",Qz="afterMain",Jz="beforeWrite",Zz="write",tU="afterWrite",eU=[jz,qz,Yz,Xz,Kz,Qz,Jz,Zz,tU];function Qs(n){return n?(n.nodeName||"").toLowerCase():null}function Wr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function fc(n){var t=Wr(n).Element;return n instanceof t||n instanceof Element}function zr(n){var t=Wr(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function c1(n){if(typeof ShadowRoot>"u")return!1;var t=Wr(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function Cst(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];!zr(s)||!Qs(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Ost(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!zr(r)||!Qs(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const u1={name:"applyStyles",enabled:!0,phase:"write",fn:Cst,effect:Ost,requires:["computeStyles"]};function js(n){return n.split("-")[0]}var tc=Math.max,r_=Math.min,gh=Math.round;function IS(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nU(){return!/^((?!chrome|android).)*safari/i.test(IS())}function yh(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),r=1,s=1;t&&zr(n)&&(r=n.offsetWidth>0&&gh(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&gh(i.height)/n.offsetHeight||1);var o=fc(n)?Wr(n):window,a=o.visualViewport,l=!nU()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,h=i.width/r,f=i.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function h1(n){var t=yh(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function iU(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&c1(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Bo(n){return Wr(n).getComputedStyle(n)}function Pst(n){return["table","td","th"].indexOf(Qs(n))>=0}function Xa(n){return((fc(n)?n.ownerDocument:n.document)||window.document).documentElement}function Pb(n){return Qs(n)==="html"?n:n.assignedSlot||n.parentNode||(c1(n)?n.host:null)||Xa(n)}function RL(n){return!zr(n)||Bo(n).position==="fixed"?null:n.offsetParent}function Dst(n){var t=/firefox/i.test(IS()),e=/Trident/i.test(IS());if(e&&zr(n)){var i=Bo(n);if(i.position==="fixed")return null}var r=Pb(n);for(c1(r)&&(r=r.host);zr(r)&&["html","body"].indexOf(Qs(r))<0;){var s=Bo(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Fp(n){for(var t=Wr(n),e=RL(n);e&&Pst(e)&&Bo(e).position==="static";)e=RL(e);return e&&(Qs(e)==="html"||Qs(e)==="body"&&Bo(e).position==="static")?t:e||Dst(n)||t}function f1(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function gd(n,t,e){return tc(n,r_(t,e))}function Rst(n,t,e){var i=gd(n,t,e);return i>e?e:i}function rU(){return{top:0,right:0,bottom:0,left:0}}function sU(n){return Object.assign({},rU(),n)}function oU(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var Lst=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,sU(typeof t!="number"?t:oU(t,Uh))};function Ist(n){var t,e=n.state,i=n.name,r=n.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=js(e.placement),l=f1(a),c=[tr,Ar].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Lst(r.padding,e),f=h1(s),p=l==="y"?Zi:tr,m=l==="y"?Tr:Ar,g=e.rects.reference[u]+e.rects.reference[l]-o[l]-e.rects.popper[u],y=o[l]-e.rects.reference[l],v=Fp(s),x=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,S=g/2-y/2,E=h[p],M=x-f[u]-h[m],P=x/2-f[u]/2+S,L=gd(E,P,M),j=l;e.modifiersData[i]=(t={},t[j]=L,t.centerOffset=L-P,t)}}function kst(n){var t=n.state,e=n.options,i=e.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!iU(t.elements.popper,r)||(t.elements.arrow=r))}const aU={name:"arrow",enabled:!0,phase:"main",fn:Ist,effect:kst,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vh(n){return n.split("-")[1]}var Nst={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fst(n){var t=n.x,e=n.y,i=window,r=i.devicePixelRatio||1;return{x:gh(t*r)/r||0,y:gh(e*r)/r||0}}function LL(n){var t,e=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,h=n.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var v=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),S=tr,E=Zi,M=window;if(c){var P=Fp(e),L="clientHeight",j="clientWidth";if(P===Wr(e)&&(P=Xa(e),Bo(P).position!=="static"&&a==="absolute"&&(L="scrollHeight",j="scrollWidth")),P=P,r===Zi||(r===tr||r===Ar)&&s===mh){E=Tr;var W=h&&P===M&&M.visualViewport?M.visualViewport.height:P[L];g-=W-i.height,g*=l?1:-1}if(r===tr||(r===Zi||r===Tr)&&s===mh){S=Ar;var U=h&&P===M&&M.visualViewport?M.visualViewport.width:P[j];p-=U-i.width,p*=l?1:-1}}var A=Object.assign({position:a},c&&Nst),F=u===!0?Fst({x:p,y:g}):{x:p,y:g};if(p=F.x,g=F.y,l){var nt;return Object.assign({},A,(nt={},nt[E]=x?"0":"",nt[S]=v?"0":"",nt.transform=(M.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",nt))}return Object.assign({},A,(t={},t[E]=x?g+"px":"",t[S]=v?p+"px":"",t.transform="",t))}function Bst(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=i===void 0?!0:i,s=e.adaptive,o=s===void 0?!0:s,a=e.roundOffsets,l=a===void 0?!0:a,c={placement:js(t.placement),variation:vh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,LL(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,LL(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const d1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bst,data:{}};var Gm={passive:!0};function zst(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Wr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",e.update,Gm)}),a&&l.addEventListener("resize",e.update,Gm),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",e.update,Gm)}),a&&l.removeEventListener("resize",e.update,Gm)}}const p1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zst,data:{}};var Ust={left:"right",right:"left",bottom:"top",top:"bottom"};function Ny(n){return n.replace(/left|right|bottom|top/g,function(t){return Ust[t]})}var Vst={start:"end",end:"start"};function IL(n){return n.replace(/start|end/g,function(t){return Vst[t]})}function m1(n){var t=Wr(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function g1(n){return yh(Xa(n)).left+m1(n).scrollLeft}function Hst(n,t){var e=Wr(n),i=Xa(n),r=e.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=nU();(c||!c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+g1(n),y:l}}function $st(n){var t,e=Xa(n),i=m1(n),r=(t=n.ownerDocument)==null?void 0:t.body,s=tc(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=tc(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+g1(n),l=-i.scrollTop;return Bo(r||e).direction==="rtl"&&(a+=tc(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function y1(n){var t=Bo(n),e=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+i)}function lU(n){return["html","body","#document"].indexOf(Qs(n))>=0?n.ownerDocument.body:zr(n)&&y1(n)?n:lU(Pb(n))}function yd(n,t){var e;t===void 0&&(t=[]);var i=lU(n),r=i===((e=n.ownerDocument)==null?void 0:e.body),s=Wr(i),o=r?[s].concat(s.visualViewport||[],y1(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(yd(Pb(o)))}function kS(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Wst(n,t){var e=yh(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function kL(n,t,e){return t===a1?kS(Hst(n,e)):fc(t)?Wst(t,e):kS($st(Xa(n)))}function Gst(n){var t=yd(Pb(n)),e=["absolute","fixed"].indexOf(Bo(n).position)>=0,i=e&&zr(n)?Fp(n):n;return fc(i)?t.filter(function(r){return fc(r)&&iU(r,i)&&Qs(r)!=="body"}):[]}function jst(n,t,e,i){var r=t==="clippingParents"?Gst(n):[].concat(t),s=[].concat(r,[e]),o=s[0],a=s.reduce(function(l,c){var u=kL(n,c,i);return l.top=tc(u.top,l.top),l.right=r_(u.right,l.right),l.bottom=r_(u.bottom,l.bottom),l.left=tc(u.left,l.left),l},kL(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cU(n){var t=n.reference,e=n.element,i=n.placement,r=i?js(i):null,s=i?vh(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(r){case Zi:l={x:o,y:t.y-e.height};break;case Tr:l={x:o,y:t.y+t.height};break;case Ar:l={x:t.x+t.width,y:a};break;case tr:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?f1(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case hc:l[c]=l[c]-(t[u]/2-e[u]/2);break;case mh:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function _h(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=i===void 0?n.placement:i,s=e.strategy,o=s===void 0?n.strategy:s,a=e.boundary,l=a===void 0?Wz:a,c=e.rootBoundary,u=c===void 0?a1:c,h=e.elementContext,f=h===void 0?Mu:h,p=e.altBoundary,m=p===void 0?!1:p,g=e.padding,y=g===void 0?0:g,v=sU(typeof y!="number"?y:oU(y,Uh)),x=f===Mu?Gz:Mu,S=n.rects.popper,E=n.elements[m?x:f],M=jst(fc(E)?E:E.contextElement||Xa(n.elements.popper),l,u,o),P=yh(n.elements.reference),L=cU({reference:P,element:S,strategy:"absolute",placement:r}),j=kS(Object.assign({},S,L)),W=f===Mu?j:P,U={top:M.top-W.top+v.top,bottom:W.bottom-M.bottom+v.bottom,left:M.left-W.left+v.left,right:W.right-M.right+v.right},A=n.modifiersData.offset;if(f===Mu&&A){var F=A[r];Object.keys(U).forEach(function(nt){var q=[Ar,Tr].indexOf(nt)>=0?1:-1,D=[Zi,Tr].indexOf(nt)>=0?"y":"x";U[nt]+=F[D]*q})}return U}function qst(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?l1:l,u=vh(i),h=u?a?LS:LS.filter(function(m){return vh(m)===u}):Uh,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,g){return m[g]=_h(n,{placement:g,boundary:r,rootBoundary:s,padding:o})[js(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function Yst(n){if(js(n)===Ob)return[];var t=Ny(n);return[IL(n),t,IL(t)]}function Xst(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,c=e.padding,u=e.boundary,h=e.rootBoundary,f=e.altBoundary,p=e.flipVariations,m=p===void 0?!0:p,g=e.allowedAutoPlacements,y=t.options.placement,v=js(y),x=v===y,S=l||(x||!m?[Ny(y)]:Yst(y)),E=[y].concat(S).reduce(function(Lt,et){return Lt.concat(js(et)===Ob?qst(t,{placement:et,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:g}):et)},[]),M=t.rects.reference,P=t.rects.popper,L=new Map,j=!0,W=E[0],U=0;U<E.length;U++){var A=E[U],F=js(A),nt=vh(A)===hc,q=[Zi,Tr].indexOf(F)>=0,D=q?"width":"height",G=_h(t,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Z=q?nt?Ar:tr:nt?Tr:Zi;M[D]>P[D]&&(Z=Ny(Z));var V=Ny(Z),Q=[];if(s&&Q.push(G[F]<=0),a&&Q.push(G[Z]<=0,G[V]<=0),Q.every(function(Lt){return Lt})){W=A,j=!1;break}L.set(A,Q)}if(j)for(var ut=m?3:1,_t=function(et){var Y=E.find(function(Et){var lt=L.get(Et);if(lt)return lt.slice(0,et).every(function(Mt){return Mt})});if(Y)return W=Y,"break"},at=ut;at>0;at--){var Ct=_t(at);if(Ct==="break")break}t.placement!==W&&(t.modifiersData[i]._skip=!0,t.placement=W,t.reset=!0)}}const uU={name:"flip",enabled:!0,phase:"main",fn:Xst,requiresIfExists:["offset"],data:{_skip:!1}};function NL(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function FL(n){return[Zi,Ar,Tr,tr].some(function(t){return n[t]>=0})}function Kst(n){var t=n.state,e=n.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=_h(t,{elementContext:"reference"}),a=_h(t,{altBoundary:!0}),l=NL(o,i),c=NL(a,r,s),u=FL(l),h=FL(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const hU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kst};function Qst(n,t,e){var i=js(n),r=[tr,Zi].indexOf(i)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[tr,Ar].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Jst(n){var t=n.state,e=n.options,i=n.name,r=e.offset,s=r===void 0?[0,0]:r,o=l1.reduce(function(u,h){return u[h]=Qst(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}const fU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jst};function Zst(n){var t=n.state,e=n.name;t.modifiersData[e]=cU({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const v1={name:"popperOffsets",enabled:!0,phase:"read",fn:Zst,data:{}};function tot(n){return n==="x"?"y":"x"}function eot(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,h=e.padding,f=e.tether,p=f===void 0?!0:f,m=e.tetherOffset,g=m===void 0?0:m,y=_h(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=js(t.placement),x=vh(t.placement),S=!x,E=f1(v),M=tot(E),P=t.modifiersData.popperOffsets,L=t.rects.reference,j=t.rects.popper,W=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,U=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(!!P){if(s){var nt,q=E==="y"?Zi:tr,D=E==="y"?Tr:Ar,G=E==="y"?"height":"width",Z=P[E],V=Z+y[q],Q=Z-y[D],ut=p?-j[G]/2:0,_t=x===hc?L[G]:j[G],at=x===hc?-j[G]:-L[G],Ct=t.elements.arrow,Lt=p&&Ct?h1(Ct):{width:0,height:0},et=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rU(),Y=et[q],Et=et[D],lt=gd(0,L[G],Lt[G]),Mt=S?L[G]/2-ut-lt-Y-U.mainAxis:_t-lt-Y-U.mainAxis,xt=S?-L[G]/2+ut+lt+Et+U.mainAxis:at+lt+Et+U.mainAxis,Rt=t.elements.arrow&&Fp(t.elements.arrow),O=Rt?E==="y"?Rt.clientTop||0:Rt.clientLeft||0:0,k=(nt=A==null?void 0:A[E])!=null?nt:0,$=Z+Mt-k-O,X=Z+xt-k,rt=gd(p?r_(V,$):V,Z,p?tc(Q,X):Q);P[E]=rt,F[E]=rt-Z}if(a){var mt,yt=E==="x"?Zi:tr,ht=E==="x"?Tr:Ar,Tt=P[M],bt=M==="y"?"height":"width",N=Tt+y[yt],R=Tt-y[ht],st=[Zi,tr].indexOf(v)!==-1,gt=(mt=A==null?void 0:A[M])!=null?mt:0,Ot=st?N:Tt-L[bt]-j[bt]-gt+U.altAxis,kt=st?Tt+L[bt]+j[bt]-gt-U.altAxis:R,Wt=p&&st?Rst(Ot,Tt,kt):gd(p?Ot:N,Tt,p?kt:R);P[M]=Wt,F[M]=Wt-Tt}t.modifiersData[i]=F}}const dU={name:"preventOverflow",enabled:!0,phase:"main",fn:eot,requiresIfExists:["offset"]};function not(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function iot(n){return n===Wr(n)||!zr(n)?m1(n):not(n)}function rot(n){var t=n.getBoundingClientRect(),e=gh(t.width)/n.offsetWidth||1,i=gh(t.height)/n.offsetHeight||1;return e!==1||i!==1}function sot(n,t,e){e===void 0&&(e=!1);var i=zr(t),r=zr(t)&&rot(t),s=Xa(t),o=yh(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&((Qs(t)!=="body"||y1(s))&&(a=iot(t)),zr(t)?(l=yh(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=g1(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function oot(n){var t=new Map,e=new Set,i=[];n.forEach(function(s){t.set(s.name,s)});function r(s){e.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){e.has(s.name)||r(s)}),i}function aot(n){var t=oot(n);return eU.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}function lot(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function cot(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var BL={placement:"bottom",modifiers:[],strategy:"absolute"};function zL(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Db(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,r=t.defaultOptions,s=r===void 0?BL:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},BL,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(v){var x=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},s,u.options,x),u.scrollParents={reference:fc(a)?yd(a):a.contextElement?yd(a.contextElement):[],popper:yd(l)};var S=aot(cot([].concat(i,u.options.modifiers)));return u.orderedModifiers=S.filter(function(E){return E.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=u.elements,x=v.reference,S=v.popper;if(!!zL(x,S)){u.rects={reference:sot(x,Fp(S),u.options.strategy==="fixed"),popper:h1(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(U){return u.modifiersData[U.name]=Object.assign({},U.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var M=u.orderedModifiers[E],P=M.fn,L=M.options,j=L===void 0?{}:L,W=M.name;typeof P=="function"&&(u=P({state:u,options:j,name:W,instance:p})||u)}}}},update:lot(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){g(),f=!0}};if(!zL(a,l))return p;p.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var v=y.name,x=y.options,S=x===void 0?{}:x,E=y.effect;if(typeof E=="function"){var M=E({state:u,name:v,instance:p,options:S}),P=function(){};h.push(M||P)}})}function g(){h.forEach(function(y){return y()}),h=[]}return p}}var uot=Db(),hot=[p1,v1,d1,u1],fot=Db({defaultModifiers:hot}),dot=[p1,v1,d1,u1,fU,uU,dU,aU,hU],_1=Db({defaultModifiers:dot});const pU=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:Db,detectOverflow:_h,createPopperBase:uot,createPopper:_1,createPopperLite:fot,top:Zi,bottom:Tr,right:Ar,left:tr,auto:Ob,basePlacements:Uh,start:hc,end:mh,clippingParents:Wz,viewport:a1,popper:Mu,reference:Gz,variationPlacements:LS,placements:l1,beforeRead:jz,read:qz,afterRead:Yz,beforeMain:Xz,main:Kz,afterMain:Qz,beforeWrite:Jz,write:Zz,afterWrite:tU,modifierPhases:eU,applyStyles:u1,arrow:aU,computeStyles:d1,eventListeners:p1,flip:uU,hide:hU,offset:fU,popperOffsets:v1,preventOverflow:dU},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const pot=1e6,mot=1e3,NS="transitionend",got=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),yot=n=>{do n+=Math.floor(Math.random()*pot);while(document.getElementById(n));return n},mU=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t},gU=n=>{const t=mU(n);return t&&document.querySelector(t)?t:null},Ao=n=>{const t=mU(n);return t?document.querySelector(t):null},vot=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),r=Number.parseFloat(e);return!i&&!r?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*mot)},yU=n=>{n.dispatchEvent(new Event(NS))},Co=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),ka=n=>Co(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(n):null,Vh=n=>{if(!Co(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return t},Na=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",vU=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?vU(n.parentNode):null},s_=()=>{},Bp=n=>{n.offsetHeight},_U=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,px=[],_ot=n=>{document.readyState==="loading"?(px.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of px)t()}),px.push(n)):n()},Hr=()=>document.documentElement.dir==="rtl",Gr=n=>{_ot(()=>{const t=_U();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},bo=n=>{typeof n=="function"&&n()},bU=(n,t,e=!0)=>{if(!e){bo(n);return}const i=5,r=vot(t)+i;let s=!1;const o=({target:a})=>{a===t&&(s=!0,t.removeEventListener(NS,o),bo(n))};t.addEventListener(NS,o),setTimeout(()=>{s||yU(t)},r)},b1=(n,t,e,i)=>{const r=n.length;let s=n.indexOf(t);return s===-1?!e&&i?n[r-1]:n[0]:(s+=e?1:-1,i&&(s=(s+r)%r),n[Math.max(0,Math.min(s,r-1))])},bot=/[^.]*(?=\..*)\.|.*/,xot=/\..*/,wot=/::\d+$/,mx={};let UL=1;const xU={mouseenter:"mouseover",mouseleave:"mouseout"},Eot=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wU(n,t){return t&&`${t}::${UL++}`||n.uidEvent||UL++}function EU(n){const t=wU(n);return n.uidEvent=t,mx[t]=mx[t]||{},mx[t]}function Sot(n,t){return function e(i){return x1(i,{delegateTarget:n}),e.oneOff&&Ft.off(n,i.type,t),t.apply(n,[i])}}function Mot(n,t,e){return function i(r){const s=n.querySelectorAll(t);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return x1(r,{delegateTarget:o}),i.oneOff&&Ft.off(n,r.type,t,e),e.apply(o,[r])}}function SU(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function MU(n,t,e){const i=typeof t=="string",r=i?e:t||e;let s=TU(n);return Eot.has(s)||(s=n),[i,r,s]}function VL(n,t,e,i,r){if(typeof t!="string"||!n)return;let[s,o,a]=MU(t,e,i);t in xU&&(o=(m=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return m.call(this,g)})(o));const l=EU(n),c=l[a]||(l[a]={}),u=SU(c,o,s?e:null);if(u){u.oneOff=u.oneOff&&r;return}const h=wU(o,t.replace(bot,"")),f=s?Mot(n,e,o):Sot(n,o);f.delegationSelector=s?e:null,f.callable=o,f.oneOff=r,f.uidEvent=h,c[h]=f,n.addEventListener(a,f,s)}function FS(n,t,e,i,r){const s=SU(t[e],i,r);!s||(n.removeEventListener(e,s,Boolean(r)),delete t[e][s.uidEvent])}function Tot(n,t,e,i){const r=t[e]||{};for(const s of Object.keys(r))if(s.includes(i)){const o=r[s];FS(n,t,e,o.callable,o.delegationSelector)}}function TU(n){return n=n.replace(xot,""),xU[n]||n}const Ft={on(n,t,e,i){VL(n,t,e,i,!1)},one(n,t,e,i){VL(n,t,e,i,!0)},off(n,t,e,i){if(typeof t!="string"||!n)return;const[r,s,o]=MU(t,e,i),a=o!==t,l=EU(n),c=l[o]||{},u=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;FS(n,l,o,s,r?e:null);return}if(u)for(const h of Object.keys(l))Tot(n,l,h,t.slice(1));for(const h of Object.keys(c)){const f=h.replace(wot,"");if(!a||t.includes(f)){const p=c[h];FS(n,l,o,p.callable,p.delegationSelector)}}},trigger(n,t,e){if(typeof t!="string"||!n)return null;const i=_U(),r=TU(t),s=t!==r;let o=null,a=!0,l=!0,c=!1;s&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());let u=new Event(t,{bubbles:a,cancelable:!0});return u=x1(u,e),c&&u.preventDefault(),l&&n.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function x1(n,t){for(const[e,i]of Object.entries(t||{}))try{n[e]=i}catch{Object.defineProperty(n,e,{configurable:!0,get(){return i}})}return n}const aa=new Map,gx={set(n,t,e){aa.has(n)||aa.set(n,new Map);const i=aa.get(n);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,e)},get(n,t){return aa.has(n)&&aa.get(n).get(t)||null},remove(n,t){if(!aa.has(n))return;const e=aa.get(n);e.delete(t),e.size===0&&aa.delete(n)}};function HL(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function yx(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Oo={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${yx(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${yx(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=HL(n.dataset[i])}return t},getDataAttribute(n,t){return HL(n.getAttribute(`data-bs-${yx(t)}`))}};class zp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Co(e)?Oo.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Co(e)?Oo.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const i of Object.keys(e)){const r=e[i],s=t[i],o=Co(s)?"element":got(s);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const Aot="5.2.2";class bs extends zp{constructor(t,e){super(),t=ka(t),t&&(this._element=t,this._config=this._getConfig(e),gx.set(this._element,this.constructor.DATA_KEY,this))}dispose(){gx.remove(this._element,this.constructor.DATA_KEY),Ft.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){bU(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return gx.get(ka(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return Aot}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Rb=(n,t="hide")=>{const e=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;Ft.on(document,e,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Na(this))return;const s=Ao(this)||this.closest(`.${i}`);n.getOrCreateInstance(s)[t]()})},Cot="alert",Oot="bs.alert",AU=`.${Oot}`,Pot=`close${AU}`,Dot=`closed${AU}`,Rot="fade",Lot="show";class Lb extends bs{static get NAME(){return Cot}close(){if(Ft.trigger(this._element,Pot).defaultPrevented)return;this._element.classList.remove(Lot);const e=this._element.classList.contains(Rot);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Ft.trigger(this._element,Dot),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Lb.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rb(Lb,"close");Gr(Lb);const Iot="button",kot="bs.button",Not=`.${kot}`,Fot=".data-api",Bot="active",$L='[data-bs-toggle="button"]',zot=`click${Not}${Fot}`;class Ib extends bs{static get NAME(){return Iot}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Bot))}static jQueryInterface(t){return this.each(function(){const e=Ib.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}Ft.on(document,zot,$L,n=>{n.preventDefault();const t=n.target.closest($L);Ib.getOrCreateInstance(t).toggle()});Gr(Ib);const ze={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Na(e)&&Vh(e))}},Uot="swipe",Hh=".bs.swipe",Vot=`touchstart${Hh}`,Hot=`touchmove${Hh}`,$ot=`touchend${Hh}`,Wot=`pointerdown${Hh}`,Got=`pointerup${Hh}`,jot="touch",qot="pen",Yot="pointer-event",Xot=40,Kot={endCallback:null,leftCallback:null,rightCallback:null},Qot={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class o_ extends zp{constructor(t,e){super(),this._element=t,!(!t||!o_.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Kot}static get DefaultType(){return Qot}static get NAME(){return Uot}dispose(){Ft.off(this._element,Hh)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),bo(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Xot)return;const e=t/this._deltaX;this._deltaX=0,e&&bo(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ft.on(this._element,Wot,t=>this._start(t)),Ft.on(this._element,Got,t=>this._end(t)),this._element.classList.add(Yot)):(Ft.on(this._element,Vot,t=>this._start(t)),Ft.on(this._element,Hot,t=>this._move(t)),Ft.on(this._element,$ot,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===qot||t.pointerType===jot)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Jot="carousel",Zot="bs.carousel",Ka=`.${Zot}`,CU=".data-api",tat="ArrowLeft",eat="ArrowRight",nat=500,Df="next",ru="prev",Tu="left",Fy="right",iat=`slide${Ka}`,vx=`slid${Ka}`,rat=`keydown${Ka}`,sat=`mouseenter${Ka}`,oat=`mouseleave${Ka}`,aat=`dragstart${Ka}`,lat=`load${Ka}${CU}`,cat=`click${Ka}${CU}`,OU="carousel",jm="active",uat="slide",hat="carousel-item-end",fat="carousel-item-start",dat="carousel-item-next",pat="carousel-item-prev",PU=".active",DU=".carousel-item",mat=PU+DU,gat=".carousel-item img",yat=".carousel-indicators",vat="[data-bs-slide], [data-bs-slide-to]",_at='[data-bs-ride="carousel"]',bat={[tat]:Fy,[eat]:Tu},xat={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},wat={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Up extends bs{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ze.findOne(yat,this._element),this._addEventListeners(),this._config.ride===OU&&this.cycle()}static get Default(){return xat}static get DefaultType(){return wat}static get NAME(){return Jot}next(){this._slide(Df)}nextWhenVisible(){!document.hidden&&Vh(this._element)&&this.next()}prev(){this._slide(ru)}pause(){this._isSliding&&yU(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){Ft.one(this._element,vx,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){Ft.one(this._element,vx,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const r=t>i?Df:ru;this._slide(r,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ft.on(this._element,rat,t=>this._keydown(t)),this._config.pause==="hover"&&(Ft.on(this._element,sat,()=>this.pause()),Ft.on(this._element,oat,()=>this._maybeEnableCycle())),this._config.touch&&o_.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of ze.find(gat,this._element))Ft.on(i,aat,r=>r.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(Tu)),rightCallback:()=>this._slide(this._directionToOrder(Fy)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),nat+this._config.interval))}};this._swipeHelper=new o_(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=bat[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=ze.findOne(PU,this._indicatorsElement);e.classList.remove(jm),e.removeAttribute("aria-current");const i=ze.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(jm),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),r=t===Df,s=e||b1(this._getItems(),i,r,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=p=>Ft.trigger(this._element,p,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(iat).defaultPrevented||!i||!s)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const u=r?fat:hat,h=r?dat:pat;s.classList.add(h),Bp(s),i.classList.add(u),s.classList.add(u);const f=()=>{s.classList.remove(u,h),s.classList.add(jm),i.classList.remove(jm,h,u),this._isSliding=!1,a(vx)};this._queueCallback(f,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(uat)}_getActive(){return ze.findOne(mat,this._element)}_getItems(){return ze.find(DU,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Hr()?t===Tu?ru:Df:t===Tu?Df:ru}_orderToDirection(t){return Hr()?t===ru?Tu:Fy:t===ru?Fy:Tu}static jQueryInterface(t){return this.each(function(){const e=Up.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ft.on(document,cat,vat,function(n){const t=Ao(this);if(!t||!t.classList.contains(OU))return;n.preventDefault();const e=Up.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(Oo.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});Ft.on(window,lat,()=>{const n=ze.find(_at);for(const t of n)Up.getOrCreateInstance(t)});Gr(Up);const Eat="collapse",Sat="bs.collapse",Vp=`.${Sat}`,Mat=".data-api",Tat=`show${Vp}`,Aat=`shown${Vp}`,Cat=`hide${Vp}`,Oat=`hidden${Vp}`,Pat=`click${Vp}${Mat}`,_x="show",Du="collapse",qm="collapsing",Dat="collapsed",Rat=`:scope .${Du} .${Du}`,Lat="collapse-horizontal",Iat="width",kat="height",Nat=".collapse.show, .collapse.collapsing",BS='[data-bs-toggle="collapse"]',Fat={parent:null,toggle:!0},Bat={parent:"(null|element)",toggle:"boolean"};class Kd extends bs{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=ze.find(BS);for(const r of i){const s=gU(r),o=ze.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Fat}static get DefaultType(){return Bat}static get NAME(){return Eat}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Nat).filter(a=>a!==this._element).map(a=>Kd.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||Ft.trigger(this._element,Tat).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(Du),this._element.classList.add(qm),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(qm),this._element.classList.add(Du,_x),this._element.style[i]="",Ft.trigger(this._element,Aat)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ft.trigger(this._element,Cat).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Bp(this._element),this._element.classList.add(qm),this._element.classList.remove(Du,_x);for(const r of this._triggerArray){const s=Ao(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(qm),this._element.classList.add(Du),Ft.trigger(this._element,Oat)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(_x)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=ka(t.parent),t}_getDimension(){return this._element.classList.contains(Lat)?Iat:kat}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(BS);for(const e of t){const i=Ao(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=ze.find(Rat,this._config.parent);return ze.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(!!t.length)for(const i of t)i.classList.toggle(Dat,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Kd.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Ft.on(document,Pat,BS,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const t=gU(this),e=ze.find(t);for(const i of e)Kd.getOrCreateInstance(i,{toggle:!1}).toggle()});Gr(Kd);const WL="dropdown",zat="bs.dropdown",Sc=`.${zat}`,w1=".data-api",Uat="Escape",GL="Tab",Vat="ArrowUp",jL="ArrowDown",Hat=2,$at=`hide${Sc}`,Wat=`hidden${Sc}`,Gat=`show${Sc}`,jat=`shown${Sc}`,RU=`click${Sc}${w1}`,LU=`keydown${Sc}${w1}`,qat=`keyup${Sc}${w1}`,Au="show",Yat="dropup",Xat="dropend",Kat="dropstart",Qat="dropup-center",Jat="dropdown-center",Vl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Zat=`${Vl}.${Au}`,By=".dropdown-menu",tlt=".navbar",elt=".navbar-nav",nlt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ilt=Hr()?"top-end":"top-start",rlt=Hr()?"top-start":"top-end",slt=Hr()?"bottom-end":"bottom-start",olt=Hr()?"bottom-start":"bottom-end",alt=Hr()?"left-start":"right-start",llt=Hr()?"right-start":"left-start",clt="top",ult="bottom",hlt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},flt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class qs extends bs{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ze.next(this._element,By)[0]||ze.prev(this._element,By)[0]||ze.findOne(By,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return hlt}static get DefaultType(){return flt}static get NAME(){return WL}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Na(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Ft.trigger(this._element,Gat,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(elt))for(const i of[].concat(...document.body.children))Ft.on(i,"mouseover",s_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Au),this._element.classList.add(Au),Ft.trigger(this._element,jat,t)}}hide(){if(Na(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Ft.trigger(this._element,$at,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Ft.off(i,"mouseover",s_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Au),this._element.classList.remove(Au),this._element.setAttribute("aria-expanded","false"),Oo.removeDataAttribute(this._menu,"popper"),Ft.trigger(this._element,Wat,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Co(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${WL.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof pU>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Co(this._config.reference)?t=ka(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=_1(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Au)}_getPlacement(){const t=this._parent;if(t.classList.contains(Xat))return alt;if(t.classList.contains(Kat))return llt;if(t.classList.contains(Qat))return clt;if(t.classList.contains(Jat))return ult;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Yat)?e?rlt:ilt:e?olt:slt}_detectNavbar(){return this._element.closest(tlt)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Oo.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const i=ze.find(nlt,this._menu).filter(r=>Vh(r));!i.length||b1(i,e,t===jL,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=qs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===Hat||t.type==="keyup"&&t.key!==GL)return;const e=ze.find(Zat);for(const i of e){const r=qs.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=t.composedPath(),o=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===GL||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===Uat,r=[Vat,jL].includes(t.key);if(!r&&!i||e&&!i)return;t.preventDefault();const s=this.matches(Vl)?this:ze.prev(this,Vl)[0]||ze.next(this,Vl)[0]||ze.findOne(Vl,t.delegateTarget.parentNode),o=qs.getOrCreateInstance(s);if(r){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}Ft.on(document,LU,Vl,qs.dataApiKeydownHandler);Ft.on(document,LU,By,qs.dataApiKeydownHandler);Ft.on(document,RU,qs.clearMenus);Ft.on(document,qat,qs.clearMenus);Ft.on(document,RU,Vl,function(n){n.preventDefault(),qs.getOrCreateInstance(this).toggle()});Gr(qs);const qL=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",YL=".sticky-top",Ym="padding-right",XL="margin-right";class zS{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ym,e=>e+t),this._setElementAttributes(qL,Ym,e=>e+t),this._setElementAttributes(YL,XL,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ym),this._resetElementAttributes(qL,Ym),this._resetElementAttributes(YL,XL)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const r=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Oo.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=r=>{const s=Oo.getDataAttribute(r,e);if(s===null){r.style.removeProperty(e);return}Oo.removeDataAttribute(r,e),r.style.setProperty(e,s)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(Co(t)){e(t);return}for(const i of ze.find(t,this._element))e(i)}}const IU="backdrop",dlt="fade",KL="show",QL=`mousedown.bs.${IU}`,plt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mlt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class kU extends zp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return plt}static get DefaultType(){return mlt}static get NAME(){return IU}show(t){if(!this._config.isVisible){bo(t);return}this._append();const e=this._getElement();this._config.isAnimated&&Bp(e),e.classList.add(KL),this._emulateAnimation(()=>{bo(t)})}hide(t){if(!this._config.isVisible){bo(t);return}this._getElement().classList.remove(KL),this._emulateAnimation(()=>{this.dispose(),bo(t)})}dispose(){!this._isAppended||(Ft.off(this._element,QL),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(dlt),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=ka(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Ft.on(t,QL,()=>{bo(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){bU(t,this._getElement(),this._config.isAnimated)}}const glt="focustrap",ylt="bs.focustrap",a_=`.${ylt}`,vlt=`focusin${a_}`,_lt=`keydown.tab${a_}`,blt="Tab",xlt="forward",JL="backward",wlt={autofocus:!0,trapElement:null},Elt={autofocus:"boolean",trapElement:"element"};class NU extends zp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return wlt}static get DefaultType(){return Elt}static get NAME(){return glt}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ft.off(document,a_),Ft.on(document,vlt,t=>this._handleFocusin(t)),Ft.on(document,_lt,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Ft.off(document,a_))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=ze.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===JL?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===blt&&(this._lastTabNavDirection=t.shiftKey?JL:xlt)}}const Slt="modal",Mlt="bs.modal",xs=`.${Mlt}`,Tlt=".data-api",Alt="Escape",Clt=`hide${xs}`,Olt=`hidePrevented${xs}`,FU=`hidden${xs}`,BU=`show${xs}`,Plt=`shown${xs}`,Dlt=`resize${xs}`,Rlt=`click.dismiss${xs}`,Llt=`mousedown.dismiss${xs}`,Ilt=`keydown.dismiss${xs}`,klt=`click${xs}${Tlt}`,ZL="modal-open",Nlt="fade",tI="show",bx="modal-static",Flt=".modal.show",Blt=".modal-dialog",zlt=".modal-body",Ult='[data-bs-toggle="modal"]',Vlt={backdrop:!0,focus:!0,keyboard:!0},Hlt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bh extends bs{constructor(t,e){super(t,e),this._dialog=ze.findOne(Blt,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zS,this._addEventListeners()}static get Default(){return Vlt}static get DefaultType(){return Hlt}static get NAME(){return Slt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ft.trigger(this._element,BU,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ZL),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Ft.trigger(this._element,Clt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(tI),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])Ft.off(t,xs);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new kU({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new NU({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=ze.findOne(zlt,this._dialog);e&&(e.scrollTop=0),Bp(this._element),this._element.classList.add(tI);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ft.trigger(this._element,Plt,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){Ft.on(this._element,Ilt,t=>{if(t.key===Alt){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),Ft.on(window,Dlt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ft.on(this._element,Llt,t=>{Ft.one(this._element,Rlt,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ZL),this._resetAdjustments(),this._scrollBar.reset(),Ft.trigger(this._element,FU)})}_isAnimated(){return this._element.classList.contains(Nlt)}_triggerBackdropTransition(){if(Ft.trigger(this._element,Olt).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(bx)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(bx),this._queueCallback(()=>{this._element.classList.remove(bx),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const r=Hr()?"paddingLeft":"paddingRight";this._element.style[r]=`${e}px`}if(!i&&t){const r=Hr()?"paddingRight":"paddingLeft";this._element.style[r]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=bh.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}}Ft.on(document,klt,Ult,function(n){const t=Ao(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ft.one(t,BU,r=>{r.defaultPrevented||Ft.one(t,FU,()=>{Vh(this)&&this.focus()})});const e=ze.findOne(Flt);e&&bh.getInstance(e).hide(),bh.getOrCreateInstance(t).toggle(this)});Rb(bh);Gr(bh);const $lt="offcanvas",Wlt="bs.offcanvas",Wo=`.${Wlt}`,zU=".data-api",Glt=`load${Wo}${zU}`,jlt="Escape",eI="show",nI="showing",iI="hiding",qlt="offcanvas-backdrop",UU=".offcanvas.show",Ylt=`show${Wo}`,Xlt=`shown${Wo}`,Klt=`hide${Wo}`,rI=`hidePrevented${Wo}`,VU=`hidden${Wo}`,Qlt=`resize${Wo}`,Jlt=`click${Wo}${zU}`,Zlt=`keydown.dismiss${Wo}`,tct='[data-bs-toggle="offcanvas"]',ect={backdrop:!0,keyboard:!0,scroll:!1},nct={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fa extends bs{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ect}static get DefaultType(){return nct}static get NAME(){return $lt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Ft.trigger(this._element,Ylt,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new zS().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nI);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(eI),this._element.classList.remove(nI),Ft.trigger(this._element,Xlt,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Ft.trigger(this._element,Klt).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(iI),this._backdrop.hide();const e=()=>{this._element.classList.remove(eI,iI),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new zS().reset(),Ft.trigger(this._element,VU)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){Ft.trigger(this._element,rI);return}this.hide()},e=Boolean(this._config.backdrop);return new kU({className:qlt,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new NU({trapElement:this._element})}_addEventListeners(){Ft.on(this._element,Zlt,t=>{if(t.key===jlt){if(!this._config.keyboard){Ft.trigger(this._element,rI);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const e=Fa.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Ft.on(document,Jlt,tct,function(n){const t=Ao(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Na(this))return;Ft.one(t,VU,()=>{Vh(this)&&this.focus()});const e=ze.findOne(UU);e&&e!==t&&Fa.getInstance(e).hide(),Fa.getOrCreateInstance(t).toggle(this)});Ft.on(window,Glt,()=>{for(const n of ze.find(UU))Fa.getOrCreateInstance(n).show()});Ft.on(window,Qlt,()=>{for(const n of ze.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Fa.getOrCreateInstance(n).hide()});Rb(Fa);Gr(Fa);const ict=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rct=/^aria-[\w-]*$/i,sct=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,oct=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,act=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?ict.has(e)?Boolean(sct.test(n.nodeValue)||oct.test(n.nodeValue)):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},HU={"*":["class","dir","id","lang","role",rct],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function lct(n,t,e){if(!n.length)return n;if(e&&typeof e=="function")return e(n);const r=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(t["*"]||[],t[a]||[]);for(const u of l)act(u,c)||o.removeAttribute(u.nodeName)}return r.body.innerHTML}const cct="TemplateFactory",uct={allowList:HU,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},hct={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},fct={entry:"(string|element|function|null)",selector:"(string|element)"};class dct extends zp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return uct}static get DefaultType(){return hct}static get NAME(){return cct}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(t,s,r);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},fct)}_setContent(t,e,i){const r=ze.findOne(i,t);if(!!r){if(e=this._resolvePossibleFunction(e),!e){r.remove();return}if(Co(e)){this._putElementInTemplate(ka(e),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(e);return}r.textContent=e}}_maybeSanitize(t){return this._config.sanitize?lct(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const pct="tooltip",mct=new Set(["sanitize","allowList","sanitizeFn"]),xx="fade",gct="modal",Xm="show",yct=".tooltip-inner",sI=`.${gct}`,oI="hide.bs.modal",Rf="hover",wx="focus",vct="click",_ct="manual",bct="hide",xct="hidden",wct="show",Ect="shown",Sct="inserted",Mct="click",Tct="focusin",Act="focusout",Cct="mouseenter",Oct="mouseleave",Pct={AUTO:"auto",TOP:"top",RIGHT:Hr()?"left":"right",BOTTOM:"bottom",LEFT:Hr()?"right":"left"},Dct={allowList:HU,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rct={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class $h extends bs{constructor(t,e){if(typeof pU>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Dct}static get DefaultType(){return Rct}static get NAME(){return pct}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ft.off(this._element.closest(sI),oI,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=Ft.trigger(this._element,this.constructor.eventName(wct)),i=(vU(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this.tip&&(this.tip.remove(),this.tip=null);const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),Ft.trigger(this._element,this.constructor.eventName(Sct))),this._popper?this._popper.update():this._popper=this._createPopper(r),r.classList.add(Xm),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Ft.on(a,"mouseover",s_);const o=()=>{Ft.trigger(this._element,this.constructor.eventName(Ect)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ft.trigger(this._element,this.constructor.eventName(bct)).defaultPrevented)return;const e=this._getTipElement();if(e.classList.remove(Xm),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Ft.off(r,"mouseover",s_);this._activeTrigger[vct]=!1,this._activeTrigger[wx]=!1,this._activeTrigger[Rf]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||e.remove(),this._element.removeAttribute("aria-describedby"),Ft.trigger(this._element,this.constructor.eventName(xct)),this._disposePopper())};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(xx,Xm),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=yot(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(xx),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new dct({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yct]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xx)}_isShown(){return this.tip&&this.tip.classList.contains(Xm)}_createPopper(t){const e=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,i=Pct[e.toUpperCase()];return _1(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")Ft.on(this._element,this.constructor.eventName(Mct),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(e!==_ct){const i=e===Rf?this.constructor.eventName(Cct):this.constructor.eventName(Tct),r=e===Rf?this.constructor.eventName(Oct):this.constructor.eventName(Act);Ft.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?wx:Rf]=!0,o._enter()}),Ft.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?wx:Rf]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ft.on(this._element.closest(sI),oI,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Oo.getDataAttributes(this._element);for(const i of Object.keys(e))mct.has(i)&&delete e[i];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:ka(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each(function(){const e=$h.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Gr($h);const Lct="popover",Ict=".popover-header",kct=".popover-body",Nct={...$h.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Fct={...$h.DefaultType,content:"(null|string|element|function)"};class E1 extends $h{static get Default(){return Nct}static get DefaultType(){return Fct}static get NAME(){return Lct}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ict]:this._getTitle(),[kct]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=E1.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Gr(E1);const Bct="scrollspy",zct="bs.scrollspy",S1=`.${zct}`,Uct=".data-api",Vct=`activate${S1}`,aI=`click${S1}`,Hct=`load${S1}${Uct}`,$ct="dropdown-item",su="active",Wct='[data-bs-spy="scroll"]',Ex="[href]",Gct=".nav, .list-group",lI=".nav-link",jct=".nav-item",qct=".list-group-item",Yct=`${lI}, ${jct} > ${lI}, ${qct}`,Xct=".dropdown",Kct=".dropdown-toggle",Qct={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Jct={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class kb extends bs{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Qct}static get DefaultType(){return Jct}static get NAME(){return Bct}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=ka(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Ft.off(this._config.target,aI),Ft.on(this._config.target,aI,Ex,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,r=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(i(o),!r)return;continue}!s&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ze.find(Ex,this._config.target);for(const e of t){if(!e.hash||Na(e))continue;const i=ze.findOne(e.hash,this._element);Vh(i)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(su),this._activateParents(t),Ft.trigger(this._element,Vct,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains($ct)){ze.findOne(Kct,t.closest(Xct)).classList.add(su);return}for(const e of ze.parents(t,Gct))for(const i of ze.prev(e,Yct))i.classList.add(su)}_clearActiveClass(t){t.classList.remove(su);const e=ze.find(`${Ex}.${su}`,t);for(const i of e)i.classList.remove(su)}static jQueryInterface(t){return this.each(function(){const e=kb.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ft.on(window,Hct,()=>{for(const n of ze.find(Wct))kb.getOrCreateInstance(n)});Gr(kb);const Zct="tab",tut="bs.tab",Mc=`.${tut}`,eut=`hide${Mc}`,nut=`hidden${Mc}`,iut=`show${Mc}`,rut=`shown${Mc}`,sut=`click${Mc}`,out=`keydown${Mc}`,aut=`load${Mc}`,lut="ArrowLeft",cI="ArrowRight",cut="ArrowUp",uI="ArrowDown",Hl="active",hI="fade",Sx="show",uut="dropdown",hut=".dropdown-toggle",fut=".dropdown-menu",Mx=":not(.dropdown-toggle)",dut='.list-group, .nav, [role="tablist"]',put=".nav-item, .list-group-item",mut=`.nav-link${Mx}, .list-group-item${Mx}, [role="tab"]${Mx}`,$U='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Tx=`${mut}, ${$U}`,gut=`.${Hl}[data-bs-toggle="tab"], .${Hl}[data-bs-toggle="pill"], .${Hl}[data-bs-toggle="list"]`;class xh extends bs{constructor(t){super(t),this._parent=this._element.closest(dut),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ft.on(this._element,out,e=>this._keydown(e)))}static get NAME(){return Zct}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?Ft.trigger(e,eut,{relatedTarget:t}):null;Ft.trigger(t,iut,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Hl),this._activate(Ao(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Sx);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ft.trigger(t,rut,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(hI))}_deactivate(t,e){if(!t)return;t.classList.remove(Hl),t.blur(),this._deactivate(Ao(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Sx);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ft.trigger(t,nut,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(hI))}_keydown(t){if(![lut,cI,cut,uI].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[cI,uI].includes(t.key),i=b1(this._getChildren().filter(r=>!Na(r)),t.target,e,!0);i&&(i.focus({preventScroll:!0}),xh.getOrCreateInstance(i).show())}_getChildren(){return ze.find(Tx,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ao(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(uut))return;const r=(s,o)=>{const a=ze.findOne(s,i);a&&a.classList.toggle(o,e)};r(hut,Hl),r(fut,Sx),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Hl)}_getInnerElement(t){return t.matches(Tx)?t:ze.findOne(Tx,t)}_getOuterElement(t){return t.closest(put)||t}static jQueryInterface(t){return this.each(function(){const e=xh.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ft.on(document,sut,$U,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Na(this)&&xh.getOrCreateInstance(this).show()});Ft.on(window,aut,()=>{for(const n of ze.find(gut))xh.getOrCreateInstance(n)});Gr(xh);const yut="toast",vut="bs.toast",Qa=`.${vut}`,_ut=`mouseover${Qa}`,but=`mouseout${Qa}`,xut=`focusin${Qa}`,wut=`focusout${Qa}`,Eut=`hide${Qa}`,Sut=`hidden${Qa}`,Mut=`show${Qa}`,Tut=`shown${Qa}`,Aut="fade",fI="hide",Km="show",Qm="showing",Cut={animation:"boolean",autohide:"boolean",delay:"number"},Out={animation:!0,autohide:!0,delay:5e3};class Nb extends bs{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Out}static get DefaultType(){return Cut}static get NAME(){return yut}show(){if(Ft.trigger(this._element,Mut).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Aut);const e=()=>{this._element.classList.remove(Qm),Ft.trigger(this._element,Tut),this._maybeScheduleHide()};this._element.classList.remove(fI),Bp(this._element),this._element.classList.add(Km,Qm),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||Ft.trigger(this._element,Eut).defaultPrevented)return;const e=()=>{this._element.classList.add(fI),this._element.classList.remove(Qm,Km),Ft.trigger(this._element,Sut)};this._element.classList.add(Qm),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Km),super.dispose()}isShown(){return this._element.classList.contains(Km)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Ft.on(this._element,_ut,t=>this._onInteraction(t,!0)),Ft.on(this._element,but,t=>this._onInteraction(t,!1)),Ft.on(this._element,xut,t=>this._onInteraction(t,!0)),Ft.on(this._element,wut,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Nb.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rb(Nb);Gr(Nb);var Put={exports:{}};/*!
 * MDB5
 *   Version: FREE 3.11.0
 * 
 * 
 *   Copyright: Material Design for Bootstrap
 *   https://mdbootstrap.com/
 * 
 *   Read the license: https://mdbootstrap.com/general/license/
 * 
 * 
 *   Documentation: https://mdbootstrap.com/docs/standard/
 * 
 *   Support: https://mdbootstrap.com/support/
 * 
 *   Contact: office@mdbootstrap.com
 * 
 */(function(n,t){(function(e,i){n.exports=i()})(EB,function(){return i=[function(s,o,a){(function(l){function c(u){return u&&u.Math==Math&&u}s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,a(71))},function(s,o,c){var l=c(22),c=c(43);l({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},function(s,o){s.exports=function(a){try{return!!a()}catch{return!0}}},function(s,o,l){var l=l(32),c=Function.prototype,u=c.bind,h=c.call,f=l&&u.bind(h,h);s.exports=l?function(p){return p&&f(p)}:function(p){return p&&function(){return h.apply(p,arguments)}}},function(s,o){s.exports=function(a){return typeof a=="function"}},function(s,o,a){var l=a(0),c=a(34),u=a(7),h=a(53),f=a(49),p=a(48),m=c("wks"),g=l.Symbol,y=g&&g.for,v=p?g:g&&g.withoutSetter||h;s.exports=function(x){var S;return u(m,x)&&(f||typeof m[x]=="string")||(S="Symbol."+x,f&&u(g,x)?m[x]=g[x]:m[x]=(p&&y?y:v)(S)),m[x]}},function(s,o,a){a=a(2),s.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,o,a){var l=a(3),c=a(27),u=l({}.hasOwnProperty);s.exports=Object.hasOwn||function(h,f){return u(c(h),f)}},function(s,o,a){var l=a(0),c=a(6),u=a(54),h=a(55),f=a(10),p=a(33),m=l.TypeError,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v="enumerable",x="configurable",S="writable";o.f=c?h?function(E,M,P){var L;return f(E),M=p(M),f(P),typeof E=="function"&&M==="prototype"&&"value"in P&&S in P&&!P[S]&&(L=y(E,M))&&L[S]&&(E[M]=P.value,P={configurable:(x in P?P:L)[x],enumerable:(v in P?P:L)[v],writable:!1}),g(E,M,P)}:g:function(E,M,P){if(f(E),M=p(M),f(P),u)try{return g(E,M,P)}catch{}if("get"in P||"set"in P)throw m("Accessors not supported");return"value"in P&&(E[M]=P.value),E}},function(s,o,m){var l=m(17),c=m(99),u=m(44),x=m(28),h=m(8).f,f=m(100),p=m(26),m=m(6),g="Array Iterator",y=x.set,v=x.getterFor(g),x=(s.exports=f(Array,"Array",function(S,E){y(this,{type:g,target:l(S),index:0,kind:E})},function(){var S=v(this),E=S.target,M=S.kind,P=S.index++;return!E||P>=E.length?{value:S.target=void 0,done:!0}:M=="keys"?{value:P,done:!1}:M=="values"?{value:E[P],done:!1}:{value:[P,E[P]],done:!1}},"values"),u.Arguments=u.Array);if(c("keys"),c("values"),c("entries"),!p&&m&&x.name!=="values")try{h(x,"name",{value:"values"})}catch{}},function(s,o,a){var l=a(0),c=a(13),u=l.String,h=l.TypeError;s.exports=function(f){if(c(f))return f;throw h(u(f)+" is not an object")}},function(s,o,g){function l(S,E){if(S){if(S[y]!==x)try{m(S,y,x)}catch{S[y]=x}if(S[v]||m(S,v,E),h[E]){for(var M in p)if(S[M]!==p[M])try{m(S,M,p[M])}catch{S[M]=p[M]}}}}var c,u=g(0),h=g(103),f=g(104),p=g(9),m=g(14),g=g(5),y=g("iterator"),v=g("toStringTag"),x=p.values;for(c in h)l(u[c]&&u[c].prototype,c);l(f,"DOMTokenList")},function(s,o,l){var l=l(32),c=Function.prototype.call;s.exports=l?c.bind(c):function(){return c.apply(c,arguments)}},function(s,o,a){var l=a(4);s.exports=function(c){return typeof c=="object"?c!==null:l(c)}},function(s,o,a){var l=a(6),c=a(8),u=a(23);s.exports=l?function(h,f,p){return c.f(h,f,u(1,p))}:function(h,f,p){return h[f]=p,h}},function(s,o,a){var l=a(0),c=a(82),u=l.String;s.exports=function(h){if(c(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return u(h)}},function(s,o,et){var l=et(6),c=et(0),u=et(3),h=et(61),f=et(89),p=et(14),m=et(8).f,g=et(57).f,y=et(47),v=et(91),x=et(15),S=et(62),E=et(63),M=et(20),P=et(2),L=et(7),j=et(28).enforce,W=et(92),lt=et(5),U=et(64),A=et(65),F=lt("match"),nt=c.RegExp,q=nt.prototype,D=c.SyntaxError,G=u(S),Z=u(q.exec),V=u("".charAt),Q=u("".replace),ut=u("".indexOf),_t=u("".slice),at=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ct=/a/g,Lt=/a/g,et=new nt(Ct)!==Ct,Y=E.MISSED_STICKY,Et=E.UNSUPPORTED_Y,lt=l&&(!et||Y||U||A||P(function(){return Lt[F]=!1,nt(Ct)!=Ct||nt(Lt)==Lt||nt(Ct,"i")!="/a/i"})),Mt=function($){for(var X,rt=$.length,mt=0,yt="",ht=!1;mt<=rt;mt++)(X=V($,mt))==="\\"?yt+=X+V($,++mt):ht||X!=="."?(X==="["?ht=!0:X==="]"&&(ht=!1),yt+=X):yt+="[\\s\\S]";return yt},xt=function($){for(var X,rt=$.length,mt=0,yt="",ht=[],Tt={},bt=!1,N=!1,R=0,st="";mt<=rt;mt++){if((X=V($,mt))==="\\")X+=V($,++mt);else if(X==="]")bt=!1;else if(!bt)switch(!0){case X==="[":bt=!0;break;case X==="(":Z(at,_t($,mt+1))&&(mt+=2,N=!0),yt+=X,R++;continue;case(X===">"&&N):if(st===""||L(Tt,st))throw new D("Invalid capture group name");Tt[st]=!0,N=!(ht[ht.length]=[st,R]),st="";continue}N?st+=X:yt+=X}return[yt,ht]};if(h("RegExp",lt)){for(var Rt=function($,X){var rt,mt,yt=y(q,this),ht=v($),Tt=X===void 0,bt=[],N=$;if(!yt&&ht&&Tt&&$.constructor===Rt)return $;if((ht||y(q,$))&&($=$.source,Tt&&(X="flags"in N?N.flags:G(N))),$=$===void 0?"":x($),X=X===void 0?"":x(X),N=$,ht=X=U&&"dotAll"in Ct&&(rt=!!X&&-1<ut(X,"s"))?Q(X,/s/g,""):X,Y&&"sticky"in Ct&&(mt=!!X&&-1<ut(X,"y"))&&Et&&(X=Q(X,/y/g,"")),A&&($=(Tt=xt($))[0],bt=Tt[1]),Tt=f(nt($,X),yt?this:q,Rt),(rt||mt||bt.length)&&(X=j(Tt),rt&&(X.dotAll=!0,X.raw=Rt(Mt($),ht)),mt&&(X.sticky=!0),bt.length&&(X.groups=bt)),$!==N)try{p(Tt,"source",N===""?"(?:)":N)}catch{}return Tt},O=g(nt),k=0;O.length>k;)(function($){$ in Rt||m(Rt,$,{configurable:!0,get:function(){return nt[$]},set:function(X){nt[$]=X}})})(O[k++]);(q.constructor=Rt).prototype=q,M(c,"RegExp",Rt)}W("RegExp")},function(s,o,a){var l=a(73),c=a(18);s.exports=function(u){return l(c(u))}},function(s,o,a){var l=a(0).TypeError;s.exports=function(c){if(c==null)throw l("Can't call method on "+c);return c}},function(s,o,a){var l=a(0),c=a(4);s.exports=function(u,h){return arguments.length<2?(f=l[u],c(f)?f:void 0):l[u]&&l[u][h];var f}},function(s,o,a){var l=a(0),c=a(4),u=a(7),h=a(14),f=a(36),p=a(56),m=a(28),g=a(40).CONFIGURABLE,y=m.get,v=m.enforce,x=String(String).split("String");(s.exports=function(S,E,M,A){var L,j=!!A&&!!A.unsafe,W=!!A&&!!A.enumerable,U=!!A&&!!A.noTargetGet,A=A&&A.name!==void 0?A.name:E;c(M)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(M,"name")||g&&M.name!==A)&&h(M,"name",A),(L=v(M)).source||(L.source=x.join(typeof A=="string"?A:""))),S===l?W?S[E]=M:f(E,M):(j?!U&&S[E]&&(W=!0):delete S[E],W?S[E]=M:h(S,E,M))})(Function.prototype,"toString",function(){return c(this)&&y(this).source||p(this)})},function(s,o,q){var l=q(93),c=q(12),u=q(3),h=q(94),f=q(2),p=q(10),m=q(4),g=q(29),y=q(60),v=q(15),x=q(18),S=q(95),E=q(51),M=q(97),P=q(98),L=q(5)("replace"),j=Math.max,W=Math.min,U=u([].concat),A=u([].push),F=u("".indexOf),nt=u("".slice),q="a".replace(/./,"$0")==="$0",D=!!/./[L]&&/./[L]("a","$0")==="";h("replace",function(G,Z,V){var Q=D?"$":"$0";return[function(ut,_t){var at=x(this),Ct=ut==null?void 0:E(ut,L);return Ct?c(Ct,ut,at,_t):c(Z,v(at),ut,_t)},function(ut,_t){var at=p(this),Ct=v(ut);if(typeof _t=="string"&&F(_t,Q)===-1&&F(_t,"$<")===-1&&(ut=V(Z,at,Ct,_t),ut.done))return ut.value;for(var Lt,et=m(_t),Y=(et||(_t=v(_t)),at.global),Et=(Y&&(Lt=at.unicode,at.lastIndex=0),[]);(O=P(at,Ct))!==null&&(A(Et,O),Y);)v(O[0])===""&&(at.lastIndex=S(Ct,y(at.lastIndex),Lt));for(var lt,Mt="",xt=0,Rt=0;Rt<Et.length;Rt++){for(var O,k=v((O=Et[Rt])[0]),$=j(W(g(O.index),Ct.length),0),X=[],rt=1;rt<O.length;rt++)A(X,(lt=O[rt])===void 0?lt:String(lt));var mt=O.groups,yt=et?(yt=U([k],X,$,Ct),mt!==void 0&&A(yt,mt),v(l(_t,void 0,yt))):M(k,Ct,$,X,mt,_t);xt<=$&&(Mt+=nt(Ct,xt,$)+yt,xt=$+k.length)}return Mt+nt(Ct,xt)}]},!!f(function(){var G=/./;return G.exec=function(){var Z=[];return Z.groups={a:"7"},Z},"".replace(G,"$<a>")!=="7"})||!q||D)},function(s,o,a){var l=a(0),c=a(45).f,u=a(14),h=a(20),f=a(36),p=a(78),m=a(61);s.exports=function(g,y){var v,x,S,E=g.target,M=g.global,P=g.stat,L=M?l:P?l[E]||f(E,{}):(l[E]||{}).prototype;if(L)for(v in y){if(x=y[v],S=g.noTargetGet?(S=c(L,v))&&S.value:L[v],!m(M?v:E+(P?".":"#")+v,g.forced)&&S!==void 0){if(typeof x==typeof S)continue;p(x,S)}(g.sham||S&&S.sham)&&u(x,"sham",!0),h(L,v,x,g)}}},function(s,o){s.exports=function(a,l){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:l}}},function(s,o,l){var l=l(3),c=l({}.toString),u=l("".slice);s.exports=function(h){return u(c(h),8,-1)}},function(s,o,a){a=a(19),s.exports=a("navigator","userAgent")||""},function(s,o){s.exports=!1},function(s,o,a){var l=a(0),c=a(18),u=l.Object;s.exports=function(h){return u(c(h))}},function(s,o,L){var l,c,u,h,f,p,m,g,y=L(77),U=L(0),v=L(3),x=L(13),S=L(14),E=L(7),M=L(35),P=L(38),L=L(39),j="Object already initialized",W=U.TypeError,U=U.WeakMap;m=y||M.state?(l=M.state||(M.state=new U),c=v(l.get),u=v(l.has),h=v(l.set),f=function(A,F){if(u(l,A))throw new W(j);return F.facade=A,h(l,A,F),F},p=function(A){return c(l,A)||{}},function(A){return u(l,A)}):(L[g=P("state")]=!0,f=function(A,F){if(E(A,g))throw new W(j);return F.facade=A,S(A,g,F),F},p=function(A){return E(A,g)?A[g]:{}},function(A){return E(A,g)}),s.exports={set:f,get:p,has:m,enforce:function(A){return m(A)?p(A):f(A,{})},getterFor:function(A){return function(F){if(x(F)&&(F=p(F)).type===A)return F;throw W("Incompatible receiver, "+A+" required")}}}},function(s,o){var a=Math.ceil,l=Math.floor;s.exports=function(c){return c=+c,c!=c||c==0?0:(0<c?l:a)(c)}},function(s,o,v){function l(){}function c(L){L.write(M("")),L.close();var j=L.parentWindow.Object;return L=null,j}var u,h=v(10),f=v(84),p=v(42),m=v(39),g=v(86),y=v(37),v=v(38),x="prototype",S="script",E=v("IE_PROTO"),M=function(L){return"<"+S+">"+L+"</"+S+">"},P=function(){try{u=new ActiveXObject("htmlfile")}catch{}P=typeof document>"u"||document.domain&&u?c(u):(L=y("iframe"),j="java"+S+":",L.style.display="none",g.appendChild(L),L.src=String(j),(j=L.contentWindow.document).open(),j.write(M("document.F=Object")),j.close(),j.F);for(var L,j,W=p.length;W--;)delete P[x][p[W]];return P()};m[E]=!0,s.exports=Object.create||function(L,j){var W;return L!==null?(l[x]=h(L),W=new l,l[x]=null,W[E]=L):W=P(),j===void 0?W:f.f(W,j)}},function(s,o,a){var l=a(22),c=a(87).trim;l({target:"String",proto:!0,forced:a(88)("trim")},{trim:function(){return c(this)}})},function(s,o,a){a=a(2),s.exports=!a(function(){var l=function(){}.bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},function(s,o,a){var l=a(74),c=a(46);s.exports=function(u){return u=l(u,"string"),c(u)?u:u+""}},function(s,o,a){var l=a(26),c=a(35);(s.exports=function(u,h){return c[u]||(c[u]=h!==void 0?h:{})})("versions",[]).push({version:"3.21.1",mode:l?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(s,o,l){var u=l(0),l=l(36),c="__core-js_shared__",u=u[c]||l(c,{});s.exports=u},function(s,o,a){var l=a(0),c=Object.defineProperty;s.exports=function(u,h){try{c(l,u,{value:h,configurable:!0,writable:!0})}catch{l[u]=h}return h}},function(s,o,c){var l=c(0),c=c(13),u=l.document,h=c(u)&&c(u.createElement);s.exports=function(f){return h?u.createElement(f):{}}},function(s,o,a){var l=a(34),c=a(53),u=l("keys");s.exports=function(h){return u[h]||(u[h]=c(h))}},function(s,o){s.exports={}},function(s,o,u){var f=u(6),u=u(7),l=Function.prototype,c=f&&Object.getOwnPropertyDescriptor,u=u(l,"name"),h=u&&function(){}.name==="something",f=u&&(!f||c(l,"name").configurable);s.exports={EXISTS:u,PROPER:h,CONFIGURABLE:f}},function(s,o,a){var l=a(60);s.exports=function(c){return l(c.length)}},function(s,o){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,o,v){var l=v(12),c=v(3),u=v(15),h=v(62),f=v(63),p=v(34),m=v(30),g=v(28).get,y=v(64),v=v(65),x=p("native-string-replace",String.prototype.replace),S=RegExp.prototype.exec,E=S,M=c("".charAt),P=c("".indexOf),L=c("".replace),j=c("".slice),W=(p=/b*/g,l(S,c=/a/,"a"),l(S,p,"a"),c.lastIndex!==0||p.lastIndex!==0),U=f.BROKEN_CARET,A=/()??/.exec("")[1]!==void 0;(W||A||U||y||v)&&(E=function(ut){var nt,q,D,G,Z,V,Q=this,Lt=g(Q),ut=u(ut),at=Lt.raw;if(at)return at.lastIndex=Q.lastIndex,Ct=l(E,at,ut),Q.lastIndex=at.lastIndex,Ct;var _t=Lt.groups,at=U&&Q.sticky,Ct=l(h,Q),Lt=Q.source,et=0,Y=ut;if(at&&(Ct=L(Ct,"y",""),P(Ct,"g")===-1&&(Ct+="g"),Y=j(ut,Q.lastIndex),0<Q.lastIndex&&(!Q.multiline||Q.multiline&&M(ut,Q.lastIndex-1)!==`
`)&&(Lt="(?: "+Lt+")",Y=" "+Y,et++),nt=new RegExp("^(?:"+Lt+")",Ct)),A&&(nt=new RegExp("^"+Lt+"$(?!\\s)",Ct)),W&&(q=Q.lastIndex),D=l(S,at?nt:Q,Y),at?D?(D.input=j(D.input,et),D[0]=j(D[0],et),D.index=Q.lastIndex,Q.lastIndex+=D[0].length):Q.lastIndex=0:W&&D&&(Q.lastIndex=Q.global?D.index+D[0].length:q),A&&D&&1<D.length&&l(x,D[0],nt,function(){for(G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(D[G]=void 0)}),D&&_t)for(D.groups=Z=m(null),G=0;G<_t.length;G++)Z[(V=_t[G])[0]]=D[V[1]];return D}),s.exports=E},function(s,o){s.exports={}},function(s,o,a){var l=a(6),c=a(12),u=a(72),h=a(23),f=a(17),p=a(33),m=a(7),g=a(54),y=Object.getOwnPropertyDescriptor;o.f=l?y:function(v,x){if(v=f(v),x=p(x),g)try{return y(v,x)}catch{}if(m(v,x))return h(!c(u.f,v,x),v[x])}},function(s,o,f){var l=f(0),c=f(19),u=f(4),h=f(47),f=f(48),p=l.Object;s.exports=f?function(m){return typeof m=="symbol"}:function(m){var g=c("Symbol");return u(g)&&h(g.prototype,p(m))}},function(s,o,a){a=a(3),s.exports=a({}.isPrototypeOf)},function(s,o,a){a=a(49),s.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,o,c){var l=c(50),c=c(2);s.exports=!!Object.getOwnPropertySymbols&&!c(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(s,o,u){var l,c,f=u(0),u=u(25),h=f.process,f=f.Deno,h=h&&h.versions||f&&f.version,f=h&&h.v8;!(c=f?0<(l=f.split("."))[0]&&l[0]<4?1:+(l[0]+l[1]):c)&&u&&(!(l=u.match(/Edge\/(\d+)/))||74<=l[1])&&(l=u.match(/Chrome\/(\d+)/))&&(c=+l[1]),s.exports=c},function(s,o,a){var l=a(52);s.exports=function(c,u){return c=c[u],c==null?void 0:l(c)}},function(s,o,a){var l=a(0),c=a(4),u=a(75),h=l.TypeError;s.exports=function(f){if(c(f))return f;throw h(u(f)+" is not a function")}},function(s,o,l){var l=l(3),c=0,u=Math.random(),h=l(1 .toString);s.exports=function(f){return"Symbol("+(f===void 0?"":f)+")_"+h(++c+u,36)}},function(s,o,a){var l=a(6),c=a(2),u=a(37);s.exports=!l&&!c(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},function(s,o,c){var l=c(6),c=c(2);s.exports=l&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(s,o,u){var l=u(3),c=u(4),u=u(35),h=l(Function.toString);c(u.inspectSource)||(u.inspectSource=function(f){return h(f)}),s.exports=u.inspectSource},function(s,o,a){var l=a(58),c=a(42).concat("length","prototype");o.f=Object.getOwnPropertyNames||function(u){return l(u,c)}},function(s,o,a){var l=a(3),c=a(7),u=a(17),h=a(80).indexOf,f=a(39),p=l([].push);s.exports=function(m,g){var y,v=u(m),x=0,S=[];for(y in v)!c(f,y)&&c(v,y)&&p(S,y);for(;g.length>x;)!c(v,y=g[x++])||~h(S,y)||p(S,y);return S}},function(s,o,a){var l=a(29),c=Math.max,u=Math.min;s.exports=function(h,f){return h=l(h),h<0?c(h+f,0):u(h,f)}},function(s,o,a){var l=a(29),c=Math.min;s.exports=function(u){return 0<u?c(l(u),9007199254740991):0}},function(s,o,a){function l(y,v){return(y=p[f(y)])==g||y!=m&&(u(v)?c(v):!!v)}var c=a(2),u=a(4),h=/#|\.prototype\./,f=l.normalize=function(y){return String(y).replace(h,".").toLowerCase()},p=l.data={},m=l.NATIVE="N",g=l.POLYFILL="P";s.exports=l},function(s,o,a){var l=a(10);s.exports=function(){var c=l(this),u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),c.dotAll&&(u+="s"),c.unicode&&(u+="u"),c.sticky&&(u+="y"),u}},function(s,o,c){var h=c(2),l=c(0).RegExp,c=h(function(){var f=l("a","y");return f.lastIndex=2,f.exec("abcd")!=null}),u=c||h(function(){return!l("a","y").sticky}),h=c||h(function(){var f=l("^r","gy");return f.lastIndex=2,f.exec("str")!=null});s.exports={BROKEN_CARET:h,MISSED_STICKY:u,UNSUPPORTED_Y:c}},function(s,o,a){var l=a(2),c=a(0).RegExp;s.exports=l(function(){var u=c(".","s");return!(u.dotAll&&u.exec(`
`)&&u.flags==="s")})},function(s,o,a){var l=a(2),c=a(0).RegExp;s.exports=l(function(){var u=c("(?<a>b)","g");return u.exec("b").groups.a!=="b"||"b".replace(u,"$<a>c")!=="bc"})},function(s,o){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(s,o,a){var l=a(3),c=a(10),u=a(90);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,p={};try{(h=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(p,[]),f=p instanceof Array}catch{}return function(m,g){return c(m),u(g),f?h(m,g):m.__proto__=g,m}}():void 0)},function(s,o,g){var l,c,u=g(2),h=g(4),f=g(30),p=g(69),m=g(20),v=g(5),g=g(26),y=v("iterator"),v=!1;[].keys&&("next"in(c=[].keys())?(p=p(p(c)))!==Object.prototype&&(l=p):v=!0),l==null||u(function(){var x={};return l[y].call(x)!==x})?l={}:g&&(l=f(l)),h(l[y])||m(l,y,function(){return this}),s.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:v}},function(s,o,p){var l=p(0),c=p(7),u=p(4),h=p(27),f=p(38),p=p(102),m=f("IE_PROTO"),g=l.Object,y=g.prototype;s.exports=p?g.getPrototypeOf:function(v){if(v=h(v),c(v,m))return v[m];var x=v.constructor;return u(x)&&v instanceof x?x.prototype:v instanceof g?y:null}},function(s,o,a){var l=a(8).f,c=a(7),u=a(5)("toStringTag");s.exports=function(h,f,p){(h=h&&!p?h.prototype:h)&&!c(h,u)&&l(h,u,{configurable:!0,value:f})}},function(s,o){var a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a},function(s,o,a){var l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!l.call({1:2},1);o.f=u?function(h){return h=c(this,h),!!h&&h.enumerable}:l},function(s,o,a){var l=a(0),c=a(3),u=a(2),h=a(24),f=l.Object,p=c("".split);s.exports=u(function(){return!f("z").propertyIsEnumerable(0)})?function(m){return h(m)=="String"?p(m,""):f(m)}:f},function(s,o,m){var l=m(0),c=m(12),u=m(13),h=m(46),f=m(51),p=m(76),m=m(5),g=l.TypeError,y=m("toPrimitive");s.exports=function(v,x){if(!u(v)||h(v))return v;var S=f(v,y);if(S){if(S=c(S,v,x=x===void 0?"default":x),!u(S)||h(S))return S;throw g("Can't convert object to primitive value")}return p(v,x=x===void 0?"number":x)}},function(s,o,a){var l=a(0).String;s.exports=function(c){try{return l(c)}catch{return"Object"}}},function(s,o,a){var l=a(0),c=a(12),u=a(4),h=a(13),f=l.TypeError;s.exports=function(p,m){var g,y;if(m==="string"&&u(g=p.toString)&&!h(y=c(g,p))||u(g=p.valueOf)&&!h(y=c(g,p))||m!=="string"&&u(g=p.toString)&&!h(y=c(g,p)))return y;throw f("Can't convert object to primitive value")}},function(s,o,c){var u=c(0),l=c(4),c=c(56),u=u.WeakMap;s.exports=l(u)&&/native code/.test(c(u))},function(s,o,a){var l=a(7),c=a(79),u=a(45),h=a(8);s.exports=function(f,p,m){for(var g=c(p),y=h.f,v=u.f,x=0;x<g.length;x++){var S=g[x];l(f,S)||m&&l(m,S)||y(f,S,v(p,S))}}},function(s,o,a){var l=a(19),c=a(3),u=a(57),h=a(81),f=a(10),p=c([].concat);s.exports=l("Reflect","ownKeys")||function(m){var g=u.f(f(m)),y=h.f;return y?p(g,y(m)):g}},function(s,o,a){function l(f){return function(p,m,g){var y,v=c(p),x=h(v),S=u(g,x);if(f&&m!=m){for(;S<x;)if((y=v[S++])!=y)return!0}else for(;S<x;S++)if((f||S in v)&&v[S]===m)return f||S||0;return!f&&-1}}var c=a(17),u=a(59),h=a(41);s.exports={includes:l(!0),indexOf:l(!1)}},function(s,o){o.f=Object.getOwnPropertySymbols},function(s,o,a){var l=a(0),c=a(83),u=a(4),h=a(24),f=a(5)("toStringTag"),p=l.Object,m=h(function(){return arguments}())=="Arguments";s.exports=c?h:function(g){var y;return g===void 0?"Undefined":g===null?"Null":typeof(y=function(v,x){try{return v[x]}catch{}}(g=p(g),f))=="string"?y:m?h(g):(y=h(g))=="Object"&&u(g.callee)?"Arguments":y}},function(s,o,a){var l={};l[a(5)("toStringTag")]="z",s.exports=String(l)==="[object z]"},function(s,o,a){var l=a(6),c=a(55),u=a(8),h=a(10),f=a(17),p=a(85);o.f=l&&!c?Object.defineProperties:function(m,g){h(m);for(var y,v=f(g),x=p(g),S=x.length,E=0;E<S;)u.f(m,y=x[E++],v[y]);return m}},function(s,o,a){var l=a(58),c=a(42);s.exports=Object.keys||function(u){return l(u,c)}},function(s,o,a){a=a(19),s.exports=a("document","documentElement")},function(s,o,h){function l(y){return function(v){return v=u(c(v)),1&y&&(v=f(v,m,"")),v=2&y?f(v,g,""):v}}var p=h(3),c=h(18),u=h(15),h=h(66),f=p("".replace),p="["+h+"]",m=RegExp("^"+p+p+"*"),g=RegExp(p+p+"*$");s.exports={start:l(1),end:l(2),trim:l(3)}},function(s,o,a){var l=a(40).PROPER,c=a(2),u=a(66);s.exports=function(h){return c(function(){return!!u[h]()||"\u200B\x85\u180E"[h]()!=="\u200B\x85\u180E"||l&&u[h].name!==h})}},function(s,o,a){var l=a(4),c=a(13),u=a(67);s.exports=function(h,f,p){return u&&l(f=f.constructor)&&f!==p&&c(f=f.prototype)&&f!==p.prototype&&u(h,f),h}},function(s,o,a){var l=a(0),c=a(4),u=l.String,h=l.TypeError;s.exports=function(f){if(typeof f=="object"||c(f))return f;throw h("Can't set "+u(f)+" as a prototype")}},function(s,o,a){var l=a(13),c=a(24),u=a(5)("match");s.exports=function(h){var f;return l(h)&&((f=h[u])!==void 0?!!f:c(h)=="RegExp")}},function(s,o,a){var l=a(19),c=a(8),u=a(5),h=a(6),f=u("species");s.exports=function(m){var m=l(m),g=c.f;h&&m&&!m[f]&&g(m,f,{configurable:!0,get:function(){return this}})}},function(s,o,l){var l=l(32),c=Function.prototype,u=c.apply,h=c.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(l?h.bind(u):function(){return h.apply(u,arguments)})},function(s,o,a){a(1);var l=a(3),c=a(20),u=a(43),h=a(2),f=a(5),p=a(14),m=f("species"),g=RegExp.prototype;s.exports=function(y,v,x,S){var E,M=f(y),P=!h(function(){var j={};return j[M]=function(){return 7},""[y](j)!=7}),L=P&&!h(function(){var j=!1,W=/a/;return y==="split"&&((W={constructor:{}}).constructor[m]=function(){return W},W.flags="",W[M]=/./[M]),W.exec=function(){return j=!0,null},W[M](""),!j});P&&L&&!x||(E=l(/./[M]),L=v(M,""[y],function(nt,W,U,A,F){var nt=l(nt),q=W.exec;return q===u||q===g.exec?P&&!F?{done:!0,value:E(W,U,A)}:{done:!0,value:nt(U,W,A)}:{done:!1}}),c(String.prototype,y,L[0]),c(g,M,L[1])),S&&p(g[M],"sham",!0)}},function(s,o,a){var l=a(96).charAt;s.exports=function(c,u,h){return u+(h?l(c,u).length:1)}},function(s,o,a){function l(y){return function(E,M){var S,E=h(f(E)),M=u(M),P=E.length;return M<0||P<=M?y?"":void 0:(S=m(E,M))<55296||56319<S||M+1===P||(P=m(E,M+1))<56320||57343<P?y?p(E,M):S:y?g(E,M,M+2):P-56320+(S-55296<<10)+65536}}var c=a(3),u=a(29),h=a(15),f=a(18),p=c("".charAt),m=c("".charCodeAt),g=c("".slice);s.exports={codeAt:l(!1),charAt:l(!0)}},function(s,o,a){var l=a(3),c=a(27),u=Math.floor,h=l("".charAt),f=l("".replace),p=l("".slice),m=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,g=/\$([$&'`]|\d{1,2})/g;s.exports=function(y,v,x,S,E,M){var P=x+y.length,L=S.length,j=g;return E!==void 0&&(E=c(E),j=m),f(M,j,function(W,U){var A;switch(h(U,0)){case"$":return"$";case"&":return y;case"`":return p(v,0,x);case"'":return p(v,P);case"<":A=E[p(U,1,-1)];break;default:var F,nt=+U;if(nt==0)return W;if(L<nt)return(F=u(nt/10))!==0&&F<=L?S[F-1]===void 0?h(U,1):S[F-1]+h(U,1):W;A=S[nt-1]}return A===void 0?"":A})}},function(s,o,a){var l=a(0),c=a(12),u=a(10),h=a(4),f=a(24),p=a(43),m=l.TypeError;s.exports=function(g,y){var v=g.exec;if(h(v))return(v=c(v,g,y))!==null&&u(v),v;if(f(g)==="RegExp")return c(p,g,y);throw m("RegExp#exec called on incompatible receiver")}},function(s,o,u){var l=u(5),c=u(30),u=u(8),h=l("unscopables"),f=Array.prototype;f[h]==null&&u.f(f,h,{configurable:!0,value:c(null)}),s.exports=function(p){f[h][p]=!0}},function(s,o,P){function l(){return this}var c=P(22),u=P(12),h=P(26),f=P(40),p=P(4),m=P(101),g=P(69),y=P(67),v=P(70),x=P(14),S=P(20),E=P(5),M=P(44),P=P(68),L=f.PROPER,j=f.CONFIGURABLE,W=P.IteratorPrototype,U=P.BUGGY_SAFARI_ITERATORS,A=E("iterator"),F="values",nt="entries";s.exports=function(q,D,G,Lt,V,Q,ut){m(G,D,Lt);function _t(xt){if(xt===V&&lt)return lt;if(!U&&xt in Y)return Y[xt];switch(xt){case"keys":case F:case nt:return function(){return new G(this,xt)}}return function(){return new G(this)}}var at,Ct,Lt=D+" Iterator",et=!1,Y=q.prototype,Et=Y[A]||Y["@@iterator"]||V&&Y[V],lt=!U&&Et||_t(V),Mt=D=="Array"&&Y.entries||Et;if(Mt&&(Mt=g(Mt.call(new q)))!==Object.prototype&&Mt.next&&(h||g(Mt)===W||(y?y(Mt,W):p(Mt[A])||S(Mt,A,l)),v(Mt,Lt,!0,!0),h&&(M[Lt]=l)),L&&V==F&&Et&&Et.name!==F&&(!h&&j?x(Y,"name",F):(et=!0,lt=function(){return u(Et,this)})),V)if(at={values:_t(F),keys:Q?lt:_t("keys"),entries:_t(nt)},ut)for(Ct in at)!U&&!et&&Ct in Y||S(Y,Ct,at[Ct]);else c({target:D,proto:!0,forced:U||et},at);return h&&!ut||Y[A]===lt||S(Y,A,lt,{name:V}),M[D]=lt,at}},function(s,o,a){function l(){return this}var c=a(68).IteratorPrototype,u=a(30),h=a(23),f=a(70),p=a(44);s.exports=function(m,g,y,v){return g+=" Iterator",m.prototype=u(c,{next:h(+!v,y)}),f(m,g,!1,!0),p[g]=l,m}},function(s,o,a){a=a(2),s.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(s,o){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,o,a){a=a(37)("span").classList,a=a&&a.constructor&&a.constructor.prototype,s.exports=a===Object.prototype?void 0:a},function(s,o,P){var l=P(22),L=P(3),c=P(52),u=P(27),h=P(41),f=P(15),p=P(2),m=P(106),j=P(109),g=P(110),y=P(111),v=P(50),x=P(112),S=[],E=L(S.sort),M=L(S.push),P=p(function(){S.sort(void 0)}),L=p(function(){S.sort(null)}),j=j("sort"),W=!p(function(){if(v)return v<70;if(!(g&&3<g)){if(y)return!0;if(x)return x<603;for(var U,A,F,nt="",q=65;q<76;q++){switch(U=String.fromCharCode(q),q){case 66:case 69:case 70:case 72:A=3;break;case 68:case 71:A=4;break;default:A=2}for(F=0;F<47;F++)S.push({k:U+F,v:A})}for(S.sort(function(D,G){return G.v-D.v}),F=0;F<S.length;F++)U=S[F].k.charAt(0),nt.charAt(nt.length-1)!==U&&(nt+=U);return nt!=="DGBEFHACIJK"}});l({target:"Array",proto:!0,forced:P||!L||!j||!W},{sort:function(U){U!==void 0&&c(U);var A=u(this);if(W)return U===void 0?E(A):E(A,U);for(var F,nt,q=[],D=h(A),G=0;G<D;G++)G in A&&M(q,A[G]);for(m(q,(nt=U,function(Z,V){return V===void 0?-1:Z===void 0?1:nt!==void 0?+nt(Z,V)||0:f(Z)>f(V)?1:-1})),F=q.length,G=0;G<F;)A[G]=q[G++];for(;G<D;)delete A[G++];return A}})},function(s,o,a){function l(h,f){var p=h.length,m=u(p/2);if(p<8){for(var g,y,v=h,x=f,S=v.length,E=1;E<S;){for(g=v[y=E];y&&0<x(v[y-1],g);)v[y]=v[--y];y!==E++&&(v[y]=g)}return v}for(var M=h,P=l(c(h,0,m),f),L=l(c(h,m),f),j=f,W=P.length,U=L.length,A=0,F=0;A<W||F<U;)M[A+F]=A<W&&F<U?j(P[A],L[F])<=0?P[A++]:L[F++]:A<W?P[A++]:L[F++];return M}var c=a(107),u=Math.floor;s.exports=l},function(s,o,a){var l=a(0),c=a(59),u=a(41),h=a(108),f=l.Array,p=Math.max;s.exports=function(m,g,y){for(var v=u(m),x=c(g,v),S=c(y===void 0?v:y,v),E=f(p(S-x,0)),M=0;x<S;x++,M++)h(E,M,m[x]);return E.length=M,E}},function(s,o,a){var l=a(33),c=a(8),u=a(23);s.exports=function(h,f,p){f=l(f),f in h?c.f(h,f,u(0,p)):h[f]=p}},function(s,o,a){var l=a(2);s.exports=function(c,u){var h=[][c];return!!h&&l(function(){h.call(null,u||function(){return 1},1)})}},function(s,o,a){a=a(25).match(/firefox\/(\d+)/i),s.exports=!!a&&+a[1]},function(s,o,a){a=a(25),s.exports=/MSIE|Trident/.test(a)},function(s,o,a){a=a(25).match(/AppleWebKit\/(\d+)\./),s.exports=!!a&&+a[1]},function(s,o){function a(u){var h=c[u];return h!==void 0?h.exports:(h=c[u]={id:u,exports:{}},l[u](h,h.exports,a),h.exports)}var l,c;l={454:(u,h,f)=>{f.d(h,{Z:()=>p}),h=f(645),f=f.n(h)()(function(m){return m[1]}),f.push([u.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const p=f},645:u=>{u.exports=function(h){var f=[];return f.toString=function(){return this.map(function(p){var m=h(p);return p[2]?"@media ".concat(p[2]," {").concat(m,"}"):m}).join("")},f.i=function(p,m,g){typeof p=="string"&&(p=[[null,p,""]]);var y={};if(g)for(var v=0;v<this.length;v++){var x=this[v][0];x!=null&&(y[x]=!0)}for(var S=0;S<p.length;S++){var E=[].concat(p[S]);g&&y[E[0]]||(m&&(E[2]?E[2]="".concat(m," and ").concat(E[2]):E[2]=m),f.push(E))}},f}},810:()=>{if(typeof window<"u")try{var u=new window.CustomEvent("test",{cancelable:!0});if(u.preventDefault(),u.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{let f=function(p,m){var g,y;return(m=m||{}).bubbles=!!m.bubbles,m.cancelable=!!m.cancelable,(g=document.createEvent("CustomEvent")).initCustomEvent(p,m.bubbles,m.cancelable,m.detail),y=g.preventDefault,g.preventDefault=function(){y.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},g};f.prototype=window.Event.prototype,window.CustomEvent=f}},379:(u,h,f)=>{m={};var p,m,g=function(W){if(m[W]===void 0){var U=document.querySelector(W);if(window.HTMLIFrameElement&&U instanceof window.HTMLIFrameElement)try{U=U.contentDocument.head}catch{U=null}m[W]=U}return m[W]},y=[];function v(W){for(var U=-1,A=0;A<y.length;A++)if(y[A].identifier===W){U=A;break}return U}function x(W,U){for(var A={},F=[],nt=0;nt<W.length;nt++){var q=W[nt],G=U.base?q[0]+U.base:q[0],Z=A[G]||0,D="".concat(G," ").concat(Z),G=(A[G]=Z+1,v(D)),Z={css:q[1],media:q[2],sourceMap:q[3]};G!==-1?(y[G].references++,y[G].updater(Z)):y.push({identifier:D,updater:function(V,Q){var ut,_t,at;{var Ct;at=Q.singleton?(Ct=j++,ut=L=L||S(Q),_t=P.bind(null,ut,Ct,!1),P.bind(null,ut,Ct,!0)):(ut=S(Q),_t=function(Lt,et,Mt){var Et=Mt.css,lt=Mt.media,Mt=Mt.sourceMap;if(lt?Lt.setAttribute("media",lt):Lt.removeAttribute("media"),Mt&&typeof btoa<"u"&&(Et+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Mt))))," */")),Lt.styleSheet)Lt.styleSheet.cssText=Et;else{for(;Lt.firstChild;)Lt.removeChild(Lt.firstChild);Lt.appendChild(document.createTextNode(Et))}}.bind(null,ut,Q),function(){var Lt;(Lt=ut).parentNode!==null&&Lt.parentNode.removeChild(Lt)})}return _t(V),function(Lt){Lt?Lt.css===V.css&&Lt.media===V.media&&Lt.sourceMap===V.sourceMap||_t(V=Lt):at()}}(Z,U),references:1}),F.push(D)}return F}function S(W){var U=document.createElement("style"),A=W.attributes||{};if(A.nonce!==void 0||(F=f.nc)&&(A.nonce=F),Object.keys(A).forEach(function(nt){U.setAttribute(nt,A[nt])}),typeof W.insert=="function")W.insert(U);else{var F=g(W.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(U)}return U}E=[];var E,M=function(W,U){return E[W]=U,E.filter(Boolean).join(`
`)};function P(W,U,nt,F){var nt=nt?"":F.media?"@media ".concat(F.media," {").concat(F.css,"}"):F.css;W.styleSheet?W.styleSheet.cssText=M(U,nt):(F=document.createTextNode(nt),(nt=W.childNodes)[U]&&W.removeChild(nt[U]),nt.length?W.insertBefore(F,nt[U]):W.appendChild(F))}var L=null,j=0;u.exports=function(W,U){(U=U||{}).singleton||typeof U.singleton=="boolean"||(U.singleton=p=p===void 0?Boolean(window&&document&&document.all&&!window.atob):p);var A=x(W=W||[],U);return function(F){if(F=F||[],Object.prototype.toString.call(F)==="[object Array]"){for(var nt=0;nt<A.length;nt++){var q=v(A[nt]);y[q].references--}for(var F=x(F,U),D=0;D<A.length;D++){var G=v(A[D]);y[G].references===0&&(y[G].updater(),y.splice(G,1))}A=F}}}}},c={},a.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return a.d(h,{a:h}),h},a.d=(u,h)=>{for(var f in h)a.o(h,f)&&!a.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:h[f]})},a.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),(()=>{var u=a(379),u=a.n(u),h=a(454);function f(m){var g;m.hasAttribute("autocompleted")||(m.setAttribute("autocompleted",""),g=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null}),m.dispatchEvent(g)||(m.value=""))}function p(m){m.hasAttribute("autocompleted")&&(m.removeAttribute("autocompleted"),m.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}u()(h.Z,{insert:"head",singleton:!1}),h.Z.locals,a(810),document.addEventListener("animationstart",function(m){(m.animationName==="onautofillstart"?f:p)(m.target)},!0),document.addEventListener("input",function(m){(m.inputType!=="insertReplacementText"&&"data"in m?p:f)(m.target)},!0)})()},,,function(s,o,a){a.r(o),a.d(o,"Alert",function(){return Kp}),a.d(o,"Button",function(){return wt}),a.d(o,"Carousel",function(){return OH}),a.d(o,"Collapse",function(){return el}),a.d(o,"Offcanvas",function(){return Oc}),a.d(o,"Dropdown",function(){return d$}),a.d(o,"Input",function(){return q4}),a.d(o,"Modal",function(){return UH}),a.d(o,"Popover",function(){return h4}),a.d(o,"Ripple",function(){return y$}),a.d(o,"ScrollSpy",function(){return y4}),a.d(o,"Tab",function(){return S4}),a.d(o,"Toast",function(){return W4}),a.d(o,"Tooltip",function(){return P4}),a.d(o,"Range",function(){return _$});var l={};a.r(l),a.d(l,"top",function(){return Gi}),a.d(l,"bottom",function(){return gr}),a.d(l,"right",function(){return yr}),a.d(l,"left",function(){return ji}),a.d(l,"auto",function(){return tm}),a.d(l,"basePlacements",function(){return Ic}),a.d(l,"start",function(){return ul}),a.d(l,"end",function(){return kc}),a.d(l,"clippingParents",function(){return SA}),a.d(l,"viewport",function(){return t0}),a.d(l,"popper",function(){return Nc}),a.d(l,"reference",function(){return MA}),a.d(l,"variationPlacements",function(){return e0}),a.d(l,"placements",function(){return n0}),a.d(l,"beforeRead",function(){return TA}),a.d(l,"read",function(){return AA}),a.d(l,"afterRead",function(){return CA}),a.d(l,"beforeMain",function(){return OA}),a.d(l,"main",function(){return PA}),a.d(l,"afterMain",function(){return DA}),a.d(l,"beforeWrite",function(){return RA}),a.d(l,"write",function(){return LA}),a.d(l,"afterWrite",function(){return IA}),a.d(l,"modifierPhases",function(){return kA}),a.d(l,"applyStyles",function(){return i0}),a.d(l,"arrow",function(){return HA}),a.d(l,"computeStyles",function(){return o0}),a.d(l,"eventListeners",function(){return a0}),a.d(l,"flip",function(){return qA}),a.d(l,"hide",function(){return KA}),a.d(l,"offset",function(){return QA}),a.d(l,"popperOffsets",function(){return f0}),a.d(l,"preventOverflow",function(){return JA}),a.d(l,"popperGenerator",function(){return sm}),a.d(l,"detectOverflow",function(){return Vc}),a.d(l,"createPopperBase",function(){return qH}),a.d(l,"createPopper",function(){return d0}),a.d(l,"createPopperLite",function(){return YH}),a(1),a(31),a(16);const c=b=>{let d=b.getAttribute("data-mdb-target");if(!d||d==="#"){const _=b.getAttribute("href");d=_&&_!=="#"?_.trim():null}return d},u=(b,d,_)=>{Object.keys(_).forEach(T=>{var I,z=_[T],J=d[T],J=J&&((I=J)[0]||I).nodeType?"element":(I=J)==null?"".concat(I):{}.toString.call(I).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(J))throw new Error("".concat(b.toUpperCase(),": ")+'Option "'.concat(T,'" provided type "').concat(J,'" ')+'but expected type "'.concat(z,'".'))})},h=()=>{var b=window.jQuery;return b&&!document.body.hasAttribute("data-mdb-no-jquery")?b:null},f=b=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b()};document.documentElement.dir;const p=b=>document.createElement(b),m=(()=>{const b={};let d=1;return{set(_,T,I){_[T]===void 0&&(_[T]={key:T,id:d},d++),b[_[T].id]=I},get(_,T){return!_||_[T]===void 0?null:(_=_[T],_.key===T?b[_.id]:null)},delete(_,T){var I;_[T]!==void 0&&(I=_[T]).key===T&&(delete b[I.id],delete _[T])}}})();var g={setData(b,d,_){m.set(b,d,_)},getData(b,d){return m.get(b,d)},removeData(b,d){m.delete(b,d)}};a(21),a(9),a(11);const y=h(),v=/[^.]*(?=\..*)\.|.*/,x=/\..*/,S=/::\d+$/,E={};let M=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},L=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function j(b,d){return d&&"".concat(d,"::").concat(M++)||b.uidEvent||M++}function W(b){var d=j(b);return b.uidEvent=d,E[d]=E[d]||{},E[d]}function U(b,d,_){var T=2<arguments.length&&_!==void 0?_:null,I=Object.keys(b);for(let J=0,ot=I.length;J<ot;J++){var z=b[I[J]];if(z.originalHandler===d&&z.delegationSelector===T)return z}return null}function A(b,d,I){var T=typeof d=="string",I=T?I:d;let z=b.replace(x,"");return d=P[z],d&&(z=d),d=-1<L.indexOf(z),[T,I,z=d?z:b]}function F(b,d,_,T,I){if(typeof d=="string"&&b){_||(_=T,T=null);var[z,J,ot]=A(d,_,T);const we=W(b),Ee=we[ot]||(we[ot]={}),Se=U(Ee,J,z?_:null);if(Se)Se.oneOff=Se.oneOff&&I;else{var pt,Bt,Dt,Yt,Xt,d=j(J,d.replace(v,""));const ve=z?(Dt=b,Yt=_,Xt=T,function Te(Jt){var nn=Dt.querySelectorAll(Yt);for(let Be=Jt.target;Be&&Be!==this;Be=Be.parentNode)for(let Mn=nn.length;Mn--;)if(nn[Mn]===Be)return Jt.delegateTarget=Be,Te.oneOff&&q.off(Dt,Jt.type,Xt),Xt.apply(Be,[Jt]);return null}):(pt=b,Bt=_,function Te(Jt){return Jt.delegateTarget=pt,Te.oneOff&&q.off(pt,Jt.type,Bt),Bt.apply(pt,[Jt])});ve.delegationSelector=z?_:null,ve.originalHandler=J,ve.oneOff=I,ve.uidEvent=d,Ee[d]=ve,b.addEventListener(ot,ve,z)}}}function nt(b,d,_,T,I){T=U(d[_],T,I),T&&(b.removeEventListener(_,T,Boolean(I)),delete d[_][T.uidEvent])}const q={on(b,d,_,T){F(b,d,_,T,!1)},one(b,d,_,T){F(b,d,_,T,!0)},off(b,d,_,T){if(typeof d=="string"&&b){const[I,z,J]=A(d,_,T),ot=J!==d,pt=W(b);if(T=d.charAt(0)===".",z!==void 0)return pt&&pt[J]?void nt(b,pt,J,z,I?_:null):void 0;T&&Object.keys(pt).forEach(Dt=>{{var Yt=b,Xt=pt,we=Dt,Ee=d.slice(1);const Se=Xt[we]||{};return void Object.keys(Se).forEach(ke=>{-1<ke.indexOf(Ee)&&(ke=Se[ke],nt(Yt,Xt,we,ke.originalHandler,ke.delegationSelector))})}});const Bt=pt[J]||{};Object.keys(Bt).forEach(Dt=>{var Yt=Dt.replace(S,"");(!ot||-1<d.indexOf(Yt))&&(Yt=Bt[Dt],nt(b,pt,J,Yt.originalHandler,Yt.delegationSelector))})}},trigger(b,d,_){if(typeof d!="string"||!b)return null;var T=d.replace(x,""),I=d!==T,z=-1<L.indexOf(T);let J,ot=!0,pt=!0,Bt=!1,Dt=null;return I&&y&&(J=y.Event(d,_),y(b).trigger(J),ot=!J.isPropagationStopped(),pt=!J.isImmediatePropagationStopped(),Bt=J.isDefaultPrevented()),z?(Dt=document.createEvent("HTMLEvents")).initEvent(T,ot,!0):Dt=new CustomEvent(d,{bubbles:ot,cancelable:!0}),_!==void 0&&Object.keys(_).forEach(Yt=>{Object.defineProperty(Dt,Yt,{get(){return _[Yt]}})}),Bt&&Dt.preventDefault(),pt&&b.dispatchEvent(Dt),Dt.defaultPrevented&&J!==void 0&&J.preventDefault(),Dt}};var D=q;function G(b){return b==="true"||b!=="false"&&(b===Number(b).toString()?Number(b):b===""||b==="null"?null:b)}function Z(b){return b.replace(/[A-Z]/g,d=>"-".concat(d.toLowerCase()))}var V={setDataAttribute(b,d,_){b.setAttribute("data-mdb-".concat(Z(d)),_)},removeDataAttribute(b,d){b.removeAttribute("data-mdb-".concat(Z(d)))},getDataAttributes(b){if(!b)return{};const d={...b.dataset};return Object.keys(d).filter(_=>_.startsWith("mdb")).forEach(_=>{let T=_.replace(/^mdb/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),d[T]=G(d[_])}),d},getDataAttribute(b,d){return G(b.getAttribute("data-mdb-".concat(Z(d))))},offset(b){return b=b.getBoundingClientRect(),{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},position(b){return{top:b.offsetTop,left:b.offsetLeft}},style(b,d){Object.assign(b.style,d)},toggleClass(b,d){b&&(b.classList.contains(d)?b.classList.remove(d):b.classList.add(d))},addClass(b,d){b.classList.contains(d)||b.classList.add(d)},addStyle(b,d){Object.keys(d).forEach(_=>{b.style[_]=d[_]})},removeClass(b,d){b.classList.contains(d)&&b.classList.remove(d)},hasClass(b,d){return b.classList.contains(d)}},Q={closest(b,d){return b.closest(d)},matches(b,d){return b.matches(d)},find(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(d,b))},findOne(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(d,b)},children(b,d){return[].concat(...b.children).filter(T=>T.matches(d))},parents(b,d){const _=[];let T=b.parentNode;for(;T&&T.nodeType===Node.ELEMENT_NODE&&T.nodeType!==3;)this.matches(T,d)&&_.push(T),T=T.parentNode;return _},prev(b,d){let _=b.previousElementSibling;for(;_;){if(_.matches(d))return[_];_=_.previousElementSibling}return[]},next(b,d){let _=b.nextElementSibling;for(;_;){if(this.matches(_,d))return[_];_=_.nextElementSibling}return[]}};const ut=1e3,_t="transitionend",at=b=>{let d=b.getAttribute("data-mdb-target");if(!d||d==="#"){let _=b.getAttribute("href");if(!_||!_.includes("#")&&!_.startsWith("."))return null;_.includes("#")&&!_.startsWith("#")&&(_="#".concat(_.split("#")[1])),d=_&&_!=="#"?_.trim():null}return d},Ct=b=>(b=at(b),b&&document.querySelector(b)?b:null),Lt=b=>(b=at(b),b?document.querySelector(b):null),et=b=>{b.dispatchEvent(new Event(_t))},Y=b=>!(!b||typeof b!="object")&&(b=b.jquery!==void 0?b[0]:b).nodeType!==void 0,Et=b=>Y(b)?b.jquery?b[0]:b:typeof b=="string"&&0<b.length?document.querySelector(b):null,lt=(b,d,_)=>{Object.keys(_).forEach(T=>{var I=_[T],z=d[T],z=z&&Y(z)?"element":(z=z)==null?"".concat(z):{}.toString.call(z).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(z))throw new TypeError("".concat(b.toUpperCase(),': Option "').concat(T,'" provided type "').concat(z,'" but expected type "').concat(I,'".'))})},Mt=b=>!(!Y(b)||b.getClientRects().length===0)&&getComputedStyle(b).getPropertyValue("visibility")==="visible",xt=b=>!b||b.nodeType!==Node.ELEMENT_NODE||!!b.classList.contains("disabled")||(b.disabled!==void 0?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false"),Rt=b=>{return document.documentElement.attachShadow?typeof b.getRootNode=="function"?(d=b.getRootNode())instanceof ShadowRoot?d:null:b instanceof ShadowRoot?b:b.parentNode?Rt(b.parentNode):null:null;var d},O=()=>{},k=b=>{b.offsetHeight},$=()=>{var b=window.jQuery;return b&&!document.body.hasAttribute("data-mdb-no-jquery")?b:null},X=[],rt=()=>document.documentElement.dir==="rtl";o=b=>{var d;d=()=>{const _=$();if(_){const T=b.NAME,I=_.fn[T];_.fn[T]=b.jQueryInterface,_.fn[T].Constructor=b,_.fn[T].noConflict=()=>(_.fn[T]=I,b.jQueryInterface)}},document.readyState==="loading"?(X.length||document.addEventListener("DOMContentLoaded",()=>{X.forEach(_=>_())}),X.push(d)):d()};function mt(b,d){if(!(2<arguments.length&&arguments[2]!==void 0)||arguments[2]){var _=(pt=>{if(!pt)return 0;let{transitionDuration:J,transitionDelay:ot}=window.getComputedStyle(pt);var pt=Number.parseFloat(J),Bt=Number.parseFloat(ot);return pt||Bt?(J=J.split(",")[0],ot=ot.split(",")[0],(Number.parseFloat(J)+Number.parseFloat(ot))*ut):0})(d)+5;let T=!1;const I=z=>{z=z.target,z===d&&(T=!0,d.removeEventListener(_t,I),yt(b))};d.addEventListener(_t,I),setTimeout(()=>{T||et(d)},_)}else yt(b)}const yt=b=>{typeof b=="function"&&b()},ht=(b,d,_,T)=>{let I=b.indexOf(d);return I===-1?b[!_&&T?b.length-1:0]:(d=b.length,I+=_?1:-1,T&&(I=(I+d)%d),b[Math.max(0,Math.min(I,d-1))])},Tt=/[^.]*(?=\..*)\.|.*/,bt=/\..*/,N=/::\d+$/,R={};let st=1;const gt={mouseenter:"mouseover",mouseleave:"mouseout"},Ot=/^(mouseenter|mouseleave)/i,kt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Wt(b,d){return d&&"".concat(d,"::").concat(st++)||b.uidEvent||st++}function vt(b){var d=Wt(b);return b.uidEvent=d,R[d]=R[d]||{},R[d]}function oe(b,d,_){var T=2<arguments.length&&_!==void 0?_:null,I=Object.keys(b);for(let J=0,ot=I.length;J<ot;J++){var z=b[I[J]];if(z.originalHandler===d&&z.delegationSelector===T)return z}return null}function ge(b,d,I){var T=typeof d=="string",I=T?I:d;let z=Gt(b);return d=kt.has(z),[T,I,z=d?z:b]}function Qt(b,d,_,T,I){if(typeof d=="string"&&b){_||(_=T,T=null),Ot.test(d)&&(z=ke=>function(ve){if(!ve.relatedTarget||ve.relatedTarget!==ve.delegateTarget&&!ve.delegateTarget.contains(ve.relatedTarget))return ke.call(this,ve)},T?T=z(T):_=z(_));var[z,J,ot]=ge(d,_,T);const we=vt(b),Ee=we[ot]||(we[ot]={}),Se=oe(Ee,J,z?_:null);if(Se)Se.oneOff=Se.oneOff&&I;else{var pt,Bt,Dt,Yt,Xt,d=Wt(J,d.replace(Tt,""));const ve=z?(Dt=b,Yt=_,Xt=T,function Te(Jt){var nn=Dt.querySelectorAll(Yt);for(let Be=Jt.target;Be&&Be!==this;Be=Be.parentNode)for(let Mn=nn.length;Mn--;)if(nn[Mn]===Be)return Jt.delegateTarget=Be,Te.oneOff&&Nt.off(Dt,Jt.type,Yt,Xt),Xt.apply(Be,[Jt]);return null}):(pt=b,Bt=_,function Te(Jt){return Jt.delegateTarget=pt,Te.oneOff&&Nt.off(pt,Jt.type,Bt),Bt.apply(pt,[Jt])});ve.delegationSelector=z?_:null,ve.originalHandler=J,ve.oneOff=I,ve.uidEvent=d,Ee[d]=ve,b.addEventListener(ot,ve,z)}}}function it(b,d,_,T,I){T=oe(d[_],T,I),T&&(b.removeEventListener(_,T,Boolean(I)),delete d[_][T.uidEvent])}function Gt(b){return b=b.replace(bt,""),gt[b]||b}const Nt={on(b,d,_,T){Qt(b,d,_,T,!1)},one(b,d,_,T){Qt(b,d,_,T,!0)},off(b,d,_,T){if(typeof d=="string"&&b){const[I,z,J]=ge(d,_,T),ot=J!==d,pt=vt(b);if(T=d.startsWith("."),z!==void 0)return pt&&pt[J]?void it(b,pt,J,z,I?_:null):void 0;T&&Object.keys(pt).forEach(Dt=>{{var Yt=b,Xt=pt,we=Dt,Ee=d.slice(1);const Se=Xt[we]||{};return void Object.keys(Se).forEach(ke=>{ke.includes(Ee)&&(ke=Se[ke],it(Yt,Xt,we,ke.originalHandler,ke.delegationSelector))})}});const Bt=pt[J]||{};Object.keys(Bt).forEach(Dt=>{var Yt=Dt.replace(N,"");ot&&!d.includes(Yt)||(Yt=Bt[Dt],it(b,pt,J,Yt.originalHandler,Yt.delegationSelector))})}},trigger(b,d,_){if(typeof d!="string"||!b)return null;const T=$();var I=Gt(d),z=d!==I,J=kt.has(I);let ot,pt=!0,Bt=!0,Dt=!1,Yt=null;return z&&T&&(ot=T.Event(d,_),T(b).trigger(ot),pt=!ot.isPropagationStopped(),Bt=!ot.isImmediatePropagationStopped(),Dt=ot.isDefaultPrevented()),J?(Yt=document.createEvent("HTMLEvents")).initEvent(I,pt,!0):Yt=new CustomEvent(d,{bubbles:pt,cancelable:!0}),_!==void 0&&Object.keys(_).forEach(Xt=>{Object.defineProperty(Yt,Xt,{get(){return _[Xt]}})}),Dt&&Yt.preventDefault(),Bt&&b.dispatchEvent(Yt),Yt.defaultPrevented&&ot!==void 0&&ot.preventDefault(),Yt}};var ft=Nt;const Vt=new Map;var de=function(b,d,_){Vt.has(b)||Vt.set(b,new Map);const T=Vt.get(b);T.has(d)||T.size===0?T.set(d,_):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(T.keys())[0],"."))},jt=function(b,d){return Vt.has(b)&&Vt.get(b).get(d)||null},_e=function(b,d){if(Vt.has(b)){const _=Vt.get(b);_.delete(d),_.size===0&&Vt.delete(b)}},Ie=class{constructor(b){(b=Et(b))&&(this._element=b,de(this._element,this.constructor.DATA_KEY,this))}dispose(){_e(this._element,this.constructor.DATA_KEY),ft.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(b=>{this[b]=null})}_queueCallback(b,d){var _=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];mt(b,d,_)}static getInstance(b){return jt(Et(b),this.DATA_KEY)}static getOrCreateInstance(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(b)||new this(b,typeof d=="object"?d:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}},Oe=".".concat("bs.button");const Ce='[data-mdb-toggle="button"]';Oe="click".concat(Oe).concat(".data-api");class ei extends Ie{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const _=ei.getOrCreateInstance(this);d==="toggle"&&_[d]()})}}ft.on(document,Oe,Ce,b=>{b.preventDefault(),b=b.target.closest(Ce),ei.getOrCreateInstance(b).toggle()}),o(ei),Oe=ei;const Wn="button",Za="mdb.".concat(Wn);var qt=".".concat(Za);const Es="click".concat(qt),jr="transitionend",to="mouseenter",jo="mouseleave",tl="hide".concat(qt),Zh="hidden".concat(qt),tf="show".concat(qt),H="shown".concat(qt),ct="fixed-action-btn";class St extends Oe{constructor(d){super(d),this._fn={},this._element&&(g.setData(this._element,Za,this),this._init())}static get NAME(){return Wn}static jQueryInterface(d,_){return this.each(function(){let T=g.getData(this,Za);var I=typeof d=="object"&&d;if((T||!/dispose/.test(d))&&(T=T||new St(this,I),typeof d=="string")){if(T[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));T[d](_)}})}get _actionButton(){return Q.findOne(".fixed-action-btn:not(.smooth-scroll) > .btn-floating",this._element)}get _buttonListElements(){return Q.find("ul .btn",this._element)}get _buttonList(){return Q.findOne("ul",this._element)}get _isTouchDevice(){return"ontouchstart"in document.documentElement}show(){V.hasClass(this._element,ct)&&(D.off(this._buttonList,jr),D.trigger(this._element,tf),this._bindListOpenTransitionEnd(),V.addStyle(this._element,{height:"".concat(this._fullContainerHeight,"px")}),this._toggleVisibility(!0))}hide(){V.hasClass(this._element,ct)&&(D.off(this._buttonList,jr),D.trigger(this._element,tl),this._bindListHideTransitionEnd(),this._toggleVisibility(!1))}dispose(){V.hasClass(this._element,ct)&&(D.off(this._actionButton,Es),this._actionButton.removeEventListener(to,this._fn.mouseenter),this._element.removeEventListener(jo,this._fn.mouseleave)),super.dispose()}_init(){V.hasClass(this._element,ct)&&(this._saveInitialHeights(),this._setInitialStyles(),this._bindInitialEvents())}_bindMouseEnter(){this._actionButton.addEventListener(to,this._fn.mouseenter=()=>{this._isTouchDevice||this.show()})}_bindMouseLeave(){this._element.addEventListener(jo,this._fn.mouseleave=()=>{this.hide()})}_bindClick(){D.on(this._actionButton,Es,()=>{V.hasClass(this._element,"active")?this.hide():this.show()})}_bindListHideTransitionEnd(){D.on(this._buttonList,jr,d=>{d.propertyName==="transform"&&(D.off(this._buttonList,jr),this._element.style.height="".concat(this._initialContainerHeight,"px"),D.trigger(this._element,Zh))})}_bindListOpenTransitionEnd(){D.on(this._buttonList,jr,d=>{d.propertyName==="transform"&&(D.off(this._buttonList,jr),D.trigger(this._element,H))})}_toggleVisibility(d){const _=d?"addClass":"removeClass";d=d?"translate(0)":"translateY(".concat(this._fullContainerHeight,"px)"),V.addStyle(this._buttonList,{transform:d}),this._buttonListElements&&this._buttonListElements.forEach(T=>V[_](T,"shown")),V[_](this._element,"active")}_getHeight(d){const _=window.getComputedStyle(d);return parseFloat(_.getPropertyValue("height"))}_saveInitialHeights(){this._initialContainerHeight=this._getHeight(this._element),this._initialListHeight=this._getHeight(this._buttonList),this._fullContainerHeight=this._initialContainerHeight+this._initialListHeight}_bindInitialEvents(){this._bindClick(),this._bindMouseEnter(),this._bindMouseLeave()}_setInitialStyles(){this._buttonList.style.marginBottom="".concat(this._initialContainerHeight,"px"),this._buttonList.style.transform="translateY(".concat(this._fullContainerHeight,"px)"),this._element.style.height="".concat(this._initialContainerHeight,"px")}}Q.find(".fixed-action-btn").forEach(b=>{let d=St.getInstance(b);return d=d||new St(b)}),Q.find('[data-mdb-toggle="button"]').forEach(b=>{let d=St.getInstance(b);return d=d||new St(b)}),f(()=>{const b=h();if(b){const d=b.fn[Wn];b.fn[Wn]=St.jQueryInterface,b.fn[Wn].Constructor=St,b.fn[Wn].noConflict=()=>(b.fn[Wn]=d,St.jQueryInterface)}});var wt=St;function Pt(b){return b==="true"||b!=="false"&&(b===Number(b).toString()?Number(b):b===""||b==="null"?null:b)}function ae(b){return b.replace(/[A-Z]/g,d=>"-".concat(d.toLowerCase()))}var ee={setDataAttribute(b,d,_){b.setAttribute("data-mdb-".concat(ae(d)),_)},removeDataAttribute(b,d){b.removeAttribute("data-mdb-".concat(ae(d)))},getDataAttributes(b){if(!b)return{};const d={};return Object.keys(b.dataset).filter(_=>_.startsWith("mdb")).forEach(_=>{let T=_.replace(/^mdb/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),d[T]=Pt(b.dataset[_])}),d},getDataAttribute(b,d){return Pt(b.getAttribute("data-mdb-".concat(ae(d))))},offset(b){return b=b.getBoundingClientRect(),{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset}},position(b){return{top:b.offsetTop,left:b.offsetLeft}}},Ht={find(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(d,b))},findOne(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(d,b)},children(b,d){return[].concat(...b.children).filter(_=>_.matches(d))},parents(b,d){const _=[];let T=b.parentNode;for(;T&&T.nodeType===Node.ELEMENT_NODE&&T.nodeType!==3;)T.matches(d)&&_.push(T),T=T.parentNode;return _},prev(b,d){let _=b.previousElementSibling;for(;_;){if(_.matches(d))return[_];_=_.previousElementSibling}return[]},next(b,d){let _=b.nextElementSibling;for(;_;){if(_.matches(d))return[_];_=_.nextElementSibling}return[]},focusableChildren(b){var d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(_=>"".concat(_,':not([tabindex^="-"])')).join(", ");return this.find(d,b).filter(_=>!xt(_)&&Mt(_))}};const xe="collapse",He="bs.collapse";qt=".".concat(He);const $e={toggle:!0,parent:null},Fe={toggle:"boolean",parent:"(null|element)"},vn="show".concat(qt),qr="shown".concat(qt),Ss="hide".concat(qt),Xe="hidden".concat(qt);Oe="click".concat(qt).concat(".data-api");const Ci="show",Ue="collapse",pr="collapsing",En="collapsed",Hi=":scope .".concat(Ue," .").concat(Ue),rr='[data-mdb-toggle="collapse"]';class $i extends Ie{constructor(d,_){super(d),this._isTransitioning=!1,this._config=this._getConfig(_),this._triggerArray=[];var T=Ht.find(rr);for(let ot=0,pt=T.length;ot<pt;ot++){var I=T[ot],z=Ct(I),J=Ht.find(z).filter(Bt=>Bt===this._element);z!==null&&J.length&&(this._selector=z,this._triggerArray.push(I))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $e}static get NAME(){return xe}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let _=[],T;if(this._config.parent){const z=Ht.find(Hi,this._config.parent);_=Ht.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(J=>!z.includes(J))}const I=Ht.findOne(this._selector);if(_.length){var d=_.find(z=>I!==z);if((T=d?$i.getInstance(d):null)&&T._isTransitioning)return}if(d=ft.trigger(this._element,vn),!d.defaultPrevented){_.forEach(J=>{I!==J&&$i.getOrCreateInstance(J,{toggle:!1}).hide(),T||de(J,He,null)});const z=this._getDimension();this._element.classList.remove(Ue),this._element.classList.add(pr),this._element.style[z]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0,d=z[0].toUpperCase()+z.slice(1),d="scroll".concat(d),this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pr),this._element.classList.add(Ue,Ci),this._element.style[z]="",ft.trigger(this._element,qr)},this._element,!0),this._element.style[z]="".concat(this._element[d],"px")}}}hide(){if(!this._isTransitioning&&this._isShown()){var d=ft.trigger(this._element,Ss);if(!d.defaultPrevented){var d=this._getDimension(),_=(this._element.style[d]="".concat(this._element.getBoundingClientRect()[d],"px"),k(this._element),this._element.classList.add(pr),this._element.classList.remove(Ue,Ci),this._triggerArray.length);for(let J=0;J<_;J++){var T=this._triggerArray[J],I=Lt(T);I&&!this._isShown(I)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pr),this._element.classList.add(Ue),ft.trigger(this._element,Xe)},this._element,!0)}}}_isShown(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Ci)}_getConfig(d){return(d={...$e,...ee.getDataAttributes(this._element),...d}).toggle=Boolean(d.toggle),d.parent=Et(d.parent),lt(xe,d,Fe),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){const d=Ht.find(Hi,this._config.parent);Ht.find(rr,this._config.parent).filter(_=>!d.includes(_)).forEach(_=>{var T=Lt(_);T&&this._addAriaAndCollapsedClass([_],this._isShown(T))})}}_addAriaAndCollapsedClass(d,_){d.length&&d.forEach(T=>{_?T.classList.remove(En):T.classList.add(En),T.setAttribute("aria-expanded",_)})}static jQueryInterface(d){return this.each(function(){const _={},T=(typeof d=="string"&&/show|hide/.test(d)&&(_.toggle=!1),$i.getOrCreateInstance(this,_));if(typeof d=="string"){if(T[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));T[d]()}})}}ft.on(document,Oe,rr,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault(),b=Ct(this),Ht.find(b).forEach(_=>{$i.getOrCreateInstance(_,{toggle:!1}).toggle()})}),o($i);var el=$i;const Gn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gn=".sticky-top";var C=class{constructor(){this._element=document.body}getWidth(){var b=document.documentElement.clientWidth;return Math.abs(window.innerWidth-b)}hide(){const b=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",d=>d+b),this._setElementAttributes(Gn,"paddingRight",d=>d+b),this._setElementAttributes(gn,"marginRight",d=>d-b)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(b,d,_){const T=this.getWidth();this._applyManipulationCallback(b,I=>{var z;I!==this._element&&window.innerWidth>I.clientWidth+T||(this._saveInitialAttribute(I,d),z=window.getComputedStyle(I)[d],I.style[d]="".concat(_(Number.parseFloat(z)),"px"))})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Gn,"paddingRight"),this._resetElementAttributes(gn,"marginRight")}_saveInitialAttribute(b,d){var _=b.style[d];_&&ee.setDataAttribute(b,d,_)}_resetElementAttributes(b,d){this._applyManipulationCallback(b,_=>{var T=ee.getDataAttribute(_,d);T===void 0?_.style.removeProperty(d):(ee.removeDataAttribute(_,d),_.style[d]=T)})}_applyManipulationCallback(b,d){Y(b)?d(b):Ht.find(b,this._element).forEach(d)}isOverflowing(){return 0<this.getWidth()}};const w={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},B={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},K="backdrop",dt="mousedown.bs.".concat(K);var At=class{constructor(b){this._config=this._getConfig(b),this._isAppended=!1,this._element=null}show(b){this._config.isVisible?(this._append(),this._config.isAnimated&&k(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(()=>{yt(b)})):yt(b)}hide(b){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),yt(b)})):yt(b)}_getElement(){if(!this._element){const b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add("fade"),this._element=b}return this._element}_getConfig(b){return(b={...w,...typeof b=="object"?b:{}}).rootElement=Et(b.rootElement),lt(K,b,B),b}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),ft.on(this._getElement(),dt,()=>{yt(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(ft.off(this._element,dt),this._element.remove(),this._isAppended=!1)}_emulateAnimation(b){mt(b,this._getElement(),this._config.isAnimated)}};const te={trapElement:null,autofocus:!0},ce={trapElement:"element",autofocus:"boolean"},ue=".".concat("bs.focustrap"),Me="focusin".concat(ue),Ve="keydown.tab".concat(ue),Pn="backward";function pe(b){let d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"hide";var _="click.dismiss".concat(b.EVENT_KEY);const T=b.NAME;ft.on(document,_,'[data-mdb-dismiss="'.concat(T,'"]'),function(I){["A","AREA"].includes(this.tagName)&&I.preventDefault(),!xt(this)&&(I=Lt(this)||this.closest(".".concat(T)),b.getOrCreateInstance(I)[d]())})}var We=class{constructor(b){this._config=this._getConfig(b),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:b,autofocus:d}=this._config;this._isActive||(d&&b.focus(),ft.off(document,ue),ft.on(document,Me,_=>this._handleFocusin(_)),ft.on(document,Ve,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ft.off(document,ue))}_handleFocusin(b){b=b.target;const d=this._config.trapElement;if(b!==document&&b!==d&&!d.contains(b)){const _=Ht.focusableChildren(d);(_.length===0?d:this._lastTabNavDirection===Pn?_[_.length-1]:_[0]).focus()}}_handleKeydown(b){b.key==="Tab"&&(this._lastTabNavDirection=b.shiftKey?Pn:"forward")}_getConfig(b){return b={...te,...typeof b=="object"?b:{}},lt("focustrap",b,ce),b}};const mr="offcanvas";var qt=".".concat("bs.offcanvas"),Oe=".data-api",Ut="load".concat(qt).concat(Oe);const Fn={backdrop:!0,keyboard:!0,scroll:!1},Wi={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Oi=".offcanvas.show",Cc="show".concat(qt),qo="shown".concat(qt),nl="hide".concat(qt),il="hidden".concat(qt);Oe="click".concat(qt).concat(Oe);const rl="keydown.dismiss".concat(qt);class ni extends Ie{constructor(d,_){super(d),this._config=this._getConfig(_),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return mr}static get Default(){return Fn}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||ft.trigger(this._element,Cc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new C().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),ft.trigger(this._element,qo,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&!ft.trigger(this._element,nl).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new C().reset(),ft.trigger(this._element,il)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(d){return d={...Fn,...ee.getDataAttributes(this._element),...typeof d=="object"?d:{}},lt(mr,d,Wi),d}_initializeBackDrop(){return new At({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new We({trapElement:this._element})}_addEventListeners(){ft.on(this._element,rl,d=>{this._config.keyboard&&d.key==="Escape"&&this.hide()})}static jQueryInterface(d){return this.each(function(){const _=ni.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError('No method named "'.concat(d,'"'));_[d](this)}})}}ft.on(document,Oe,'[data-mdb-toggle="offcanvas"]',function(b){var d=Lt(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),!xt(this)&&(ft.one(d,il,()=>{Mt(this)&&this.focus()}),b=Ht.findOne(Oi),b&&b!==d&&ni.getInstance(b).hide(),ni.getOrCreateInstance(d).toggle(this))}),ft.on(window,Ut,()=>Ht.find(Oi).forEach(b=>ni.getOrCreateInstance(b).show())),pe(ni),o(ni);var Oc=ni;qt=".".concat("bs.alert");const ef="close".concat(qt),sl="closed".concat(qt);class Yo extends Ie{static get NAME(){return"alert"}close(){var d;ft.trigger(this._element,ef).defaultPrevented||(this._element.classList.remove("show"),d=this._element.classList.contains("fade"),this._queueCallback(()=>this._destroyElement(),this._element,d))}_destroyElement(){this._element.remove(),ft.trigger(this._element,sl),this.dispose()}static jQueryInterface(d){return this.each(function(){const _=Yo.getOrCreateInstance(this);if(typeof d=="string"){if(_[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError('No method named "'.concat(d,'"'));_[d](this)}})}}pe(Yo,"close"),o(Yo),Oe=Yo;const sr="alert";Ut="mdb.".concat(sr),qt=".".concat(Ut);const Pc="close.bs.alert",Yr="closed.bs.alert",Xo="close".concat(qt),Dc="closed".concat(qt);class Sn extends Oe{constructor(d){super(d,1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}),this._init()}dispose(){D.off(this._element,Pc),D.off(this._element,Yr),super.dispose()}static get NAME(){return sr}_init(){this._bindCloseEvent(),this._bindClosedEvent()}_bindCloseEvent(){D.on(this._element,Pc,()=>{D.trigger(this._element,Xo)})}_bindClosedEvent(){D.on(this._element,Yr,()=>{D.trigger(this._element,Dc)})}}Q.find(".alert").forEach(b=>{var d=Sn.getInstance(b);d||new Sn(b)}),f(()=>{const b=h();if(b){const d=b.fn[sr];b.fn[sr]=Sn.jQueryInterface,b.fn[sr].Constructor=Sn,b.fn[sr].noConflict=()=>(b.fn[sr]=d,Sn.jQueryInterface)}});var Kp=Sn;const Qp="carousel";Ut=".".concat("bs.carousel"),qt=".data-api";const Jp={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Ms={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Pi="next",Xr="prev",Kr="left",Ts="right",Ko={ArrowLeft:Ts,ArrowRight:Kr},As="slide".concat(Ut),nf="slid".concat(Ut),rf="keydown".concat(Ut),Jb="mouseenter".concat(Ut),bH="mouseleave".concat(Ut),xH="touchstart".concat(Ut),wH="touchmove".concat(Ut),EH="touchend".concat(Ut),SH="pointerdown".concat(Ut),MH="pointerup".concat(Ut),TH="dragstart".concat(Ut);Oe="load".concat(Ut).concat(qt),Ut="click".concat(Ut).concat(qt);const ol="active",Zp=".active.carousel-item";class Cs extends Ie{constructor(d,_){super(d),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(_),this._indicatorsElement=Ht.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Jp}static get NAME(){return Qp}next(){this._slide(Pi)}nextWhenVisible(){!document.hidden&&Mt(this._element)&&this.next()}prev(){this._slide(Xr)}pause(d){d||(this._isPaused=!0),Ht.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(et(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(d){d||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(d){this._activeElement=Ht.findOne(Zp,this._element);var _=this._getItemIndex(this._activeElement);if(!(d>this._items.length-1||d<0))if(this._isSliding)ft.one(this._element,nf,()=>this.to(d));else{if(_===d)return this.pause(),void this.cycle();_=_<d?Pi:Xr,this._slide(_,this._items[d])}}_getConfig(d){return d={...Jp,...ee.getDataAttributes(this._element),...typeof d=="object"?d:{}},lt(Qp,d,Ms),d}_handleSwipe(){var d=Math.abs(this.touchDeltaX);d<=40||(d=d/this.touchDeltaX,this.touchDeltaX=0,d&&this._slide(0<d?Ts:Kr))}_addEventListeners(){this._config.keyboard&&ft.on(this._element,rf,d=>this._keydown(d)),this._config.pause==="hover"&&(ft.on(this._element,Jb,d=>this.pause(d)),ft.on(this._element,bH,d=>this.cycle(d))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const d=z=>this._pointerEvent&&(z.pointerType==="pen"||z.pointerType==="touch"),_=z=>{d(z)?this.touchStartX=z.clientX:this._pointerEvent||(this.touchStartX=z.touches[0].clientX)},T=z=>{this.touchDeltaX=z.touches&&1<z.touches.length?0:z.touches[0].clientX-this.touchStartX},I=z=>{d(z)&&(this.touchDeltaX=z.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(J=>this.cycle(J),500+this._config.interval))};Ht.find(".carousel-item img",this._element).forEach(z=>{ft.on(z,TH,J=>J.preventDefault())}),this._pointerEvent?(ft.on(this._element,SH,z=>_(z)),ft.on(this._element,MH,z=>I(z)),this._element.classList.add("pointer-event")):(ft.on(this._element,xH,z=>_(z)),ft.on(this._element,wH,z=>T(z)),ft.on(this._element,EH,z=>I(z)))}_keydown(d){var _;/input|textarea/i.test(d.target.tagName)||(_=Ko[d.key])&&(d.preventDefault(),this._slide(_))}_getItemIndex(d){return this._items=d&&d.parentNode?Ht.find(".carousel-item",d.parentNode):[],this._items.indexOf(d)}_getItemByOrder(d,_){return d=d===Pi,ht(this._items,_,d,this._config.wrap)}_triggerSlideEvent(d,_){var T=this._getItemIndex(d),I=this._getItemIndex(Ht.findOne(Zp,this._element));return ft.trigger(this._element,As,{relatedTarget:d,direction:_,from:I,to:T})}_setActiveIndicatorElement(d){if(this._indicatorsElement){const _=Ht.findOne(".active",this._indicatorsElement),T=(_.classList.remove(ol),_.removeAttribute("aria-current"),Ht.find("[data-mdb-target]",this._indicatorsElement));for(let I=0;I<T.length;I++)if(Number.parseInt(T[I].getAttribute("data-mdb-slide-to"),10)===this._getItemIndex(d)){T[I].classList.add(ol),T[I].setAttribute("aria-current","true");break}}}_updateInterval(){const d=this._activeElement||Ht.findOne(Zp,this._element);var _;d&&((_=Number.parseInt(d.getAttribute("data-mdb-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=_):this._config.interval=this._config.defaultInterval||this._config.interval)}_slide(d,ot){d=this._directionToOrder(d);const T=Ht.findOne(Zp,this._element),I=this._getItemIndex(T),z=ot||this._getItemByOrder(d,T),J=this._getItemIndex(z);var ot=Boolean(this._interval),pt=d===Pi;const Bt=pt?"carousel-item-start":"carousel-item-end",Dt=pt?"carousel-item-next":"carousel-item-prev",Yt=this._orderToDirection(d);if(z&&z.classList.contains(ol))this._isSliding=!1;else if(!this._isSliding&&(pt=this._triggerSlideEvent(z,Yt),!pt.defaultPrevented&&T&&z)){this._isSliding=!0,ot&&this.pause(),this._setActiveIndicatorElement(z),this._activeElement=z;const Xt=()=>{ft.trigger(this._element,nf,{relatedTarget:z,direction:Yt,from:I,to:J})};this._element.classList.contains("slide")?(z.classList.add(Dt),k(z),T.classList.add(Bt),z.classList.add(Bt),this._queueCallback(()=>{z.classList.remove(Bt,Dt),z.classList.add(ol),T.classList.remove(ol,Dt,Bt),this._isSliding=!1,setTimeout(Xt,0)},T,!0)):(T.classList.remove(ol),z.classList.add(ol),this._isSliding=!1,Xt()),ot&&this.cycle()}}_directionToOrder(d){return[Ts,Kr].includes(d)?rt()?d===Kr?Xr:Pi:d===Kr?Pi:Xr:d}_orderToDirection(d){return[Pi,Xr].includes(d)?rt()?d===Xr?Kr:Ts:d===Xr?Ts:Kr:d}static carouselInterface(d,_){const T=Cs.getOrCreateInstance(d,_);let I=T._config;if(typeof _=="object"&&(I={...I,..._}),d=typeof _=="string"?_:I.slide,typeof _=="number")T.to(_);else if(typeof d=="string"){if(T[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));T[d]()}else I.interval&&I.ride&&(T.pause(),T.cycle())}static jQueryInterface(d){return this.each(function(){Cs.carouselInterface(this,d)})}static dataApiClickHandler(d){const _=Lt(this);if(_&&_.classList.contains("carousel")){const I={...ee.getDataAttributes(_),...ee.getDataAttributes(this)};var T=this.getAttribute("data-mdb-slide-to");T&&(I.interval=!1),Cs.carouselInterface(_,I),T&&Cs.getInstance(_).to(T),d.preventDefault()}}}ft.on(document,Ut,"[data-mdb-slide], [data-mdb-slide-to]",Cs.dataApiClickHandler),ft.on(window,Oe,()=>{var b=Ht.find('[data-mdb-ride="carousel"]');for(let d=0,_=b.length;d<_;d++)Cs.carouselInterface(b[d],Cs.getInstance(b[d]))}),o(Cs),qt=Cs;const al="carousel";Ut="mdb.".concat(al),Oe=".".concat(Ut);const cA="slide.bs.carousel",uA="slid.bs.carousel",AH="slide".concat(Oe),CH="slid".concat(Oe);class Rc extends qt{constructor(d,_){super(d,_),this._init()}dispose(){D.off(this._element,cA),D.off(this._element,uA),super.dispose()}static get NAME(){return al}_init(){this._bindSlideEvent(),this._bindSlidEvent()}_bindSlideEvent(){D.on(this._element,cA,d=>{D.trigger(this._element,AH,{relatedTarget:d.relatedTarget,direction:d.direction,from:d.from,to:d.to})})}_bindSlidEvent(){D.on(this._element,uA,d=>{D.trigger(this._element,CH,{relatedTarget:d.relatedTarget,direction:d.direction,from:d.from,to:d.to})})}}Q.find('[data-mdb-ride="carousel"]').forEach(b=>{var d=Rc.getInstance(b);d||new Rc(b,V.getDataAttributes(b))}),f(()=>{const b=h();if(b){const d=b.fn[al];b.fn[al]=Rc.jQueryInterface,b.fn[al].Constructor=Rc,b.fn[al].noConflict=()=>(b.fn[al]=d,Rc.jQueryInterface)}});var OH=Rc;const Or=".".concat("bs.modal"),hA={backdrop:!0,keyboard:!0,focus:!0},PH={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},DH="hide".concat(Or),RH="hidePrevented".concat(Or),fA="hidden".concat(Or),dA="show".concat(Or),LH="shown".concat(Or),pA="resize".concat(Or),mA="click.dismiss".concat(Or),gA="keydown.dismiss".concat(Or),IH="mouseup.dismiss".concat(Or),yA="mousedown.dismiss".concat(Or);Ut="click".concat(Or).concat(".data-api");const vA="modal-open",Zb="modal-static";class ll extends Ie{constructor(d,_){super(d),this._config=this._getConfig(_),this._dialog=Ht.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new C}static get Default(){return hA}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||ft.trigger(this._element,dA,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(vA),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),ft.on(this._dialog,yA,()=>{ft.one(this._element,IH,_=>{_.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(d)))}hide(){var d;!this._isShown||this._isTransitioning||ft.trigger(this._element,DH).defaultPrevented||(this._isShown=!1,(d=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),ft.off(this._element,mA),ft.off(this._dialog,yA),this._queueCallback(()=>this._hideModal(),this._element,d))}dispose(){[window,this._dialog].forEach(d=>ft.off(d,Or)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new At({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new We({trapElement:this._element})}_getConfig(d){return d={...hA,...ee.getDataAttributes(this._element),...typeof d=="object"?d:{}},lt("modal",d,PH),d}_showElement(d){var _=this._isAnimated();const T=Ht.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,T&&(T.scrollTop=0),_&&k(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ft.trigger(this._element,LH,{relatedTarget:d})},this._dialog,_)}_setEscapeEvent(){this._isShown?ft.on(this._element,gA,d=>{this._config.keyboard&&d.key==="Escape"?(d.preventDefault(),this.hide()):this._config.keyboard||d.key!=="Escape"||this._triggerBackdropTransition()}):ft.off(this._element,gA)}_setResizeEvent(){this._isShown?ft.on(window,pA,()=>this._adjustDialog()):ft.off(window,pA)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vA),this._resetAdjustments(),this._scrollBar.reset(),ft.trigger(this._element,fA)})}_showBackdrop(d){ft.on(this._element,mA,_=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:_.target===_.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(d)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){var d=ft.trigger(this._element,RH);if(!d.defaultPrevented){const{classList:_,scrollHeight:T,style:I}=this._element,z=T>document.documentElement.clientHeight;!z&&I.overflowY==="hidden"||_.contains(Zb)||(z||(I.overflowY="hidden"),_.add(Zb),this._queueCallback(()=>{_.remove(Zb),z||this._queueCallback(()=>{I.overflowY=""},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){var d=this._element.scrollHeight>document.documentElement.clientHeight,_=this._scrollBar.getWidth(),T=0<_;(!T&&d&&!rt()||T&&!d&&rt())&&(this._element.style.paddingLeft="".concat(_,"px")),(T&&!d&&!rt()||!T&&d&&rt())&&(this._element.style.paddingRight="".concat(_,"px"))}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,_){return this.each(function(){const T=ll.getOrCreateInstance(this,d);if(typeof d=="string"){if(T[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));T[d](_)}})}}ft.on(document,Ut,'[data-mdb-toggle="modal"]',function(b){const d=Lt(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),ft.one(d,dA,T=>{T.defaultPrevented||ft.one(d,fA,()=>{Mt(this)&&this.focus()})}),b=Ht.findOne(".modal.show"),b&&ll.getInstance(b).hide(),ll.getOrCreateInstance(d).toggle(this)}),pe(ll),o(ll),Oe=ll;const cl="modal";qt="mdb.".concat(cl),Ut=".".concat(qt);const _A="hide.bs.modal",bA="hidePrevented.bs.modal",xA="hidden.bs.modal",wA="show.bs.modal",EA="shown.bs.modal",kH="hide".concat(Ut),NH="hidePrevented".concat(Ut),FH="hidden".concat(Ut),BH="show".concat(Ut),zH="shown".concat(Ut);class Lc extends Oe{constructor(d,_){super(d,_),this._init()}dispose(){D.off(this._element,wA),D.off(this._element,EA),D.off(this._element,_A),D.off(this._element,xA),D.off(this._element,bA),super.dispose()}static get NAME(){return cl}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent(),this._bindHidePreventedEvent()}_bindShowEvent(){D.on(this._element,wA,d=>{D.trigger(this._element,BH,{relatedTarget:d.relatedTarget})})}_bindShownEvent(){D.on(this._element,EA,d=>{D.trigger(this._element,zH,{relatedTarget:d.relatedTarget})})}_bindHideEvent(){D.on(this._element,_A,()=>{D.trigger(this._element,kH)})}_bindHiddenEvent(){D.on(this._element,xA,()=>{D.trigger(this._element,FH)})}_bindHidePreventedEvent(){D.on(this._element,bA,()=>{D.trigger(this._element,NH)})}}Q.find('[data-mdb-toggle="modal"]').forEach(d=>{var d=(T=>(T=c(T),T&&document.querySelector(T)?T:null))(d),d=Q.findOne(d),_=Lc.getInstance(d);_||new Lc(d)}),f(()=>{const b=h();if(b){const d=b.fn[cl];b.fn[cl]=Lc.jQueryInterface,b.fn[cl].Constructor=Lc,b.fn[cl].noConflict=()=>(b.fn[cl]=d,Lc.jQueryInterface)}});var UH=Lc,Gi="top",gr="bottom",yr="right",ji="left",tm="auto",Ic=[Gi,gr,yr,ji],ul="start",kc="end",SA="clippingParents",t0="viewport",Nc="popper",MA="reference",e0=Ic.reduce(function(b,d){return b.concat([d+"-"+ul,d+"-"+kc])},[]),n0=[].concat(Ic,[tm]).reduce(function(b,d){return b.concat([d,d+"-"+ul,d+"-"+kc])},[]),TA="beforeRead",AA="read",CA="afterRead",OA="beforeMain",PA="main",DA="afterMain",RA="beforeWrite",LA="write",IA="afterWrite",kA=[TA,AA,CA,OA,PA,DA,RA,LA,IA];function Os(b){return b?(b.nodeName||"").toLowerCase():null}function Qr(b){return b==null?window:b.toString()!=="[object Window]"?(d=b.ownerDocument)&&d.defaultView||window:b;var d}function Fc(b){return b instanceof Qr(b).Element||b instanceof Element}function Pr(b){return b instanceof Qr(b).HTMLElement||b instanceof HTMLElement}function NA(b){if(typeof ShadowRoot<"u")return b instanceof Qr(b).ShadowRoot||b instanceof ShadowRoot}var i0={name:"applyStyles",enabled:!0,phase:"write",fn:function(b){var d=b.state;Object.keys(d.elements).forEach(function(_){var T=d.styles[_]||{},I=d.attributes[_]||{},z=d.elements[_];Pr(z)&&Os(z)&&(Object.assign(z.style,T),Object.keys(I).forEach(function(J){var ot=I[J];ot===!1?z.removeAttribute(J):z.setAttribute(J,ot===!0?"":ot)}))})},effect:function(b){var d=b.state,_={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,_.popper),d.styles=_,d.elements.arrow&&Object.assign(d.elements.arrow.style,_.arrow),function(){Object.keys(d.elements).forEach(function(J){var I=d.elements[J],z=d.attributes[J]||{},J=Object.keys((d.styles.hasOwnProperty(J)?d.styles:_)[J]).reduce(function(ot,pt){return ot[pt]="",ot},{});Pr(I)&&Os(I)&&(Object.assign(I.style,J),Object.keys(z).forEach(function(ot){I.removeAttribute(ot)}))})}},requires:["computeStyles"]};function Ps(b){return b.split("-")[0]}var hl=Math.max,em=Math.min,Bc=Math.round;function zc(b,d){d===void 0&&(d=!1);var _=b.getBoundingClientRect(),T=1,I=1;return Pr(b)&&d&&(d=b.offsetHeight,0<(b=b.offsetWidth)&&(T=Bc(_.width)/b||1),0<d&&(I=Bc(_.height)/d||1)),{width:_.width/T,height:_.height/I,top:_.top/I,right:_.right/T,bottom:_.bottom/I,left:_.left/T,x:_.left/T,y:_.top/I}}function r0(b){var d=zc(b),_=b.offsetWidth,T=b.offsetHeight;return Math.abs(d.width-_)<=1&&(_=d.width),Math.abs(d.height-T)<=1&&(T=d.height),{x:b.offsetLeft,y:b.offsetTop,width:_,height:T}}function FA(b,d){var _=d.getRootNode&&d.getRootNode();if(b.contains(d))return!0;if(_&&NA(_)){var T=d;do if(T&&b.isSameNode(T))return!0;while(T=T.parentNode||T.host)}return!1}function eo(b){return Qr(b).getComputedStyle(b)}function Qo(b){return((Fc(b)?b.ownerDocument:b.document)||window.document).documentElement}function nm(b){return Os(b)==="html"?b:b.assignedSlot||b.parentNode||(NA(b)?b.host:null)||Qo(b)}function BA(b){return Pr(b)&&eo(b).position!=="fixed"?b.offsetParent:null}function sf(b){for(var d,_=Qr(b),T=BA(b);T&&(d=T,0<=["table","td","th"].indexOf(Os(d)))&&eo(T).position==="static";)T=BA(T);return(!T||Os(T)!=="html"&&(Os(T)!=="body"||eo(T).position!=="static"))&&(T||function(I){var z=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,J=navigator.userAgent.indexOf("Trident")!==-1;if(J&&Pr(I)&&eo(I).position==="fixed")return null;for(var ot=nm(I);Pr(ot)&&["html","body"].indexOf(Os(ot))<0;){var pt=eo(ot);if(pt.transform!=="none"||pt.perspective!=="none"||pt.contain==="paint"||["transform","perspective"].indexOf(pt.willChange)!==-1||z&&pt.willChange==="filter"||z&&pt.filter&&pt.filter!=="none")return ot;ot=ot.parentNode}return null}(b))||_}function s0(b){return 0<=["top","bottom"].indexOf(b)?"x":"y"}function of(b,d,_){return hl(b,em(d,_))}function zA(){return{top:0,right:0,bottom:0,left:0}}function UA(b){return Object.assign({},zA(),b)}function VA(b,d){return d.reduce(function(_,T){return _[T]=b,_},{})}var HA={name:"arrow",enabled:!0,phase:"main",fn:function(ot){var d,_,T,I,z=ot.state,J=ot.name,ot=ot.options,pt=z.elements.arrow,Bt=z.modifiersData.popperOffsets,Dt=s0(Yt=Ps(z.placement)),Yt=0<=[ji,yr].indexOf(Yt)?"height":"width";pt&&Bt&&(ot=ot.padding,_=z,_=UA(typeof(ot=typeof ot=="function"?ot(Object.assign({},_.rects,{placement:_.placement})):ot)!="number"?ot:VA(ot,Ic)),ot=r0(pt),I=Dt==="y"?Gi:ji,T=Dt==="y"?gr:yr,d=z.rects.reference[Yt]+z.rects.reference[Dt]-Bt[Dt]-z.rects.popper[Yt],Bt=Bt[Dt]-z.rects.reference[Dt],pt=(pt=sf(pt))?Dt==="y"?pt.clientHeight||0:pt.clientWidth||0:0,I=_[I],_=pt-ot[Yt]-_[T],I=of(I,T=pt/2-ot[Yt]/2+(d/2-Bt/2),_),z.modifiersData[J]=((pt={})[Dt]=I,pt.centerOffset=I-T,pt))},effect:function(b){var d=b.state;(b=(b=b.options.element)===void 0?"[data-popper-arrow]":b)!=null&&(typeof b!="string"||(b=d.elements.popper.querySelector(b)))&&FA(d.elements.popper,b)&&(d.elements.arrow=b)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Uc(b){return b.split("-")[1]}var VH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $A(Jt){var d,_,T,Te=Jt.popper,I=Jt.popperRect,z=Jt.placement,J=Jt.variation,Ee=Jt.offsets,ot=Jt.position,pt=Jt.gpuAcceleration,Bt=Jt.adaptive,Dt=Jt.roundOffsets,Jt=Jt.isFixed,Yt=Ee.x,Yt=Yt===void 0?0:Yt,Xt=Ee.y,Xt=Xt===void 0?0:Xt,we=typeof Dt=="function"?Dt({x:Yt,y:Xt}):{x:Yt,y:Xt},we=(Yt=we.x,Xt=we.y,Ee.hasOwnProperty("x")),Ee=Ee.hasOwnProperty("y"),Se=ji,ke=Gi,ve=window,Te=(Bt&&(_="clientHeight",d="clientWidth",(T=sf(Te))===Qr(Te)&&eo(T=Qo(Te)).position!=="static"&&ot==="absolute"&&(_="scrollHeight",d="scrollWidth"),z!==Gi&&(z!==ji&&z!==yr||J!==kc)||(ke=gr,Xt=(Xt-((Jt&&ve.visualViewport?ve.visualViewport.height:T[_])-I.height))*(pt?1:-1)),z!==ji&&(z!==Gi&&z!==gr||J!==kc)||(Se=yr,Yt=(Yt-((Jt&&ve.visualViewport?ve.visualViewport.width:T[d])-I.width))*(pt?1:-1))),Object.assign({position:ot},Bt&&VH)),Jt=Dt===!0?(z=(_={x:Yt,y:Xt}).x,_=_.y,J=window.devicePixelRatio||1,{x:Bc(z*J)/J||0,y:Bc(_*J)/J||0}):{x:Yt,y:Xt};return Yt=Jt.x,Xt=Jt.y,pt?Object.assign({},Te,((T={})[ke]=Ee?"0":"",T[Se]=we?"0":"",T.transform=(ve.devicePixelRatio||1)<=1?"translate("+Yt+"px, "+Xt+"px)":"translate3d("+Yt+"px, "+Xt+"px, 0)",T)):Object.assign({},Te,((d={})[ke]=Ee?Xt+"px":"",d[Se]=we?Yt+"px":"",d.transform="",d))}var o0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(T){var d=T.state,T=T.options,I=(I=T.gpuAcceleration)===void 0||I,_=(_=T.adaptive)===void 0||_,T=(T=T.roundOffsets)===void 0||T,I={placement:Ps(d.placement),variation:Uc(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:I,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,$A(Object.assign({},I,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:_,roundOffsets:T})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,$A(Object.assign({},I,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:T})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}},im={passive:!0},a0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(b){var d=b.state,_=b.instance,T=(b=b.options).scroll,I=T===void 0||T,z=(T=b.resize)===void 0||T,J=Qr(d.elements.popper),ot=[].concat(d.scrollParents.reference,d.scrollParents.popper);return I&&ot.forEach(function(pt){pt.addEventListener("scroll",_.update,im)}),z&&J.addEventListener("resize",_.update,im),function(){I&&ot.forEach(function(pt){pt.removeEventListener("scroll",_.update,im)}),z&&J.removeEventListener("resize",_.update,im)}},data:{}},HH={left:"right",right:"left",bottom:"top",top:"bottom"};function rm(b){return b.replace(/left|right|bottom|top/g,function(d){return HH[d]})}var $H={start:"end",end:"start"};function WA(b){return b.replace(/start|end/g,function(d){return $H[d]})}function l0(b){return b=Qr(b),{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function c0(b){return zc(Qo(b)).left+l0(b).scrollLeft}function u0(T){var T=eo(T),d=T.overflow,_=T.overflowX,T=T.overflowY;return/auto|scroll|overlay|hidden/.test(d+T+_)}function af(_,d){d===void 0&&(d=[]);var I=function z(J){return 0<=["html","body","#document"].indexOf(Os(J))?J.ownerDocument.body:Pr(J)&&u0(J)?J:z(nm(J))}(_),_=I===((_=_.ownerDocument)==null?void 0:_.body),T=Qr(I),T=_?[T].concat(T.visualViewport||[],u0(I)?I:[]):I,I=d.concat(T);return _?I:I.concat(af(nm(T)))}function h0(b){return Object.assign({},b,{left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height})}function GA(b,d){return d===t0?h0((T=Qr(_=b),I=Qo(_),T=T.visualViewport,z=I.clientWidth,I=I.clientHeight,ot=J=0,T&&(z=T.width,I=T.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(J=T.offsetLeft,ot=T.offsetTop)),{width:z,height:I,x:J+c0(_),y:ot})):Fc(d)?((z=zc(T=d)).top=z.top+T.clientTop,z.left=z.left+T.clientLeft,z.bottom=z.top+T.clientHeight,z.right=z.left+T.clientWidth,z.width=T.clientWidth,z.height=T.clientHeight,z.x=z.left,z.y=z.top,z):h0((I=Qo(b),J=Qo(I),_=l0(I),ot=(ot=I.ownerDocument)==null?void 0:ot.body,d=hl(J.scrollWidth,J.clientWidth,ot?ot.scrollWidth:0,ot?ot.clientWidth:0),b=hl(J.scrollHeight,J.clientHeight,ot?ot.scrollHeight:0,ot?ot.clientHeight:0),I=-_.scrollLeft+c0(I),_=-_.scrollTop,eo(ot||J).direction==="rtl"&&(I+=hl(J.clientWidth,ot?ot.clientWidth:0)-d),{width:d,height:b,x:I,y:_}));var _,T,I,z,J,ot}function WH(b,J,ot){var T,I=J==="clippingParents"?(z=af(nm(I=b)),Fc(T=0<=["absolute","fixed"].indexOf(eo(I).position)&&Pr(I)?sf(I):I)?z.filter(function(pt){return Fc(pt)&&FA(pt,T)&&Os(pt)!=="body"}):[]):[].concat(J),z=[].concat(I,[ot]),J=z[0],ot=z.reduce(function(pt,Bt){return Bt=GA(b,Bt),pt.top=hl(Bt.top,pt.top),pt.right=em(Bt.right,pt.right),pt.bottom=em(Bt.bottom,pt.bottom),pt.left=hl(Bt.left,pt.left),pt},GA(b,J));return ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top,ot.x=ot.left,ot.y=ot.top,ot}function jA(z){var d,_=z.reference,T=z.element,z=z.placement,I=z?Ps(z):null,z=z?Uc(z):null,J=_.x+_.width/2-T.width/2,ot=_.y+_.height/2-T.height/2;switch(I){case Gi:d={x:J,y:_.y-T.height};break;case gr:d={x:J,y:_.y+_.height};break;case yr:d={x:_.x+_.width,y:ot};break;case ji:d={x:_.x-T.width,y:ot};break;default:d={x:_.x,y:_.y}}var pt=I?s0(I):null;if(pt!=null){var Bt=pt==="y"?"height":"width";switch(z){case ul:d[pt]=d[pt]-(_[Bt]/2-T[Bt]/2);break;case kc:d[pt]=d[pt]+(_[Bt]/2-T[Bt]/2)}}return d}function Vc(b,z){var _,z=z=z===void 0?{}:z,T=z.placement,T=T===void 0?b.placement:T,ot=z.boundary,ot=ot===void 0?SA:ot,pt=z.rootBoundary,pt=pt===void 0?t0:pt,I=z.elementContext,I=I===void 0?Nc:I,J=z.altBoundary,J=J!==void 0&&J,z=z.padding,z=z===void 0?0:z,z=UA(typeof z!="number"?z:VA(z,Ic)),Dt=b.rects.popper,J=b.elements[J?I===Nc?MA:Nc:I],J=WH(Fc(J)?J:J.contextElement||Qo(b.elements.popper),ot,pt),ot=zc(b.elements.reference),pt=jA({reference:ot,element:Dt,strategy:"absolute",placement:T}),Dt=h0(Object.assign({},Dt,pt)),pt=I===Nc?Dt:ot,Bt={top:J.top-pt.top+z.top,bottom:pt.bottom-J.bottom+z.bottom,left:J.left-pt.left+z.left,right:pt.right-J.right+z.right},Dt=b.modifiersData.offset;return I===Nc&&Dt&&(_=Dt[T],Object.keys(Bt).forEach(function(Yt){var Xt=0<=[yr,gr].indexOf(Yt)?1:-1,we=0<=[Gi,gr].indexOf(Yt)?"y":"x";Bt[Yt]+=_[we]*Xt})),Bt}var qA={name:"flip",enabled:!0,phase:"main",fn:function(T){var d=T.state,_=T.options,T=T.name;if(!d.modifiersData[T]._skip){for(var we=_.mainAxis,I=we===void 0||we,we=_.altAxis,z=we===void 0||we,we=_.fallbackPlacements,J=_.padding,ot=_.boundary,pt=_.rootBoundary,Bt=_.altBoundary,Xt=_.flipVariations,Dt=Xt===void 0||Xt,Yt=_.allowedAutoPlacements,Xt=d.options.placement,_=Ps(Xt),we=we||(_===Xt||!Dt?[rm(Xt)]:function(Dn){if(Ps(Dn)===tm)return[];var Zr=rm(Dn);return[WA(Dn),Zr,WA(Zr)]}(Xt)),Ee=[Xt].concat(we).reduce(function(Dn,Zr){return Dn.concat(Ps(Zr)===tm?(vm=d,gf=(Dn=Dn=(Dn={placement:Zr,boundary:ot,rootBoundary:pt,padding:J,flipVariations:Dt,allowedAutoPlacements:Yt})===void 0?{}:Dn).placement,XC=Dn.boundary,KC=Dn.rootBoundary,QC=Dn.padding,JC=Dn.flipVariations,ZC=(Dn=Dn.allowedAutoPlacements)===void 0?n0:Dn,A0=Uc(gf),Dn=A0?JC?e0:e0.filter(function(ea){return Uc(ea)===A0}):Ic,_m=(gf=(gf=Dn.filter(function(ea){return 0<=ZC.indexOf(ea)})).length===0?Dn:gf).reduce(function(ea,yf){return ea[yf]=Vc(vm,{placement:yf,boundary:XC,rootBoundary:KC,padding:QC})[Ps(yf)],ea},{}),Object.keys(_m).sort(function(ea,yf){return _m[ea]-_m[yf]})):Zr);var vm,gf,XC,KC,QC,JC,ZC,A0,_m},[]),Se=d.rects.reference,ke=d.rects.popper,ve=new Map,Te=!0,Jt=Ee[0],nn=0;nn<Ee.length;nn++){var Be=Ee[nn],Mn=Ps(Be),io=Uc(Be)===ul,Ze=0<=[Gi,gr].indexOf(Mn),Jr=Ze?"width":"height",no=Vc(d,{placement:Be,boundary:ot,rootBoundary:pt,altBoundary:Bt,padding:J}),Ze=Ze?io?yr:ji:io?gr:Gi,io=(Se[Jr]>ke[Jr]&&(Ze=rm(Ze)),rm(Ze)),Jr=[];if(I&&Jr.push(no[Mn]<=0),z&&Jr.push(no[Ze]<=0,no[io]<=0),Jr.every(function(Dn){return Dn})){Jt=Be,Te=!1;break}ve.set(Be,Jr)}if(Te)for(var T0=Dt?3:1;0<T0&&function(b$){var Dn=Ee.find(function(Zr){if(Zr=ve.get(Zr),Zr)return Zr.slice(0,b$).every(function(vm){return vm})});if(Dn)return Jt=Dn,"break"}(T0)!=="break";T0--);d.placement!==Jt&&(d.modifiersData[T]._skip=!0,d.placement=Jt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function YA(b,d,_){return{top:b.top-d.height-(_=_===void 0?{x:0,y:0}:_).y,right:b.right-d.width+_.x,bottom:b.bottom-d.height+_.y,left:b.left-d.width-_.x}}function XA(b){return[Gi,yr,gr,ji].some(function(d){return 0<=b[d]})}var KA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var d=_.state,_=_.name,z=d.rects.reference,ot=d.rects.popper,T=d.modifiersData.preventOverflow,I=Vc(d,{elementContext:"reference"}),J=Vc(d,{altBoundary:!0}),I=YA(I,z),z=YA(J,ot,T),J=XA(I),ot=XA(z);d.modifiersData[_]={referenceClippingOffsets:I,popperEscapeOffsets:z,isReferenceHidden:J,hasPopperEscaped:ot},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":J,"data-popper-escaped":ot})}},QA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var d=_.state,I=_.options,_=_.name,T=(I=I.offset)===void 0?[0,0]:I,I=n0.reduce(function(ot,pt){var Bt,Dt,Yt,Xt;return ot[pt]=(pt=pt,Bt=d.rects,Dt=T,Yt=Ps(pt),Xt=0<=[ji,Gi].indexOf(Yt)?-1:1,pt=(Bt=typeof Dt=="function"?Dt(Object.assign({},Bt,{placement:pt})):Dt)[0]||0,Dt=(Bt[1]||0)*Xt,0<=[ji,yr].indexOf(Yt)?{x:Dt,y:pt}:{x:pt,y:Dt}),ot},{}),z=(J=I[d.placement]).x,J=J.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=z,d.modifiersData.popperOffsets.y+=J),d.modifiersData[_]=I}},f0={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var d=_.state,_=_.name;d.modifiersData[_]=jA({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},JA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Yt){var d,_,T,I,z,J,ot,pt,Bt,Dt=Yt.state,Ze=Yt.options,Yt=Yt.name,Xt=(Xt=Ze.mainAxis)===void 0||Xt,we=(we=Ze.altAxis)!==void 0&&we,ke=Ze.boundary,ve=Ze.rootBoundary,Te=Ze.altBoundary,Ee=Ze.padding,Se=(Se=Ze.tether)===void 0||Se,Ze=(Ze=Ze.tetherOffset)===void 0?0:Ze,ke=Vc(Dt,{boundary:ke,rootBoundary:ve,padding:Ee,altBoundary:Te}),ve=Ps(Dt.placement),Te=!(Ee=Uc(Dt.placement)),Jt=s0(ve),nn=Jt==="x"?"y":"x",Be=Dt.modifiersData.popperOffsets,Mn=Dt.rects.reference,no=Dt.rects.popper,Ze=typeof(Ze=typeof Ze=="function"?Ze(Object.assign({},Dt.rects,{placement:Dt.placement})):Ze)=="number"?{mainAxis:Ze,altAxis:Ze}:Object.assign({mainAxis:0,altAxis:0},Ze),io=Dt.modifiersData.offset?Dt.modifiersData.offset[Dt.placement]:null,Jr={x:0,y:0};Be&&(Xt&&(Xt=Jt==="y"?"height":"width",J=(ot=Be[Jt])+ke[_=Jt==="y"?Gi:ji],pt=ot-ke[Bt=Jt==="y"?gr:yr],d=Se?-no[Xt]/2:0,I=(Ee===ul?Mn:no)[Xt],Ee=Ee===ul?-no[Xt]:-Mn[Xt],z=Dt.elements.arrow,z=Se&&z?r0(z):{width:0,height:0},_=(T=Dt.modifiersData["arrow#persistent"]?Dt.modifiersData["arrow#persistent"].padding:zA())[_],T=T[Bt],Bt=of(0,Mn[Xt],z[Xt]),z=Te?Mn[Xt]/2-d-Bt-_-Ze.mainAxis:I-Bt-_-Ze.mainAxis,I=Te?-Mn[Xt]/2+d+Bt+T+Ze.mainAxis:Ee+Bt+T+Ze.mainAxis,Te=(_=Dt.elements.arrow&&sf(Dt.elements.arrow))?Jt==="y"?_.clientTop||0:_.clientLeft||0:0,Ee=ot+I-(d=(Xt=io==null?void 0:io[Jt])!=null?Xt:0),Bt=of(Se?em(J,ot+z-d-Te):J,ot,Se?hl(pt,Ee):pt),Be[Jt]=Bt,Jr[Jt]=Bt-ot),we&&(T=nn=="y"?"height":"width",I=(_=Be[nn])+ke[Jt==="x"?Gi:ji],Xt=_-ke[Jt==="x"?gr:yr],z=[Gi,ji].indexOf(ve)!==-1,Te=(d=io==null?void 0:io[nn])!=null?d:0,J=z?I:_-Mn[T]-no[T]-Te+Ze.altAxis,Ee=z?_+Mn[T]+no[T]-Te-Ze.altAxis:Xt,ot=Se&&z?(pt=of(pt=J,_,Bt=Ee),Bt<pt?Bt:pt):of(Se?J:I,_,Se?Ee:Xt),Be[nn]=ot,Jr[nn]=ot-_),Dt.modifiersData[Yt]=Jr)},requiresIfExists:["offset"]};function GH(ot,d,_){_===void 0&&(_=!1);var T=Pr(d),I=Pr(d)&&(J=(I=d).getBoundingClientRect(),z=Bc(J.width)/I.offsetWidth||1,J=Bc(J.height)/I.offsetHeight||1,z!==1||J!==1),z=Qo(d),J=zc(ot,I),ot={scrollLeft:0,scrollTop:0},pt={x:0,y:0};return!T&&_||(Os(d)==="body"&&!u0(z)||(ot=(T=d)!==Qr(T)&&Pr(T)?{scrollLeft:T.scrollLeft,scrollTop:T.scrollTop}:l0(T)),Pr(d)?((pt=zc(d,!0)).x+=d.clientLeft,pt.y+=d.clientTop):z&&(pt.x=c0(z))),{x:J.left+ot.scrollLeft-pt.x,y:J.top+ot.scrollTop-pt.y,width:J.width,height:J.height}}function jH(b){var d=new Map,_=new Set,T=[];return b.forEach(function(I){d.set(I.name,I)}),b.forEach(function(I){_.has(I.name)||function z(J){_.add(J.name),[].concat(J.requires||[],J.requiresIfExists||[]).forEach(function(ot){_.has(ot)||(ot=d.get(ot))&&z(ot)}),T.push(J)}(I)}),T}var ZA={placement:"bottom",modifiers:[],strategy:"absolute"};function tC(){for(var b=arguments.length,d=new Array(b),_=0;_<b;_++)d[_]=arguments[_];return!d.some(function(T){return!(T&&typeof T.getBoundingClientRect=="function")})}function sm(d){var d=d=d===void 0?{}:d,T=d.defaultModifiers,_=T===void 0?[]:T,T=d.defaultOptions,I=T===void 0?ZA:T;return function(z,J,ot){ot===void 0&&(ot=I);var pt,Bt,Dt={placement:"bottom",orderedModifiers:[],options:Object.assign({},ZA,I),modifiersData:{},elements:{reference:z,popper:J},attributes:{},styles:{}},Yt=[],Xt=!1,we={state:Dt,setOptions:function(Te){var ke,ve,Te=typeof Te=="function"?Te(Dt.options):Te,Te=(Ee(),Dt.options=Object.assign({},I,Dt.options,Te),Dt.scrollParents={reference:Fc(z)?af(z):z.contextElement?af(z.contextElement):[],popper:af(J)},Te=[].concat(_,Dt.options.modifiers),ve=Te.reduce(function(Jt,nn){var Be=Jt[nn.name];return Jt[nn.name]=Be?Object.assign({},Be,nn,{options:Object.assign({},Be.options,nn.options),data:Object.assign({},Be.data,nn.data)}):nn,Jt},{}),Te=Object.keys(ve).map(function(Jt){return ve[Jt]}),ke=jH(Te),kA.reduce(function(Jt,nn){return Jt.concat(ke.filter(function(Be){return Be.phase===nn}))},[]));return Dt.orderedModifiers=Te.filter(function(Jt){return Jt.enabled}),Dt.orderedModifiers.forEach(function(Mn){var nn=Mn.name,Be=Mn.options,Mn=Mn.effect;typeof Mn=="function"&&(Mn=Mn({state:Dt,name:nn,instance:we,options:Be===void 0?{}:Be}),Yt.push(Mn||function(){}))}),we.update()},forceUpdate:function(){if(!Xt){var ke=Dt.elements,Se=ke.reference,ke=ke.popper;if(tC(Se,ke)){Dt.rects={reference:GH(Se,sf(ke),Dt.options.strategy==="fixed"),popper:r0(ke)},Dt.reset=!1,Dt.placement=Dt.options.placement,Dt.orderedModifiers.forEach(function(Be){return Dt.modifiersData[Be.name]=Object.assign({},Be.data)});for(var ve,Te,Jt,nn=0;nn<Dt.orderedModifiers.length;nn++)Dt.reset===!0?(Dt.reset=!1,nn=-1):(ve=(Jt=Dt.orderedModifiers[nn]).fn,Te=Jt.options,Jt=Jt.name,typeof ve=="function"&&(Dt=ve({state:Dt,options:Te===void 0?{}:Te,name:Jt,instance:we})||Dt))}}},update:(pt=function(){return new Promise(function(Se){we.forceUpdate(),Se(Dt)})},function(){return Bt=Bt||new Promise(function(Se){Promise.resolve().then(function(){Bt=void 0,Se(pt())})})}),destroy:function(){Ee(),Xt=!0}};return tC(z,J)&&we.setOptions(ot).then(function(Se){!Xt&&ot.onFirstUpdate&&ot.onFirstUpdate(Se)}),we;function Ee(){Yt.forEach(function(Se){return Se()}),Yt=[]}}}var qH=sm(),d0=sm({defaultModifiers:[a0,f0,o0,i0,QA,qA,JA,HA,KA]}),YH=sm({defaultModifiers:[a0,f0,o0,i0]});const XH=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),KH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,QH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;qt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function eC(b,d,_){if(!b.length)return b;if(_&&typeof _=="function")return _(b);const T=new window.DOMParser,I=T.parseFromString(b,"text/html");var z=[].concat(...I.body.querySelectorAll("*"));for(let ot=0,pt=z.length;ot<pt;ot++){const Bt=z[ot];var J=Bt.nodeName.toLowerCase();if(Object.keys(d).includes(J)){const Dt=[].concat(...Bt.attributes),Yt=[].concat(d["*"]||[],d[J]||[]);Dt.forEach(Xt=>{((we,Ee)=>{var Se=we.nodeName.toLowerCase();if(Ee.includes(Se))return!XH.has(Se)||Boolean(KH.test(we.nodeValue)||QH.test(we.nodeValue));const ke=Ee.filter(ve=>ve instanceof RegExp);for(let ve=0,Te=ke.length;ve<Te;ve++)if(ke[ve].test(Se))return!0;return!1})(Xt,Yt)||Bt.removeAttribute(Xt.nodeName)})}else Bt.remove()}return I.body.innerHTML}const nC="tooltip";Ut=".".concat("bs.tooltip");const JH=new Set(["sanitize","allowList","sanitizeFn"]),ZH={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},t4={AUTO:"auto",TOP:"top",RIGHT:rt()?"left":"right",BOTTOM:"bottom",LEFT:rt()?"right":"left"},e4={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:qt,popperConfig:null},n4={HIDE:"hide".concat(Ut),HIDDEN:"hidden".concat(Ut),SHOW:"show".concat(Ut),SHOWN:"shown".concat(Ut),INSERTED:"inserted".concat(Ut),CLICK:"click".concat(Ut),FOCUSIN:"focusin".concat(Ut),FOCUSOUT:"focusout".concat(Ut),MOUSEENTER:"mouseenter".concat(Ut),MOUSELEAVE:"mouseleave".concat(Ut)},om="fade",lf="show",cf="show",iC=".tooltip-inner",rC=".".concat("modal"),sC="hide.bs.modal",uf="hover",p0="focus";class am extends Ie{constructor(d,_){if(l===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(_),this.tip=null,this._setListeners()}static get Default(){return e4}static get NAME(){return nC}static get Event(){return n4}static get DefaultType(){return ZH}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(d){if(this._isEnabled)if(d){const _=this._initializeOnDelegatedTarget(d);_._activeTrigger.click=!_._activeTrigger.click,_._isWithActiveTrigger()?_._enter(null,_):_._leave(null,_)}else this.getTipElement().classList.contains(lf)?this._leave(null,this):this._enter(null,this)}dispose(){clearTimeout(this._timeout),ft.off(this._element.closest(rC),sC,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var d=ft.trigger(this._element,this.constructor.Event.SHOW);const T=Rt(this._element);var _=(T===null?this._element.ownerDocument.documentElement:T).contains(this._element);if(!d.defaultPrevented&&_){this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(iC).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const I=this.getTipElement();d=(ot=>{for(;ot+=Math.floor(1e6*Math.random()),document.getElementById(ot););return ot})(this.constructor.NAME),_=(I.setAttribute("id",d),this._element.setAttribute("aria-describedby",d),this._config.animation&&I.classList.add(om),typeof this._config.placement=="function"?this._config.placement.call(this,I,this._element):this._config.placement),d=this._getAttachment(_),this._addAttachmentClass(d);const z=this._config.container,J=(de(I,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(z.append(I),ft.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=d0(this._element,I,this._getPopperConfig(d)),I.classList.add(lf),this._resolvePossibleFunction(this._config.customClass));J&&I.classList.add(...J.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ot=>{ft.on(ot,"mouseover",O)}),_=this.tip.classList.contains(om),this._queueCallback(()=>{var ot=this._hoverState;this._hoverState=null,ft.trigger(this._element,this.constructor.Event.SHOWN),ot==="out"&&this._leave(null,this)},this.tip,_)}}}hide(){if(this._popper){const _=this.getTipElement();var d;ft.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(_.classList.remove(lf),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(T=>ft.off(T,"mouseover",O)),this._activeTrigger.click=!1,this._activeTrigger[p0]=!1,this._activeTrigger[uf]=!1,d=this.tip.classList.contains(om),this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==cf&&_.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),ft.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,d),this._hoverState="")}}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const d=document.createElement("div"),_=(d.innerHTML=this._config.template,d.children[0]);return this.setContent(_),_.classList.remove(om,lf),this.tip=_,this.tip}setContent(d){this._sanitizeAndSetContent(d,this.getTitle(),iC)}_sanitizeAndSetContent(d,_,T){const I=Ht.findOne(T,d);!_&&I?I.remove():this.setElementContent(I,_)}setElementContent(d,_){if(d!==null)return Y(_)?(_=Et(_),void(this._config.html?_.parentNode!==d&&(d.innerHTML="",d.append(_)):d.textContent=_.textContent)):void(this._config.html?(this._config.sanitize&&(_=eC(_,this._config.allowList,this._config.sanitizeFn)),d.innerHTML=_):d.textContent=_)}getTitle(){var d=this._element.getAttribute("data-mdb-original-title")||this._config.title;return this._resolvePossibleFunction(d)}updateAttachment(d){return d==="right"?"end":d==="left"?"start":d}_initializeOnDelegatedTarget(d,_){return _||this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_getOffset(){const d=this._config.offset;return typeof d=="string"?d.split(",").map(_=>Number.parseInt(_,10)):typeof d=="function"?_=>d(_,this._element):d}_resolvePossibleFunction(d){return typeof d=="function"?d.call(this._element):d}_getPopperConfig(d){return d={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:_=>this._handlePopperPlacementChange(_)}],onFirstUpdate:_=>{_.options.placement!==_.placement&&this._handlePopperPlacementChange(_)}},{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_addAttachmentClass(d){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(d)))}_getAttachment(d){return t4[d.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(_=>{var T;_==="click"?ft.on(this._element,this.constructor.Event.CLICK,this._config.selector,I=>this.toggle(I)):_!=="manual"&&(T=_===uf?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,_=_===uf?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT,ft.on(this._element,T,this._config.selector,I=>this._enter(I)),ft.on(this._element,_,this._config.selector,I=>this._leave(I)))}),this._hideModalHandler=()=>{this._element&&this.hide()},ft.on(this._element.closest(rC),sC,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){var d=this._element.getAttribute("title"),_=typeof this._element.getAttribute("data-mdb-original-title");!d&&_=="string"||(this._element.setAttribute("data-mdb-original-title",d||""),!d||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",d),this._element.setAttribute("title",""))}_enter(d,_){_=this._initializeOnDelegatedTarget(d,_),d&&(_._activeTrigger[d.type==="focusin"?p0:uf]=!0),_.getTipElement().classList.contains(lf)||_._hoverState===cf?_._hoverState=cf:(clearTimeout(_._timeout),_._hoverState=cf,_._config.delay&&_._config.delay.show?_._timeout=setTimeout(()=>{_._hoverState===cf&&_.show()},_._config.delay.show):_.show())}_leave(d,_){_=this._initializeOnDelegatedTarget(d,_),d&&(_._activeTrigger[d.type==="focusout"?p0:uf]=_._element.contains(d.relatedTarget)),_._isWithActiveTrigger()||(clearTimeout(_._timeout),_._hoverState="out",_._config.delay&&_._config.delay.hide?_._timeout=setTimeout(()=>{_._hoverState==="out"&&_.hide()},_._config.delay.hide):_.hide())}_isWithActiveTrigger(){for(const d in this._activeTrigger)if(this._activeTrigger[d])return!0;return!1}_getConfig(d){const _=ee.getDataAttributes(this._element);return Object.keys(_).forEach(T=>{JH.has(T)&&delete _[T]}),(d={...this.constructor.Default,..._,...typeof d=="object"&&d?d:{}}).container=d.container===!1?document.body:Et(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),lt(nC,d,this.constructor.DefaultType),d.sanitize&&(d.template=eC(d.template,d.allowList,d.sanitizeFn)),d}_getDelegateConfig(){const d={};for(const _ in this._config)this.constructor.Default[_]!==this._config[_]&&(d[_]=this._config[_]);return d}_cleanTipClass(){const d=this.getTipElement();var _=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g");const T=d.getAttribute("class").match(_);T!==null&&0<T.length&&T.map(I=>I.trim()).forEach(I=>d.classList.remove(I))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(d){d=d.state,d&&(this.tip=d.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(d.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(d){return this.each(function(){const _=am.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}o(am),Oe=am,qt=".".concat("bs.popover");const i4={...Oe.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},r4={...Oe.DefaultType,content:"(string|element|function)"},s4={HIDE:"hide".concat(qt),HIDDEN:"hidden".concat(qt),SHOW:"show".concat(qt),SHOWN:"shown".concat(qt),INSERTED:"inserted".concat(qt),CLICK:"click".concat(qt),FOCUSIN:"focusin".concat(qt),FOCUSOUT:"focusout".concat(qt),MOUSEENTER:"mouseenter".concat(qt),MOUSELEAVE:"mouseleave".concat(qt)};class lm extends Oe{static get Default(){return i4}static get NAME(){return"popover"}static get Event(){return s4}static get DefaultType(){return r4}isWithContent(){return this.getTitle()||this._getContent()}setContent(d){this._sanitizeAndSetContent(d,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(d,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(d){return this.each(function(){const _=lm.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}o(lm),Ut=lm;const fl="popover";qt="mdb.".concat(fl),qt=".".concat(qt);const oC="show.bs.popover",aC="shown.bs.popover",lC="hide.bs.popover",cC="hidden.bs.popover",uC="inserted.bs.popover",o4="show".concat(qt),a4="shown".concat(qt),l4="hide".concat(qt),c4="hidden".concat(qt),u4="inserted".concat(qt);class Hc extends Ut{constructor(d,_){super(d,_),this._init()}dispose(){D.off(this.element,oC),D.off(this.element,aC),D.off(this.element,lC),D.off(this.element,cC),D.off(this.element,uC),super.dispose()}static get NAME(){return fl}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent(),this._bindInsertedEvent()}_bindShowEvent(){D.on(this.element,oC,()=>{D.trigger(this.element,o4)})}_bindShownEvent(){D.on(this.element,aC,()=>{D.trigger(this.element,a4)})}_bindHideEvent(){D.on(this.element,lC,()=>{D.trigger(this.element,l4)})}_bindHiddenEvent(){D.on(this.element,cC,()=>{D.trigger(this.element,c4)})}_bindInsertedEvent(){D.on(this.element,uC,()=>{D.trigger(this.element,u4)})}}Q.find('[data-mdb-toggle="popover"]').forEach(b=>{var d=Hc.getInstance(b);d||new Hc(b)}),f(()=>{const b=h();if(b){const d=b.fn[fl];b.fn[fl]=Hc.jQueryInterface,b.fn[fl].Constructor=Hc,b.fn[fl].noConflict=()=>(b.fn[fl]=d,Hc.jQueryInterface)}});var h4=Hc;a(105);const hC="scrollspy",m0=".".concat("bs.scrollspy"),fC={offset:10,method:"auto",target:""},f4={offset:"number",method:"string",target:"(string|element)"},d4="activate".concat(m0),p4="scroll".concat(m0),dC="dropdown-item",$c="active",g0=".nav-link",pC=".list-group-item",y0="".concat(g0,", ").concat(pC,", .").concat(dC),mC="position";class cm extends Ie{constructor(d,_){super(d),Ct(d)&&(this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(_),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,ft.on(this._scrollElement,p4,()=>this._process()),this.refresh(),this._process())}static get Default(){return fC}static get NAME(){return hC}refresh(){var d=this._scrollElement===this._scrollElement.window?"offset":mC;const _=this._config.method==="auto"?d:this._config.method,T=_===mC?this._getScrollTop():0;(this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ht.find(y0,this._config.target)).map(z=>{z=Ct(z);const J=z?Ht.findOne(z):null;if(J){var ot=J.getBoundingClientRect();if(ot.width||ot.height)return[ee[_](J).top+T,z]}return null}).filter(z=>z).sort((z,J)=>z[0]-J[0]).forEach(z=>{this._offsets.push(z[0]),this._targets.push(z[1])})}dispose(){ft.off(this._scrollElement,m0),super.dispose()}_getConfig(d){return(d={...fC,...ee.getDataAttributes(this._element),...typeof d=="object"&&d?d:{}}).target=Et(d.target)||document.documentElement,lt(hC,d,f4),d}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){var d=this._getScrollTop()+this._config.offset,_=this._getScrollHeight(),T=this._config.offset+_-this._getOffsetHeight();if(this._scrollHeight!==_&&this.refresh(),T<=d)return _=this._targets[this._targets.length-1],void(this._activeTarget!==_&&this._activate(_));if(this._activeTarget&&d<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(let I=this._offsets.length;I--;)this._activeTarget!==this._targets[I]&&d>=this._offsets[I]&&(this._offsets[I+1]===void 0||d<this._offsets[I+1])&&this._activate(this._targets[I])}_activate(d){this._activeTarget=d,this._clear();const _=y0.split(",").map(I=>"".concat(I,'[data-mdb-target="').concat(d,'"],').concat(I,'[href="').concat(d,'"]')),T=Ht.findOne(_.join(","),this._config.target);T.classList.add($c),T.classList.contains(dC)?Ht.findOne(".dropdown-toggle",T.closest(".dropdown")).classList.add($c):Ht.parents(T,".nav, .list-group").forEach(I=>{Ht.prev(I,"".concat(g0,", ").concat(pC)).forEach(z=>z.classList.add($c)),Ht.prev(I,".nav-item").forEach(z=>{Ht.children(z,g0).forEach(J=>J.classList.add($c))})}),ft.trigger(this._scrollElement,d4,{relatedTarget:d})}_clear(){Ht.find(y0,this._config.target).filter(d=>d.classList.contains($c)).forEach(d=>d.classList.remove($c))}static jQueryInterface(d){return this.each(function(){const _=cm.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}o(cm),qt=cm;const dl="scrollspy";Ut="mdb.".concat(dl),Ut=".".concat(Ut);const gC="activate.bs.scrollspy",m4="activate".concat(Ut);Ut="load".concat(Ut).concat(".data-api");const yC="collapsible-scrollspy",g4=".".concat("active"),vC=".".concat(yC);class Wc extends qt{constructor(d,_){super(d,_),this._collapsibles=[],this._init()}dispose(){D.off(this._scrollElement,gC),super.dispose()}static get NAME(){return dl}_init(){this._bindActivateEvent(),this._getCollapsibles(),this._collapsibles.length!==0&&(this._showSubsection(),this._hideSubsection())}_getHeight(d){return d.offsetHeight}_hide(d){const _=Q.findOne("ul",d.parentNode);_.style.overflow="hidden",_.style.height="".concat(0,"px")}_show(d,_){d.style.height=_}_getCollapsibles(){const d=Q.find(vC);d&&d.forEach(_=>{var T=_.parentNode,T=Q.findOne("ul",T),I=T.offsetHeight;this._collapsibles.push({element:T,relatedTarget:_.getAttribute("href"),height:"".concat(I,"px")})})}_showSubsection(){Q.find(g4).filter(T=>V.hasClass(T,yC)).forEach(T=>{var I=Q.findOne("ul",T.parentNode),z=this._collapsibles.find(J=>J.relatedTarget=T.getAttribute("href")).height;this._show(I,z)})}_hideSubsection(){Q.find(vC).filter(_=>V.hasClass(_,"active")===!1).forEach(_=>{this._hide(_)})}_bindActivateEvent(){D.on(this._scrollElement,gC,d=>{this._showSubsection(),this._hideSubsection(),D.trigger(this._scrollElement,m4,{relatedTarget:d.relatedTarget})})}}D.on(window,Ut,()=>{Q.find('[data-mdb-spy="scroll"]').forEach(b=>{var d=Wc.getInstance(b);d||new Wc(b,V.getDataAttributes(b))})}),f(()=>{const b=h();if(b){const d=b.fn[dl];b.fn[dl]=Wc.jQueryInterface,b.fn[dl].Constructor=Wc,b.fn[dl].noConflict=()=>(b.fn[dl]=d,Wc.jQueryInterface)}});var y4=Wc;qt=".".concat("bs.tab");const v4="hide".concat(qt),_4="hidden".concat(qt),b4="show".concat(qt),x4="shown".concat(qt);Ut="click".concat(qt).concat(".data-api");const hf="active",_C=".active",bC=":scope > li > .active";class ff extends Ie{static get NAME(){return"tab"}show(){if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(hf)){let I;var d=Lt(this._element),_=this._element.closest(".nav, .list-group"),T=(_&&(T=_.nodeName==="UL"||_.nodeName==="OL"?bC:_C,I=(I=Ht.find(T,_))[I.length-1]),I?ft.trigger(I,v4,{relatedTarget:this._element}):null);ft.trigger(this._element,b4,{relatedTarget:I}).defaultPrevented||T!==null&&T.defaultPrevented||(this._activate(this._element,_),T=()=>{ft.trigger(I,_4,{relatedTarget:this._element}),ft.trigger(this._element,x4,{relatedTarget:I})},d?this._activate(d,d.parentNode,T):T())}}_activate(d,z,T){const I=(!z||z.nodeName!=="UL"&&z.nodeName!=="OL"?Ht.children(z,_C):Ht.find(bC,z))[0];var z=T&&I&&I.classList.contains("fade"),J=()=>this._transitionComplete(d,I,T);I&&z?(I.classList.remove("show"),this._queueCallback(J,d,!0)):J()}_transitionComplete(d,_,T){if(_){_.classList.remove(hf);const z=Ht.findOne(":scope > .dropdown-menu .active",_.parentNode);z&&z.classList.remove(hf),_.getAttribute("role")==="tab"&&_.setAttribute("aria-selected",!1)}d.classList.add(hf),d.getAttribute("role")==="tab"&&d.setAttribute("aria-selected",!0),k(d),d.classList.contains("fade")&&d.classList.add("show");let I=d.parentNode;(I=I&&I.nodeName==="LI"?I.parentNode:I)&&I.classList.contains("dropdown-menu")&&((_=d.closest(".dropdown"))&&Ht.find(".dropdown-toggle",_).forEach(z=>z.classList.add(hf)),d.setAttribute("aria-expanded",!0)),T&&T()}static jQueryInterface(d){return this.each(function(){const _=ff.getOrCreateInstance(this);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}ft.on(document,Ut,'[data-mdb-toggle="tab"], [data-mdb-toggle="pill"], [data-mdb-toggle="list"]',function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),!xt(this)&&ff.getOrCreateInstance(this).show()}),o(ff),qt=ff;const xC="tab";Ut="mdb.".concat(xC),Ut=".".concat(Ut);const v0="show.bs.tab",_0="shown.bs.tab",wC="hide.bs.tab",EC="hidden.bs.tab",w4="show".concat(Ut),E4="shown".concat(Ut),SC="hide".concat(Ut),MC="hidden".concat(Ut);class Gc extends qt{constructor(d){super(d),this._previous=null,this._init()}dispose(){D.off(this._element,v0),D.off(this._element,_0),super.dispose()}static get NAME(){return xC}show(){if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))){var d,_=(J=>(J=c(J),J?document.querySelector(J):null))(this._element),T=this._element.closest(".nav, .list-group");T&&(d=T.nodeName==="UL"||T.nodeName==="OL"?":scope > li > .active":".active",this._previous=Q.find(d,T),this._previous=this._previous[this._previous.length-1]);let I=null,z=null;this._previous&&(I=D.trigger(this._previous,wC,{relatedTarget:this._element}),z=D.trigger(this._previous,SC,{relatedTarget:this._element})),D.trigger(this._element,v0,{relatedTarget:this._previous}).defaultPrevented||I!==null&&I.defaultPrevented||z!==null&&z.defaultPrevented||(this._activate(this._element,T),d=()=>{D.trigger(this._previous,EC,{relatedTarget:this._element}),D.trigger(this._previous,MC,{relatedTarget:this._element}),D.trigger(this._element,_0,{relatedTarget:this._previous})},_?this._activate(_,_.parentNode,d):d())}}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent()}_bindShowEvent(){D.on(this._element,v0,d=>{D.trigger(this._element,w4,{relatedTarget:d.relatedTarget})})}_bindShownEvent(){D.on(this._element,_0,d=>{D.trigger(this._element,E4,{relatedTarget:d.relatedTarget})})}_bindHideEvent(){D.on(this._previous,wC,()=>{D.trigger(this._previous,SC)})}_bindHiddenEvent(){D.on(this._previous,EC,()=>{D.trigger(this._previous,MC)})}}Q.find('[data-mdb-toggle="tab"], [data-mdb-toggle="pill"], [data-mdb-toggle="list"]').forEach(b=>{var d=Gc.getInstance(b);d||new Gc(b)}),f(()=>{const b=h();if(b){const d=b.fn.tab;b.fn.tab=Gc.jQueryInterface,b.fn.tab.Constructor=Gc,b.fn.tab.noConflict=()=>(b.fn.tab=d,Gc.jQueryInterface)}});var S4=Gc;const pl="tooltip";Ut="mdb.".concat(pl),qt=".".concat(Ut);const TC="hide.bs.tooltip",AC="hidden.bs.tooltip",CC="show.bs.tooltip",OC="shown.bs.tooltip",PC="inserted.bs.tooltip",M4="hide".concat(qt),T4="hidden".concat(qt),A4="show".concat(qt),C4="shown".concat(qt),O4="inserted".concat(qt);class jc extends Oe{constructor(d,_){super(d,_),this._init()}dispose(){D.off(this._element,CC),D.off(this._element,OC),D.off(this._element,TC),D.off(this._element,AC),D.off(this._element,PC),super.dispose()}static get NAME(){return pl}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent(),this._bindHidePreventedEvent()}_bindShowEvent(){D.on(this.element,CC,()=>{D.trigger(this.element,A4)})}_bindShownEvent(){D.on(this.element,OC,()=>{D.trigger(this.element,C4)})}_bindHideEvent(){D.on(this.element,TC,()=>{D.trigger(this.element,M4)})}_bindHiddenEvent(){D.on(this.element,AC,()=>{D.trigger(this.element,T4)})}_bindHidePreventedEvent(){D.on(this.element,PC,()=>{D.trigger(this.element,O4)})}}Q.find('[data-mdb-toggle="tooltip"]').forEach(b=>{var d=jc.getInstance(b);d||new jc(b)}),f(()=>{const b=h();if(b){const d=b.fn[pl];b.fn[pl]=jc.jQueryInterface,b.fn[pl].Constructor=jc,b.fn[pl].noConflict=()=>(b.fn[pl]=d,jc.jQueryInterface)}});var P4=jc;Ut=".".concat("bs.toast");const D4="mouseover".concat(Ut),R4="mouseout".concat(Ut),L4="focusin".concat(Ut),I4="focusout".concat(Ut),k4="hide".concat(Ut),N4="hidden".concat(Ut),F4="show".concat(Ut),B4="shown".concat(Ut),df="show",um="showing",z4={animation:"boolean",autohide:"boolean",delay:"number"},DC={animation:!0,autohide:!0,delay:5e3};class pf extends Ie{constructor(d,_){super(d),this._config=this._getConfig(_),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return z4}static get Default(){return DC}static get NAME(){return"toast"}show(){ft.trigger(this._element,F4).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),k(this._element),this._element.classList.add(df),this._element.classList.add(um),this._queueCallback(()=>{this._element.classList.remove(um),ft.trigger(this._element,B4),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(df)&&!ft.trigger(this._element,k4).defaultPrevented&&(this._element.classList.add(um),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(um),this._element.classList.remove(df),ft.trigger(this._element,N4)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this._element.classList.contains(df)&&this._element.classList.remove(df),super.dispose()}_getConfig(d){return d={...DC,...ee.getDataAttributes(this._element),...typeof d=="object"&&d?d:{}},lt("toast",d,this.constructor.DefaultType),d}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(d,_){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=_;break;case"focusin":case"focusout":this._hasKeyboardInteraction=_}_?this._clearTimeout():(d=d.relatedTarget,this._element===d||this._element.contains(d)||this._maybeScheduleHide())}_setListeners(){ft.on(this._element,D4,d=>this._onInteraction(d,!0)),ft.on(this._element,R4,d=>this._onInteraction(d,!1)),ft.on(this._element,L4,d=>this._onInteraction(d,!0)),ft.on(this._element,I4,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const _=pf.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d](this)}})}}pe(pf),o(pf),qt=pf;const ml="toast";Oe="mdb.".concat(ml),Ut=".".concat(Oe);const RC="show.bs.toast",LC="shown.bs.toast",IC="hide.bs.toast",kC="hidden.bs.toast",U4="show".concat(Ut),V4="shown".concat(Ut),H4="hide".concat(Ut),$4="hidden".concat(Ut);class qc extends qt{constructor(d,_){super(d,_),this._init()}dispose(){D.off(this._element,RC),D.off(this._element,LC),D.off(this._element,IC),D.off(this._element,kC),super.dispose()}static get NAME(){return ml}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent()}_bindShowEvent(){D.on(this._element,RC,()=>{D.trigger(this._element,U4)})}_bindShownEvent(){D.on(this._element,LC,()=>{D.trigger(this._element,V4)})}_bindHideEvent(){D.on(this._element,IC,()=>{D.trigger(this._element,H4)})}_bindHiddenEvent(){D.on(this._element,kC,()=>{D.trigger(this._element,$4)})}}Q.find(".toast").forEach(b=>{var d=qc.getInstance(b);d||new qc(b)}),f(()=>{const b=h();if(b){const d=b.fn[ml];b.fn[ml]=qc.jQueryInterface,b.fn[ml].Constructor=qc,b.fn[ml].noConflict=()=>(b.fn[ml]=d,qc.jQueryInterface)}});var W4=qc;a(113);const Yc="input",hm="mdb.input";Oe="form-outline";const fm="active",NC="form-notch",FC="form-notch-leading",BC="form-notch-middle",gl=".".concat(Oe," input"),yl=".".concat(Oe," textarea"),zC=".".concat(NC),UC=".".concat(FC),G4=".".concat(BC),j4=".".concat("form-helper");class fn{constructor(d){this._element=d,this._label=null,this._labelWidth=0,this._labelMarginLeft=0,this._notchLeading=null,this._notchMiddle=null,this._notchTrailing=null,this._initiated=!1,this._helper=null,this._counter=!1,this._counterElement=null,this._maxLength=0,this._leadingIcon=null,this._element&&(g.setData(d,hm,this),this.init())}static get NAME(){return Yc}get input(){return Q.findOne("input",this._element)||Q.findOne("textarea",this._element)}init(){this._initiated||(this._getLabelData(),this._applyDivs(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter(),this._initiated=!0)}update(){this._getLabelData(),this._getNotchData(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter()}forceActive(){V.addClass(this.input,fm)}forceInactive(){V.removeClass(this.input,fm)}dispose(){this._removeBorder(),g.removeData(this._element,hm),this._element=null}_getLabelData(){this._label=Q.findOne("label",this._element),this._label===null?this._showPlaceholder():(this._getLabelWidth(),this._getLabelPositionInInputGroup(),this._toggleDefaultDatePlaceholder())}_getHelper(){this._helper=Q.findOne(j4,this._element)}_getCounter(){this._counter=V.getDataAttribute(this.input,"showcounter"),this._counter&&(this._maxLength=this.input.maxLength,this._showCounter())}_showCounter(){var d;0<Q.find(".form-counter",this._element).length||(this._counterElement=document.createElement("div"),V.addClass(this._counterElement,"form-counter"),d=this.input.value.length,this._counterElement.innerHTML="".concat(d," / ").concat(this._maxLength),this._helper.appendChild(this._counterElement),this._bindCounter())}_bindCounter(){D.on(this.input,"input",()=>{var d=this.input.value.length;this._counterElement.innerHTML="".concat(d," / ").concat(this._maxLength)})}_toggleDefaultDatePlaceholder(){let d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.input;d.getAttribute("type")==="date"&&(document.activeElement===d||d.value?d.style.opacity=1:d.style.opacity=0)}_showPlaceholder(){V.addClass(this.input,"placeholder-active")}_getNotchData(){this._notchMiddle=Q.findOne(G4,this._element),this._notchLeading=Q.findOne(UC,this._element)}_getLabelWidth(){this._labelWidth=.8*this._label.clientWidth+8}_getLabelPositionInInputGroup(){var d;this._labelMarginLeft=0,this._element.classList.contains("input-group")&&(d=this.input,d=Q.prev(d,".input-group-text")[0],this._labelMarginLeft=d===void 0?0:d.offsetWidth-1)}_applyDivs(){var d=Q.find(zC,this._element);const _=p("div");V.addClass(_,NC),this._notchLeading=p("div"),V.addClass(this._notchLeading,FC),this._notchMiddle=p("div"),V.addClass(this._notchMiddle,BC),this._notchTrailing=p("div"),V.addClass(this._notchTrailing,"form-notch-trailing"),1<=d.length||(_.append(this._notchLeading),_.append(this._notchMiddle),_.append(this._notchTrailing),this._element.append(_))}_applyNotch(){this._notchMiddle.style.width="".concat(this._labelWidth,"px"),this._notchLeading.style.width="".concat(this._labelMarginLeft+9,"px"),this._label!==null&&(this._label.style.marginLeft="".concat(this._labelMarginLeft,"px"))}_removeBorder(){const d=Q.findOne(zC,this._element);d&&d.remove()}_activate(d){f(()=>{this._getElements(d);var _=d?d.target:this.input;_.value!==""&&V.addClass(_,fm),this._toggleDefaultDatePlaceholder(_)})}_getElements(d){var _;d&&(this._element=d.target.parentNode,this._label=Q.findOne("label",this._element)),d&&this._label&&(_=this._labelWidth,this._getLabelData(),_!==this._labelWidth&&(this._notchMiddle=Q.findOne(".form-notch-middle",d.target.parentNode),this._notchLeading=Q.findOne(UC,d.target.parentNode),this._applyNotch()))}_deactivate(d){const _=d?d.target:this.input;_.value===""&&_.classList.remove(fm),this._toggleDefaultDatePlaceholder(_)}static activate(d){return function(_){d._activate(_)}}static deactivate(d){return function(_){d._deactivate(_)}}static jQueryInterface(d,_){return this.each(function(){let T=g.getData(this,hm);var I=typeof d=="object"&&d;if((T||!/dispose/.test(d))&&(T=T||new fn(this,I),typeof d=="string")){if(T[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));T[d](_)}})}static getInstance(d){return g.getData(d,hm)}static getOrCreateInstance(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,typeof _=="object"?_:null)}}D.on(document,"focus",gl,fn.activate(new fn)),D.on(document,"input",gl,fn.activate(new fn)),D.on(document,"blur",gl,fn.deactivate(new fn)),D.on(document,"focus",yl,fn.activate(new fn)),D.on(document,"input",yl,fn.activate(new fn)),D.on(document,"blur",yl,fn.deactivate(new fn)),D.on(window,"shown.bs.modal",b=>{Q.find(gl,b.target).forEach(d=>{const _=fn.getInstance(d.parentNode);_&&_.update()}),Q.find(yl,b.target).forEach(d=>{const _=fn.getInstance(d.parentNode);_&&_.update()})}),D.on(window,"shown.bs.dropdown",b=>{b=b.target.parentNode.querySelector(".dropdown-menu"),b&&(Q.find(gl,b).forEach(d=>{const _=fn.getInstance(d.parentNode);_&&_.update()}),Q.find(yl,b).forEach(d=>{const _=fn.getInstance(d.parentNode);_&&_.update()}))}),D.on(window,"shown.bs.tab",b=>{let d;d=(b.target.href||V.getDataAttribute(b.target,"target")).split("#")[1],b=Q.findOne("#".concat(d)),Q.find(gl,b).forEach(_=>{const T=fn.getInstance(_.parentNode);T&&T.update()}),Q.find(yl,b).forEach(_=>{const T=fn.getInstance(_.parentNode);T&&T.update()})}),Q.find(".".concat(Oe)).map(b=>new fn(b)),D.on(window,"reset",b=>{Q.find(gl,b.target).forEach(d=>{const _=fn.getInstance(d.parentNode);_&&_.forceInactive()}),Q.find(yl,b.target).forEach(d=>{const _=fn.getInstance(d.parentNode);_&&_.forceInactive()})}),D.on(window,"onautocomplete",b=>{const d=fn.getInstance(b.target.parentNode);d&&b.cancelable&&d.forceActive()}),f(()=>{const b=h();if(b){const d=b.fn[Yc];b.fn[Yc]=fn.jQueryInterface,b.fn[Yc].Constructor=fn,b.fn[Yc].noConflict=()=>(b.fn[Yc]=d,fn.jQueryInterface)}});var q4=fn;const b0="dropdown";Ut=".".concat("bs.dropdown"),qt=".data-api";const dm="Escape",x0="ArrowUp",pm="ArrowDown",Y4=new RegExp("".concat(x0,"|").concat(pm,"|").concat(dm)),X4="hide".concat(Ut),K4="hidden".concat(Ut),Q4="show".concat(Ut),J4="shown".concat(Ut);a="click".concat(Ut).concat(qt),Oe="keydown".concat(Ut).concat(qt),Ut="keyup".concat(Ut).concat(qt);const Xc="show",mf='[data-mdb-toggle="dropdown"]',w0=".dropdown-menu",Z4=rt()?"top-end":"top-start",t$=rt()?"top-start":"top-end",e$=rt()?"bottom-end":"bottom-start",n$=rt()?"bottom-start":"bottom-end",i$=rt()?"left-start":"right-start",r$=rt()?"right-start":"left-start",s$={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},o$={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class vr extends Ie{constructor(d,_){super(d),this._popper=null,this._config=this._getConfig(_),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return s$}static get DefaultType(){return o$}static get NAME(){return b0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!xt(this._element)&&!this._isShown(this._menu)){var d={relatedTarget:this._element},_=ft.trigger(this._element,Q4,d);if(!_.defaultPrevented){const T=vr.getParentFromElement(this._element);this._inNavbar?ee.setDataAttribute(this._menu,"popper","none"):this._createPopper(T),"ontouchstart"in document.documentElement&&!T.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(I=>ft.on(I,"mouseover",O)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Xc),this._element.classList.add(Xc),ft.trigger(this._element,J4,d)}}}hide(){var d;!xt(this._element)&&this._isShown(this._menu)&&(d={relatedTarget:this._element},this._completeHide(d))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){ft.trigger(this._element,X4,d).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(_=>ft.off(_,"mouseover",O)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Xc),this._element.classList.remove(Xc),this._element.setAttribute("aria-expanded","false"),ee.removeDataAttribute(this._menu,"popper"),ft.trigger(this._element,K4,d))}_getConfig(d){if(d={...this.constructor.Default,...ee.getDataAttributes(this._element),...d},lt(b0,d,this.constructor.DefaultType),typeof d.reference!="object"||Y(d.reference)||typeof d.reference.getBoundingClientRect=="function")return d;throw new TypeError("".concat(b0.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'))}_createPopper(d){if(l===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=d:Y(this._config.reference)?_=Et(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const T=this._getPopperConfig();d=T.modifiers.find(I=>I.name==="applyStyles"&&I.enabled===!1),this._popper=d0(_,this._menu,T),d&&ee.setDataAttribute(this._menu,"popper","static")}_isShown(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Xc)}_getMenuElement(){return Ht.next(this._element,w0)[0]}_getPlacement(){const d=this._element.parentNode;if(d.classList.contains("dropend"))return i$;if(d.classList.contains("dropstart"))return r$;var _=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?_?t$:Z4:_?n$:e$}_detectNavbar(){return this._element.closest(".".concat("navbar"))!==null}_getOffset(){const d=this._config.offset;return typeof d=="string"?d.split(",").map(_=>Number.parseInt(_,10)):typeof d=="function"?_=>d(_,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_selectMenuItem(_){var{key:_,target:T}=_;const I=Ht.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Mt);I.length&&ht(I,T,_===pm,!I.includes(T)).focus()}static jQueryInterface(d){return this.each(function(){const _=vr.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}static clearMenus(d){if(!d||d.button!==2&&(d.type!=="keyup"||d.key==="Tab")){var _=Ht.find(mf);for(let I=0,z=_.length;I<z;I++){const J=vr.getInstance(_[I]);if(J&&J._config.autoClose!==!1&&J._isShown()){const ot={relatedTarget:J._element};if(d){const pt=d.composedPath();var T=pt.includes(J._menu);if(pt.includes(J._element)||J._config.autoClose==="inside"&&!T||J._config.autoClose==="outside"&&T||J._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;d.type==="click"&&(ot.clickEvent=d)}J._completeHide(ot)}}}}static getParentFromElement(d){return Lt(d)||d.parentNode}static dataApiKeydownHandler(d){if(/input|textarea/i.test(d.target.tagName)?!(d.key==="Space"||d.key!==dm&&(d.key!==pm&&d.key!==x0||d.target.closest(w0))):Y4.test(d.key)){var _=this.classList.contains(Xc);if((_||d.key!==dm)&&(d.preventDefault(),d.stopPropagation(),!xt(this))){var T=this.matches(mf)?this:Ht.prev(this,mf)[0];const I=vr.getOrCreateInstance(T);if(d.key!==dm)return d.key===x0||d.key===pm?(_||I.show(),void I._selectMenuItem(d)):void(_&&d.key!=="Space"||vr.clearMenus());I.hide()}}}}ft.on(document,Oe,mf,vr.dataApiKeydownHandler),ft.on(document,Oe,w0,vr.dataApiKeydownHandler),ft.on(document,a,vr.clearMenus),ft.on(document,Ut,vr.clearMenus),ft.on(document,a,mf,function(b){b.preventDefault(),vr.getOrCreateInstance(this).toggle()}),o(vr),qt=vr;const Jo="dropdown";Ie="mdb.".concat(Jo),Oe=".".concat(Ie);const a$={offset:[0,2],flip:!0,boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,dropdownAnimation:"on"},l$={offset:"(array|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",dropdownAnimation:"string"},VC="hide.bs.dropdown",HC="hidden.bs.dropdown",$C="show.bs.dropdown",WC="shown.bs.dropdown",c$="hide".concat(Oe),u$="hidden".concat(Oe),h$="show".concat(Oe),f$="shown".concat(Oe),E0="animation",S0="fade-in",M0="fade-out";class Zo extends qt{constructor(d,_){super(d,_),this._config=this._getConfig(_),this._parent=Zo.getParentFromElement(this._element),this._menuStyle="",this._popperPlacement="",this._mdbPopperConfig="",d=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this._config.dropdownAnimation!=="on"||d||this._init()}dispose(){D.off(this._element,$C),D.off(this._parent,WC),D.off(this._parent,VC),D.off(this._parent,HC),super.dispose()}static get NAME(){return Jo}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent()}_getConfig(d){return d={...a$,...V.getDataAttributes(this._element),...d},u(Jo,d,l$),d}_getOffset(){const d=this._config.offset;return typeof d=="string"?d.split(",").map(_=>Number.parseInt(_,10)):typeof d=="function"?_=>d(_,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{altBoundary:this._config.flip,boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_bindShowEvent(){D.on(this._element,$C,d=>{D.trigger(this._element,h$,{relatedTarget:d.relatedTarget}).defaultPrevented?d.preventDefault():this._dropdownAnimationStart("show")})}_bindShownEvent(){D.on(this._parent,WC,d=>{D.trigger(this._parent,f$,{relatedTarget:d.relatedTarget}).defaultPrevented&&d.preventDefault()})}_bindHideEvent(){D.on(this._parent,VC,d=>{D.trigger(this._parent,c$,{relatedTarget:d.relatedTarget}).defaultPrevented?d.preventDefault():(this._menuStyle=this._menu.style.cssText,this._popperPlacement=this._menu.getAttribute("data-popper-placement"),this._mdbPopperConfig=this._menu.getAttribute("data-mdb-popper"))})}_bindHiddenEvent(){D.on(this._parent,HC,d=>{D.trigger(this._parent,u$,{relatedTarget:d.relatedTarget}).defaultPrevented?d.preventDefault():(this._config.display!=="static"&&this._menuStyle!==""&&(this._menu.style.cssText=this._menuStyle),this._menu.setAttribute("data-popper-placement",this._popperPlacement),this._menu.setAttribute("data-mdb-popper",this._mdbPopperConfig),this._dropdownAnimationStart("hide"))})}_dropdownAnimationStart(d){d==="show"?(this._menu.classList.add(E0,S0),this._menu.classList.remove(M0)):(this._menu.classList.add(E0,M0),this._menu.classList.remove(S0)),this._bindAnimationEnd()}_bindAnimationEnd(){D.one(this._menu,"animationend",()=>{this._menu.classList.remove(E0,M0,S0)})}}Q.find('[data-mdb-toggle="dropdown"]').forEach(b=>{var d=Zo.getInstance(b);d||new Zo(b)}),f(()=>{const b=h();if(b){const d=b.fn[Jo];b.fn[Jo]=Zo.jQueryInterface,b.fn[Jo].Constructor=Zo,b.fn[Jo].noConflict=()=>(b.fn[Jo]=d,Zo.jQueryInterface)}});var d$=Zo;const vl="ripple",mm="mdb.ripple",_l="ripple-surface",GC="ripple-wave",jC=[".btn",".ripple"],qC="ripple-surface-unbound",gm=[0,0,0],p$=["primary","secondary","success","danger","warning","info","light","dark"],m$={rippleCentered:!1,rippleColor:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},g$={rippleCentered:"boolean",rippleColor:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"};class ta{constructor(d,_){this._element=d,this._options=this._getConfig(_),this._element&&(g.setData(d,mm,this),V.addClass(this._element,_l)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this.init()}static get NAME(){return vl}init(){this._addClickEvent(this._element)}dispose(){g.removeData(this._element,mm),D.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(d){jC.forEach(_=>{Q.closest(d.target,_)&&(this._element=Q.closest(d.target,_))}),this._element.style.minWidth||(V.style(this._element,{"min-width":"".concat(this._element.offsetWidth,"px")}),this._isMinWidthSet=!0),V.addClass(this._element,_l),this._options=this._getConfig(),this._createRipple(d)}_addClickEvent(d){D.on(d,"mousedown",this._clickHandler)}_createRipple(Bt){V.hasClass(this._element,_l)||V.addClass(this._element,_l);var{layerX:Bt,layerY:_}=Bt,T=this._element.offsetHeight,pt=this._element.offsetWidth,I=this._durationToMsNumber(this._options.rippleDuration),z={offsetX:this._options.rippleCentered?T/2:Bt,offsetY:this._options.rippleCentered?pt/2:_,height:T,width:pt},z=this._getDiameter(z),J=this._options.rippleRadius||z/2,ot={delay:.5*I,duration:I-.5*I},pt={left:this._options.rippleCentered?"".concat(pt/2-J,"px"):"".concat(Bt-J,"px"),top:this._options.rippleCentered?"".concat(T/2-J,"px"):"".concat(_-J,"px"),height:"".concat(2*this._options.rippleRadius||z,"px"),width:"".concat(2*this._options.rippleRadius||z,"px"),transitionDelay:"0s, ".concat(ot.delay,"ms"),transitionDuration:"".concat(I,"ms, ").concat(ot.duration,"ms")},Bt=p("div");this._createHTMLRipple({wrapper:this._element,ripple:Bt,styles:pt}),this._removeHTMLRipple({ripple:Bt,duration:I})}_createHTMLRipple(d){let{wrapper:_,ripple:T,styles:I}=d;Object.keys(I).forEach(z=>T.style[z]=I[z]),T.classList.add(GC),this._options.rippleColor!==""&&(this._removeOldColorClasses(_),this._addColor(T,_)),this._toggleUnbound(_),this._appendRipple(T,_)}_removeHTMLRipple(d){let{ripple:_,duration:T}=d;this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),this._rippleTimer=setTimeout(()=>{_&&(_.remove(),this._element&&(Q.find(".".concat(GC),this._element).forEach(I=>{I.remove()}),this._isMinWidthSet&&(V.style(this._element,{"min-width":""}),this._isMinWidthSet=!1),V.removeClass(this._element,_l)))},T)}_durationToMsNumber(d){return Number(d.replace("ms","").replace("s","000"))}_getConfig(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=V.getDataAttributes(this._element),_={...m$,...d,..._};return u(vl,_,g$),_}_getDiameter(_){var{offsetX:_,offsetY:T,height:I,width:z}=_,J=T<=I/2,ot=_<=z/2,pt=(Se,ke)=>Math.sqrt(Se**2+ke**2),Bt=T===I/2&&_===z/2;const Dt=J==!0&&ot==!1,Yt=J==!0&&ot==!0,Xt=J==!1&&ot==!0,we=J==!1&&ot==!1;J={topLeft:pt(_,T),topRight:pt(z-_,T),bottomLeft:pt(_,I-T),bottomRight:pt(z-_,I-T)};let Ee=0;return Bt||we?Ee=J.topLeft:Xt?Ee=J.topRight:Yt?Ee=J.bottomRight:Dt&&(Ee=J.bottomLeft),2*Ee}_appendRipple(d,_){_.appendChild(d),setTimeout(()=>{V.addClass(d,"active")},50)}_toggleUnbound(d){this._options.rippleUnbound===!0?V.addClass(d,qC):d.classList.remove(qC)}_addColor(d,_){p$.find(T=>T===this._options.rippleColor.toLowerCase())?V.addClass(_,"".concat(_l,"-").concat(this._options.rippleColor.toLowerCase())):(_=this._colorToRGB(this._options.rippleColor).join(","),_="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(_)),d.style.backgroundImage="radial-gradient(circle, ".concat(_,")"))}_removeOldColorClasses(d){var _=new RegExp("".concat(_l,"-[a-z]+"),"gi");(d.classList.value.match(_)||[]).forEach(I=>{d.classList.remove(I)})}_colorToRGB(d){return d.toLowerCase()==="transparent"?gm:d[0]==="#"?((_=d).length<7&&(_="#".concat(_[1]).concat(_[1]).concat(_[2]).concat(_[2]).concat(_[3]).concat(_[3])),[parseInt(_.substr(1,2),16),parseInt(_.substr(3,2),16),parseInt(_.substr(5,2),16)]):(d=d.indexOf("rgb")===-1?function(T){const I=document.body.appendChild(document.createElement("fictum"));var z="rgb(1, 2, 3)";return I.style.color=z,I.style.color!==z?gm:(I.style.color=T,I.style.color===z||I.style.color===""?gm:(T=getComputedStyle(I).color,document.body.removeChild(I),T))}(d):d).indexOf("rgb")===0?((_=(_=d).match(/[.\d]+/g).map(T=>+Number(T))).length=3,_):gm;var _}static autoInitial(d){return function(_){d._autoInit(_)}}static jQueryInterface(d){return this.each(function(){return g.getData(this,mm)?null:new ta(this,d)})}static getInstance(d){return g.getData(d,mm)}static getOrCreateInstance(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,typeof _=="object"?_:null)}}jC.forEach(b=>{D.one(document,"mousedown",b,ta.autoInitial(new ta))}),f(()=>{const b=h();if(b){const d=b.fn[vl];b.fn[vl]=ta.jQueryInterface,b.fn[vl].Constructor=ta,b.fn[vl].noConflict=()=>(b.fn[vl]=d,ta.jQueryInterface)}});var y$=ta;const Kc="range",ym="mdb.range",YC="thumb-active",v$=".".concat("thumb-value");Ut=".".concat("range");class bl{constructor(d){this._element=d,this._initiated=!1,this._element&&(g.setData(d,ym,this),this.init())}static get NAME(){return Kc}get rangeInput(){return Q.findOne("input[type=range]",this._element)}init(){this._initiated||(this._addThumb(),this._updateValue(),this._thumbPositionUpdate(),this._handleEvents(),this._initiated=!0)}dispose(){this._disposeEvents(),g.removeData(this._element,ym),this._element=null}_addThumb(){const d=p("span");V.addClass(d,"thumb"),d.innerHTML='<span class="thumb-value"></span>',this._element.append(d)}_updateValue(){const d=Q.findOne(v$,this._element);d.textContent=this.rangeInput.value,this.rangeInput.oninput=()=>d.textContent=this.rangeInput.value}_handleEvents(){D.on(this.rangeInput,"mousedown",()=>this._showThumb()),D.on(this.rangeInput,"mouseup",()=>this._hideThumb()),D.on(this.rangeInput,"touchstart",()=>this._showThumb()),D.on(this.rangeInput,"touchend",()=>this._hideThumb()),D.on(this.rangeInput,"input",()=>this._thumbPositionUpdate())}_disposeEvents(){D.off(this.rangeInput,"mousedown",this._showThumb),D.off(this.rangeInput,"mouseup",this._hideThumb),D.off(this.rangeInput,"touchstart",this._showThumb),D.off(this.rangeInput,"touchend",this._hideThumb),D.off(this.rangeInput,"input",this._thumbPositionUpdate)}_showThumb(){V.addClass(this._element.lastElementChild,YC)}_hideThumb(){V.removeClass(this._element.lastElementChild,YC)}_thumbPositionUpdate(){var T=this.rangeInput,d=T.value,_=T.min||0,T=T.max||100;const I=this._element.lastElementChild;T=Number(100*(d-_)/(T-_)),I.firstElementChild.textContent=d,V.style(I,{left:"calc(".concat(T,"% + (").concat(8-.15*T,"px))")})}static getInstance(d){return g.getData(d,ym)}static getOrCreateInstance(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,typeof _=="object"?_:null)}static jQueryInterface(d,_){return this.each(function(){let T=g.getData(this,ym);var I=typeof d=="object"&&d;if((T||!/dispose/.test(d))&&(T=T||new bl(this,I),typeof d=="string")){if(T[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));T[d](_)}})}}Q.find(Ut).map(b=>new bl(b)),f(()=>{const b=h();if(b){const d=b.fn[Kc];b.fn[Kc]=bl.jQueryInterface,b.fn[Kc].Constructor=bl,b.fn[Kc].noConflict=()=>(b.fn[Kc]=d,bl.jQueryInterface)}});var _$=bl}],r={},e.m=i,e.c=r,e.d=function(s,o,a){e.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},e.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},e.t=function(s,o){if(1&o&&(s=e(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)e.d(a,l,function(c){return s[c]}.bind(null,l));return a},e.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(o,"a",o),o},e.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},e.p="",e(e.s=116);function e(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i,r})})(Put);let Rr="1517",Lr="-4947-11e9-8646-d663bd873d93";const Pe=Object.freeze({configuration_service:1e3,device_info:1001,device_control:1002,device_report:1004,measurement_service:2e3,control:2001,long_payload_length:2002,medium_payload_length:2003,short_payload_length:2004,magnetic_field_mapper:2005,orientation_reset_control:2006,orientation_reset_status:2007,orientation_reset_data:2008,battery_service:3e3,battery_level:3001,message_service:7e3,message_control:7001,message_acknowledge:7002,message_notification:7003}),dI=Object.freeze({getState:2,eraseFlash:48,startRecording:64,stopRecording:65,requestRecordingTime:66,requestFlashInfo:80,requestFileInfo:96,requestFileData:112,stopExportData:115,selectExportData:116,retransmission:117}),Jm=Object.freeze({recording_message:1,sync_message:2}),Lf=Object.freeze({success:0,invalidCmd:2,flashProcessBusy:3,synced:4,NotEnoughSample:5,SkewTooLarge:7,StartingTimingError:8,"un-synced":9,idleState:6,onErasing:48,onRecording:64,onExportFlashInfo:80,onExportRecordingFileInfo:96,onExportRecordingFileData:112}),Ru=Object.freeze({flashProcessBusy:3,storeFlashInfoDone1:51,storeFlashInfoDone2:49,flashFull:52,invalidFlashFormat:53,recordingStopped:65,recordingTime:67,stopSyncResult:80,syncStatus:81,exportFlashInfo:81,exportFlashInfoDone:82,exportFileInfo:97,exportFileInfoDone:98,noRecordingFile:99,exportFileData:113,exportFileDataDone:114,exportDataStopped:115,exportFileDataInvalid:118}),If=Object.freeze({startSync:1,stopSync:2,getSyncStatus:8}),pI=Object.freeze({highFidelityMag:1,extendedQuaternion:2,completeQuaternion:3,orientationEuler:4,orientationQuaternion:5,freeAcceleration:6,extendedEuler:7,completeEuler:16,highFidelity:17,deltaQuantitiesMag:18,deltaQuantities:19,rateQuantitiesMag:20,rateQuantities:21});function _a(n,t){return Object.keys(n).find(e=>n[e]===t)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const M1="139",Dut=0,mI=1,Rut=2,WU=1,Lut=2,Qf=3,Qd=0,ps=1,wh=2,GU=1,Ta=0,Yu=1,gI=2,yI=3,vI=4,Iut=5,Cu=100,kut=101,Nut=102,_I=103,bI=104,Fut=200,But=201,zut=202,Uut=203,jU=204,qU=205,Vut=206,Hut=207,$ut=208,Wut=209,Gut=210,jut=0,qut=1,Yut=2,US=3,Xut=4,Kut=5,Qut=6,Jut=7,Fb=0,Zut=1,tht=2,Po=0,eht=1,nht=2,iht=3,rht=4,sht=5,YU=300,Eh=301,Sh=302,VS=303,HS=304,Bb=306,$S=1e3,ss=1001,WS=1002,di=1003,xI=1004,wI=1005,cr=1006,oht=1007,zb=1008,dc=1009,aht=1010,lht=1011,Jd=1012,cht=1013,zy=1014,$l=1015,Xu=1016,uht=1017,hht=1018,Ku=1020,fht=1021,dht=1022,cs=1023,pht=1024,mht=1025,ec=1026,Mh=1027,ght=1028,yht=1029,vht=1030,_ht=1031,bht=1033,Ax=33776,Cx=33777,Ox=33778,Px=33779,EI=35840,SI=35841,MI=35842,TI=35843,xht=36196,AI=37492,CI=37496,OI=37808,PI=37809,DI=37810,RI=37811,LI=37812,II=37813,kI=37814,NI=37815,FI=37816,BI=37817,zI=37818,UI=37819,VI=37820,HI=37821,$I=36492,wht=2200,Eht=2201,Sht=2202,l_=2300,c_=2301,Dx=2302,Lu=2400,Iu=2401,u_=2402,T1=2500,XU=2501,Mht=0,zo=3e3,Rn=3001,Tht=3200,Aht=3201,Wh=0,Cht=1,go="srgb",Wl="srgb-linear",Rx=7680,Oht=519,Zd=35044,h_=35048,WI="300 es",GS=1035;class Tc{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,t);t.target=null}}}const xi=[];for(let n=0;n<256;n++)xi[n]=(n<16?"0":"")+n.toString(16);const Lx=Math.PI/180,jS=180/Math.PI;function Ys(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(xi[n&255]+xi[n>>8&255]+xi[n>>16&255]+xi[n>>24&255]+"-"+xi[t&255]+xi[t>>8&255]+"-"+xi[t>>16&15|64]+xi[t>>24&255]+"-"+xi[e&63|128]+xi[e>>8&255]+"-"+xi[e>>16&255]+xi[e>>24&255]+xi[i&255]+xi[i>>8&255]+xi[i>>16&255]+xi[i>>24&255]).toLowerCase()}function Li(n,t,e){return Math.max(t,Math.min(e,n))}function Pht(n,t){return(n%t+t)%t}function Ix(n,t,e){return(1-e)*n+e*t}function GI(n){return(n&n-1)===0&&n!==0}function qS(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class $t{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),s=this.x-t.x,o=this.y-t.y;return this.x=s*i-o*r+t.x,this.y=s*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}$t.prototype.isVector2=!0;class Si{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,r,s,o,a,l,c){const u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],h=i[7],f=i[2],p=i[5],m=i[8],g=r[0],y=r[3],v=r[6],x=r[1],S=r[4],E=r[7],M=r[2],P=r[5],L=r[8];return s[0]=o*g+a*x+l*M,s[3]=o*y+a*S+l*P,s[6]=o*v+a*E+l*L,s[1]=c*g+u*x+h*M,s[4]=c*y+u*S+h*P,s[7]=c*v+u*E+h*L,s[2]=f*g+p*x+m*M,s[5]=f*y+p*S+m*P,s[8]=f*v+p*E+m*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=u*o-a*c,f=a*l-u*s,p=c*s-o*l,m=e*h+i*f+r*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return t[0]=h*g,t[1]=(r*c-u*i)*g,t[2]=(a*i-r*o)*g,t[3]=f*g,t[4]=(u*e-r*l)*g,t[5]=(r*s-a*e)*g,t[6]=p*g,t[7]=(i*l-c*e)*g,t[8]=(o*e-i*s)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-r*c,r*l,-r*(-c*o+l*a)+a+e,0,0,1),this}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=e*s+i*l,r[3]=e*o+i*c,r[6]=e*a+i*u,r[1]=-i*s+e*l,r[4]=-i*o+e*c,r[7]=-i*a+e*u,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}Si.prototype.isMatrix3=!0;function KU(n){for(let t=n.length-1;t>=0;--t)if(n[t]>65535)return!0;return!1}function tp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function nc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Uy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const kx={[go]:{[Wl]:nc},[Wl]:{[go]:Uy}},ts={legacyMode:!0,get workingColorSpace(){return Wl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(this.legacyMode||t===e||!t||!e)return n;if(kx[t]&&kx[t][e]!==void 0){const i=kx[t][e];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}},QU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ii={r:0,g:0,b:0},es={h:0,s:0,l:0},Zm={h:0,s:0,l:0};function Nx(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}function tg(n,t){return t.r=n.r,t.g=n.g,t.b=n.b,t}class he{constructor(t,e,i){return e===void 0&&i===void 0?this.set(t):this.setRGB(t,e,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=go){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,ts.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=Wl){return this.r=t,this.g=e,this.b=i,ts.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=Wl){if(t=Pht(t,1),e=Li(e,0,1),i=Li(i,0,1),e===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,o=2*i-s;this.r=Nx(o,s,t+1/3),this.g=Nx(o,s,t),this.b=Nx(o,s,t-1/3)}return ts.toWorkingColorSpace(this,r),this}setStyle(t,e=go){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ts.toWorkingColorSpace(this,e),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ts.toWorkingColorSpace(this,e),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(l,c,u,e)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ts.toWorkingColorSpace(this,e),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ts.toWorkingColorSpace(this,e),this}return t&&t.length>0?this.setColorName(t,e):this}setColorName(t,e=go){const i=QU[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=nc(t.r),this.g=nc(t.g),this.b=nc(t.b),this}copyLinearToSRGB(t){return this.r=Uy(t.r),this.g=Uy(t.g),this.b=Uy(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=go){return ts.fromWorkingColorSpace(tg(this,ii),t),Li(ii.r*255,0,255)<<16^Li(ii.g*255,0,255)<<8^Li(ii.b*255,0,255)<<0}getHexString(t=go){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Wl){ts.fromWorkingColorSpace(tg(this,ii),e);const i=ii.r,r=ii.g,s=ii.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return t.h=l,t.s=c,t.l=u,t}getRGB(t,e=Wl){return ts.fromWorkingColorSpace(tg(this,ii),e),t.r=ii.r,t.g=ii.g,t.b=ii.b,t}getStyle(t=go){return ts.fromWorkingColorSpace(tg(this,ii),t),t!==go?`color(${t} ${ii.r} ${ii.g} ${ii.b})`:`rgb(${ii.r*255|0},${ii.g*255|0},${ii.b*255|0})`}offsetHSL(t,e,i){return this.getHSL(es),es.h+=t,es.s+=e,es.l+=i,this.setHSL(es.h,es.s,es.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(es),t.getHSL(Zm);const i=Ix(es.h,Zm.h,e),r=Ix(es.s,Zm.s,e),s=Ix(es.l,Zm.l,e);return this.setHSL(i,r,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}he.NAMES=QU;he.prototype.isColor=!0;he.prototype.r=1;he.prototype.g=1;he.prototype.b=1;let ou;class Ac{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{ou===void 0&&(ou=tp("canvas")),ou.width=t.width,ou.height=t.height;const i=ou.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=ou}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=tp("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=nc(s[o]/255)*255;return i.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(nc(e[i]/255)*255):e[i]=nc(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class JU{constructor(t=null){this.uuid=Ys(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Fx(r[o].image)):s.push(Fx(r[o]))}else s=Fx(r);i.url=s}return e||(t.images[this.uuid]=i),i}}function Fx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Ac.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}JU.prototype.isSource=!0;let Dht=0;class _i extends Tc{constructor(t=_i.DEFAULT_IMAGE,e=_i.DEFAULT_MAPPING,i=ss,r=ss,s=cr,o=zb,a=cs,l=dc,c=1,u=zo){super(),Object.defineProperty(this,"id",{value:Dht++}),this.uuid=Ys(),this.name="",this.source=new JU(t),this.mipmaps=[],this.mapping=e,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new $t(0,0),this.repeat=new $t(1,1),this.center=new $t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Si,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==YU)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case $S:t.x=t.x-Math.floor(t.x);break;case ss:t.x=t.x<0?0:1;break;case WS:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case $S:t.y=t.y-Math.floor(t.y);break;case ss:t.y=t.y<0?0:1;break;case WS:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}_i.DEFAULT_IMAGE=null;_i.DEFAULT_MAPPING=YU;_i.prototype.isTexture=!0;class dn{constructor(t=0,e=0,i=0,r=1){this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*e+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*e+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*e+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,s;const l=t.elements,c=l[0],u=l[4],h=l[8],f=l[1],p=l[5],m=l[9],g=l[2],y=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-g)<.01&&Math.abs(m-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+g)<.1&&Math.abs(m+y)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const S=(c+1)/2,E=(p+1)/2,M=(v+1)/2,P=(u+f)/4,L=(h+g)/4,j=(m+y)/4;return S>E&&S>M?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=P/i,s=L/i):E>M?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=P/r,s=j/r):M<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(M),i=L/s,r=j/s),this.set(i,r,s,e),this}let x=Math.sqrt((y-m)*(y-m)+(h-g)*(h-g)+(f-u)*(f-u));return Math.abs(x)<.001&&(x=1),this.x=(y-m)/x,this.y=(h-g)/x,this.z=(f-u)/x,this.w=Math.acos((c+p+v-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}dn.prototype.isVector4=!0;class Er extends Tc{constructor(t,e,i={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new dn(0,0,t,e),this.scissorTest=!1,this.viewport=new dn(0,0,t,e);const r={width:t,height:e,depth:1};this.texture=new _i(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:cr,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Er.prototype.isWebGLRenderTarget=!0;class Ub extends _i{constructor(t=null,e=1,i=1,r=1){super(null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=di,this.minFilter=di,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Ub.prototype.isDataArrayTexture=!0;class Rht extends Er{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new Ub(null,t,e,i),this.texture.isRenderTargetTexture=!0}}Rht.prototype.isWebGLArrayRenderTarget=!0;class A1 extends _i{constructor(t=null,e=1,i=1,r=1){super(null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=di,this.minFilter=di,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}A1.prototype.isData3DTexture=!0;class Lht extends Er{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new A1(null,t,e,i),this.texture.isRenderTargetTexture=!0}}Lht.prototype.isWebGL3DRenderTarget=!0;class Iht extends Er{constructor(t,e,i,r={}){super(t,e,r);const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=t,this.texture[r].image.height=e,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone();return this}}Iht.prototype.isWebGLMultipleRenderTargets=!0;class zi{constructor(t=0,e=0,i=0,r=1){this._x=t,this._y=e,this._z=i,this._w=r}static slerp(t,e,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(t,e,r)}static slerpFlat(t,e,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const f=s[o+0],p=s[o+1],m=s[o+2],g=s[o+3];if(a===0){t[e+0]=l,t[e+1]=c,t[e+2]=u,t[e+3]=h;return}if(a===1){t[e+0]=f,t[e+1]=p,t[e+2]=m,t[e+3]=g;return}if(h!==g||l!==f||c!==p||u!==m){let y=1-a;const v=l*f+c*p+u*m+h*g,x=v>=0?1:-1,S=1-v*v;if(S>Number.EPSILON){const M=Math.sqrt(S),P=Math.atan2(M,v*x);y=Math.sin(y*P)/M,a=Math.sin(a*P)/M}const E=a*x;if(l=l*y+f*E,c=c*y+p*E,u=u*y+m*E,h=h*y+g*E,y===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=M,c*=M,u*=M,h*=M}}t[e]=l,t[e+1]=c,t[e+2]=u,t[e+3]=h}static multiplyQuaternionsFlat(t,e,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[o],f=s[o+1],p=s[o+2],m=s[o+3];return t[e]=a*m+u*h+l*p-c*f,t[e+1]=l*m+u*f+c*h-a*p,t[e+2]=c*m+u*p+a*f-l*h,t[e+3]=u*m-a*h-l*f-c*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,r=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),h=a(s/2),f=l(i/2),p=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=f*u*h+c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h-f*p*m;break;case"YXZ":this._x=f*u*h+c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h+f*p*m;break;case"ZXY":this._x=f*u*h-c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h-f*p*m;break;case"ZYX":this._x=f*u*h-c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h+f*p*m;break;case"YZX":this._x=f*u*h+c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h-f*p*m;break;case"XZY":this._x=f*u*h-c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h+f*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],s=e[8],o=e[1],a=e[5],l=e[9],c=e[2],u=e[6],h=e[10],f=i+a+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-r)*p}else if(i>a&&i>h){const p=2*Math.sqrt(1+i-a-h);this._w=(u-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+c)/p}else if(a>h){const p=2*Math.sqrt(1+a-i-h);this._w=(s-c)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+h-i-a);this._w=(o-r)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Li(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return e!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,s=t._z,o=t._w,a=e._x,l=e._y,c=e._z,u=e._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*t._w+i*t._x+r*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-e;return this._w=p*o+e*this._w,this._x=p*i+e*this._x,this._y=p*r+e*this._y,this._z=p*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-e)*u)/c,f=Math.sin(e*u)/c;return this._w=o*h+this._w*f,this._x=i*h+this._x*f,this._y=r*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(r),i*Math.sin(s),i*Math.cos(s),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}zi.prototype.isQuaternion=!0;class tt{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return e!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(jI.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(jI.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*r,this.y=s[1]*e+s[4]*i+s[7]*r,this.z=s[2]*e+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=t.elements,o=1/(s[3]*e+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*e+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*e+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,s=t.x,o=t.y,a=t.z,l=t.w,c=l*e+o*r-a*i,u=l*i+a*e-s*r,h=l*r+s*i-o*e,f=-s*e-o*i-a*r;return this.x=c*l+f*-s+u*-a-h*-o,this.y=u*l+f*-o+h*-s-c*-a,this.z=h*l+f*-a+c*-o-u*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r,this.y=s[1]*e+s[5]*i+s[9]*r,this.z=s[2]*e+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t,e){return e!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,s=t.z,o=e.x,a=e.y,l=e.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Bx.copy(this).projectOnVector(t),this.sub(Bx)}reflect(t){return this.sub(Bx.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Li(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}tt.prototype.isVector3=!0;const Bx=new tt,jI=new zi;class ws{constructor(t=new tt(1/0,1/0,1/0),e=new tt(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.length;l<c;l+=3){const u=t[l],h=t[l+1],f=t[l+2];u<e&&(e=u),h<i&&(i=h),f<r&&(r=f),u>s&&(s=u),h>o&&(o=h),f>a&&(a=f)}return this.min.set(e,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(t){let e=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.count;l<c;l++){const u=t.getX(l),h=t.getY(l),f=t.getZ(l);u<e&&(e=u),h<i&&(i=h),f<r&&(r=f),u>s&&(s=u),h>o&&(o=h),f>a&&(a=f)}return this.min.set(e,i,r),this.max.set(s,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Ml.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0)if(e&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ml.fromBufferAttribute(s,o).applyMatrix4(t.matrixWorld),this.expandByPoint(Ml)}else i.boundingBox===null&&i.computeBoundingBox(),zx.copy(i.boundingBox),zx.applyMatrix4(t.matrixWorld),this.union(zx);const r=t.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ml),Ml.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(kf),eg.subVectors(this.max,kf),au.subVectors(t.a,kf),lu.subVectors(t.b,kf),cu.subVectors(t.c,kf),la.subVectors(lu,au),ca.subVectors(cu,lu),Tl.subVectors(au,cu);let e=[0,-la.z,la.y,0,-ca.z,ca.y,0,-Tl.z,Tl.y,la.z,0,-la.x,ca.z,0,-ca.x,Tl.z,0,-Tl.x,-la.y,la.x,0,-ca.y,ca.x,0,-Tl.y,Tl.x,0];return!Ux(e,au,lu,cu,eg)||(e=[1,0,0,0,1,0,0,0,1],!Ux(e,au,lu,cu,eg))?!1:(ng.crossVectors(la,ca),e=[ng.x,ng.y,ng.z],Ux(e,au,lu,cu,eg))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Ml.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(Ml).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(oo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),oo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),oo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),oo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),oo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),oo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),oo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),oo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(oo),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}ws.prototype.isBox3=!0;const oo=[new tt,new tt,new tt,new tt,new tt,new tt,new tt,new tt],Ml=new tt,zx=new ws,au=new tt,lu=new tt,cu=new tt,la=new tt,ca=new tt,Tl=new tt,kf=new tt,eg=new tt,ng=new tt,Al=new tt;function Ux(n,t,e,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Al.fromArray(n,s);const a=r.x*Math.abs(Al.x)+r.y*Math.abs(Al.y)+r.z*Math.abs(Al.z),l=t.dot(Al),c=e.dot(Al),u=i.dot(Al);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const kht=new ws,qI=new tt,ig=new tt,Vx=new tt;class Gh{constructor(t=new tt,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):kht.setFromPoints(t).getCenter(i);let r=0;for(let s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Vx.subVectors(t,this.center);const e=Vx.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=(i-this.radius)*.5;this.center.add(Vx.multiplyScalar(r/i)),this.radius+=r}return this}union(t){return this.center.equals(t.center)===!0?ig.set(0,0,1).multiplyScalar(t.radius):ig.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(qI.copy(t.center).add(ig)),this.expandByPoint(qI.copy(t.center).sub(ig)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ao=new tt,Hx=new tt,rg=new tt,ua=new tt,$x=new tt,sg=new tt,Wx=new tt;class jh{constructor(t=new tt,e=new tt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ao)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=ao.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(ao.copy(this.direction).multiplyScalar(e).add(this.origin),ao.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){Hx.copy(t).add(e).multiplyScalar(.5),rg.copy(e).sub(t).normalize(),ua.copy(this.origin).sub(Hx);const s=t.distanceTo(e)*.5,o=-this.direction.dot(rg),a=ua.dot(this.direction),l=-ua.dot(rg),c=ua.lengthSq(),u=Math.abs(1-o*o);let h,f,p,m;if(u>0)if(h=o*l-a,f=o*a-l,m=s*u,h>=0)if(f>=-m)if(f<=m){const g=1/u;h*=g,f*=g,p=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f=-s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f<=-m?(h=Math.max(0,-(-o*s+a)),f=h>0?-s:Math.min(Math.max(-s,-l),s),p=-h*h+f*(f+2*l)+c):f<=m?(h=0,f=Math.min(Math.max(-s,-l),s),p=f*(f+2*l)+c):(h=Math.max(0,-(o*s+a)),f=h>0?s:Math.min(Math.max(-s,-l),s),p=-h*h+f*(f+2*l)+c);else f=o>0?-s:s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(rg).multiplyScalar(f).add(Hx),p}intersectSphere(t,e){ao.subVectors(t.center,this.origin);const i=ao.dot(this.direction),r=ao.dot(ao)-i*i,s=t.radius*t.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,r=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,r=(t.min.x-f.x)*c),u>=0?(s=(t.min.y-f.y)*u,o=(t.max.y-f.y)*u):(s=(t.max.y-f.y)*u,o=(t.min.y-f.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),h>=0?(a=(t.min.z-f.z)*h,l=(t.max.z-f.z)*h):(a=(t.max.z-f.z)*h,l=(t.min.z-f.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return this.intersectBox(t,ao)!==null}intersectTriangle(t,e,i,r,s){$x.subVectors(e,t),sg.subVectors(i,t),Wx.crossVectors($x,sg);let o=this.direction.dot(Wx),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ua.subVectors(this.origin,t);const l=a*this.direction.dot(sg.crossVectors(ua,sg));if(l<0)return null;const c=a*this.direction.dot($x.cross(ua));if(c<0||l+c>o)return null;const u=-a*ua.dot(Wx);return u<0?null:this.at(u/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ye{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,r,s,o,a,l,c,u,h,f,p,m,g,y){const v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=h,v[14]=f,v[3]=p,v[7]=m,v[11]=g,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ye().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/uu.setFromMatrixColumn(t,0).length(),s=1/uu.setFromMatrixColumn(t,1).length(),o=1/uu.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,i=t.x,r=t.y,s=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(t.order==="XYZ"){const f=o*u,p=o*h,m=a*u,g=a*h;e[0]=l*u,e[4]=-l*h,e[8]=c,e[1]=p+m*c,e[5]=f-g*c,e[9]=-a*l,e[2]=g-f*c,e[6]=m+p*c,e[10]=o*l}else if(t.order==="YXZ"){const f=l*u,p=l*h,m=c*u,g=c*h;e[0]=f+g*a,e[4]=m*a-p,e[8]=o*c,e[1]=o*h,e[5]=o*u,e[9]=-a,e[2]=p*a-m,e[6]=g+f*a,e[10]=o*l}else if(t.order==="ZXY"){const f=l*u,p=l*h,m=c*u,g=c*h;e[0]=f-g*a,e[4]=-o*h,e[8]=m+p*a,e[1]=p+m*a,e[5]=o*u,e[9]=g-f*a,e[2]=-o*c,e[6]=a,e[10]=o*l}else if(t.order==="ZYX"){const f=o*u,p=o*h,m=a*u,g=a*h;e[0]=l*u,e[4]=m*c-p,e[8]=f*c+g,e[1]=l*h,e[5]=g*c+f,e[9]=p*c-m,e[2]=-c,e[6]=a*l,e[10]=o*l}else if(t.order==="YZX"){const f=o*l,p=o*c,m=a*l,g=a*c;e[0]=l*u,e[4]=g-f*h,e[8]=m*h+p,e[1]=h,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=p*h+m,e[10]=f-g*h}else if(t.order==="XZY"){const f=o*l,p=o*c,m=a*l,g=a*c;e[0]=l*u,e[4]=-h,e[8]=c*u,e[1]=f*h+g,e[5]=o*u,e[9]=p*h-m,e[2]=m*h-p,e[6]=a*u,e[10]=g*h+f}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Nht,t,Fht)}lookAt(t,e,i){const r=this.elements;return _r.subVectors(t,e),_r.lengthSq()===0&&(_r.z=1),_r.normalize(),ha.crossVectors(i,_r),ha.lengthSq()===0&&(Math.abs(i.z)===1?_r.x+=1e-4:_r.z+=1e-4,_r.normalize(),ha.crossVectors(i,_r)),ha.normalize(),og.crossVectors(_r,ha),r[0]=ha.x,r[4]=og.x,r[8]=_r.x,r[1]=ha.y,r[5]=og.y,r[9]=_r.y,r[2]=ha.z,r[6]=og.z,r[10]=_r.z,this}multiply(t,e){return e!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],h=i[5],f=i[9],p=i[13],m=i[2],g=i[6],y=i[10],v=i[14],x=i[3],S=i[7],E=i[11],M=i[15],P=r[0],L=r[4],j=r[8],W=r[12],U=r[1],A=r[5],F=r[9],nt=r[13],q=r[2],D=r[6],G=r[10],Z=r[14],V=r[3],Q=r[7],ut=r[11],_t=r[15];return s[0]=o*P+a*U+l*q+c*V,s[4]=o*L+a*A+l*D+c*Q,s[8]=o*j+a*F+l*G+c*ut,s[12]=o*W+a*nt+l*Z+c*_t,s[1]=u*P+h*U+f*q+p*V,s[5]=u*L+h*A+f*D+p*Q,s[9]=u*j+h*F+f*G+p*ut,s[13]=u*W+h*nt+f*Z+p*_t,s[2]=m*P+g*U+y*q+v*V,s[6]=m*L+g*A+y*D+v*Q,s[10]=m*j+g*F+y*G+v*ut,s[14]=m*W+g*nt+y*Z+v*_t,s[3]=x*P+S*U+E*q+M*V,s[7]=x*L+S*A+E*D+M*Q,s[11]=x*j+S*F+E*G+M*ut,s[15]=x*W+S*nt+E*Z+M*_t,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],s=t[12],o=t[1],a=t[5],l=t[9],c=t[13],u=t[2],h=t[6],f=t[10],p=t[14],m=t[3],g=t[7],y=t[11],v=t[15];return m*(+s*l*h-r*c*h-s*a*f+i*c*f+r*a*p-i*l*p)+g*(+e*l*p-e*c*f+s*o*f-r*o*p+r*c*u-s*l*u)+y*(+e*c*h-e*a*p-s*o*h+i*o*p+s*a*u-i*c*u)+v*(-r*a*u-e*l*h+e*a*f+r*o*h-i*o*f+i*l*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],f=t[10],p=t[11],m=t[12],g=t[13],y=t[14],v=t[15],x=h*y*c-g*f*c+g*l*p-a*y*p-h*l*v+a*f*v,S=m*f*c-u*y*c-m*l*p+o*y*p+u*l*v-o*f*v,E=u*g*c-m*h*c+m*a*p-o*g*p-u*a*v+o*h*v,M=m*h*l-u*g*l-m*a*f+o*g*f+u*a*y-o*h*y,P=e*x+i*S+r*E+s*M;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return t[0]=x*L,t[1]=(g*f*s-h*y*s-g*r*p+i*y*p+h*r*v-i*f*v)*L,t[2]=(a*y*s-g*l*s+g*r*c-i*y*c-a*r*v+i*l*v)*L,t[3]=(h*l*s-a*f*s-h*r*c+i*f*c+a*r*p-i*l*p)*L,t[4]=S*L,t[5]=(u*y*s-m*f*s+m*r*p-e*y*p-u*r*v+e*f*v)*L,t[6]=(m*l*s-o*y*s-m*r*c+e*y*c+o*r*v-e*l*v)*L,t[7]=(o*f*s-u*l*s+u*r*c-e*f*c-o*r*p+e*l*p)*L,t[8]=E*L,t[9]=(m*h*s-u*g*s-m*i*p+e*g*p+u*i*v-e*h*v)*L,t[10]=(o*g*s-m*a*s+m*i*c-e*g*c-o*i*v+e*a*v)*L,t[11]=(u*a*s-o*h*s-u*i*c+e*h*c+o*i*p-e*a*p)*L,t[12]=M*L,t[13]=(u*g*r-m*h*r+m*i*f-e*g*f-u*i*y+e*h*y)*L,t[14]=(m*a*r-o*g*r-m*i*l+e*g*l+o*i*y-e*a*y)*L,t[15]=(o*h*r-u*a*r+u*i*l-e*h*l-o*i*f+e*a*f)*L,this}scale(t){const e=this.elements,i=t.x,r=t.y,s=t.z;return e[0]*=i,e[4]*=r,e[8]*=s,e[1]*=i,e[5]*=r,e[9]*=s,e[2]*=i,e[6]*=r,e[10]*=s,e[3]*=i,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),s=1-i,o=t.x,a=t.y,l=t.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,s,o){return this.set(1,i,s,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,s=e._x,o=e._y,a=e._z,l=e._w,c=s+s,u=o+o,h=a+a,f=s*c,p=s*u,m=s*h,g=o*u,y=o*h,v=a*h,x=l*c,S=l*u,E=l*h,M=i.x,P=i.y,L=i.z;return r[0]=(1-(g+v))*M,r[1]=(p+E)*M,r[2]=(m-S)*M,r[3]=0,r[4]=(p-E)*P,r[5]=(1-(f+v))*P,r[6]=(y+x)*P,r[7]=0,r[8]=(m+S)*L,r[9]=(y-x)*L,r[10]=(1-(f+g))*L,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let s=uu.set(r[0],r[1],r[2]).length();const o=uu.set(r[4],r[5],r[6]).length(),a=uu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],ns.copy(this);const c=1/s,u=1/o,h=1/a;return ns.elements[0]*=c,ns.elements[1]*=c,ns.elements[2]*=c,ns.elements[4]*=u,ns.elements[5]*=u,ns.elements[6]*=u,ns.elements[8]*=h,ns.elements[9]*=h,ns.elements[10]*=h,e.setFromRotationMatrix(ns),i.x=s,i.y=o,i.z=a,this}makePerspective(t,e,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(e-t),c=2*s/(i-r),u=(e+t)/(e-t),h=(i+r)/(i-r),f=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,i,r,s,o){const a=this.elements,l=1/(e-t),c=1/(i-r),u=1/(o-s),h=(e+t)*l,f=(i+r)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}ye.prototype.isMatrix4=!0;const uu=new tt,ns=new ye,Nht=new tt(0,0,0),Fht=new tt(1,1,1),ha=new tt,og=new tt,_r=new tt,YI=new ye,XI=new zi;class Ur{constructor(t=0,e=0,i=0,r=Ur.DefaultOrder){this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],f=r[6],p=r[10];switch(e){case"XYZ":this._y=Math.asin(Li(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Li(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Li(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Li(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Li(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Li(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return YI.makeRotationFromQuaternion(t),this.setFromRotationMatrix(YI,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return XI.setFromEuler(this),this.setFromQuaternion(XI,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Ur.prototype.isEuler=!0;Ur.DefaultOrder="XYZ";Ur.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class ZU{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let Bht=0;const KI=new tt,hu=new zi,lo=new ye,ag=new tt,Nf=new tt,zht=new tt,Uht=new zi,QI=new tt(1,0,0),JI=new tt(0,1,0),ZI=new tt(0,0,1),Vht={type:"added"},tk={type:"removed"};class hn extends Tc{constructor(){super(),Object.defineProperty(this,"id",{value:Bht++}),this.uuid=Ys(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hn.DefaultUp.clone();const t=new tt,e=new Ur,i=new zi,r=new tt(1,1,1);function s(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ye},normalMatrix:{value:new Si}}),this.matrix=new ye,this.matrixWorld=new ye,this.matrixAutoUpdate=hn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ZU,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return hu.setFromAxisAngle(t,e),this.quaternion.multiply(hu),this}rotateOnWorldAxis(t,e){return hu.setFromAxisAngle(t,e),this.quaternion.premultiply(hu),this}rotateX(t){return this.rotateOnAxis(QI,t)}rotateY(t){return this.rotateOnAxis(JI,t)}rotateZ(t){return this.rotateOnAxis(ZI,t)}translateOnAxis(t,e){return KI.copy(t).applyQuaternion(this.quaternion),this.position.add(KI.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(QI,t)}translateY(t){return this.translateOnAxis(JI,t)}translateZ(t){return this.translateOnAxis(ZI,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(lo.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?ag.copy(t):ag.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Nf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?lo.lookAt(Nf,ag,this.up):lo.lookAt(ag,Nf,this.up),this.quaternion.setFromRotationMatrix(lo),r&&(lo.extractRotation(r.matrixWorld),hu.setFromRotationMatrix(lo),this.quaternion.premultiply(hu.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Vht)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(tk)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(tk)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),lo.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),lo.multiply(t.parent.matrixWorld)),t.applyMatrix4(lo),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nf,t,zht),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nf,Uht,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(t.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(t.shapes,h)}else s(t.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(t.materials,this.material[l]));r.material=a}else r.material=s(t.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(t.animations,l))}}if(e){const a=o(t.geometries),l=o(t.materials),c=o(t.textures),u=o(t.images),h=o(t.shapes),f=o(t.skeletons),p=o(t.animations),m=o(t.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),f.length>0&&(i.skeletons=f),p.length>0&&(i.animations=p),m.length>0&&(i.nodes=m)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const r=t.children[i];this.add(r.clone())}return this}}hn.DefaultUp=new tt(0,1,0);hn.DefaultMatrixAutoUpdate=!0;hn.prototype.isObject3D=!0;const is=new tt,co=new tt,Gx=new tt,uo=new tt,fu=new tt,du=new tt,ek=new tt,jx=new tt,qx=new tt,Yx=new tt;class Jn{constructor(t=new tt,e=new tt,i=new tt){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),is.subVectors(t,e),r.cross(is);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,i,r,s){is.subVectors(r,e),co.subVectors(i,e),Gx.subVectors(t,e);const o=is.dot(is),a=is.dot(co),l=is.dot(Gx),c=co.dot(co),u=co.dot(Gx),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const f=1/h,p=(c*l-a*u)*f,m=(o*u-a*l)*f;return s.set(1-p-m,m,p)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,uo),uo.x>=0&&uo.y>=0&&uo.x+uo.y<=1}static getUV(t,e,i,r,s,o,a,l){return this.getBarycoord(t,e,i,r,uo),l.set(0,0),l.addScaledVector(s,uo.x),l.addScaledVector(o,uo.y),l.addScaledVector(a,uo.z),l}static isFrontFacing(t,e,i,r){return is.subVectors(i,e),co.subVectors(t,e),is.cross(co).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return is.subVectors(this.c,this.b),co.subVectors(this.a,this.b),is.cross(co).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Jn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Jn.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,r,s){return Jn.getUV(t,this.a,this.b,this.c,e,i,r,s)}containsPoint(t){return Jn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Jn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,s=this.c;let o,a;fu.subVectors(r,i),du.subVectors(s,i),jx.subVectors(t,i);const l=fu.dot(jx),c=du.dot(jx);if(l<=0&&c<=0)return e.copy(i);qx.subVectors(t,r);const u=fu.dot(qx),h=du.dot(qx);if(u>=0&&h<=u)return e.copy(r);const f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),e.copy(i).addScaledVector(fu,o);Yx.subVectors(t,s);const p=fu.dot(Yx),m=du.dot(Yx);if(m>=0&&p<=m)return e.copy(s);const g=p*c-l*m;if(g<=0&&c>=0&&m<=0)return a=c/(c-m),e.copy(i).addScaledVector(du,a);const y=u*m-p*h;if(y<=0&&h-u>=0&&p-m>=0)return ek.subVectors(s,r),a=(h-u)/(h-u+(p-m)),e.copy(r).addScaledVector(ek,a);const v=1/(y+g+f);return o=g*v,a=f*v,e.copy(i).addScaledVector(fu,o).addScaledVector(du,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Hht=0;class ui extends Tc{constructor(){super(),Object.defineProperty(this,"id",{value:Hht++}),this.uuid=Ys(),this.name="",this.type="Material",this.fog=!0,this.blending=Yu,this.side=Qd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=jU,this.blendDst=qU,this.blendEquation=Cu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=US,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Oht,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rx,this.stencilZFail=Rx,this.stencilZPass=Rx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===GU;continue}const r=this[e];if(r===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Yu&&(i.blending=this.blending),this.side!==Qd&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(e){const s=r(t.textures),o=r(t.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const r=e.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}ui.prototype.isMaterial=!0;ui.fromType=function(){return null};class Vb extends ui{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new he(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Vb.prototype.isMeshBasicMaterial=!0;const Xn=new tt,lg=new $t;class ai{constructor(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i===!0,this.usage=Zd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new he),e[i++]=o.r,e[i++]=o.g,e[i++]=o.b}return this}copyVector2sArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new $t),e[i++]=o.x,e[i++]=o.y}return this}copyVector3sArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new tt),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z}return this}copyVector4sArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new dn),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)lg.fromBufferAttribute(this,e),lg.applyMatrix3(t),this.setXY(e,lg.x,lg.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Xn.fromBufferAttribute(this,e),Xn.applyMatrix3(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Xn.fromBufferAttribute(this,e),Xn.applyMatrix4(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Xn.fromBufferAttribute(this,e),Xn.applyNormalMatrix(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Xn.fromBufferAttribute(this,e),Xn.transformDirection(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Zd&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}ai.prototype.isBufferAttribute=!0;class tV extends ai{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class eV extends ai{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class $ht extends ai{constructor(t,e,i){super(new Uint16Array(t),e,i)}}$ht.prototype.isFloat16BufferAttribute=!0;class yi extends ai{constructor(t,e,i){super(new Float32Array(t),e,i)}}let Wht=0;const Ir=new ye,Xx=new hn,pu=new tt,br=new ws,Ff=new ws,hi=new tt;class Nn extends Tc{constructor(){super(),Object.defineProperty(this,"id",{value:Wht++}),this.uuid=Ys(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(KU(t)?eV:tV)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Si().getNormalMatrix(t);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ir.makeRotationFromQuaternion(t),this.applyMatrix4(Ir),this}rotateX(t){return Ir.makeRotationX(t),this.applyMatrix4(Ir),this}rotateY(t){return Ir.makeRotationY(t),this.applyMatrix4(Ir),this}rotateZ(t){return Ir.makeRotationZ(t),this.applyMatrix4(Ir),this}translate(t,e,i){return Ir.makeTranslation(t,e,i),this.applyMatrix4(Ir),this}scale(t,e,i){return Ir.makeScale(t,e,i),this.applyMatrix4(Ir),this}lookAt(t){return Xx.lookAt(t),Xx.updateMatrix(),this.applyMatrix4(Xx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pu).negate(),this.translate(pu.x,pu.y,pu.z),this}setFromPoints(t){const e=[];for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new yi(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ws);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new tt(-1/0,-1/0,-1/0),new tt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++){const s=e[i];br.setFromBufferAttribute(s),this.morphTargetsRelative?(hi.addVectors(this.boundingBox.min,br.min),this.boundingBox.expandByPoint(hi),hi.addVectors(this.boundingBox.max,br.max),this.boundingBox.expandByPoint(hi)):(this.boundingBox.expandByPoint(br.min),this.boundingBox.expandByPoint(br.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Gh);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new tt,1/0);return}if(t){const i=this.boundingSphere.center;if(br.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++){const a=e[s];Ff.setFromBufferAttribute(a),this.morphTargetsRelative?(hi.addVectors(br.min,Ff.min),br.expandByPoint(hi),hi.addVectors(br.max,Ff.max),br.expandByPoint(hi)):(br.expandByPoint(Ff.min),br.expandByPoint(Ff.max))}br.getCenter(i);let r=0;for(let s=0,o=t.count;s<o;s++)hi.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(hi));if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)hi.fromBufferAttribute(a,c),l&&(pu.fromBufferAttribute(t,c),hi.add(pu)),r=Math.max(r,i.distanceToSquared(hi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.array,r=e.position.array,s=e.normal.array,o=e.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ai(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let U=0;U<a;U++)c[U]=new tt,u[U]=new tt;const h=new tt,f=new tt,p=new tt,m=new $t,g=new $t,y=new $t,v=new tt,x=new tt;function S(U,A,F){h.fromArray(r,U*3),f.fromArray(r,A*3),p.fromArray(r,F*3),m.fromArray(o,U*2),g.fromArray(o,A*2),y.fromArray(o,F*2),f.sub(h),p.sub(h),g.sub(m),y.sub(m);const nt=1/(g.x*y.y-y.x*g.y);!isFinite(nt)||(v.copy(f).multiplyScalar(y.y).addScaledVector(p,-g.y).multiplyScalar(nt),x.copy(p).multiplyScalar(g.x).addScaledVector(f,-y.x).multiplyScalar(nt),c[U].add(v),c[A].add(v),c[F].add(v),u[U].add(x),u[A].add(x),u[F].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let U=0,A=E.length;U<A;++U){const F=E[U],nt=F.start,q=F.count;for(let D=nt,G=nt+q;D<G;D+=3)S(i[D+0],i[D+1],i[D+2])}const M=new tt,P=new tt,L=new tt,j=new tt;function W(U){L.fromArray(s,U*3),j.copy(L);const A=c[U];M.copy(A),M.sub(L.multiplyScalar(L.dot(A))).normalize(),P.crossVectors(j,A);const nt=P.dot(u[U])<0?-1:1;l[U*4]=M.x,l[U*4+1]=M.y,l[U*4+2]=M.z,l[U*4+3]=nt}for(let U=0,A=E.length;U<A;++U){const F=E[U],nt=F.start,q=F.count;for(let D=nt,G=nt+q;D<G;D+=3)W(i[D+0]),W(i[D+1]),W(i[D+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ai(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let f=0,p=i.count;f<p;f++)i.setXYZ(f,0,0,0);const r=new tt,s=new tt,o=new tt,a=new tt,l=new tt,c=new tt,u=new tt,h=new tt;if(t)for(let f=0,p=t.count;f<p;f+=3){const m=t.getX(f+0),g=t.getX(f+1),y=t.getX(f+2);r.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),o.fromBufferAttribute(e,y),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,y),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,p=e.count;f<p;f+=3)r.fromBufferAttribute(e,f+0),s.fromBufferAttribute(e,f+1),o.fromBufferAttribute(e,f+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(t,e){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(t.attributes[r]===void 0)continue;const o=i[r].array,a=t.attributes[r],l=a.array,c=a.itemSize*e,u=Math.min(l.length,o.length-c);for(let h=0,f=c;h<u;h++,f++)o[f]=l[h]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)hi.fromBufferAttribute(t,e),hi.normalize(),t.setXYZ(e,hi.x,hi.y,hi.z)}toNonIndexed(){function t(a,l){const c=a.array,u=a.itemSize,h=a.normalized,f=new c.constructor(l.length*u);let p=0,m=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?p=l[g]*a.data.stride+a.offset:p=l[g]*u;for(let v=0;v<u;v++)f[m++]=c[p++]}return new ai(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Nn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=t(l,i);e.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=c[u],p=t(f,i);l.push(p)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const l in i){const c=i[l];t.data.attributes[l]=c.toJSON(t.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){const p=c[h];u.push(p.toJSON(t.data))}u.length>0&&(r[l]=u,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const r=t.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(e))}const s=t.morphAttributes;for(const c in s){const u=[],h=s[c];for(let f=0,p=h.length;f<p;f++)u.push(h[f].clone(e));this.morphAttributes[c]=u}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=t.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Nn.prototype.isBufferGeometry=!0;const nk=new ye,mu=new jh,Kx=new Gh,fa=new tt,da=new tt,pa=new tt,Qx=new tt,Jx=new tt,Zx=new tt,cg=new tt,ug=new tt,hg=new tt,fg=new $t,dg=new $t,pg=new $t,tw=new tt,mg=new tt;class dr extends hn{constructor(t=new Nn,e=new Vb){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Kx.copy(i.boundingSphere),Kx.applyMatrix4(s),t.ray.intersectsSphere(Kx)===!1)||(nk.copy(s).invert(),mu.copy(t.ray).applyMatrix4(nk),i.boundingBox!==null&&mu.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,h=i.attributes.uv,f=i.attributes.uv2,p=i.groups,m=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,y=p.length;g<y;g++){const v=p[g],x=r[v.materialIndex],S=Math.max(v.start,m.start),E=Math.min(a.count,Math.min(v.start+v.count,m.start+m.count));for(let M=S,P=E;M<P;M+=3){const L=a.getX(M),j=a.getX(M+1),W=a.getX(M+2);o=gg(this,x,t,mu,l,c,u,h,f,L,j,W),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,e.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let v=g,x=y;v<x;v+=3){const S=a.getX(v),E=a.getX(v+1),M=a.getX(v+2);o=gg(this,r,t,mu,l,c,u,h,f,S,E,M),o&&(o.faceIndex=Math.floor(v/3),e.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let g=0,y=p.length;g<y;g++){const v=p[g],x=r[v.materialIndex],S=Math.max(v.start,m.start),E=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let M=S,P=E;M<P;M+=3){const L=M,j=M+1,W=M+2;o=gg(this,x,t,mu,l,c,u,h,f,L,j,W),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,e.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let v=g,x=y;v<x;v+=3){const S=v,E=v+1,M=v+2;o=gg(this,r,t,mu,l,c,u,h,f,S,E,M),o&&(o.faceIndex=Math.floor(v/3),e.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}dr.prototype.isMesh=!0;function Ght(n,t,e,i,r,s,o,a){let l;if(t.side===ps?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,t.side!==wh,a),l===null)return null;mg.copy(a),mg.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(mg);return c<e.near||c>e.far?null:{distance:c,point:mg.clone(),object:n}}function gg(n,t,e,i,r,s,o,a,l,c,u,h){fa.fromBufferAttribute(r,c),da.fromBufferAttribute(r,u),pa.fromBufferAttribute(r,h);const f=n.morphTargetInfluences;if(s&&f){cg.set(0,0,0),ug.set(0,0,0),hg.set(0,0,0);for(let m=0,g=s.length;m<g;m++){const y=f[m],v=s[m];y!==0&&(Qx.fromBufferAttribute(v,c),Jx.fromBufferAttribute(v,u),Zx.fromBufferAttribute(v,h),o?(cg.addScaledVector(Qx,y),ug.addScaledVector(Jx,y),hg.addScaledVector(Zx,y)):(cg.addScaledVector(Qx.sub(fa),y),ug.addScaledVector(Jx.sub(da),y),hg.addScaledVector(Zx.sub(pa),y)))}fa.add(cg),da.add(ug),pa.add(hg)}n.isSkinnedMesh&&(n.boneTransform(c,fa),n.boneTransform(u,da),n.boneTransform(h,pa));const p=Ght(n,t,e,i,fa,da,pa,tw);if(p){a&&(fg.fromBufferAttribute(a,c),dg.fromBufferAttribute(a,u),pg.fromBufferAttribute(a,h),p.uv=Jn.getUV(tw,fa,da,pa,fg,dg,pg,new $t)),l&&(fg.fromBufferAttribute(l,c),dg.fromBufferAttribute(l,u),pg.fromBufferAttribute(l,h),p.uv2=Jn.getUV(tw,fa,da,pa,fg,dg,pg,new $t));const m={a:c,b:u,c:h,normal:new tt,materialIndex:0};Jn.getNormal(fa,da,pa,m.normal),p.face=m}return p}class Hp extends Nn{constructor(t=1,e=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let f=0,p=0;m("z","y","x",-1,-1,i,e,t,o,s,0),m("z","y","x",1,-1,i,e,-t,o,s,1),m("x","z","y",1,1,t,i,e,r,o,2),m("x","z","y",1,-1,t,i,-e,r,o,3),m("x","y","z",1,-1,t,e,i,r,s,4),m("x","y","z",-1,-1,t,e,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new yi(c,3)),this.setAttribute("normal",new yi(u,3)),this.setAttribute("uv",new yi(h,2));function m(g,y,v,x,S,E,M,P,L,j,W){const U=E/L,A=M/j,F=E/2,nt=M/2,q=P/2,D=L+1,G=j+1;let Z=0,V=0;const Q=new tt;for(let ut=0;ut<G;ut++){const _t=ut*A-nt;for(let at=0;at<D;at++){const Ct=at*U-F;Q[g]=Ct*x,Q[y]=_t*S,Q[v]=q,c.push(Q.x,Q.y,Q.z),Q[g]=0,Q[y]=0,Q[v]=P>0?1:-1,u.push(Q.x,Q.y,Q.z),h.push(at/L),h.push(1-ut/j),Z+=1}}for(let ut=0;ut<j;ut++)for(let _t=0;_t<L;_t++){const at=f+_t+D*ut,Ct=f+_t+D*(ut+1),Lt=f+(_t+1)+D*(ut+1),et=f+(_t+1)+D*ut;l.push(at,Ct,et),l.push(Ct,Lt,et),V+=6}a.addGroup(p,V,W),p+=V,f+=Z}}static fromJSON(t){return new Hp(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Th(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[e][i]=r.clone():Array.isArray(r)?t[e][i]=r.slice():t[e][i]=r}}return t}function Di(n){const t={};for(let e=0;e<n.length;e++){const i=Th(n[e]);for(const r in i)t[r]=i[r]}return t}const jht={clone:Th,merge:Di};var qht=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Yht=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class gs extends ui{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=qht,this.fragmentShader=Yht,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Th(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?e.uniforms[r]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[r]={type:"m4",value:o.toArray()}:e.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}gs.prototype.isShaderMaterial=!0;class C1 extends hn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new ye,this.projectionMatrix=new ye,this.projectionMatrixInverse=new ye}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}C1.prototype.isCamera=!0;class ur extends C1{constructor(t=50,e=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=jS*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Lx*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return jS*2*Math.atan(Math.tan(Lx*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,r,s,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Lx*.5*this.fov)/this.zoom,i=2*e,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,e-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}ur.prototype.isPerspectiveCamera=!0;const gu=90,yu=1;class O1 extends hn{constructor(t,e,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new ur(gu,yu,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new tt(1,0,0)),this.add(r);const s=new ur(gu,yu,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new tt(-1,0,0)),this.add(s);const o=new ur(gu,yu,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new tt(0,1,0)),this.add(o);const a=new ur(gu,yu,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new tt(0,-1,0)),this.add(a);const l=new ur(gu,yu,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new tt(0,0,1)),this.add(l);const c=new ur(gu,yu,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new tt(0,0,-1)),this.add(c)}update(t,e){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=t.getRenderTarget(),h=t.outputEncoding,f=t.toneMapping,p=t.xr.enabled;t.outputEncoding=zo,t.toneMapping=Po,t.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,r),t.setRenderTarget(i,1),t.render(e,s),t.setRenderTarget(i,2),t.render(e,o),t.setRenderTarget(i,3),t.render(e,a),t.setRenderTarget(i,4),t.render(e,l),i.texture.generateMipmaps=m,t.setRenderTarget(i,5),t.render(e,c),t.setRenderTarget(u),t.outputEncoding=h,t.toneMapping=f,t.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Hb extends _i{constructor(t,e,i,r,s,o,a,l,c,u){t=t!==void 0?t:[],e=e!==void 0?e:Eh,super(t,e,i,r,s,o,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Hb.prototype.isCubeTexture=!0;class nV extends Er{constructor(t,e={}){super(t,t,e);const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];this.texture=new Hb(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:cr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Hp(5,5,5),s=new gs({name:"CubemapFromEquirect",uniforms:Th(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ps,blending:Ta});s.uniforms.tEquirect.value=e;const o=new dr(r,s),a=e.minFilter;return e.minFilter===zb&&(e.minFilter=cr),new O1(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,r){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,r);t.setRenderTarget(s)}}nV.prototype.isWebGLCubeRenderTarget=!0;const ew=new tt,Xht=new tt,Kht=new Si;class _o{constructor(t=new tt(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=ew.subVectors(i,e).cross(Xht.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const i=t.delta(ew),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(i).multiplyScalar(s).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||Kht.getNormalMatrix(t),r=this.coplanarPoint(ew).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}_o.prototype.isPlane=!0;const vu=new Gh,yg=new tt;class $b{constructor(t=new _o,e=new _o,i=new _o,r=new _o,s=new _o,o=new _o){this.planes=[t,e,i,r,s,o]}set(t,e,i,r,s,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,i=t.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],f=i[8],p=i[9],m=i[10],g=i[11],y=i[12],v=i[13],x=i[14],S=i[15];return e[0].setComponents(a-r,h-l,g-f,S-y).normalize(),e[1].setComponents(a+r,h+l,g+f,S+y).normalize(),e[2].setComponents(a+s,h+c,g+p,S+v).normalize(),e[3].setComponents(a-s,h-c,g-p,S-v).normalize(),e[4].setComponents(a-o,h-u,g-m,S-x).normalize(),e[5].setComponents(a+o,h+u,g+m,S+x).normalize(),this}intersectsObject(t){const e=t.geometry;return e.boundingSphere===null&&e.computeBoundingSphere(),vu.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(vu)}intersectsSprite(t){return vu.center.set(0,0,0),vu.radius=.7071067811865476,vu.applyMatrix4(t.matrixWorld),this.intersectsSphere(vu)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(yg.x=r.normal.x>0?t.max.x:t.min.x,yg.y=r.normal.y>0?t.max.y:t.min.y,yg.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(yg)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function iV(){let n=null,t=!1,e=null,i=null;function r(s,o){e(s,o),i=n.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){n=s}}}function Qht(n,t){const e=t.isWebGL2,i=new WeakMap;function r(c,u){const h=c.array,f=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,h,f),c.onUploadCallback();let m;if(h instanceof Float32Array)m=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(e)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(h instanceof Int16Array)m=5122;else if(h instanceof Uint32Array)m=5125;else if(h instanceof Int32Array)m=5124;else if(h instanceof Int8Array)m=5120;else if(h instanceof Uint8Array)m=5121;else if(h instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const f=u.array,p=u.updateRange;n.bindBuffer(h,c),p.count===-1?n.bufferSubData(h,0,f):(e?n.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):n.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class P1 extends Nn{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const s=t/2,o=e/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,h=t/a,f=e/l,p=[],m=[],g=[],y=[];for(let v=0;v<u;v++){const x=v*f-o;for(let S=0;S<c;S++){const E=S*h-s;m.push(E,-x,0),g.push(0,0,1),y.push(S/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<a;x++){const S=x+c*v,E=x+c*(v+1),M=x+1+c*(v+1),P=x+1+c*v;p.push(S,E,P),p.push(E,M,P)}this.setIndex(p),this.setAttribute("position",new yi(m,3)),this.setAttribute("normal",new yi(g,3)),this.setAttribute("uv",new yi(y,2))}static fromJSON(t){return new P1(t.width,t.height,t.widthSegments,t.heightSegments)}}var Jht=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Zht=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tft=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,eft=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nft=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ift=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rft="vec3 transformed = vec3( position );",sft=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oft=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,aft=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lft=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,cft=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uft=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hft=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,fft=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dft=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,pft=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,mft=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,gft=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,yft=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,vft=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_ft=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bft=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,xft=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,wft=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Eft="gl_FragColor = linearToOutputTexel( gl_FragColor );",Sft=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Mft=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tft=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Aft=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Cft=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Oft=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Pft=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Dft=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Rft=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Lft=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ift=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,kft=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Nft=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Fft=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Bft=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,zft=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Uft=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Vft=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Hft=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$ft=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Wft=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Gft=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jft=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,qft=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Yft=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Xft=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Kft=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qft=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Jft=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Zft=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,tdt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,edt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ndt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,idt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rdt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,sdt=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,odt=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,adt=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ldt=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,cdt=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,udt=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hdt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fdt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ddt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,pdt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,mdt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,gdt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,ydt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,vdt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_dt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,bdt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xdt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wdt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Edt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Sdt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Mdt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Tdt=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Adt=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Cdt=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Odt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Pdt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Ddt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Rdt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ldt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Idt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kdt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ndt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Fdt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Bdt=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,zdt=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Udt=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Vdt=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Hdt=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,$dt=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Wdt=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Gdt=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,jdt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qdt=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Ydt=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xdt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Kdt=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Qdt=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Jdt=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Zdt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,tpt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ept=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,npt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ipt=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rpt=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,spt=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,opt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,apt=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lpt=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cpt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,upt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hpt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fpt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,dpt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ppt=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mpt=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gpt=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ypt=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vpt=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_pt=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bpt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xpt=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wpt=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ept=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Spt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,je={alphamap_fragment:Jht,alphamap_pars_fragment:Zht,alphatest_fragment:tft,alphatest_pars_fragment:eft,aomap_fragment:nft,aomap_pars_fragment:ift,begin_vertex:rft,beginnormal_vertex:sft,bsdfs:oft,bumpmap_pars_fragment:aft,clipping_planes_fragment:lft,clipping_planes_pars_fragment:cft,clipping_planes_pars_vertex:uft,clipping_planes_vertex:hft,color_fragment:fft,color_pars_fragment:dft,color_pars_vertex:pft,color_vertex:mft,common:gft,cube_uv_reflection_fragment:yft,defaultnormal_vertex:vft,displacementmap_pars_vertex:_ft,displacementmap_vertex:bft,emissivemap_fragment:xft,emissivemap_pars_fragment:wft,encodings_fragment:Eft,encodings_pars_fragment:Sft,envmap_fragment:Mft,envmap_common_pars_fragment:Tft,envmap_pars_fragment:Aft,envmap_pars_vertex:Cft,envmap_physical_pars_fragment:zft,envmap_vertex:Oft,fog_vertex:Pft,fog_pars_vertex:Dft,fog_fragment:Rft,fog_pars_fragment:Lft,gradientmap_pars_fragment:Ift,lightmap_fragment:kft,lightmap_pars_fragment:Nft,lights_lambert_vertex:Fft,lights_pars_begin:Bft,lights_toon_fragment:Uft,lights_toon_pars_fragment:Vft,lights_phong_fragment:Hft,lights_phong_pars_fragment:$ft,lights_physical_fragment:Wft,lights_physical_pars_fragment:Gft,lights_fragment_begin:jft,lights_fragment_maps:qft,lights_fragment_end:Yft,logdepthbuf_fragment:Xft,logdepthbuf_pars_fragment:Kft,logdepthbuf_pars_vertex:Qft,logdepthbuf_vertex:Jft,map_fragment:Zft,map_pars_fragment:tdt,map_particle_fragment:edt,map_particle_pars_fragment:ndt,metalnessmap_fragment:idt,metalnessmap_pars_fragment:rdt,morphcolor_vertex:sdt,morphnormal_vertex:odt,morphtarget_pars_vertex:adt,morphtarget_vertex:ldt,normal_fragment_begin:cdt,normal_fragment_maps:udt,normal_pars_fragment:hdt,normal_pars_vertex:fdt,normal_vertex:ddt,normalmap_pars_fragment:pdt,clearcoat_normal_fragment_begin:mdt,clearcoat_normal_fragment_maps:gdt,clearcoat_pars_fragment:ydt,output_fragment:vdt,packing:_dt,premultiplied_alpha_fragment:bdt,project_vertex:xdt,dithering_fragment:wdt,dithering_pars_fragment:Edt,roughnessmap_fragment:Sdt,roughnessmap_pars_fragment:Mdt,shadowmap_pars_fragment:Tdt,shadowmap_pars_vertex:Adt,shadowmap_vertex:Cdt,shadowmask_pars_fragment:Odt,skinbase_vertex:Pdt,skinning_pars_vertex:Ddt,skinning_vertex:Rdt,skinnormal_vertex:Ldt,specularmap_fragment:Idt,specularmap_pars_fragment:kdt,tonemapping_fragment:Ndt,tonemapping_pars_fragment:Fdt,transmission_fragment:Bdt,transmission_pars_fragment:zdt,uv_pars_fragment:Udt,uv_pars_vertex:Vdt,uv_vertex:Hdt,uv2_pars_fragment:$dt,uv2_pars_vertex:Wdt,uv2_vertex:Gdt,worldpos_vertex:jdt,background_vert:qdt,background_frag:Ydt,cube_vert:Xdt,cube_frag:Kdt,depth_vert:Qdt,depth_frag:Jdt,distanceRGBA_vert:Zdt,distanceRGBA_frag:tpt,equirect_vert:ept,equirect_frag:npt,linedashed_vert:ipt,linedashed_frag:rpt,meshbasic_vert:spt,meshbasic_frag:opt,meshlambert_vert:apt,meshlambert_frag:lpt,meshmatcap_vert:cpt,meshmatcap_frag:upt,meshnormal_vert:hpt,meshnormal_frag:fpt,meshphong_vert:dpt,meshphong_frag:ppt,meshphysical_vert:mpt,meshphysical_frag:gpt,meshtoon_vert:ypt,meshtoon_frag:vpt,points_vert:_pt,points_frag:bpt,shadow_vert:xpt,shadow_frag:wpt,sprite_vert:Ept,sprite_frag:Spt},Kt={common:{diffuse:{value:new he(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Si},uv2Transform:{value:new Si},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $t(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new he(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new he(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Si}},sprite:{diffuse:{value:new he(16777215)},opacity:{value:1},center:{value:new $t(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Si}}},Fs={basic:{uniforms:Di([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.fog]),vertexShader:je.meshbasic_vert,fragmentShader:je.meshbasic_frag},lambert:{uniforms:Di([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.fog,Kt.lights,{emissive:{value:new he(0)}}]),vertexShader:je.meshlambert_vert,fragmentShader:je.meshlambert_frag},phong:{uniforms:Di([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new he(0)},specular:{value:new he(1118481)},shininess:{value:30}}]),vertexShader:je.meshphong_vert,fragmentShader:je.meshphong_frag},standard:{uniforms:Di([Kt.common,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.roughnessmap,Kt.metalnessmap,Kt.fog,Kt.lights,{emissive:{value:new he(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag},toon:{uniforms:Di([Kt.common,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.gradientmap,Kt.fog,Kt.lights,{emissive:{value:new he(0)}}]),vertexShader:je.meshtoon_vert,fragmentShader:je.meshtoon_frag},matcap:{uniforms:Di([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,{matcap:{value:null}}]),vertexShader:je.meshmatcap_vert,fragmentShader:je.meshmatcap_frag},points:{uniforms:Di([Kt.points,Kt.fog]),vertexShader:je.points_vert,fragmentShader:je.points_frag},dashed:{uniforms:Di([Kt.common,Kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:je.linedashed_vert,fragmentShader:je.linedashed_frag},depth:{uniforms:Di([Kt.common,Kt.displacementmap]),vertexShader:je.depth_vert,fragmentShader:je.depth_frag},normal:{uniforms:Di([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,{opacity:{value:1}}]),vertexShader:je.meshnormal_vert,fragmentShader:je.meshnormal_frag},sprite:{uniforms:Di([Kt.sprite,Kt.fog]),vertexShader:je.sprite_vert,fragmentShader:je.sprite_frag},background:{uniforms:{uvTransform:{value:new Si},t2D:{value:null}},vertexShader:je.background_vert,fragmentShader:je.background_frag},cube:{uniforms:Di([Kt.envmap,{opacity:{value:1}}]),vertexShader:je.cube_vert,fragmentShader:je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:je.equirect_vert,fragmentShader:je.equirect_frag},distanceRGBA:{uniforms:Di([Kt.common,Kt.displacementmap,{referencePosition:{value:new tt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:je.distanceRGBA_vert,fragmentShader:je.distanceRGBA_frag},shadow:{uniforms:Di([Kt.lights,Kt.fog,{color:{value:new he(0)},opacity:{value:1}}]),vertexShader:je.shadow_vert,fragmentShader:je.shadow_frag}};Fs.physical={uniforms:Di([Fs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $t(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new he(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new he(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new he(1,1,1)},specularColorMap:{value:null}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag};function Mpt(n,t,e,i,r,s){const o=new he(0);let a=r===!0?0:1,l,c,u=null,h=0,f=null;function p(g,y){let v=!1,x=y.isScene===!0?y.background:null;x&&x.isTexture&&(x=t.get(x));const S=n.xr,E=S.getSession&&S.getSession();E&&E.environmentBlendMode==="additive"&&(x=null),x===null?m(o,a):x&&x.isColor&&(m(x,1),v=!0),(n.autoClear||v)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Bb)?(c===void 0&&(c=new dr(new Hp(1,1,1),new gs({name:"BackgroundCubeMaterial",uniforms:Th(Fs.cube.uniforms),vertexShader:Fs.cube.vertexShader,fragmentShader:Fs.cube.fragmentShader,side:ps,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,P,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(u!==x||h!==x.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=x,h=x.version,f=n.toneMapping),g.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new dr(new P1(2,2),new gs({name:"BackgroundMaterial",uniforms:Th(Fs.background.uniforms),vertexShader:Fs.background.vertexShader,fragmentShader:Fs.background.fragmentShader,side:Qd,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(u!==x||h!==x.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=x,h=x.version,f=n.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null))}function m(g,y){e.buffers.color.setClear(g.r,g.g,g.b,y,s)}return{getClearColor:function(){return o},setClearColor:function(g,y=1){o.set(g),a=y,m(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,m(o,a)},render:p}}function Tpt(n,t,e,i){const r=n.getParameter(34921),s=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function h(q,D,G,Z,V){let Q=!1;if(o){const ut=g(Z,G,D);c!==ut&&(c=ut,p(c.object)),Q=v(Z,V),Q&&x(Z,V)}else{const ut=D.wireframe===!0;(c.geometry!==Z.id||c.program!==G.id||c.wireframe!==ut)&&(c.geometry=Z.id,c.program=G.id,c.wireframe=ut,Q=!0)}q.isInstancedMesh===!0&&(Q=!0),V!==null&&e.update(V,34963),(Q||u)&&(u=!1,j(q,D,G,Z),V!==null&&n.bindBuffer(34963,e.get(V).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(q){return i.isWebGL2?n.bindVertexArray(q):s.bindVertexArrayOES(q)}function m(q){return i.isWebGL2?n.deleteVertexArray(q):s.deleteVertexArrayOES(q)}function g(q,D,G){const Z=G.wireframe===!0;let V=a[q.id];V===void 0&&(V={},a[q.id]=V);let Q=V[D.id];Q===void 0&&(Q={},V[D.id]=Q);let ut=Q[Z];return ut===void 0&&(ut=y(f()),Q[Z]=ut),ut}function y(q){const D=[],G=[],Z=[];for(let V=0;V<r;V++)D[V]=0,G[V]=0,Z[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:G,attributeDivisors:Z,object:q,attributes:{},index:null}}function v(q,D){const G=c.attributes,Z=q.attributes;let V=0;for(const Q in Z){const ut=G[Q],_t=Z[Q];if(ut===void 0||ut.attribute!==_t||ut.data!==_t.data)return!0;V++}return c.attributesNum!==V||c.index!==D}function x(q,D){const G={},Z=q.attributes;let V=0;for(const Q in Z){const ut=Z[Q],_t={};_t.attribute=ut,ut.data&&(_t.data=ut.data),G[Q]=_t,V++}c.attributes=G,c.attributesNum=V,c.index=D}function S(){const q=c.newAttributes;for(let D=0,G=q.length;D<G;D++)q[D]=0}function E(q){M(q,0)}function M(q,D){const G=c.newAttributes,Z=c.enabledAttributes,V=c.attributeDivisors;G[q]=1,Z[q]===0&&(n.enableVertexAttribArray(q),Z[q]=1),V[q]!==D&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](q,D),V[q]=D)}function P(){const q=c.newAttributes,D=c.enabledAttributes;for(let G=0,Z=D.length;G<Z;G++)D[G]!==q[G]&&(n.disableVertexAttribArray(G),D[G]=0)}function L(q,D,G,Z,V,Q){i.isWebGL2===!0&&(G===5124||G===5125)?n.vertexAttribIPointer(q,D,G,V,Q):n.vertexAttribPointer(q,D,G,Z,V,Q)}function j(q,D,G,Z){if(i.isWebGL2===!1&&(q.isInstancedMesh||Z.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;S();const V=Z.attributes,Q=G.getAttributes(),ut=D.defaultAttributeValues;for(const _t in Q){const at=Q[_t];if(at.location>=0){let Ct=V[_t];if(Ct===void 0&&(_t==="instanceMatrix"&&q.instanceMatrix&&(Ct=q.instanceMatrix),_t==="instanceColor"&&q.instanceColor&&(Ct=q.instanceColor)),Ct!==void 0){const Lt=Ct.normalized,et=Ct.itemSize,Y=e.get(Ct);if(Y===void 0)continue;const Et=Y.buffer,lt=Y.type,Mt=Y.bytesPerElement;if(Ct.isInterleavedBufferAttribute){const xt=Ct.data,Rt=xt.stride,O=Ct.offset;if(xt.isInstancedInterleavedBuffer){for(let k=0;k<at.locationSize;k++)M(at.location+k,xt.meshPerAttribute);q.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=xt.meshPerAttribute*xt.count)}else for(let k=0;k<at.locationSize;k++)E(at.location+k);n.bindBuffer(34962,Et);for(let k=0;k<at.locationSize;k++)L(at.location+k,et/at.locationSize,lt,Lt,Rt*Mt,(O+et/at.locationSize*k)*Mt)}else{if(Ct.isInstancedBufferAttribute){for(let xt=0;xt<at.locationSize;xt++)M(at.location+xt,Ct.meshPerAttribute);q.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=Ct.meshPerAttribute*Ct.count)}else for(let xt=0;xt<at.locationSize;xt++)E(at.location+xt);n.bindBuffer(34962,Et);for(let xt=0;xt<at.locationSize;xt++)L(at.location+xt,et/at.locationSize,lt,Lt,et*Mt,et/at.locationSize*xt*Mt)}}else if(ut!==void 0){const Lt=ut[_t];if(Lt!==void 0)switch(Lt.length){case 2:n.vertexAttrib2fv(at.location,Lt);break;case 3:n.vertexAttrib3fv(at.location,Lt);break;case 4:n.vertexAttrib4fv(at.location,Lt);break;default:n.vertexAttrib1fv(at.location,Lt)}}}}P()}function W(){F();for(const q in a){const D=a[q];for(const G in D){const Z=D[G];for(const V in Z)m(Z[V].object),delete Z[V];delete D[G]}delete a[q]}}function U(q){if(a[q.id]===void 0)return;const D=a[q.id];for(const G in D){const Z=D[G];for(const V in Z)m(Z[V].object),delete Z[V];delete D[G]}delete a[q.id]}function A(q){for(const D in a){const G=a[D];if(G[q.id]===void 0)continue;const Z=G[q.id];for(const V in Z)m(Z[V].object),delete Z[V];delete G[q.id]}}function F(){nt(),u=!0,c!==l&&(c=l,p(c.object))}function nt(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:F,resetDefaultState:nt,dispose:W,releaseStatesOfGeometry:U,releaseStatesOfProgram:A,initAttributes:S,enableAttribute:E,disableUnusedAttributes:P}}function Apt(n,t,e,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),e.update(u,s,1)}function l(c,u,h){if(h===0)return;let f,p;if(r)f=n,p="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](s,c,u,h),e.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function Cpt(n,t,e){let i;function r(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){const L=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=e.precision!==void 0?e.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||t.has("WEBGL_draw_buffers"),u=e.logarithmicDepthBuffer===!0,h=n.getParameter(34930),f=n.getParameter(35660),p=n.getParameter(3379),m=n.getParameter(34076),g=n.getParameter(34921),y=n.getParameter(36347),v=n.getParameter(36348),x=n.getParameter(36349),S=f>0,E=o||t.has("OES_texture_float"),M=S&&E,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:M,maxSamples:P}}function Opt(n){const t=this;let e=null,i=0,r=!1,s=!1;const o=new _o,a=new Si,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f,p){const m=h.length!==0||f||i!==0||r;return r=f,e=u(h,p,0),i=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,f,p){const m=h.clippingPlanes,g=h.clipIntersection,y=h.clipShadows,v=n.get(h);if(!r||m===null||m.length===0||s&&!y)s?u(null):c();else{const x=s?0:i,S=x*4;let E=v.clippingState||null;l.value=E,E=u(m,f,S,p);for(let M=0;M!==S;++M)E[M]=e[M];v.clippingState=E,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==e&&(l.value=e,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(h,f,p,m){const g=h!==null?h.length:0;let y=null;if(g!==0){if(y=l.value,m!==!0||y===null){const v=p+g*4,x=f.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<v)&&(y=new Float32Array(v));for(let S=0,E=p;S!==g;++S,E+=4)o.copy(h[S]).applyMatrix4(x,a),o.normal.toArray(y,E),y[E+3]=o.constant}l.value=y,l.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,y}}function Ppt(n){let t=new WeakMap;function e(o,a){return a===VS?o.mapping=Eh:a===HS&&(o.mapping=Sh),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===VS||a===HS)if(t.has(o)){const l=t.get(o).texture;return e(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new nV(l.height/2);return c.fromEquirectangularTexture(n,o),t.set(o,c),o.addEventListener("dispose",r),e(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=t.get(a);l!==void 0&&(t.delete(a),l.dispose())}function s(){t=new WeakMap}return{get:i,dispose:s}}class D1 extends C1{constructor(t=-1,e=1,i=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-t,o=i+t,a=r+e,l=r-e;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}D1.prototype.isOrthographicCamera=!0;const ku=4,ik=[.125,.215,.35,.446,.526,.582],Nl=20,nw=new D1,rk=new he;let iw=null;const Ll=(1+Math.sqrt(5))/2,_u=1/Ll,sk=[new tt(1,1,1),new tt(-1,1,1),new tt(1,1,-1),new tt(-1,1,-1),new tt(0,Ll,_u),new tt(0,Ll,-_u),new tt(_u,0,Ll),new tt(-_u,0,Ll),new tt(Ll,_u,0),new tt(-Ll,_u,0)];class ok{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100){iw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,i,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ck(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(iw),t.scissorTest=!1,vg(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Eh||t.mapping===Sh?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),iw=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,i={magFilter:cr,minFilter:cr,generateMipmaps:!1,type:Xu,format:cs,encoding:zo,depthBuffer:!1},r=ak(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ak(t,e,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Dpt(s)),this._blurMaterial=Rpt(s,t,e)}return r}_compileMaterial(t){const e=new dr(this._lodPlanes[0],t);this._renderer.compile(e,nw)}_sceneToCubeUV(t,e,i,r){const a=new ur(90,1,e,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(rk),u.toneMapping=Po,u.autoClear=!1;const p=new Vb({name:"PMREM.Background",side:ps,depthWrite:!1,depthTest:!1}),m=new dr(new Hp,p);let g=!1;const y=t.background;y?y.isColor&&(p.color.copy(y),t.background=null,g=!0):(p.color.copy(rk),g=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):x===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const S=this._cubeSize;vg(r,x*S,v>2?S:0,S,S),u.setRenderTarget(r),g&&u.render(m,a),u.render(t,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=f,u.autoClear=h,t.background=y}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===Eh||t.mapping===Sh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=ck()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lk());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new dr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=t;const l=this._cubeSize;vg(e,0,0,3*l,2*l),i.setRenderTarget(e),i.render(o,nw)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=sk[(r-1)%sk.length];this._blur(t,r-1,r,s,o)}e.autoClear=i}_blur(t,e,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,r,"latitudinal",s),this._halfBlur(o,t,i,i,r,"longitudinal",s)}_halfBlur(t,e,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new dr(this._lodPlanes[r],c),f=c.uniforms,p=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Nl-1),g=s/m,y=isFinite(s)?1+Math.floor(u*g):Nl;y>Nl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Nl}`);const v=[];let x=0;for(let L=0;L<Nl;++L){const j=L/g,W=Math.exp(-j*j/2);v.push(W),L===0?x+=W:L<y&&(x+=2*W)}for(let L=0;L<v.length;L++)v[L]=v[L]/x;f.envMap.value=t.texture,f.samples.value=y,f.weights.value=v,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=m,f.mipInt.value=S-i;const E=this._sizeLods[r],M=3*E*(r>S-ku?r-S+ku:0),P=4*(this._cubeSize-E);vg(e,M,P,3*E,2*E),l.setRenderTarget(e),l.render(h,nw)}}function Dpt(n){const t=[],e=[],i=[];let r=n;const s=n-ku+1+ik.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);e.push(a);let l=1/a;o>n-ku?l=ik[o-n+ku-1]:o===0&&(l=0),i.push(l);const c=1/(a-1),u=-c/2,h=1+c/2,f=[u,u,h,u,h,h,u,u,h,h,u,h],p=6,m=6,g=3,y=2,v=1,x=new Float32Array(g*m*p),S=new Float32Array(y*m*p),E=new Float32Array(v*m*p);for(let P=0;P<p;P++){const L=P%3*2/3-1,j=P>2?0:-1,W=[L,j,0,L+2/3,j,0,L+2/3,j+1,0,L,j,0,L+2/3,j+1,0,L,j+1,0];x.set(W,g*m*P),S.set(f,y*m*P);const U=[P,P,P,P,P,P];E.set(U,v*m*P)}const M=new Nn;M.setAttribute("position",new ai(x,g)),M.setAttribute("uv",new ai(S,y)),M.setAttribute("faceIndex",new ai(E,v)),t.push(M),r>ku&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function ak(n,t,e){const i=new Er(n,t,e);return i.texture.mapping=Bb,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function vg(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function Rpt(n,t,e){const i=new Float32Array(Nl),r=new tt(0,1,0);return new gs({name:"SphericalGaussianBlur",defines:{n:Nl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:R1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ta,depthTest:!1,depthWrite:!1})}function lk(){return new gs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:R1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ta,depthTest:!1,depthWrite:!1})}function ck(){return new gs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:R1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ta,depthTest:!1,depthWrite:!1})}function R1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Lpt(n){let t=new WeakMap,e=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===VS||l===HS,u=l===Eh||l===Sh;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=t.get(a);return e===null&&(e=new ok(n)),h=c?e.fromEquirectangular(a,h):e.fromCubemap(a,h),t.set(a,h),h.texture}else{if(t.has(a))return t.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&r(h)){e===null&&(e=new ok(n));const f=c?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function Ipt(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return e(i)!==null},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const r=e(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function kpt(n,t,e,i){const r={},s=new WeakMap;function o(h){const f=h.target;f.index!==null&&t.remove(f.index);for(const m in f.attributes)t.remove(f.attributes[m]);f.removeEventListener("dispose",o),delete r[f.id];const p=s.get(f);p&&(t.remove(p),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,e.memory.geometries--}function a(h,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,e.memory.geometries++),f}function l(h){const f=h.attributes;for(const m in f)t.update(f[m],34962);const p=h.morphAttributes;for(const m in p){const g=p[m];for(let y=0,v=g.length;y<v;y++)t.update(g[y],34962)}}function c(h){const f=[],p=h.index,m=h.attributes.position;let g=0;if(p!==null){const x=p.array;g=p.version;for(let S=0,E=x.length;S<E;S+=3){const M=x[S+0],P=x[S+1],L=x[S+2];f.push(M,P,P,L,L,M)}}else{const x=m.array;g=m.version;for(let S=0,E=x.length/3-1;S<E;S+=3){const M=S+0,P=S+1,L=S+2;f.push(M,P,P,L,L,M)}}const y=new(KU(f)?eV:tV)(f,1);y.version=g;const v=s.get(h);v&&t.remove(v),s.set(h,y)}function u(h){const f=s.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Npt(n,t,e,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,p){n.drawElements(s,p,a,f*l),e.update(p,s,1)}function h(f,p,m){if(m===0)return;let g,y;if(r)g=n,y="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,p,a,f*l,m),e.update(p,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function Fpt(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(e.calls++,o){case 4:e.triangles+=a*(s/3);break;case 1:e.lines+=a*(s/2);break;case 3:e.lines+=a*(s-1);break;case 2:e.lines+=a*s;break;case 0:e.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:i}}function Bpt(n,t){return n[0]-t[0]}function zpt(n,t){return Math.abs(t[1])-Math.abs(n[1])}function rw(n,t){let e=1;const i=t.isInterleavedBufferAttribute?t.data.array:t.array;i instanceof Int8Array?e=127:i instanceof Int16Array?e=32767:i instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(e)}function Upt(n,t,e){const i={},r=new Float32Array(8),s=new WeakMap,o=new dn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h,f){const p=c.morphTargetInfluences;if(t.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=m!==void 0?m.length:0;let y=s.get(u);if(y===void 0||y.count!==g){let D=function(){nt.dispose(),s.delete(u),u.removeEventListener("dispose",D)};y!==void 0&&y.texture.dispose();const S=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,P=u.morphAttributes.position||[],L=u.morphAttributes.normal||[],j=u.morphAttributes.color||[];let W=0;S===!0&&(W=1),E===!0&&(W=2),M===!0&&(W=3);let U=u.attributes.position.count*W,A=1;U>t.maxTextureSize&&(A=Math.ceil(U/t.maxTextureSize),U=t.maxTextureSize);const F=new Float32Array(U*A*4*g),nt=new Ub(F,U,A,g);nt.type=$l,nt.needsUpdate=!0;const q=W*4;for(let G=0;G<g;G++){const Z=P[G],V=L[G],Q=j[G],ut=U*A*4*G;for(let _t=0;_t<Z.count;_t++){const at=_t*q;S===!0&&(o.fromBufferAttribute(Z,_t),Z.normalized===!0&&rw(o,Z),F[ut+at+0]=o.x,F[ut+at+1]=o.y,F[ut+at+2]=o.z,F[ut+at+3]=0),E===!0&&(o.fromBufferAttribute(V,_t),V.normalized===!0&&rw(o,V),F[ut+at+4]=o.x,F[ut+at+5]=o.y,F[ut+at+6]=o.z,F[ut+at+7]=0),M===!0&&(o.fromBufferAttribute(Q,_t),Q.normalized===!0&&rw(o,Q),F[ut+at+8]=o.x,F[ut+at+9]=o.y,F[ut+at+10]=o.z,F[ut+at+11]=Q.itemSize===4?o.w:1)}}y={count:g,texture:nt,size:new $t(U,A)},s.set(u,y),u.addEventListener("dispose",D)}let v=0;for(let S=0;S<p.length;S++)v+=p[S];const x=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,e),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const m=p===void 0?0:p.length;let g=i[u.id];if(g===void 0||g.length!==m){g=[];for(let E=0;E<m;E++)g[E]=[E,0];i[u.id]=g}for(let E=0;E<m;E++){const M=g[E];M[0]=E,M[1]=p[E]}g.sort(zpt);for(let E=0;E<8;E++)E<m&&g[E][1]?(a[E][0]=g[E][0],a[E][1]=g[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Bpt);const y=u.morphAttributes.position,v=u.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const M=a[E],P=M[0],L=M[1];P!==Number.MAX_SAFE_INTEGER&&L?(y&&u.getAttribute("morphTarget"+E)!==y[P]&&u.setAttribute("morphTarget"+E,y[P]),v&&u.getAttribute("morphNormal"+E)!==v[P]&&u.setAttribute("morphNormal"+E,v[P]),r[E]=L,x+=L):(y&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),v&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),r[E]=0)}const S=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",S),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Vpt(n,t,e,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,h=t.get(l,u);return r.get(h)!==c&&(t.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),e.update(l.instanceMatrix,34962),l.instanceColor!==null&&e.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),c.instanceColor!==null&&e.remove(c.instanceColor)}return{update:s,dispose:o}}const rV=new _i,sV=new Ub,oV=new A1,aV=new Hb,uk=[],hk=[],fk=new Float32Array(16),dk=new Float32Array(9),pk=new Float32Array(4);function qh(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let s=uk[r];if(s===void 0&&(s=new Float32Array(r),uk[r]=s),t!==0){i.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=e,n[o].toArray(s,a)}return s}function nr(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Vi(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function Wb(n,t){let e=hk[t];e===void 0&&(e=new Int32Array(t),hk[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function Hpt(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function $pt(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(nr(e,t))return;n.uniform2fv(this.addr,t),Vi(e,t)}}function Wpt(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(nr(e,t))return;n.uniform3fv(this.addr,t),Vi(e,t)}}function Gpt(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(nr(e,t))return;n.uniform4fv(this.addr,t),Vi(e,t)}}function jpt(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(nr(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),Vi(e,t)}else{if(nr(e,i))return;pk.set(i),n.uniformMatrix2fv(this.addr,!1,pk),Vi(e,i)}}function qpt(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(nr(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),Vi(e,t)}else{if(nr(e,i))return;dk.set(i),n.uniformMatrix3fv(this.addr,!1,dk),Vi(e,i)}}function Ypt(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(nr(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),Vi(e,t)}else{if(nr(e,i))return;fk.set(i),n.uniformMatrix4fv(this.addr,!1,fk),Vi(e,i)}}function Xpt(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function Kpt(n,t){const e=this.cache;nr(e,t)||(n.uniform2iv(this.addr,t),Vi(e,t))}function Qpt(n,t){const e=this.cache;nr(e,t)||(n.uniform3iv(this.addr,t),Vi(e,t))}function Jpt(n,t){const e=this.cache;nr(e,t)||(n.uniform4iv(this.addr,t),Vi(e,t))}function Zpt(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function tmt(n,t){const e=this.cache;nr(e,t)||(n.uniform2uiv(this.addr,t),Vi(e,t))}function emt(n,t){const e=this.cache;nr(e,t)||(n.uniform3uiv(this.addr,t),Vi(e,t))}function nmt(n,t){const e=this.cache;nr(e,t)||(n.uniform4uiv(this.addr,t),Vi(e,t))}function imt(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2D(t||rV,r)}function rmt(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||oV,r)}function smt(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||aV,r)}function omt(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||sV,r)}function amt(n){switch(n){case 5126:return Hpt;case 35664:return $pt;case 35665:return Wpt;case 35666:return Gpt;case 35674:return jpt;case 35675:return qpt;case 35676:return Ypt;case 5124:case 35670:return Xpt;case 35667:case 35671:return Kpt;case 35668:case 35672:return Qpt;case 35669:case 35673:return Jpt;case 5125:return Zpt;case 36294:return tmt;case 36295:return emt;case 36296:return nmt;case 35678:case 36198:case 36298:case 36306:case 35682:return imt;case 35679:case 36299:case 36307:return rmt;case 35680:case 36300:case 36308:case 36293:return smt;case 36289:case 36303:case 36311:case 36292:return omt}}function lmt(n,t){n.uniform1fv(this.addr,t)}function cmt(n,t){const e=qh(t,this.size,2);n.uniform2fv(this.addr,e)}function umt(n,t){const e=qh(t,this.size,3);n.uniform3fv(this.addr,e)}function hmt(n,t){const e=qh(t,this.size,4);n.uniform4fv(this.addr,e)}function fmt(n,t){const e=qh(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function dmt(n,t){const e=qh(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function pmt(n,t){const e=qh(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function mmt(n,t){n.uniform1iv(this.addr,t)}function gmt(n,t){n.uniform2iv(this.addr,t)}function ymt(n,t){n.uniform3iv(this.addr,t)}function vmt(n,t){n.uniform4iv(this.addr,t)}function _mt(n,t){n.uniform1uiv(this.addr,t)}function bmt(n,t){n.uniform2uiv(this.addr,t)}function xmt(n,t){n.uniform3uiv(this.addr,t)}function wmt(n,t){n.uniform4uiv(this.addr,t)}function Emt(n,t,e){const i=t.length,r=Wb(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTexture2D(t[s]||rV,r[s])}function Smt(n,t,e){const i=t.length,r=Wb(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTexture3D(t[s]||oV,r[s])}function Mmt(n,t,e){const i=t.length,r=Wb(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTextureCube(t[s]||aV,r[s])}function Tmt(n,t,e){const i=t.length,r=Wb(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTexture2DArray(t[s]||sV,r[s])}function Amt(n){switch(n){case 5126:return lmt;case 35664:return cmt;case 35665:return umt;case 35666:return hmt;case 35674:return fmt;case 35675:return dmt;case 35676:return pmt;case 5124:case 35670:return mmt;case 35667:case 35671:return gmt;case 35668:case 35672:return ymt;case 35669:case 35673:return vmt;case 5125:return _mt;case 36294:return bmt;case 36295:return xmt;case 36296:return wmt;case 35678:case 36198:case 36298:case 36306:case 35682:return Emt;case 35679:case 36299:case 36307:return Smt;case 35680:case 36300:case 36308:case 36293:return Mmt;case 36289:case 36303:case 36311:case 36292:return Tmt}}function Cmt(n,t,e){this.id=n,this.addr=e,this.cache=[],this.setValue=amt(t.type)}function lV(n,t,e){this.id=n,this.addr=e,this.cache=[],this.size=t.size,this.setValue=Amt(t.type)}lV.prototype.updateCache=function(n){const t=this.cache;n instanceof Float32Array&&t.length!==n.length&&(this.cache=new Float32Array(n.length)),Vi(t,n)};function cV(n){this.id=n,this.seq=[],this.map={}}cV.prototype.setValue=function(n,t,e){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(n,t[o.id],e)}};const sw=/(\w+)(\])?(\[|\.)?/g;function mk(n,t){n.seq.push(t),n.map[t.id]=t}function Omt(n,t,e){const i=n.name,r=i.length;for(sw.lastIndex=0;;){const s=sw.exec(i),o=sw.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){mk(e,c===void 0?new Cmt(a,n,t):new lV(a,n,t));break}else{let h=e.map[a];h===void 0&&(h=new cV(a),mk(e,h)),e=h}}}function Aa(n,t){this.seq=[],this.map={};const e=n.getProgramParameter(t,35718);for(let i=0;i<e;++i){const r=n.getActiveUniform(t,i),s=n.getUniformLocation(t,r.name);Omt(r,s,this)}}Aa.prototype.setValue=function(n,t,e,i){const r=this.map[t];r!==void 0&&r.setValue(n,e,i)};Aa.prototype.setOptional=function(n,t,e){const i=t[e];i!==void 0&&this.setValue(n,e,i)};Aa.upload=function(n,t,e,i){for(let r=0,s=t.length;r!==s;++r){const o=t[r],a=e[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,i)}};Aa.seqWithValue=function(n,t){const e=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in t&&e.push(s)}return e};function gk(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}let Pmt=0;function Dmt(n,t){const e=n.split(`
`),i=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let o=r;o<s;o++)i.push(o+1+": "+e[o]);return i.join(`
`)}function Rmt(n){switch(n){case zo:return["Linear","( value )"];case Rn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function yk(n,t,e){const i=n.getShaderParameter(t,35713),r=n.getShaderInfoLog(t).trim();if(i&&r==="")return"";const s=parseInt(/ERROR: 0:(\d+)/.exec(r)[1]);return e.toUpperCase()+`

`+r+`

`+Dmt(n.getShaderSource(t),s)}function Lmt(n,t){const e=Rmt(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function Imt(n,t){let e;switch(t){case eht:e="Linear";break;case nht:e="Reinhard";break;case iht:e="OptimizedCineon";break;case rht:e="ACESFilmic";break;case sht:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function kmt(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jf).join(`
`)}function Nmt(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function Fmt(n,t){const e={},i=n.getProgramParameter(t,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(t,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),e[o]={type:s.type,location:n.getAttribLocation(t,o),locationSize:a}}return e}function Jf(n){return n!==""}function vk(n,t){return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function _k(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Bmt=/^[ \t]*#include +<([\w\d./]+)>/gm;function YS(n){return n.replace(Bmt,zmt)}function zmt(n,t){const e=je[t];if(e===void 0)throw new Error("Can not resolve #include <"+t+">");return YS(e)}const Umt=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Vmt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bk(n){return n.replace(Vmt,uV).replace(Umt,Hmt)}function Hmt(n,t,e,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),uV(n,t,e,i)}function uV(n,t,e,i){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function xk(n){let t="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function $mt(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===WU?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===Lut?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Qf&&(t="SHADOWMAP_TYPE_VSM"),t}function Wmt(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Eh:case Sh:t="ENVMAP_TYPE_CUBE";break;case Bb:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Gmt(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Sh:t="ENVMAP_MODE_REFRACTION";break}return t}function jmt(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Fb:t="ENVMAP_BLENDING_MULTIPLY";break;case Zut:t="ENVMAP_BLENDING_MIX";break;case tht:t="ENVMAP_BLENDING_ADD";break}return t}function qmt(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t/32+1)+3,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function Ymt(n,t,e,i){const r=n.getContext(),s=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=$mt(e),c=Wmt(e),u=Gmt(e),h=jmt(e),f=qmt(e),p=e.isWebGL2?"":kmt(e),m=Nmt(s),g=r.createProgram();let y,v,x=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(y=[m].filter(Jf).join(`
`),y.length>0&&(y+=`
`),v=[p,m].filter(Jf).join(`
`),v.length>0&&(v+=`
`)):(y=[xk(e),"#define SHADER_NAME "+e.shaderName,m,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jf).join(`
`),v=[p,xk(e),"#define SHADER_NAME "+e.shaderName,m,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+u:"",e.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Po?"#define TONE_MAPPING":"",e.toneMapping!==Po?je.tonemapping_pars_fragment:"",e.toneMapping!==Po?Imt("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",je.encodings_pars_fragment,Lmt("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Jf).join(`
`)),o=YS(o),o=vk(o,e),o=_k(o,e),a=YS(a),a=vk(a,e),a=_k(a,e),o=bk(o),a=bk(a),e.isWebGL2&&e.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",e.glslVersion===WI?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===WI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const S=x+y+o,E=x+v+a,M=gk(r,35633,S),P=gk(r,35632,E);if(r.attachShader(g,M),r.attachShader(g,P),e.index0AttributeName!==void 0?r.bindAttribLocation(g,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const W=r.getProgramInfoLog(g).trim(),U=r.getShaderInfoLog(M).trim(),A=r.getShaderInfoLog(P).trim();let F=!0,nt=!0;if(r.getProgramParameter(g,35714)===!1){F=!1;const q=yk(r,M,"vertex"),D=yk(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+W+`
`+q+`
`+D)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(U===""||A==="")&&(nt=!1);nt&&(this.diagnostics={runnable:F,programLog:W,vertexShader:{log:U,prefix:y},fragmentShader:{log:A,prefix:v}})}r.deleteShader(M),r.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new Aa(r,g)),L};let j;return this.getAttributes=function(){return j===void 0&&(j=Fmt(r,g)),j},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=e.shaderName,this.id=Pmt++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=P,this}let Xmt=0;class Kmt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return e.has(t)===!1&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(e.has(t)===!1){const i=new Qmt(t);e.set(t,i)}return e.get(t)}}class Qmt{constructor(t){this.id=Xmt++,this.code=t,this.usedTimes=0}}function Jmt(n,t,e,i,r,s,o){const a=new ZU,l=new Kmt,c=[],u=r.isWebGL2,h=r.logarithmicDepthBuffer,f=r.floatVertexTextures,p=r.maxVertexUniforms,m=r.vertexTextures;let g=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(A){const nt=A.skeleton.bones;if(f)return 1024;{const D=Math.floor((p-20)/4),G=Math.min(D,nt.length);return G<nt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+nt.length+" bones. This GPU supports "+G+"."),0):G}}function x(A,F,nt,q,D){const G=q.fog,Z=D.geometry,V=A.isMeshStandardMaterial?q.environment:null,Q=(A.isMeshStandardMaterial?e:t).get(A.envMap||V),ut=!!Q&&Q.mapping===Bb?Q.image.height:null,_t=y[A.type],at=D.isSkinnedMesh?v(D):0;A.precision!==null&&(g=r.getMaxPrecision(A.precision),g!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",g,"instead."));const Ct=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,Lt=Ct!==void 0?Ct.length:0;let et=0;Z.morphAttributes.position!==void 0&&(et=1),Z.morphAttributes.normal!==void 0&&(et=2),Z.morphAttributes.color!==void 0&&(et=3);let Y,Et,lt,Mt;if(_t){const $=Fs[_t];Y=$.vertexShader,Et=$.fragmentShader}else Y=A.vertexShader,Et=A.fragmentShader,l.update(A),lt=l.getVertexShaderID(A),Mt=l.getFragmentShaderID(A);const xt=n.getRenderTarget(),Rt=A.alphaTest>0,O=A.clearcoat>0;return{isWebGL2:u,shaderID:_t,shaderName:A.type,vertexShader:Y,fragmentShader:Et,defines:A.defines,customVertexShaderID:lt,customFragmentShaderID:Mt,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:g,instancing:D.isInstancedMesh===!0,instancingColor:D.isInstancedMesh===!0&&D.instanceColor!==null,supportsVertexTextures:m,outputEncoding:xt===null?n.outputEncoding:xt.isXRRenderTarget===!0?xt.texture.encoding:zo,map:!!A.map,matcap:!!A.matcap,envMap:!!Q,envMapMode:Q&&Q.mapping,envMapCubeUVHeight:ut,lightMap:!!A.lightMap,aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===Cht,tangentSpaceNormalMap:A.normalMapType===Wh,decodeVideoTexture:!!A.map&&A.map.isVideoTexture===!0&&A.map.encoding===Rn,clearcoat:O,clearcoatMap:O&&!!A.clearcoatMap,clearcoatRoughnessMap:O&&!!A.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,specularIntensityMap:!!A.specularIntensityMap,specularColorMap:!!A.specularColorMap,opaque:A.transparent===!1&&A.blending===Yu,alphaMap:!!A.alphaMap,alphaTest:Rt,gradientMap:!!A.gradientMap,sheen:A.sheen>0,sheenColorMap:!!A.sheenColorMap,sheenRoughnessMap:!!A.sheenRoughnessMap,transmission:A.transmission>0,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:!!A.normalMap&&!!Z.attributes.tangent,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||!!A.sheenColorMap||!!A.sheenRoughnessMap,uvsVertexOnly:!(!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatNormalMap||A.transmission>0||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||A.sheen>0||!!A.sheenColorMap||!!A.sheenRoughnessMap)&&!!A.displacementMap,fog:!!G,useFog:A.fog,fogExp2:G&&G.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h,skinning:D.isSkinnedMesh===!0&&at>0,maxBones:at,useVertexTexture:f,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:Lt,morphTextureStride:et,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&nt.length>0,shadowMapType:n.shadowMap.type,toneMapping:A.toneMapped?n.toneMapping:Po,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===wh,flipSided:A.side===ps,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function S(A){const F=[];if(A.shaderID?F.push(A.shaderID):(F.push(A.customVertexShaderID),F.push(A.customFragmentShaderID)),A.defines!==void 0)for(const nt in A.defines)F.push(nt),F.push(A.defines[nt]);return A.isRawShaderMaterial===!1&&(E(F,A),M(F,A),F.push(n.outputEncoding)),F.push(A.customProgramCacheKey),F.join()}function E(A,F){A.push(F.precision),A.push(F.outputEncoding),A.push(F.envMapMode),A.push(F.envMapCubeUVHeight),A.push(F.combine),A.push(F.vertexUvs),A.push(F.fogExp2),A.push(F.sizeAttenuation),A.push(F.maxBones),A.push(F.morphTargetsCount),A.push(F.morphAttributeCount),A.push(F.numDirLights),A.push(F.numPointLights),A.push(F.numSpotLights),A.push(F.numHemiLights),A.push(F.numRectAreaLights),A.push(F.numDirLightShadows),A.push(F.numPointLightShadows),A.push(F.numSpotLightShadows),A.push(F.shadowMapType),A.push(F.toneMapping),A.push(F.numClippingPlanes),A.push(F.numClipIntersection)}function M(A,F){a.disableAll(),F.isWebGL2&&a.enable(0),F.supportsVertexTextures&&a.enable(1),F.instancing&&a.enable(2),F.instancingColor&&a.enable(3),F.map&&a.enable(4),F.matcap&&a.enable(5),F.envMap&&a.enable(6),F.lightMap&&a.enable(7),F.aoMap&&a.enable(8),F.emissiveMap&&a.enable(9),F.bumpMap&&a.enable(10),F.normalMap&&a.enable(11),F.objectSpaceNormalMap&&a.enable(12),F.tangentSpaceNormalMap&&a.enable(13),F.clearcoat&&a.enable(14),F.clearcoatMap&&a.enable(15),F.clearcoatRoughnessMap&&a.enable(16),F.clearcoatNormalMap&&a.enable(17),F.displacementMap&&a.enable(18),F.specularMap&&a.enable(19),F.roughnessMap&&a.enable(20),F.metalnessMap&&a.enable(21),F.gradientMap&&a.enable(22),F.alphaMap&&a.enable(23),F.alphaTest&&a.enable(24),F.vertexColors&&a.enable(25),F.vertexAlphas&&a.enable(26),F.vertexUvs&&a.enable(27),F.vertexTangents&&a.enable(28),F.uvsVertexOnly&&a.enable(29),F.fog&&a.enable(30),A.push(a.mask),a.disableAll(),F.useFog&&a.enable(0),F.flatShading&&a.enable(1),F.logarithmicDepthBuffer&&a.enable(2),F.skinning&&a.enable(3),F.useVertexTexture&&a.enable(4),F.morphTargets&&a.enable(5),F.morphNormals&&a.enable(6),F.morphColors&&a.enable(7),F.premultipliedAlpha&&a.enable(8),F.shadowMapEnabled&&a.enable(9),F.physicallyCorrectLights&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.depthPacking&&a.enable(13),F.dithering&&a.enable(14),F.specularIntensityMap&&a.enable(15),F.specularColorMap&&a.enable(16),F.transmission&&a.enable(17),F.transmissionMap&&a.enable(18),F.thicknessMap&&a.enable(19),F.sheen&&a.enable(20),F.sheenColorMap&&a.enable(21),F.sheenRoughnessMap&&a.enable(22),F.decodeVideoTexture&&a.enable(23),F.opaque&&a.enable(24),A.push(a.mask)}function P(A){const F=y[A.type];let nt;if(F){const q=Fs[F];nt=jht.clone(q.uniforms)}else nt=A.uniforms;return nt}function L(A,F){let nt;for(let q=0,D=c.length;q<D;q++){const G=c[q];if(G.cacheKey===F){nt=G,++nt.usedTimes;break}}return nt===void 0&&(nt=new Ymt(n,F,A,s),c.push(nt)),nt}function j(A){if(--A.usedTimes===0){const F=c.indexOf(A);c[F]=c[c.length-1],c.pop(),A.destroy()}}function W(A){l.remove(A)}function U(){l.dispose()}return{getParameters:x,getProgramCacheKey:S,getUniforms:P,acquireProgram:L,releaseProgram:j,releaseShaderCache:W,programs:c,dispose:U}}function Zmt(){let n=new WeakMap;function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function e(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:t,remove:e,update:i,dispose:r}}function tgt(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function wk(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function Ek(){const n=[];let t=0;const e=[],i=[],r=[];function s(){t=0,e.length=0,i.length=0,r.length=0}function o(h,f,p,m,g,y){let v=n[t];return v===void 0?(v={id:h.id,object:h,geometry:f,material:p,groupOrder:m,renderOrder:h.renderOrder,z:g,group:y},n[t]=v):(v.id=h.id,v.object=h,v.geometry=f,v.material=p,v.groupOrder=m,v.renderOrder=h.renderOrder,v.z=g,v.group=y),t++,v}function a(h,f,p,m,g,y){const v=o(h,f,p,m,g,y);p.transmission>0?i.push(v):p.transparent===!0?r.push(v):e.push(v)}function l(h,f,p,m,g,y){const v=o(h,f,p,m,g,y);p.transmission>0?i.unshift(v):p.transparent===!0?r.unshift(v):e.unshift(v)}function c(h,f){e.length>1&&e.sort(h||tgt),i.length>1&&i.sort(f||wk),r.length>1&&r.sort(f||wk)}function u(){for(let h=t,f=n.length;h<f;h++){const p=n[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:e,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function egt(){let n=new WeakMap;function t(i,r){let s;return n.has(i)===!1?(s=new Ek,n.set(i,[s])):r>=n.get(i).length?(s=new Ek,n.get(i).push(s)):s=n.get(i)[r],s}function e(){n=new WeakMap}return{get:t,dispose:e}}function ngt(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new tt,color:new he};break;case"SpotLight":e={position:new tt,direction:new tt,color:new he,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new tt,color:new he,distance:0,decay:0};break;case"HemisphereLight":e={direction:new tt,skyColor:new he,groundColor:new he};break;case"RectAreaLight":e={color:new he,position:new tt,halfWidth:new tt,halfHeight:new tt};break}return n[t.id]=e,e}}}function igt(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let rgt=0;function sgt(n,t){return(t.castShadow?1:0)-(n.castShadow?1:0)}function ogt(n,t){const e=new ngt,i=igt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new tt);const s=new tt,o=new ye,a=new ye;function l(u,h){let f=0,p=0,m=0;for(let W=0;W<9;W++)r.probe[W].set(0,0,0);let g=0,y=0,v=0,x=0,S=0,E=0,M=0,P=0;u.sort(sgt);const L=h!==!0?Math.PI:1;for(let W=0,U=u.length;W<U;W++){const A=u[W],F=A.color,nt=A.intensity,q=A.distance,D=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)f+=F.r*nt*L,p+=F.g*nt*L,m+=F.b*nt*L;else if(A.isLightProbe)for(let G=0;G<9;G++)r.probe[G].addScaledVector(A.sh.coefficients[G],nt);else if(A.isDirectionalLight){const G=e.get(A);if(G.color.copy(A.color).multiplyScalar(A.intensity*L),A.castShadow){const Z=A.shadow,V=i.get(A);V.shadowBias=Z.bias,V.shadowNormalBias=Z.normalBias,V.shadowRadius=Z.radius,V.shadowMapSize=Z.mapSize,r.directionalShadow[g]=V,r.directionalShadowMap[g]=D,r.directionalShadowMatrix[g]=A.shadow.matrix,E++}r.directional[g]=G,g++}else if(A.isSpotLight){const G=e.get(A);if(G.position.setFromMatrixPosition(A.matrixWorld),G.color.copy(F).multiplyScalar(nt*L),G.distance=q,G.coneCos=Math.cos(A.angle),G.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),G.decay=A.decay,A.castShadow){const Z=A.shadow,V=i.get(A);V.shadowBias=Z.bias,V.shadowNormalBias=Z.normalBias,V.shadowRadius=Z.radius,V.shadowMapSize=Z.mapSize,r.spotShadow[v]=V,r.spotShadowMap[v]=D,r.spotShadowMatrix[v]=A.shadow.matrix,P++}r.spot[v]=G,v++}else if(A.isRectAreaLight){const G=e.get(A);G.color.copy(F).multiplyScalar(nt),G.halfWidth.set(A.width*.5,0,0),G.halfHeight.set(0,A.height*.5,0),r.rectArea[x]=G,x++}else if(A.isPointLight){const G=e.get(A);if(G.color.copy(A.color).multiplyScalar(A.intensity*L),G.distance=A.distance,G.decay=A.decay,A.castShadow){const Z=A.shadow,V=i.get(A);V.shadowBias=Z.bias,V.shadowNormalBias=Z.normalBias,V.shadowRadius=Z.radius,V.shadowMapSize=Z.mapSize,V.shadowCameraNear=Z.camera.near,V.shadowCameraFar=Z.camera.far,r.pointShadow[y]=V,r.pointShadowMap[y]=D,r.pointShadowMatrix[y]=A.shadow.matrix,M++}r.point[y]=G,y++}else if(A.isHemisphereLight){const G=e.get(A);G.skyColor.copy(A.color).multiplyScalar(nt*L),G.groundColor.copy(A.groundColor).multiplyScalar(nt*L),r.hemi[S]=G,S++}}x>0&&(t.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_FLOAT_1,r.rectAreaLTC2=Kt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_HALF_1,r.rectAreaLTC2=Kt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=p,r.ambient[2]=m;const j=r.hash;(j.directionalLength!==g||j.pointLength!==y||j.spotLength!==v||j.rectAreaLength!==x||j.hemiLength!==S||j.numDirectionalShadows!==E||j.numPointShadows!==M||j.numSpotShadows!==P)&&(r.directional.length=g,r.spot.length=v,r.rectArea.length=x,r.point.length=y,r.hemi.length=S,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=M,r.spotShadowMatrix.length=P,j.directionalLength=g,j.pointLength=y,j.spotLength=v,j.rectAreaLength=x,j.hemiLength=S,j.numDirectionalShadows=E,j.numPointShadows=M,j.numSpotShadows=P,r.version=rgt++)}function c(u,h){let f=0,p=0,m=0,g=0,y=0;const v=h.matrixWorldInverse;for(let x=0,S=u.length;x<S;x++){const E=u[x];if(E.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),f++}else if(E.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(v),M.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),m++}else if(E.isRectAreaLight){const M=r.rectArea[g];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(v),a.identity(),o.copy(E.matrixWorld),o.premultiply(v),a.extractRotation(o),M.halfWidth.set(E.width*.5,0,0),M.halfHeight.set(0,E.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),g++}else if(E.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(v),p++}else if(E.isHemisphereLight){const M=r.hemi[y];M.direction.setFromMatrixPosition(E.matrixWorld),M.direction.transformDirection(v),M.direction.normalize(),y++}}}return{setup:l,setupView:c,state:r}}function Sk(n,t){const e=new ogt(n,t),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){e.setup(i,h)}function c(h){e.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:e},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function agt(n,t){let e=new WeakMap;function i(s,o=0){let a;return e.has(s)===!1?(a=new Sk(n,t),e.set(s,[a])):o>=e.get(s).length?(a=new Sk(n,t),e.get(s).push(a)):a=e.get(s)[o],a}function r(){e=new WeakMap}return{get:i,dispose:r}}class L1 extends ui{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=Tht,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}L1.prototype.isMeshDepthMaterial=!0;class I1 extends ui{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new tt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}I1.prototype.isMeshDistanceMaterial=!0;const lgt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cgt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hV(n,t,e){let i=new $b;const r=new $t,s=new $t,o=new dn,a=new L1({depthPacking:Aht}),l=new I1,c={},u=e.maxTextureSize,h={0:ps,1:Qd,2:wh},f=new gs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $t},radius:{value:4}},vertexShader:lgt,fragmentShader:cgt}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const m=new Nn;m.setAttribute("position",new ai(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new dr(m,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=WU,this.render=function(E,M,P){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const L=n.getRenderTarget(),j=n.getActiveCubeFace(),W=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Ta),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let A=0,F=E.length;A<F;A++){const nt=E[A],q=nt.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",nt,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const D=q.getFrameExtents();if(r.multiply(D),s.copy(q.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/D.x),r.x=s.x*D.x,q.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/D.y),r.y=s.y*D.y,q.mapSize.y=s.y)),q.map===null&&!q.isPointLightShadow&&this.type===Qf&&(q.map=new Er(r.x,r.y),q.map.texture.name=nt.name+".shadowMap",q.mapPass=new Er(r.x,r.y),q.camera.updateProjectionMatrix()),q.map===null){const Z={minFilter:di,magFilter:di,format:cs};q.map=new Er(r.x,r.y,Z),q.map.texture.name=nt.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const G=q.getViewportCount();for(let Z=0;Z<G;Z++){const V=q.getViewport(Z);o.set(s.x*V.x,s.y*V.y,s.x*V.z,s.y*V.w),U.viewport(o),q.updateMatrices(nt,Z),i=q.getFrustum(),S(M,P,q.camera,nt,this.type)}!q.isPointLightShadow&&this.type===Qf&&v(q,P),q.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(L,j,W)};function v(E,M){const P=t.update(g);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(M,null,P,f,g,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(M,null,P,p,g,null)}function x(E,M,P,L,j,W){let U=null;const A=P.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(A!==void 0?U=A:U=P.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const F=U.uuid,nt=M.uuid;let q=c[F];q===void 0&&(q={},c[F]=q);let D=q[nt];D===void 0&&(D=U.clone(),q[nt]=D),U=D}return U.visible=M.visible,U.wireframe=M.wireframe,W===Qf?U.side=M.shadowSide!==null?M.shadowSide:M.side:U.side=M.shadowSide!==null?M.shadowSide:h[M.side],U.alphaMap=M.alphaMap,U.alphaTest=M.alphaTest,U.clipShadows=M.clipShadows,U.clippingPlanes=M.clippingPlanes,U.clipIntersection=M.clipIntersection,U.displacementMap=M.displacementMap,U.displacementScale=M.displacementScale,U.displacementBias=M.displacementBias,U.wireframeLinewidth=M.wireframeLinewidth,U.linewidth=M.linewidth,P.isPointLight===!0&&U.isMeshDistanceMaterial===!0&&(U.referencePosition.setFromMatrixPosition(P.matrixWorld),U.nearDistance=L,U.farDistance=j),U}function S(E,M,P,L,j){if(E.visible===!1)return;if(E.layers.test(M.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&j===Qf)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,E.matrixWorld);const A=t.update(E),F=E.material;if(Array.isArray(F)){const nt=A.groups;for(let q=0,D=nt.length;q<D;q++){const G=nt[q],Z=F[G.materialIndex];if(Z&&Z.visible){const V=x(E,Z,L,P.near,P.far,j);n.renderBufferDirect(P,null,A,V,E,G)}}}else if(F.visible){const nt=x(E,F,L,P.near,P.far,j);n.renderBufferDirect(P,null,A,nt,E,null)}}const U=E.children;for(let A=0,F=U.length;A<F;A++)S(U[A],M,P,L,j)}}function ugt(n,t,e){const i=e.isWebGL2;function r(){let it=!1;const Gt=new dn;let Nt=null;const ft=new dn(0,0,0,0);return{setMask:function(Vt){Nt!==Vt&&!it&&(n.colorMask(Vt,Vt,Vt,Vt),Nt=Vt)},setLocked:function(Vt){it=Vt},setClear:function(Vt,de,jt,_e,Ie){Ie===!0&&(Vt*=_e,de*=_e,jt*=_e),Gt.set(Vt,de,jt,_e),ft.equals(Gt)===!1&&(n.clearColor(Vt,de,jt,_e),ft.copy(Gt))},reset:function(){it=!1,Nt=null,ft.set(-1,0,0,0)}}}function s(){let it=!1,Gt=null,Nt=null,ft=null;return{setTest:function(Vt){Vt?et(2929):Y(2929)},setMask:function(Vt){Gt!==Vt&&!it&&(n.depthMask(Vt),Gt=Vt)},setFunc:function(Vt){if(Nt!==Vt){if(Vt)switch(Vt){case jut:n.depthFunc(512);break;case qut:n.depthFunc(519);break;case Yut:n.depthFunc(513);break;case US:n.depthFunc(515);break;case Xut:n.depthFunc(514);break;case Kut:n.depthFunc(518);break;case Qut:n.depthFunc(516);break;case Jut:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Nt=Vt}},setLocked:function(Vt){it=Vt},setClear:function(Vt){ft!==Vt&&(n.clearDepth(Vt),ft=Vt)},reset:function(){it=!1,Gt=null,Nt=null,ft=null}}}function o(){let it=!1,Gt=null,Nt=null,ft=null,Vt=null,de=null,jt=null,_e=null,Ie=null;return{setTest:function(Ce){it||(Ce?et(2960):Y(2960))},setMask:function(Ce){Gt!==Ce&&!it&&(n.stencilMask(Ce),Gt=Ce)},setFunc:function(Ce,ei,Wn){(Nt!==Ce||ft!==ei||Vt!==Wn)&&(n.stencilFunc(Ce,ei,Wn),Nt=Ce,ft=ei,Vt=Wn)},setOp:function(Ce,ei,Wn){(de!==Ce||jt!==ei||_e!==Wn)&&(n.stencilOp(Ce,ei,Wn),de=Ce,jt=ei,_e=Wn)},setLocked:function(Ce){it=Ce},setClear:function(Ce){Ie!==Ce&&(n.clearStencil(Ce),Ie=Ce)},reset:function(){it=!1,Gt=null,Nt=null,ft=null,Vt=null,de=null,jt=null,_e=null,Ie=null}}}const a=new r,l=new s,c=new o;let u={},h={},f=new WeakMap,p=[],m=null,g=!1,y=null,v=null,x=null,S=null,E=null,M=null,P=null,L=!1,j=null,W=null,U=null,A=null,F=null;const nt=n.getParameter(35661);let q=!1,D=0;const G=n.getParameter(7938);G.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(G)[1]),q=D>=1):G.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),q=D>=2);let Z=null,V={};const Q=n.getParameter(3088),ut=n.getParameter(2978),_t=new dn().fromArray(Q),at=new dn().fromArray(ut);function Ct(it,Gt,Nt){const ft=new Uint8Array(4),Vt=n.createTexture();n.bindTexture(it,Vt),n.texParameteri(it,10241,9728),n.texParameteri(it,10240,9728);for(let de=0;de<Nt;de++)n.texImage2D(Gt+de,0,6408,1,1,0,6408,5121,ft);return Vt}const Lt={};Lt[3553]=Ct(3553,3553,1),Lt[34067]=Ct(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),et(2929),l.setFunc(US),$(!1),X(mI),et(2884),O(Ta);function et(it){u[it]!==!0&&(n.enable(it),u[it]=!0)}function Y(it){u[it]!==!1&&(n.disable(it),u[it]=!1)}function Et(it,Gt){return h[it]!==Gt?(n.bindFramebuffer(it,Gt),h[it]=Gt,i&&(it===36009&&(h[36160]=Gt),it===36160&&(h[36009]=Gt)),!0):!1}function lt(it,Gt){let Nt=p,ft=!1;if(it)if(Nt=f.get(Gt),Nt===void 0&&(Nt=[],f.set(Gt,Nt)),it.isWebGLMultipleRenderTargets){const Vt=it.texture;if(Nt.length!==Vt.length||Nt[0]!==36064){for(let de=0,jt=Vt.length;de<jt;de++)Nt[de]=36064+de;Nt.length=Vt.length,ft=!0}}else Nt[0]!==36064&&(Nt[0]=36064,ft=!0);else Nt[0]!==1029&&(Nt[0]=1029,ft=!0);ft&&(e.isWebGL2?n.drawBuffers(Nt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Nt))}function Mt(it){return m!==it?(n.useProgram(it),m=it,!0):!1}const xt={[Cu]:32774,[kut]:32778,[Nut]:32779};if(i)xt[_I]=32775,xt[bI]=32776;else{const it=t.get("EXT_blend_minmax");it!==null&&(xt[_I]=it.MIN_EXT,xt[bI]=it.MAX_EXT)}const Rt={[Fut]:0,[But]:1,[zut]:768,[jU]:770,[Gut]:776,[$ut]:774,[Vut]:772,[Uut]:769,[qU]:771,[Wut]:775,[Hut]:773};function O(it,Gt,Nt,ft,Vt,de,jt,_e){if(it===Ta){g===!0&&(Y(3042),g=!1);return}if(g===!1&&(et(3042),g=!0),it!==Iut){if(it!==y||_e!==L){if((v!==Cu||E!==Cu)&&(n.blendEquation(32774),v=Cu,E=Cu),_e)switch(it){case Yu:n.blendFuncSeparate(1,771,1,771);break;case gI:n.blendFunc(1,1);break;case yI:n.blendFuncSeparate(0,769,0,1);break;case vI:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",it);break}else switch(it){case Yu:n.blendFuncSeparate(770,771,1,771);break;case gI:n.blendFunc(770,1);break;case yI:n.blendFuncSeparate(0,769,0,1);break;case vI:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",it);break}x=null,S=null,M=null,P=null,y=it,L=_e}return}Vt=Vt||Gt,de=de||Nt,jt=jt||ft,(Gt!==v||Vt!==E)&&(n.blendEquationSeparate(xt[Gt],xt[Vt]),v=Gt,E=Vt),(Nt!==x||ft!==S||de!==M||jt!==P)&&(n.blendFuncSeparate(Rt[Nt],Rt[ft],Rt[de],Rt[jt]),x=Nt,S=ft,M=de,P=jt),y=it,L=null}function k(it,Gt){it.side===wh?Y(2884):et(2884);let Nt=it.side===ps;Gt&&(Nt=!Nt),$(Nt),it.blending===Yu&&it.transparent===!1?O(Ta):O(it.blending,it.blendEquation,it.blendSrc,it.blendDst,it.blendEquationAlpha,it.blendSrcAlpha,it.blendDstAlpha,it.premultipliedAlpha),l.setFunc(it.depthFunc),l.setTest(it.depthTest),l.setMask(it.depthWrite),a.setMask(it.colorWrite);const ft=it.stencilWrite;c.setTest(ft),ft&&(c.setMask(it.stencilWriteMask),c.setFunc(it.stencilFunc,it.stencilRef,it.stencilFuncMask),c.setOp(it.stencilFail,it.stencilZFail,it.stencilZPass)),mt(it.polygonOffset,it.polygonOffsetFactor,it.polygonOffsetUnits),it.alphaToCoverage===!0?et(32926):Y(32926)}function $(it){j!==it&&(it?n.frontFace(2304):n.frontFace(2305),j=it)}function X(it){it!==Dut?(et(2884),it!==W&&(it===mI?n.cullFace(1029):it===Rut?n.cullFace(1028):n.cullFace(1032))):Y(2884),W=it}function rt(it){it!==U&&(q&&n.lineWidth(it),U=it)}function mt(it,Gt,Nt){it?(et(32823),(A!==Gt||F!==Nt)&&(n.polygonOffset(Gt,Nt),A=Gt,F=Nt)):Y(32823)}function yt(it){it?et(3089):Y(3089)}function ht(it){it===void 0&&(it=33984+nt-1),Z!==it&&(n.activeTexture(it),Z=it)}function Tt(it,Gt){Z===null&&ht();let Nt=V[Z];Nt===void 0&&(Nt={type:void 0,texture:void 0},V[Z]=Nt),(Nt.type!==it||Nt.texture!==Gt)&&(n.bindTexture(it,Gt||Lt[it]),Nt.type=it,Nt.texture=Gt)}function bt(){const it=V[Z];it!==void 0&&it.type!==void 0&&(n.bindTexture(it.type,null),it.type=void 0,it.texture=void 0)}function N(){try{n.compressedTexImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function R(){try{n.texSubImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function st(){try{n.texSubImage3D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function gt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function Ot(){try{n.texStorage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function kt(){try{n.texStorage3D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function Wt(){try{n.texImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function vt(){try{n.texImage3D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function oe(it){_t.equals(it)===!1&&(n.scissor(it.x,it.y,it.z,it.w),_t.copy(it))}function ge(it){at.equals(it)===!1&&(n.viewport(it.x,it.y,it.z,it.w),at.copy(it))}function Qt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},Z=null,V={},h={},f=new WeakMap,p=[],m=null,g=!1,y=null,v=null,x=null,S=null,E=null,M=null,P=null,L=!1,j=null,W=null,U=null,A=null,F=null,_t.set(0,0,n.canvas.width,n.canvas.height),at.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:et,disable:Y,bindFramebuffer:Et,drawBuffers:lt,useProgram:Mt,setBlending:O,setMaterial:k,setFlipSided:$,setCullFace:X,setLineWidth:rt,setPolygonOffset:mt,setScissorTest:yt,activeTexture:ht,bindTexture:Tt,unbindTexture:bt,compressedTexImage2D:N,texImage2D:Wt,texImage3D:vt,texStorage2D:Ot,texStorage3D:kt,texSubImage2D:R,texSubImage3D:st,compressedTexSubImage2D:gt,scissor:oe,viewport:ge,reset:Qt}}function hgt(n,t,e,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(N,R){return v?new OffscreenCanvas(N,R):tp("canvas")}function S(N,R,st,gt){let Ot=1;if((N.width>gt||N.height>gt)&&(Ot=gt/Math.max(N.width,N.height)),Ot<1||R===!0)if(typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&N instanceof ImageBitmap){const kt=R?qS:Math.floor,Wt=kt(Ot*N.width),vt=kt(Ot*N.height);g===void 0&&(g=x(Wt,vt));const oe=st?x(Wt,vt):g;return oe.width=Wt,oe.height=vt,oe.getContext("2d").drawImage(N,0,0,Wt,vt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+N.width+"x"+N.height+") to ("+Wt+"x"+vt+")."),oe}else return"data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N;return N}function E(N){return GI(N.width)&&GI(N.height)}function M(N){return a?!1:N.wrapS!==ss||N.wrapT!==ss||N.minFilter!==di&&N.minFilter!==cr}function P(N,R){return N.generateMipmaps&&R&&N.minFilter!==di&&N.minFilter!==cr}function L(N){n.generateMipmap(N)}function j(N,R,st,gt,Ot=!1){if(a===!1)return R;if(N!==null){if(n[N]!==void 0)return n[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}let kt=R;return R===6403&&(st===5126&&(kt=33326),st===5131&&(kt=33325),st===5121&&(kt=33321)),R===33319&&(st===5126&&(kt=33328),st===5131&&(kt=33327),st===5121&&(kt=33323)),R===6408&&(st===5126&&(kt=34836),st===5131&&(kt=34842),st===5121&&(kt=gt===Rn&&Ot===!1?35907:32856),st===32819&&(kt=32854),st===32820&&(kt=32855)),(kt===33325||kt===33326||kt===33327||kt===33328||kt===34842||kt===34836)&&t.get("EXT_color_buffer_float"),kt}function W(N,R,st){return P(N,st)===!0||N.isFramebufferTexture&&N.minFilter!==di&&N.minFilter!==cr?Math.log2(Math.max(R.width,R.height))+1:N.mipmaps!==void 0&&N.mipmaps.length>0?N.mipmaps.length:N.isCompressedTexture&&Array.isArray(N.image)?R.mipmaps.length:1}function U(N){return N===di||N===xI||N===wI?9728:9729}function A(N){const R=N.target;R.removeEventListener("dispose",A),nt(R),R.isVideoTexture&&m.delete(R)}function F(N){const R=N.target;R.removeEventListener("dispose",F),D(R)}function nt(N){const R=i.get(N);if(R.__webglInit===void 0)return;const st=N.source,gt=y.get(st);if(gt){const Ot=gt[R.__cacheKey];Ot.usedTimes--,Ot.usedTimes===0&&q(N),Object.keys(gt).length===0&&y.delete(st)}i.remove(N)}function q(N){const R=i.get(N);n.deleteTexture(R.__webglTexture);const st=N.source,gt=y.get(st);delete gt[R.__cacheKey],o.memory.textures--}function D(N){const R=N.texture,st=i.get(N),gt=i.get(R);if(gt.__webglTexture!==void 0&&(n.deleteTexture(gt.__webglTexture),o.memory.textures--),N.depthTexture&&N.depthTexture.dispose(),N.isWebGLCubeRenderTarget)for(let Ot=0;Ot<6;Ot++)n.deleteFramebuffer(st.__webglFramebuffer[Ot]),st.__webglDepthbuffer&&n.deleteRenderbuffer(st.__webglDepthbuffer[Ot]);else n.deleteFramebuffer(st.__webglFramebuffer),st.__webglDepthbuffer&&n.deleteRenderbuffer(st.__webglDepthbuffer),st.__webglMultisampledFramebuffer&&n.deleteFramebuffer(st.__webglMultisampledFramebuffer),st.__webglColorRenderbuffer&&n.deleteRenderbuffer(st.__webglColorRenderbuffer),st.__webglDepthRenderbuffer&&n.deleteRenderbuffer(st.__webglDepthRenderbuffer);if(N.isWebGLMultipleRenderTargets)for(let Ot=0,kt=R.length;Ot<kt;Ot++){const Wt=i.get(R[Ot]);Wt.__webglTexture&&(n.deleteTexture(Wt.__webglTexture),o.memory.textures--),i.remove(R[Ot])}i.remove(R),i.remove(N)}let G=0;function Z(){G=0}function V(){const N=G;return N>=l&&console.warn("THREE.WebGLTextures: Trying to use "+N+" texture units while this GPU supports only "+l),G+=1,N}function Q(N){const R=[];return R.push(N.wrapS),R.push(N.wrapT),R.push(N.magFilter),R.push(N.minFilter),R.push(N.anisotropy),R.push(N.internalFormat),R.push(N.format),R.push(N.type),R.push(N.generateMipmaps),R.push(N.premultiplyAlpha),R.push(N.flipY),R.push(N.unpackAlignment),R.push(N.encoding),R.join()}function ut(N,R){const st=i.get(N);if(N.isVideoTexture&&Tt(N),N.isRenderTargetTexture===!1&&N.version>0&&st.__version!==N.version){const gt=N.image;if(gt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(gt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{lt(st,N,R);return}}e.activeTexture(33984+R),e.bindTexture(3553,st.__webglTexture)}function _t(N,R){const st=i.get(N);if(N.version>0&&st.__version!==N.version){lt(st,N,R);return}e.activeTexture(33984+R),e.bindTexture(35866,st.__webglTexture)}function at(N,R){const st=i.get(N);if(N.version>0&&st.__version!==N.version){lt(st,N,R);return}e.activeTexture(33984+R),e.bindTexture(32879,st.__webglTexture)}function Ct(N,R){const st=i.get(N);if(N.version>0&&st.__version!==N.version){Mt(st,N,R);return}e.activeTexture(33984+R),e.bindTexture(34067,st.__webglTexture)}const Lt={[$S]:10497,[ss]:33071,[WS]:33648},et={[di]:9728,[xI]:9984,[wI]:9986,[cr]:9729,[oht]:9985,[zb]:9987};function Y(N,R,st){if(st?(n.texParameteri(N,10242,Lt[R.wrapS]),n.texParameteri(N,10243,Lt[R.wrapT]),(N===32879||N===35866)&&n.texParameteri(N,32882,Lt[R.wrapR]),n.texParameteri(N,10240,et[R.magFilter]),n.texParameteri(N,10241,et[R.minFilter])):(n.texParameteri(N,10242,33071),n.texParameteri(N,10243,33071),(N===32879||N===35866)&&n.texParameteri(N,32882,33071),(R.wrapS!==ss||R.wrapT!==ss)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(N,10240,U(R.magFilter)),n.texParameteri(N,10241,U(R.minFilter)),R.minFilter!==di&&R.minFilter!==cr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const gt=t.get("EXT_texture_filter_anisotropic");if(R.type===$l&&t.has("OES_texture_float_linear")===!1||a===!1&&R.type===Xu&&t.has("OES_texture_half_float_linear")===!1)return;(R.anisotropy>1||i.get(R).__currentAnisotropy)&&(n.texParameterf(N,gt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,r.getMaxAnisotropy())),i.get(R).__currentAnisotropy=R.anisotropy)}}function Et(N,R){let st=!1;N.__webglInit===void 0&&(N.__webglInit=!0,R.addEventListener("dispose",A));const gt=R.source;let Ot=y.get(gt);Ot===void 0&&(Ot={},y.set(gt,Ot));const kt=Q(R);if(kt!==N.__cacheKey){Ot[kt]===void 0&&(Ot[kt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,st=!0),Ot[kt].usedTimes++;const Wt=Ot[N.__cacheKey];Wt!==void 0&&(Ot[N.__cacheKey].usedTimes--,Wt.usedTimes===0&&q(R)),N.__cacheKey=kt,N.__webglTexture=Ot[kt].texture}return st}function lt(N,R,st){let gt=3553;R.isDataArrayTexture&&(gt=35866),R.isData3DTexture&&(gt=32879);const Ot=Et(N,R),kt=R.source;if(e.activeTexture(33984+st),e.bindTexture(gt,N.__webglTexture),kt.version!==kt.__currentVersion||Ot===!0){n.pixelStorei(37440,R.flipY),n.pixelStorei(37441,R.premultiplyAlpha),n.pixelStorei(3317,R.unpackAlignment),n.pixelStorei(37443,0);const Wt=M(R)&&E(R.image)===!1;let vt=S(R.image,Wt,!1,u);vt=bt(R,vt);const oe=E(vt)||a,ge=s.convert(R.format,R.encoding);let Qt=s.convert(R.type),it=j(R.internalFormat,ge,Qt,R.encoding,R.isVideoTexture);Y(gt,R,oe);let Gt;const Nt=R.mipmaps,ft=a&&R.isVideoTexture!==!0,Vt=N.__version===void 0,de=W(R,vt,oe);if(R.isDepthTexture)it=6402,a?R.type===$l?it=36012:R.type===zy?it=33190:R.type===Ku?it=35056:it=33189:R.type===$l&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),R.format===ec&&it===6402&&R.type!==Jd&&R.type!==zy&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),R.type=Jd,Qt=s.convert(R.type)),R.format===Mh&&it===6402&&(it=34041,R.type!==Ku&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),R.type=Ku,Qt=s.convert(R.type))),ft&&Vt?e.texStorage2D(3553,1,it,vt.width,vt.height):e.texImage2D(3553,0,it,vt.width,vt.height,0,ge,Qt,null);else if(R.isDataTexture)if(Nt.length>0&&oe){ft&&Vt&&e.texStorage2D(3553,de,it,Nt[0].width,Nt[0].height);for(let jt=0,_e=Nt.length;jt<_e;jt++)Gt=Nt[jt],ft?e.texSubImage2D(3553,jt,0,0,Gt.width,Gt.height,ge,Qt,Gt.data):e.texImage2D(3553,jt,it,Gt.width,Gt.height,0,ge,Qt,Gt.data);R.generateMipmaps=!1}else ft?(Vt&&e.texStorage2D(3553,de,it,vt.width,vt.height),e.texSubImage2D(3553,0,0,0,vt.width,vt.height,ge,Qt,vt.data)):e.texImage2D(3553,0,it,vt.width,vt.height,0,ge,Qt,vt.data);else if(R.isCompressedTexture){ft&&Vt&&e.texStorage2D(3553,de,it,Nt[0].width,Nt[0].height);for(let jt=0,_e=Nt.length;jt<_e;jt++)Gt=Nt[jt],R.format!==cs?ge!==null?ft?e.compressedTexSubImage2D(3553,jt,0,0,Gt.width,Gt.height,ge,Gt.data):e.compressedTexImage2D(3553,jt,it,Gt.width,Gt.height,0,Gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?e.texSubImage2D(3553,jt,0,0,Gt.width,Gt.height,ge,Qt,Gt.data):e.texImage2D(3553,jt,it,Gt.width,Gt.height,0,ge,Qt,Gt.data)}else if(R.isDataArrayTexture)ft?(Vt&&e.texStorage3D(35866,de,it,vt.width,vt.height,vt.depth),e.texSubImage3D(35866,0,0,0,0,vt.width,vt.height,vt.depth,ge,Qt,vt.data)):e.texImage3D(35866,0,it,vt.width,vt.height,vt.depth,0,ge,Qt,vt.data);else if(R.isData3DTexture)ft?(Vt&&e.texStorage3D(32879,de,it,vt.width,vt.height,vt.depth),e.texSubImage3D(32879,0,0,0,0,vt.width,vt.height,vt.depth,ge,Qt,vt.data)):e.texImage3D(32879,0,it,vt.width,vt.height,vt.depth,0,ge,Qt,vt.data);else if(R.isFramebufferTexture)ft&&Vt?e.texStorage2D(3553,de,it,vt.width,vt.height):e.texImage2D(3553,0,it,vt.width,vt.height,0,ge,Qt,null);else if(Nt.length>0&&oe){ft&&Vt&&e.texStorage2D(3553,de,it,Nt[0].width,Nt[0].height);for(let jt=0,_e=Nt.length;jt<_e;jt++)Gt=Nt[jt],ft?e.texSubImage2D(3553,jt,0,0,ge,Qt,Gt):e.texImage2D(3553,jt,it,ge,Qt,Gt);R.generateMipmaps=!1}else ft?(Vt&&e.texStorage2D(3553,de,it,vt.width,vt.height),e.texSubImage2D(3553,0,0,0,ge,Qt,vt)):e.texImage2D(3553,0,it,ge,Qt,vt);P(R,oe)&&L(gt),kt.__currentVersion=kt.version,R.onUpdate&&R.onUpdate(R)}N.__version=R.version}function Mt(N,R,st){if(R.image.length!==6)return;const gt=Et(N,R),Ot=R.source;if(e.activeTexture(33984+st),e.bindTexture(34067,N.__webglTexture),Ot.version!==Ot.__currentVersion||gt===!0){n.pixelStorei(37440,R.flipY),n.pixelStorei(37441,R.premultiplyAlpha),n.pixelStorei(3317,R.unpackAlignment),n.pixelStorei(37443,0);const kt=R.isCompressedTexture||R.image[0].isCompressedTexture,Wt=R.image[0]&&R.image[0].isDataTexture,vt=[];for(let jt=0;jt<6;jt++)!kt&&!Wt?vt[jt]=S(R.image[jt],!1,!0,c):vt[jt]=Wt?R.image[jt].image:R.image[jt],vt[jt]=bt(R,vt[jt]);const oe=vt[0],ge=E(oe)||a,Qt=s.convert(R.format,R.encoding),it=s.convert(R.type),Gt=j(R.internalFormat,Qt,it,R.encoding),Nt=a&&R.isVideoTexture!==!0,ft=N.__version===void 0;let Vt=W(R,oe,ge);Y(34067,R,ge);let de;if(kt){Nt&&ft&&e.texStorage2D(34067,Vt,Gt,oe.width,oe.height);for(let jt=0;jt<6;jt++){de=vt[jt].mipmaps;for(let _e=0;_e<de.length;_e++){const Ie=de[_e];R.format!==cs?Qt!==null?Nt?e.compressedTexSubImage2D(34069+jt,_e,0,0,Ie.width,Ie.height,Qt,Ie.data):e.compressedTexImage2D(34069+jt,_e,Gt,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Nt?e.texSubImage2D(34069+jt,_e,0,0,Ie.width,Ie.height,Qt,it,Ie.data):e.texImage2D(34069+jt,_e,Gt,Ie.width,Ie.height,0,Qt,it,Ie.data)}}}else{de=R.mipmaps,Nt&&ft&&(de.length>0&&Vt++,e.texStorage2D(34067,Vt,Gt,vt[0].width,vt[0].height));for(let jt=0;jt<6;jt++)if(Wt){Nt?e.texSubImage2D(34069+jt,0,0,0,vt[jt].width,vt[jt].height,Qt,it,vt[jt].data):e.texImage2D(34069+jt,0,Gt,vt[jt].width,vt[jt].height,0,Qt,it,vt[jt].data);for(let _e=0;_e<de.length;_e++){const Ce=de[_e].image[jt].image;Nt?e.texSubImage2D(34069+jt,_e+1,0,0,Ce.width,Ce.height,Qt,it,Ce.data):e.texImage2D(34069+jt,_e+1,Gt,Ce.width,Ce.height,0,Qt,it,Ce.data)}}else{Nt?e.texSubImage2D(34069+jt,0,0,0,Qt,it,vt[jt]):e.texImage2D(34069+jt,0,Gt,Qt,it,vt[jt]);for(let _e=0;_e<de.length;_e++){const Ie=de[_e];Nt?e.texSubImage2D(34069+jt,_e+1,0,0,Qt,it,Ie.image[jt]):e.texImage2D(34069+jt,_e+1,Gt,Qt,it,Ie.image[jt])}}}P(R,ge)&&L(34067),Ot.__currentVersion=Ot.version,R.onUpdate&&R.onUpdate(R)}N.__version=R.version}function xt(N,R,st,gt,Ot){const kt=s.convert(st.format,st.encoding),Wt=s.convert(st.type),vt=j(st.internalFormat,kt,Wt,st.encoding);i.get(R).__hasExternalTextures||(Ot===32879||Ot===35866?e.texImage3D(Ot,0,vt,R.width,R.height,R.depth,0,kt,Wt,null):e.texImage2D(Ot,0,vt,R.width,R.height,0,kt,Wt,null)),e.bindFramebuffer(36160,N),ht(R)?f.framebufferTexture2DMultisampleEXT(36160,gt,Ot,i.get(st).__webglTexture,0,yt(R)):n.framebufferTexture2D(36160,gt,Ot,i.get(st).__webglTexture,0),e.bindFramebuffer(36160,null)}function Rt(N,R,st){if(n.bindRenderbuffer(36161,N),R.depthBuffer&&!R.stencilBuffer){let gt=33189;if(st||ht(R)){const Ot=R.depthTexture;Ot&&Ot.isDepthTexture&&(Ot.type===$l?gt=36012:Ot.type===zy&&(gt=33190));const kt=yt(R);ht(R)?f.renderbufferStorageMultisampleEXT(36161,kt,gt,R.width,R.height):n.renderbufferStorageMultisample(36161,kt,gt,R.width,R.height)}else n.renderbufferStorage(36161,gt,R.width,R.height);n.framebufferRenderbuffer(36160,36096,36161,N)}else if(R.depthBuffer&&R.stencilBuffer){const gt=yt(R);st&&ht(R)===!1?n.renderbufferStorageMultisample(36161,gt,35056,R.width,R.height):ht(R)?f.renderbufferStorageMultisampleEXT(36161,gt,35056,R.width,R.height):n.renderbufferStorage(36161,34041,R.width,R.height),n.framebufferRenderbuffer(36160,33306,36161,N)}else{const gt=R.isWebGLMultipleRenderTargets===!0?R.texture[0]:R.texture,Ot=s.convert(gt.format,gt.encoding),kt=s.convert(gt.type),Wt=j(gt.internalFormat,Ot,kt,gt.encoding),vt=yt(R);st&&ht(R)===!1?n.renderbufferStorageMultisample(36161,vt,Wt,R.width,R.height):ht(R)?f.renderbufferStorageMultisampleEXT(36161,vt,Wt,R.width,R.height):n.renderbufferStorage(36161,Wt,R.width,R.height)}n.bindRenderbuffer(36161,null)}function O(N,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,N),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),ut(R.depthTexture,0);const gt=i.get(R.depthTexture).__webglTexture,Ot=yt(R);if(R.depthTexture.format===ec)ht(R)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,gt,0,Ot):n.framebufferTexture2D(36160,36096,3553,gt,0);else if(R.depthTexture.format===Mh)ht(R)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,gt,0,Ot):n.framebufferTexture2D(36160,33306,3553,gt,0);else throw new Error("Unknown depthTexture format")}function k(N){const R=i.get(N),st=N.isWebGLCubeRenderTarget===!0;if(N.depthTexture&&!R.__autoAllocateDepthBuffer){if(st)throw new Error("target.depthTexture not supported in Cube render targets");O(R.__webglFramebuffer,N)}else if(st){R.__webglDepthbuffer=[];for(let gt=0;gt<6;gt++)e.bindFramebuffer(36160,R.__webglFramebuffer[gt]),R.__webglDepthbuffer[gt]=n.createRenderbuffer(),Rt(R.__webglDepthbuffer[gt],N,!1)}else e.bindFramebuffer(36160,R.__webglFramebuffer),R.__webglDepthbuffer=n.createRenderbuffer(),Rt(R.__webglDepthbuffer,N,!1);e.bindFramebuffer(36160,null)}function $(N,R,st){const gt=i.get(N);R!==void 0&&xt(gt.__webglFramebuffer,N,N.texture,36064,3553),st!==void 0&&k(N)}function X(N){const R=N.texture,st=i.get(N),gt=i.get(R);N.addEventListener("dispose",F),N.isWebGLMultipleRenderTargets!==!0&&(gt.__webglTexture===void 0&&(gt.__webglTexture=n.createTexture()),gt.__version=R.version,o.memory.textures++);const Ot=N.isWebGLCubeRenderTarget===!0,kt=N.isWebGLMultipleRenderTargets===!0,Wt=E(N)||a;if(Ot){st.__webglFramebuffer=[];for(let vt=0;vt<6;vt++)st.__webglFramebuffer[vt]=n.createFramebuffer()}else if(st.__webglFramebuffer=n.createFramebuffer(),kt)if(r.drawBuffers){const vt=N.texture;for(let oe=0,ge=vt.length;oe<ge;oe++){const Qt=i.get(vt[oe]);Qt.__webglTexture===void 0&&(Qt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&N.samples>0&&ht(N)===!1){st.__webglMultisampledFramebuffer=n.createFramebuffer(),st.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,st.__webglColorRenderbuffer);const vt=s.convert(R.format,R.encoding),oe=s.convert(R.type),ge=j(R.internalFormat,vt,oe,R.encoding),Qt=yt(N);n.renderbufferStorageMultisample(36161,Qt,ge,N.width,N.height),e.bindFramebuffer(36160,st.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,st.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),N.depthBuffer&&(st.__webglDepthRenderbuffer=n.createRenderbuffer(),Rt(st.__webglDepthRenderbuffer,N,!0)),e.bindFramebuffer(36160,null)}if(Ot){e.bindTexture(34067,gt.__webglTexture),Y(34067,R,Wt);for(let vt=0;vt<6;vt++)xt(st.__webglFramebuffer[vt],N,R,36064,34069+vt);P(R,Wt)&&L(34067),e.unbindTexture()}else if(kt){const vt=N.texture;for(let oe=0,ge=vt.length;oe<ge;oe++){const Qt=vt[oe],it=i.get(Qt);e.bindTexture(3553,it.__webglTexture),Y(3553,Qt,Wt),xt(st.__webglFramebuffer,N,Qt,36064+oe,3553),P(Qt,Wt)&&L(3553)}e.unbindTexture()}else{let vt=3553;(N.isWebGL3DRenderTarget||N.isWebGLArrayRenderTarget)&&(a?vt=N.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(vt,gt.__webglTexture),Y(vt,R,Wt),xt(st.__webglFramebuffer,N,R,36064,vt),P(R,Wt)&&L(vt),e.unbindTexture()}N.depthBuffer&&k(N)}function rt(N){const R=E(N)||a,st=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let gt=0,Ot=st.length;gt<Ot;gt++){const kt=st[gt];if(P(kt,R)){const Wt=N.isWebGLCubeRenderTarget?34067:3553,vt=i.get(kt).__webglTexture;e.bindTexture(Wt,vt),L(Wt),e.unbindTexture()}}}function mt(N){if(a&&N.samples>0&&ht(N)===!1){const R=N.width,st=N.height;let gt=16384;const Ot=[36064],kt=N.stencilBuffer?33306:36096;N.depthBuffer&&Ot.push(kt);const Wt=i.get(N),vt=Wt.__ignoreDepthValues!==void 0?Wt.__ignoreDepthValues:!1;vt===!1&&(N.depthBuffer&&(gt|=256),N.stencilBuffer&&(gt|=1024)),e.bindFramebuffer(36008,Wt.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,Wt.__webglFramebuffer),vt===!0&&(n.invalidateFramebuffer(36008,[kt]),n.invalidateFramebuffer(36009,[kt])),n.blitFramebuffer(0,0,R,st,0,0,R,st,gt,9728),p&&n.invalidateFramebuffer(36008,Ot),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,Wt.__webglMultisampledFramebuffer)}}function yt(N){return Math.min(h,N.samples)}function ht(N){const R=i.get(N);return a&&N.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function Tt(N){const R=o.render.frame;m.get(N)!==R&&(m.set(N,R),N.update())}function bt(N,R){const st=N.encoding,gt=N.format,Ot=N.type;return N.isCompressedTexture===!0||N.isVideoTexture===!0||N.format===GS||st!==zo&&(st===Rn?a===!1?t.has("EXT_sRGB")===!0&&gt===cs?(N.format=GS,N.minFilter=cr,N.generateMipmaps=!1):R=Ac.sRGBToLinear(R):(gt!==cs||Ot!==dc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",st)),R}this.allocateTextureUnit=V,this.resetTextureUnits=Z,this.setTexture2D=ut,this.setTexture2DArray=_t,this.setTexture3D=at,this.setTextureCube=Ct,this.rebindTextures=$,this.setupRenderTarget=X,this.updateRenderTargetMipmap=rt,this.updateMultisampleRenderTarget=mt,this.setupDepthRenderbuffer=k,this.setupFrameBufferTexture=xt,this.useMultisampledRTT=ht}function fgt(n,t,e){const i=e.isWebGL2;function r(s,o=null){let a;if(s===dc)return 5121;if(s===uht)return 32819;if(s===hht)return 32820;if(s===aht)return 5120;if(s===lht)return 5122;if(s===Jd)return 5123;if(s===cht)return 5124;if(s===zy)return 5125;if(s===$l)return 5126;if(s===Xu)return i?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===fht)return 6406;if(s===cs)return 6408;if(s===pht)return 6409;if(s===mht)return 6410;if(s===ec)return 6402;if(s===Mh)return 34041;if(s===ght)return 6403;if(s===dht)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===GS)return a=t.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===yht)return 36244;if(s===vht)return 33319;if(s===_ht)return 33320;if(s===bht)return 36249;if(s===Ax||s===Cx||s===Ox||s===Px)if(o===Rn)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Ax)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Cx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Ox)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Px)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Ax)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Cx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Ox)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Px)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===EI||s===SI||s===MI||s===TI)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===EI)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===SI)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===MI)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===TI)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===xht)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===AI||s===CI)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(s===AI)return o===Rn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===CI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===OI||s===PI||s===DI||s===RI||s===LI||s===II||s===kI||s===NI||s===FI||s===BI||s===zI||s===UI||s===VI||s===HI)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(s===OI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===PI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===DI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===RI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===LI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===II)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===kI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===NI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===FI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===BI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===zI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===UI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===VI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===HI)return o===Rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===$I)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(s===$I)return o===Rn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Ku)return i?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class fV extends ur{constructor(t=[]){super(),this.cameras=t}}fV.prototype.isArrayCamera=!0;class Zf extends hn{constructor(){super(),this.type="Group"}}Zf.prototype.isGroup=!0;const dgt={type:"move"};class ow{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new tt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new tt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new tt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new tt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(t&&e.session.visibilityState!=="visible-blurred")if(a!==null&&(r=e.getPose(t.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(dgt))),c&&t.hand){o=!0;for(const g of t.hand.values()){const y=e.getJointPose(g,i);if(c.joints[g.jointName]===void 0){const x=new Zf;x.matrixAutoUpdate=!1,x.visible=!1,c.joints[g.jointName]=x,c.add(x)}const v=c.joints[g.jointName];y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=y.radius),v.visible=y!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),p=.02,m=.005;c.inputState.pinching&&f>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&f<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class dV extends _i{constructor(t,e,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:ec,u!==ec&&u!==Mh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===ec&&(i=Jd),i===void 0&&u===Mh&&(i=Ku),super(null,r,s,o,a,l,u,i,c),this.image={width:t,height:e},this.magFilter=a!==void 0?a:di,this.minFilter=l!==void 0?l:di,this.flipY=!1,this.generateMipmaps=!1}}dV.prototype.isDepthTexture=!0;class pgt extends Tc{constructor(t,e){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,h=null,f=null;const p=e.getContextAttributes();let m=null,g=null;const y=[],v=new Map,x=new ur;x.layers.enable(1),x.viewport=new dn;const S=new ur;S.layers.enable(2),S.viewport=new dn;const E=[x,S],M=new fV;M.layers.enable(1),M.layers.enable(2);let P=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Q=y[V];return Q===void 0&&(Q=new ow,y[V]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(V){let Q=y[V];return Q===void 0&&(Q=new ow,y[V]=Q),Q.getGripSpace()},this.getHand=function(V){let Q=y[V];return Q===void 0&&(Q=new ow,y[V]=Q),Q.getHandSpace()};function j(V){const Q=v.get(V.inputSource);Q&&Q.dispatchEvent({type:V.type,data:V.inputSource})}function W(){v.forEach(function(V,Q){V.disconnect(Q)}),v.clear(),P=null,L=null,t.setRenderTarget(m),h=null,u=null,c=null,r=null,g=null,Z.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return u!==null?u:h},this.getBinding=function(){return c},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(m=t.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",W),r.addEventListener("inputsourceschange",U),p.xrCompatible!==!0&&await e.makeXRCompatible(),r.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const Q={antialias:r.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(r,e,Q),r.updateRenderState({baseLayer:h}),g=new Er(h.framebufferWidth,h.framebufferHeight,{format:cs,type:dc,encoding:t.outputEncoding})}else{let Q=null,ut=null,_t=null;p.depth&&(_t=p.stencil?35056:33190,Q=p.stencil?Mh:ec,ut=p.stencil?Ku:Jd);const at={colorFormat:t.outputEncoding===Rn?35907:32856,depthFormat:_t,scaleFactor:s};c=new XRWebGLBinding(r,e),u=c.createProjectionLayer(at),r.updateRenderState({layers:[u]}),g=new Er(u.textureWidth,u.textureHeight,{format:cs,type:dc,depthTexture:new dV(u.textureWidth,u.textureHeight,ut,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:p.stencil,encoding:t.outputEncoding,samples:p.antialias?4:0});const Ct=t.properties.get(g);Ct.__ignoreDepthValues=u.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),o=await r.requestReferenceSpace(a),Z.setContext(r),Z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function U(V){const Q=r.inputSources;for(let ut=0;ut<y.length;ut++)v.set(Q[ut],y[ut]);for(let ut=0;ut<V.removed.length;ut++){const _t=V.removed[ut],at=v.get(_t);at&&(at.dispatchEvent({type:"disconnected",data:_t}),v.delete(_t))}for(let ut=0;ut<V.added.length;ut++){const _t=V.added[ut],at=v.get(_t);at&&at.dispatchEvent({type:"connected",data:_t})}}const A=new tt,F=new tt;function nt(V,Q,ut){A.setFromMatrixPosition(Q.matrixWorld),F.setFromMatrixPosition(ut.matrixWorld);const _t=A.distanceTo(F),at=Q.projectionMatrix.elements,Ct=ut.projectionMatrix.elements,Lt=at[14]/(at[10]-1),et=at[14]/(at[10]+1),Y=(at[9]+1)/at[5],Et=(at[9]-1)/at[5],lt=(at[8]-1)/at[0],Mt=(Ct[8]+1)/Ct[0],xt=Lt*lt,Rt=Lt*Mt,O=_t/(-lt+Mt),k=O*-lt;Q.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(k),V.translateZ(O),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const $=Lt+O,X=et+O,rt=xt-k,mt=Rt+(_t-k),yt=Y*et/X*$,ht=Et*et/X*$;V.projectionMatrix.makePerspective(rt,mt,yt,ht,$,X)}function q(V,Q){Q===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Q.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;M.near=S.near=x.near=V.near,M.far=S.far=x.far=V.far,(P!==M.near||L!==M.far)&&(r.updateRenderState({depthNear:M.near,depthFar:M.far}),P=M.near,L=M.far);const Q=V.parent,ut=M.cameras;q(M,Q);for(let at=0;at<ut.length;at++)q(ut[at],Q);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),V.position.copy(M.position),V.quaternion.copy(M.quaternion),V.scale.copy(M.scale),V.matrix.copy(M.matrix),V.matrixWorld.copy(M.matrixWorld);const _t=V.children;for(let at=0,Ct=_t.length;at<Ct;at++)_t[at].updateMatrixWorld(!0);ut.length===2?nt(M,x,S):M.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){if(u!==null)return u.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(V){u!==null&&(u.fixedFoveation=V),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=V)};let D=null;function G(V,Q){if(l=Q.getViewerPose(o),f=Q,l!==null){const _t=l.views;h!==null&&(t.setRenderTargetFramebuffer(g,h.framebuffer),t.setRenderTarget(g));let at=!1;_t.length!==M.cameras.length&&(M.cameras.length=0,at=!0);for(let Ct=0;Ct<_t.length;Ct++){const Lt=_t[Ct];let et=null;if(h!==null)et=h.getViewport(Lt);else{const Et=c.getViewSubImage(u,Lt);et=Et.viewport,Ct===0&&(t.setRenderTargetTextures(g,Et.colorTexture,u.ignoreDepthValues?void 0:Et.depthStencilTexture),t.setRenderTarget(g))}const Y=E[Ct];Y.matrix.fromArray(Lt.transform.matrix),Y.projectionMatrix.fromArray(Lt.projectionMatrix),Y.viewport.set(et.x,et.y,et.width,et.height),Ct===0&&M.matrix.copy(Y.matrix),at===!0&&M.cameras.push(Y)}}const ut=r.inputSources;for(let _t=0;_t<y.length;_t++){const at=y[_t],Ct=ut[_t];at.update(Ct,Q,o)}D&&D(V,Q),f=null}const Z=new iV;Z.setAnimationLoop(G),this.setAnimationLoop=function(V){D=V},this.dispose=function(){}}}function mgt(n,t){function e(g,y){g.fogColor.value.copy(y.color),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function i(g,y,v,x,S){y.isMeshBasicMaterial||y.isMeshLambertMaterial?r(g,y):y.isMeshToonMaterial?(r(g,y),u(g,y)):y.isMeshPhongMaterial?(r(g,y),c(g,y)):y.isMeshStandardMaterial?(r(g,y),h(g,y),y.isMeshPhysicalMaterial&&f(g,y,S)):y.isMeshMatcapMaterial?(r(g,y),p(g,y)):y.isMeshDepthMaterial?r(g,y):y.isMeshDistanceMaterial?(r(g,y),m(g,y)):y.isMeshNormalMaterial?r(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?a(g,y,v,x):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function r(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===ps&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===ps&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const v=t.get(y).envMap;if(v&&(g.envMap.value=v,g.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const E=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*E}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let x;y.map?x=y.map:y.specularMap?x=y.specularMap:y.displacementMap?x=y.displacementMap:y.normalMap?x=y.normalMap:y.bumpMap?x=y.bumpMap:y.roughnessMap?x=y.roughnessMap:y.metalnessMap?x=y.metalnessMap:y.alphaMap?x=y.alphaMap:y.emissiveMap?x=y.emissiveMap:y.clearcoatMap?x=y.clearcoatMap:y.clearcoatNormalMap?x=y.clearcoatNormalMap:y.clearcoatRoughnessMap?x=y.clearcoatRoughnessMap:y.specularIntensityMap?x=y.specularIntensityMap:y.specularColorMap?x=y.specularColorMap:y.transmissionMap?x=y.transmissionMap:y.thicknessMap?x=y.thicknessMap:y.sheenColorMap?x=y.sheenColorMap:y.sheenRoughnessMap&&(x=y.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix));let S;y.aoMap?S=y.aoMap:y.lightMap&&(S=y.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function a(g,y,v,x){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*v,g.scale.value=x*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let S;y.map?S=y.map:y.alphaMap&&(S=y.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let v;y.map?v=y.map:y.alphaMap&&(v=y.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),g.uvTransform.value.copy(v.matrix))}function c(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function u(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function h(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),t.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function f(g,y,v){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===ps&&g.clearcoatNormalScale.value.negate())),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=v.texture,g.transmissionSamplerSize.value.set(v.width,v.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function p(g,y){y.matcap&&(g.matcap.value=y.matcap)}function m(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:e,refreshMaterialUniforms:i}}function ggt(){const n=tp("canvas");return n.style.display="block",n}function mn(n={}){const t=n.canvas!==void 0?n.canvas:ggt(),e=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;n.context!==void 0?u=e.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let h=null,f=null;const p=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=zo,this.physicallyCorrectLights=!1,this.toneMapping=Po,this.toneMappingExposure=1;const g=this;let y=!1,v=0,x=0,S=null,E=-1,M=null;const P=new dn,L=new dn;let j=null,W=t.width,U=t.height,A=1,F=null,nt=null;const q=new dn(0,0,W,U),D=new dn(0,0,W,U);let G=!1;const Z=new $b;let V=!1,Q=!1,ut=null;const _t=new ye,at=new $t,Ct=new tt,Lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function et(){return S===null?A:1}let Y=e;function Et(H,ct){for(let St=0;St<H.length;St++){const wt=H[St],Pt=t.getContext(wt,ct);if(Pt!==null)return Pt}return null}try{const H={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${M1}`),t.addEventListener("webglcontextlost",it,!1),t.addEventListener("webglcontextrestored",Gt,!1),Y===null){const ct=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ct.shift(),Y=Et(ct,H),Y===null)throw Et(ct)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let lt,Mt,xt,Rt,O,k,$,X,rt,mt,yt,ht,Tt,bt,N,R,st,gt,Ot,kt,Wt,vt,oe;function ge(){lt=new Ipt(Y),Mt=new Cpt(Y,lt,n),lt.init(Mt),vt=new fgt(Y,lt,Mt),xt=new ugt(Y,lt,Mt),Rt=new Fpt,O=new Zmt,k=new hgt(Y,lt,xt,O,Mt,vt,Rt),$=new Ppt(g),X=new Lpt(g),rt=new Qht(Y,Mt),oe=new Tpt(Y,lt,rt,Mt),mt=new kpt(Y,rt,Rt,oe),yt=new Vpt(Y,mt,rt,Rt),Ot=new Upt(Y,Mt,k),R=new Opt(O),ht=new Jmt(g,$,X,lt,Mt,oe,R),Tt=new mgt(g,O),bt=new egt,N=new agt(lt,Mt),gt=new Mpt(g,$,xt,yt,u,o),st=new hV(g,yt,Mt),kt=new Apt(Y,lt,Rt,Mt),Wt=new Npt(Y,lt,Rt,Mt),Rt.programs=ht.programs,g.capabilities=Mt,g.extensions=lt,g.properties=O,g.renderLists=bt,g.shadowMap=st,g.state=xt,g.info=Rt}ge();const Qt=new pgt(g,Y);this.xr=Qt,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const H=lt.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=lt.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(H){H!==void 0&&(A=H,this.setSize(W,U,!1))},this.getSize=function(H){return H.set(W,U)},this.setSize=function(H,ct,St){if(Qt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=H,U=ct,t.width=Math.floor(H*A),t.height=Math.floor(ct*A),St!==!1&&(t.style.width=H+"px",t.style.height=ct+"px"),this.setViewport(0,0,H,ct)},this.getDrawingBufferSize=function(H){return H.set(W*A,U*A).floor()},this.setDrawingBufferSize=function(H,ct,St){W=H,U=ct,A=St,t.width=Math.floor(H*St),t.height=Math.floor(ct*St),this.setViewport(0,0,H,ct)},this.getCurrentViewport=function(H){return H.copy(P)},this.getViewport=function(H){return H.copy(q)},this.setViewport=function(H,ct,St,wt){H.isVector4?q.set(H.x,H.y,H.z,H.w):q.set(H,ct,St,wt),xt.viewport(P.copy(q).multiplyScalar(A).floor())},this.getScissor=function(H){return H.copy(D)},this.setScissor=function(H,ct,St,wt){H.isVector4?D.set(H.x,H.y,H.z,H.w):D.set(H,ct,St,wt),xt.scissor(L.copy(D).multiplyScalar(A).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(H){xt.setScissorTest(G=H)},this.setOpaqueSort=function(H){F=H},this.setTransparentSort=function(H){nt=H},this.getClearColor=function(H){return H.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(H=!0,ct=!0,St=!0){let wt=0;H&&(wt|=16384),ct&&(wt|=256),St&&(wt|=1024),Y.clear(wt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",it,!1),t.removeEventListener("webglcontextrestored",Gt,!1),bt.dispose(),N.dispose(),O.dispose(),$.dispose(),X.dispose(),yt.dispose(),oe.dispose(),ht.dispose(),Qt.dispose(),Qt.removeEventListener("sessionstart",_e),Qt.removeEventListener("sessionend",Ie),ut&&(ut.dispose(),ut=null),Ce.stop()};function it(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Gt(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const H=Rt.autoReset,ct=st.enabled,St=st.autoUpdate,wt=st.needsUpdate,Pt=st.type;ge(),Rt.autoReset=H,st.enabled=ct,st.autoUpdate=St,st.needsUpdate=wt,st.type=Pt}function Nt(H){const ct=H.target;ct.removeEventListener("dispose",Nt),ft(ct)}function ft(H){Vt(H),O.remove(H)}function Vt(H){const ct=O.get(H).programs;ct!==void 0&&(ct.forEach(function(St){ht.releaseProgram(St)}),H.isShaderMaterial&&ht.releaseShaderCache(H))}this.renderBufferDirect=function(H,ct,St,wt,Pt,ae){ct===null&&(ct=Lt);const ee=Pt.isMesh&&Pt.matrixWorld.determinant()<0,Ht=tl(H,ct,St,wt,Pt);xt.setMaterial(wt,ee);let xe=St.index;const He=St.attributes.position;if(xe===null){if(He===void 0||He.count===0)return}else if(xe.count===0)return;let $e=1;wt.wireframe===!0&&(xe=mt.getWireframeAttribute(St),$e=2),oe.setup(Pt,wt,Ht,St,xe);let Fe,vn=kt;xe!==null&&(Fe=rt.get(xe),vn=Wt,vn.setIndex(Fe));const qr=xe!==null?xe.count:He.count,Ss=St.drawRange.start*$e,Xe=St.drawRange.count*$e,Ci=ae!==null?ae.start*$e:0,Ue=ae!==null?ae.count*$e:1/0,pr=Math.max(Ss,Ci),En=Math.min(qr,Ss+Xe,Ci+Ue)-1,Hi=Math.max(0,En-pr+1);if(Hi!==0){if(Pt.isMesh)wt.wireframe===!0?(xt.setLineWidth(wt.wireframeLinewidth*et()),vn.setMode(1)):vn.setMode(4);else if(Pt.isLine){let rr=wt.linewidth;rr===void 0&&(rr=1),xt.setLineWidth(rr*et()),Pt.isLineSegments?vn.setMode(1):Pt.isLineLoop?vn.setMode(2):vn.setMode(3)}else Pt.isPoints?vn.setMode(0):Pt.isSprite&&vn.setMode(4);if(Pt.isInstancedMesh)vn.renderInstances(pr,Hi,Pt.count);else if(St.isInstancedBufferGeometry){const rr=Math.min(St.instanceCount,St._maxInstanceCount);vn.renderInstances(pr,Hi,rr)}else vn.render(pr,Hi)}},this.compile=function(H,ct){f=N.get(H),f.init(),m.push(f),H.traverseVisible(function(St){St.isLight&&St.layers.test(ct.layers)&&(f.pushLight(St),St.castShadow&&f.pushShadow(St))}),f.setupLights(g.physicallyCorrectLights),H.traverse(function(St){const wt=St.material;if(wt)if(Array.isArray(wt))for(let Pt=0;Pt<wt.length;Pt++){const ae=wt[Pt];to(ae,H,St)}else to(wt,H,St)}),m.pop(),f=null};let de=null;function jt(H){de&&de(H)}function _e(){Ce.stop()}function Ie(){Ce.start()}const Ce=new iV;Ce.setAnimationLoop(jt),typeof self<"u"&&Ce.setContext(self),this.setAnimationLoop=function(H){de=H,Qt.setAnimationLoop(H),H===null?Ce.stop():Ce.start()},Qt.addEventListener("sessionstart",_e),Qt.addEventListener("sessionend",Ie),this.render=function(H,ct){if(ct!==void 0&&ct.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;H.autoUpdate===!0&&H.updateMatrixWorld(),ct.parent===null&&ct.updateMatrixWorld(),Qt.enabled===!0&&Qt.isPresenting===!0&&(Qt.cameraAutoUpdate===!0&&Qt.updateCamera(ct),ct=Qt.getCamera()),H.isScene===!0&&H.onBeforeRender(g,H,ct,S),f=N.get(H,m.length),f.init(),m.push(f),_t.multiplyMatrices(ct.projectionMatrix,ct.matrixWorldInverse),Z.setFromProjectionMatrix(_t),Q=this.localClippingEnabled,V=R.init(this.clippingPlanes,Q,ct),h=bt.get(H,p.length),h.init(),p.push(h),ei(H,ct,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(F,nt),V===!0&&R.beginShadows();const St=f.state.shadowsArray;if(st.render(St,H,ct),V===!0&&R.endShadows(),this.info.autoReset===!0&&this.info.reset(),gt.render(h,H),f.setupLights(g.physicallyCorrectLights),ct.isArrayCamera){const wt=ct.cameras;for(let Pt=0,ae=wt.length;Pt<ae;Pt++){const ee=wt[Pt];Wn(h,H,ee,ee.viewport)}}else Wn(h,H,ct);S!==null&&(k.updateMultisampleRenderTarget(S),k.updateRenderTargetMipmap(S)),H.isScene===!0&&H.onAfterRender(g,H,ct),oe.resetDefaultState(),E=-1,M=null,m.pop(),m.length>0?f=m[m.length-1]:f=null,p.pop(),p.length>0?h=p[p.length-1]:h=null};function ei(H,ct,St,wt){if(H.visible===!1)return;if(H.layers.test(ct.layers)){if(H.isGroup)St=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ct);else if(H.isLight)f.pushLight(H),H.castShadow&&f.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Z.intersectsSprite(H)){wt&&Ct.setFromMatrixPosition(H.matrixWorld).applyMatrix4(_t);const ee=yt.update(H),Ht=H.material;Ht.visible&&h.push(H,ee,Ht,St,Ct.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(H.isSkinnedMesh&&H.skeleton.frame!==Rt.render.frame&&(H.skeleton.update(),H.skeleton.frame=Rt.render.frame),!H.frustumCulled||Z.intersectsObject(H))){wt&&Ct.setFromMatrixPosition(H.matrixWorld).applyMatrix4(_t);const ee=yt.update(H),Ht=H.material;if(Array.isArray(Ht)){const xe=ee.groups;for(let He=0,$e=xe.length;He<$e;He++){const Fe=xe[He],vn=Ht[Fe.materialIndex];vn&&vn.visible&&h.push(H,ee,vn,St,Ct.z,Fe)}}else Ht.visible&&h.push(H,ee,Ht,St,Ct.z,null)}}const ae=H.children;for(let ee=0,Ht=ae.length;ee<Ht;ee++)ei(ae[ee],ct,St,wt)}function Wn(H,ct,St,wt){const Pt=H.opaque,ae=H.transmissive,ee=H.transparent;f.setupLightsView(St),ae.length>0&&Za(Pt,ct,St),wt&&xt.viewport(P.copy(wt)),Pt.length>0&&Es(Pt,ct,St),ae.length>0&&Es(ae,ct,St),ee.length>0&&Es(ee,ct,St),xt.buffers.depth.setTest(!0),xt.buffers.depth.setMask(!0),xt.buffers.color.setMask(!0),xt.setPolygonOffset(!1)}function Za(H,ct,St){const wt=Mt.isWebGL2;ut===null&&(ut=new Er(1,1,{generateMipmaps:!0,type:vt.convert(Xu)!==null?Xu:dc,minFilter:zb,samples:wt&&s===!0?4:0})),g.getDrawingBufferSize(at),wt?ut.setSize(at.x,at.y):ut.setSize(qS(at.x),qS(at.y));const Pt=g.getRenderTarget();g.setRenderTarget(ut),g.clear();const ae=g.toneMapping;g.toneMapping=Po,Es(H,ct,St),g.toneMapping=ae,k.updateMultisampleRenderTarget(ut),k.updateRenderTargetMipmap(ut),g.setRenderTarget(Pt)}function Es(H,ct,St){const wt=ct.isScene===!0?ct.overrideMaterial:null;for(let Pt=0,ae=H.length;Pt<ae;Pt++){const ee=H[Pt],Ht=ee.object,xe=ee.geometry,He=wt===null?ee.material:wt,$e=ee.group;Ht.layers.test(St.layers)&&jr(Ht,ct,St,xe,He,$e)}}function jr(H,ct,St,wt,Pt,ae){H.onBeforeRender(g,ct,St,wt,Pt,ae),H.modelViewMatrix.multiplyMatrices(St.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),Pt.onBeforeRender(g,ct,St,wt,H,ae),Pt.transparent===!0&&Pt.side===wh?(Pt.side=ps,Pt.needsUpdate=!0,g.renderBufferDirect(St,ct,wt,Pt,H,ae),Pt.side=Qd,Pt.needsUpdate=!0,g.renderBufferDirect(St,ct,wt,Pt,H,ae),Pt.side=wh):g.renderBufferDirect(St,ct,wt,Pt,H,ae),H.onAfterRender(g,ct,St,wt,Pt,ae)}function to(H,ct,St){ct.isScene!==!0&&(ct=Lt);const wt=O.get(H),Pt=f.state.lights,ae=f.state.shadowsArray,ee=Pt.state.version,Ht=ht.getParameters(H,Pt.state,ae,ct,St),xe=ht.getProgramCacheKey(Ht);let He=wt.programs;wt.environment=H.isMeshStandardMaterial?ct.environment:null,wt.fog=ct.fog,wt.envMap=(H.isMeshStandardMaterial?X:$).get(H.envMap||wt.environment),He===void 0&&(H.addEventListener("dispose",Nt),He=new Map,wt.programs=He);let $e=He.get(xe);if($e!==void 0){if(wt.currentProgram===$e&&wt.lightsStateVersion===ee)return jo(H,Ht),$e}else Ht.uniforms=ht.getUniforms(H),H.onBuild(St,Ht,g),H.onBeforeCompile(Ht,g),$e=ht.acquireProgram(Ht,xe),He.set(xe,$e),wt.uniforms=Ht.uniforms;const Fe=wt.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Fe.clippingPlanes=R.uniform),jo(H,Ht),wt.needsLights=tf(H),wt.lightsStateVersion=ee,wt.needsLights&&(Fe.ambientLightColor.value=Pt.state.ambient,Fe.lightProbe.value=Pt.state.probe,Fe.directionalLights.value=Pt.state.directional,Fe.directionalLightShadows.value=Pt.state.directionalShadow,Fe.spotLights.value=Pt.state.spot,Fe.spotLightShadows.value=Pt.state.spotShadow,Fe.rectAreaLights.value=Pt.state.rectArea,Fe.ltc_1.value=Pt.state.rectAreaLTC1,Fe.ltc_2.value=Pt.state.rectAreaLTC2,Fe.pointLights.value=Pt.state.point,Fe.pointLightShadows.value=Pt.state.pointShadow,Fe.hemisphereLights.value=Pt.state.hemi,Fe.directionalShadowMap.value=Pt.state.directionalShadowMap,Fe.directionalShadowMatrix.value=Pt.state.directionalShadowMatrix,Fe.spotShadowMap.value=Pt.state.spotShadowMap,Fe.spotShadowMatrix.value=Pt.state.spotShadowMatrix,Fe.pointShadowMap.value=Pt.state.pointShadowMap,Fe.pointShadowMatrix.value=Pt.state.pointShadowMatrix);const vn=$e.getUniforms(),qr=Aa.seqWithValue(vn.seq,Fe);return wt.currentProgram=$e,wt.uniformsList=qr,$e}function jo(H,ct){const St=O.get(H);St.outputEncoding=ct.outputEncoding,St.instancing=ct.instancing,St.skinning=ct.skinning,St.morphTargets=ct.morphTargets,St.morphNormals=ct.morphNormals,St.morphColors=ct.morphColors,St.morphTargetsCount=ct.morphTargetsCount,St.numClippingPlanes=ct.numClippingPlanes,St.numIntersection=ct.numClipIntersection,St.vertexAlphas=ct.vertexAlphas,St.vertexTangents=ct.vertexTangents,St.toneMapping=ct.toneMapping}function tl(H,ct,St,wt,Pt){ct.isScene!==!0&&(ct=Lt),k.resetTextureUnits();const ae=ct.fog,ee=wt.isMeshStandardMaterial?ct.environment:null,Ht=S===null?g.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:zo,xe=(wt.isMeshStandardMaterial?X:$).get(wt.envMap||ee),He=wt.vertexColors===!0&&!!St.attributes.color&&St.attributes.color.itemSize===4,$e=!!wt.normalMap&&!!St.attributes.tangent,Fe=!!St.morphAttributes.position,vn=!!St.morphAttributes.normal,qr=!!St.morphAttributes.color,Ss=wt.toneMapped?g.toneMapping:Po,Xe=St.morphAttributes.position||St.morphAttributes.normal||St.morphAttributes.color,Ci=Xe!==void 0?Xe.length:0,Ue=O.get(wt),pr=f.state.lights;if(V===!0&&(Q===!0||H!==M)){const w=H===M&&wt.id===E;R.setState(wt,H,w)}let En=!1;wt.version===Ue.__version?(Ue.needsLights&&Ue.lightsStateVersion!==pr.state.version||Ue.outputEncoding!==Ht||Pt.isInstancedMesh&&Ue.instancing===!1||!Pt.isInstancedMesh&&Ue.instancing===!0||Pt.isSkinnedMesh&&Ue.skinning===!1||!Pt.isSkinnedMesh&&Ue.skinning===!0||Ue.envMap!==xe||wt.fog&&Ue.fog!==ae||Ue.numClippingPlanes!==void 0&&(Ue.numClippingPlanes!==R.numPlanes||Ue.numIntersection!==R.numIntersection)||Ue.vertexAlphas!==He||Ue.vertexTangents!==$e||Ue.morphTargets!==Fe||Ue.morphNormals!==vn||Ue.morphColors!==qr||Ue.toneMapping!==Ss||Mt.isWebGL2===!0&&Ue.morphTargetsCount!==Ci)&&(En=!0):(En=!0,Ue.__version=wt.version);let Hi=Ue.currentProgram;En===!0&&(Hi=to(wt,ct,Pt));let rr=!1,$i=!1,el=!1;const Gn=Hi.getUniforms(),gn=Ue.uniforms;if(xt.useProgram(Hi.program)&&(rr=!0,$i=!0,el=!0),wt.id!==E&&(E=wt.id,$i=!0),rr||M!==H){if(Gn.setValue(Y,"projectionMatrix",H.projectionMatrix),Mt.logarithmicDepthBuffer&&Gn.setValue(Y,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),M!==H&&(M=H,$i=!0,el=!0),wt.isShaderMaterial||wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshStandardMaterial||wt.envMap){const w=Gn.map.cameraPosition;w!==void 0&&w.setValue(Y,Ct.setFromMatrixPosition(H.matrixWorld))}(wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshLambertMaterial||wt.isMeshBasicMaterial||wt.isMeshStandardMaterial||wt.isShaderMaterial)&&Gn.setValue(Y,"isOrthographic",H.isOrthographicCamera===!0),(wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshLambertMaterial||wt.isMeshBasicMaterial||wt.isMeshStandardMaterial||wt.isShaderMaterial||wt.isShadowMaterial||Pt.isSkinnedMesh)&&Gn.setValue(Y,"viewMatrix",H.matrixWorldInverse)}if(Pt.isSkinnedMesh){Gn.setOptional(Y,Pt,"bindMatrix"),Gn.setOptional(Y,Pt,"bindMatrixInverse");const w=Pt.skeleton;w&&(Mt.floatVertexTextures?(w.boneTexture===null&&w.computeBoneTexture(),Gn.setValue(Y,"boneTexture",w.boneTexture,k),Gn.setValue(Y,"boneTextureSize",w.boneTextureSize)):Gn.setOptional(Y,w,"boneMatrices"))}const C=St.morphAttributes;return(C.position!==void 0||C.normal!==void 0||C.color!==void 0&&Mt.isWebGL2===!0)&&Ot.update(Pt,St,wt,Hi),($i||Ue.receiveShadow!==Pt.receiveShadow)&&(Ue.receiveShadow=Pt.receiveShadow,Gn.setValue(Y,"receiveShadow",Pt.receiveShadow)),$i&&(Gn.setValue(Y,"toneMappingExposure",g.toneMappingExposure),Ue.needsLights&&Zh(gn,el),ae&&wt.fog&&Tt.refreshFogUniforms(gn,ae),Tt.refreshMaterialUniforms(gn,wt,A,U,ut),Aa.upload(Y,Ue.uniformsList,gn,k)),wt.isShaderMaterial&&wt.uniformsNeedUpdate===!0&&(Aa.upload(Y,Ue.uniformsList,gn,k),wt.uniformsNeedUpdate=!1),wt.isSpriteMaterial&&Gn.setValue(Y,"center",Pt.center),Gn.setValue(Y,"modelViewMatrix",Pt.modelViewMatrix),Gn.setValue(Y,"normalMatrix",Pt.normalMatrix),Gn.setValue(Y,"modelMatrix",Pt.matrixWorld),Hi}function Zh(H,ct){H.ambientLightColor.needsUpdate=ct,H.lightProbe.needsUpdate=ct,H.directionalLights.needsUpdate=ct,H.directionalLightShadows.needsUpdate=ct,H.pointLights.needsUpdate=ct,H.pointLightShadows.needsUpdate=ct,H.spotLights.needsUpdate=ct,H.spotLightShadows.needsUpdate=ct,H.rectAreaLights.needsUpdate=ct,H.hemisphereLights.needsUpdate=ct}function tf(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(H,ct,St){O.get(H.texture).__webglTexture=ct,O.get(H.depthTexture).__webglTexture=St;const wt=O.get(H);wt.__hasExternalTextures=!0,wt.__hasExternalTextures&&(wt.__autoAllocateDepthBuffer=St===void 0,wt.__autoAllocateDepthBuffer||lt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),wt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,ct){const St=O.get(H);St.__webglFramebuffer=ct,St.__useDefaultFramebuffer=ct===void 0},this.setRenderTarget=function(H,ct=0,St=0){S=H,v=ct,x=St;let wt=!0;if(H){const xe=O.get(H);xe.__useDefaultFramebuffer!==void 0?(xt.bindFramebuffer(36160,null),wt=!1):xe.__webglFramebuffer===void 0?k.setupRenderTarget(H):xe.__hasExternalTextures&&k.rebindTextures(H,O.get(H.texture).__webglTexture,O.get(H.depthTexture).__webglTexture)}let Pt=null,ae=!1,ee=!1;if(H){const xe=H.texture;(xe.isData3DTexture||xe.isDataArrayTexture)&&(ee=!0);const He=O.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Pt=He[ct],ae=!0):Mt.isWebGL2&&H.samples>0&&k.useMultisampledRTT(H)===!1?Pt=O.get(H).__webglMultisampledFramebuffer:Pt=He,P.copy(H.viewport),L.copy(H.scissor),j=H.scissorTest}else P.copy(q).multiplyScalar(A).floor(),L.copy(D).multiplyScalar(A).floor(),j=G;if(xt.bindFramebuffer(36160,Pt)&&Mt.drawBuffers&&wt&&xt.drawBuffers(H,Pt),xt.viewport(P),xt.scissor(L),xt.setScissorTest(j),ae){const xe=O.get(H.texture);Y.framebufferTexture2D(36160,36064,34069+ct,xe.__webglTexture,St)}else if(ee){const xe=O.get(H.texture),He=ct||0;Y.framebufferTextureLayer(36160,36064,xe.__webglTexture,St||0,He)}E=-1},this.readRenderTargetPixels=function(H,ct,St,wt,Pt,ae,ee){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ht=O.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&ee!==void 0&&(Ht=Ht[ee]),Ht){xt.bindFramebuffer(36160,Ht);try{const xe=H.texture,He=xe.format,$e=xe.type;if(He!==cs&&vt.convert(He)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Fe=$e===Xu&&(lt.has("EXT_color_buffer_half_float")||Mt.isWebGL2&&lt.has("EXT_color_buffer_float"));if($e!==dc&&vt.convert($e)!==Y.getParameter(35738)&&!($e===$l&&(Mt.isWebGL2||lt.has("OES_texture_float")||lt.has("WEBGL_color_buffer_float")))&&!Fe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ct>=0&&ct<=H.width-wt&&St>=0&&St<=H.height-Pt&&Y.readPixels(ct,St,wt,Pt,vt.convert(He),vt.convert($e),ae)}finally{const xe=S!==null?O.get(S).__webglFramebuffer:null;xt.bindFramebuffer(36160,xe)}}},this.copyFramebufferToTexture=function(H,ct,St=0){if(ct.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const wt=Math.pow(2,-St),Pt=Math.floor(ct.image.width*wt),ae=Math.floor(ct.image.height*wt);k.setTexture2D(ct,0),Y.copyTexSubImage2D(3553,St,0,0,H.x,H.y,Pt,ae),xt.unbindTexture()},this.copyTextureToTexture=function(H,ct,St,wt=0){const Pt=ct.image.width,ae=ct.image.height,ee=vt.convert(St.format),Ht=vt.convert(St.type);k.setTexture2D(St,0),Y.pixelStorei(37440,St.flipY),Y.pixelStorei(37441,St.premultiplyAlpha),Y.pixelStorei(3317,St.unpackAlignment),ct.isDataTexture?Y.texSubImage2D(3553,wt,H.x,H.y,Pt,ae,ee,Ht,ct.image.data):ct.isCompressedTexture?Y.compressedTexSubImage2D(3553,wt,H.x,H.y,ct.mipmaps[0].width,ct.mipmaps[0].height,ee,ct.mipmaps[0].data):Y.texSubImage2D(3553,wt,H.x,H.y,ee,Ht,ct.image),wt===0&&St.generateMipmaps&&Y.generateMipmap(3553),xt.unbindTexture()},this.copyTextureToTexture3D=function(H,ct,St,wt,Pt=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ae=H.max.x-H.min.x+1,ee=H.max.y-H.min.y+1,Ht=H.max.z-H.min.z+1,xe=vt.convert(wt.format),He=vt.convert(wt.type);let $e;if(wt.isData3DTexture)k.setTexture3D(wt,0),$e=32879;else if(wt.isDataArrayTexture)k.setTexture2DArray(wt,0),$e=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,wt.flipY),Y.pixelStorei(37441,wt.premultiplyAlpha),Y.pixelStorei(3317,wt.unpackAlignment);const Fe=Y.getParameter(3314),vn=Y.getParameter(32878),qr=Y.getParameter(3316),Ss=Y.getParameter(3315),Xe=Y.getParameter(32877),Ci=St.isCompressedTexture?St.mipmaps[0]:St.image;Y.pixelStorei(3314,Ci.width),Y.pixelStorei(32878,Ci.height),Y.pixelStorei(3316,H.min.x),Y.pixelStorei(3315,H.min.y),Y.pixelStorei(32877,H.min.z),St.isDataTexture||St.isData3DTexture?Y.texSubImage3D($e,Pt,ct.x,ct.y,ct.z,ae,ee,Ht,xe,He,Ci.data):St.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D($e,Pt,ct.x,ct.y,ct.z,ae,ee,Ht,xe,Ci.data)):Y.texSubImage3D($e,Pt,ct.x,ct.y,ct.z,ae,ee,Ht,xe,He,Ci),Y.pixelStorei(3314,Fe),Y.pixelStorei(32878,vn),Y.pixelStorei(3316,qr),Y.pixelStorei(3315,Ss),Y.pixelStorei(32877,Xe),Pt===0&&wt.generateMipmaps&&Y.generateMipmap($e),xt.unbindTexture()},this.initTexture=function(H){k.setTexture2D(H,0),xt.unbindTexture()},this.resetState=function(){v=0,x=0,S=null,xt.reset(),oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}mn.prototype.isWebGLRenderer=!0;class ygt extends mn{}ygt.prototype.isWebGL1Renderer=!0;class pV extends hn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),e}}pV.prototype.isScene=!0;class $p{constructor(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Zd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ys()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ys()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ys()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}$p.prototype.isInterleavedBuffer=!0;const qi=new tt;class ep{constructor(t,e,i,r=!1){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)qi.fromBufferAttribute(this,e),qi.applyMatrix4(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)qi.fromBufferAttribute(this,e),qi.applyNormalMatrix(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)qi.fromBufferAttribute(this,e),qi.transformDirection(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return new ai(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ep(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ep.prototype.isInterleavedBufferAttribute=!0;class k1 extends ui{constructor(t){super(),this.type="SpriteMaterial",this.color=new he(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}k1.prototype.isSpriteMaterial=!0;let bu;const Bf=new tt,xu=new tt,wu=new tt,Eu=new $t,zf=new $t,mV=new ye,_g=new tt,Uf=new tt,bg=new tt,Mk=new $t,aw=new $t,Tk=new $t;class vgt extends hn{constructor(t){if(super(),this.type="Sprite",bu===void 0){bu=new Nn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new $p(e,5);bu.setIndex([0,1,2,0,2,3]),bu.setAttribute("position",new ep(i,3,0,!1)),bu.setAttribute("uv",new ep(i,2,3,!1))}this.geometry=bu,this.material=t!==void 0?t:new k1,this.center=new $t(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xu.setFromMatrixScale(this.matrixWorld),mV.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),wu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xu.multiplyScalar(-wu.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;xg(_g.set(-.5,-.5,0),wu,o,xu,r,s),xg(Uf.set(.5,-.5,0),wu,o,xu,r,s),xg(bg.set(.5,.5,0),wu,o,xu,r,s),Mk.set(0,0),aw.set(1,0),Tk.set(1,1);let a=t.ray.intersectTriangle(_g,Uf,bg,!1,Bf);if(a===null&&(xg(Uf.set(-.5,.5,0),wu,o,xu,r,s),aw.set(0,1),a=t.ray.intersectTriangle(_g,bg,Uf,!1,Bf),a===null))return;const l=t.ray.origin.distanceTo(Bf);l<t.near||l>t.far||e.push({distance:l,point:Bf.clone(),uv:Jn.getUV(Bf,_g,Uf,bg,Mk,aw,Tk,new $t),face:null,object:this})}copy(t){return super.copy(t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}vgt.prototype.isSprite=!0;function xg(n,t,e,i,r,s){Eu.subVectors(n,e).addScalar(.5).multiply(i),r!==void 0?(zf.x=s*Eu.x-r*Eu.y,zf.y=r*Eu.x+s*Eu.y):zf.copy(Eu),n.copy(t),n.x+=zf.x,n.y+=zf.y,n.applyMatrix4(mV)}const Ak=new tt,Ck=new dn,Ok=new dn,_gt=new tt,Pk=new ye;class gV extends dr{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ye,this.bindMatrixInverse=new ye}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new dn,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const i=this.skeleton,r=this.geometry;Ck.fromBufferAttribute(r.attributes.skinIndex,t),Ok.fromBufferAttribute(r.attributes.skinWeight,t),Ak.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const o=Ok.getComponent(s);if(o!==0){const a=Ck.getComponent(s);Pk.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),e.addScaledVector(_gt.copy(Ak).applyMatrix4(Pk),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}gV.prototype.isSkinnedMesh=!0;class bgt extends hn{constructor(){super(),this.type="Bone"}}bgt.prototype.isBone=!0;class xgt extends _i{constructor(t=null,e=1,i=1,r,s,o,a,l,c=di,u=di,h,f){super(null,o,a,l,c,u,r,s,h,f),this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}xgt.prototype.isDataTexture=!0;class XS extends ai{constructor(t,e,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,i),this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}XS.prototype.isInstancedBufferAttribute=!0;const Dk=new ye,Rk=new ye,wg=[],Vf=new dr;class wgt extends dr{constructor(t,e,i){super(t,e),this.instanceMatrix=new XS(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}raycast(t,e){const i=this.matrixWorld,r=this.count;if(Vf.geometry=this.geometry,Vf.material=this.material,Vf.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,Dk),Rk.multiplyMatrices(i,Dk),Vf.matrixWorld=Rk,Vf.raycast(t,wg);for(let o=0,a=wg.length;o<a;o++){const l=wg[o];l.instanceId=s,l.object=this,e.push(l)}wg.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new XS(new Float32Array(this.instanceMatrix.count*3),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}wgt.prototype.isInstancedMesh=!0;class Yh extends ui{constructor(t){super(),this.type="LineBasicMaterial",this.color=new he(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}Yh.prototype.isLineBasicMaterial=!0;const Lk=new tt,Ik=new tt,kk=new ye,lw=new jh,Eg=new Gh;class N1 extends hn{constructor(t=new Nn,e=new Yh){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[0];for(let r=1,s=e.count;r<s;r++)Lk.fromBufferAttribute(e,r-1),Ik.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=Lk.distanceTo(Ik);t.setAttribute("lineDistance",new yi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Eg.copy(i.boundingSphere),Eg.applyMatrix4(r),Eg.radius+=s,t.ray.intersectsSphere(Eg)===!1)return;kk.copy(r).invert(),lw.copy(t.ray).applyMatrix4(kk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new tt,u=new tt,h=new tt,f=new tt,p=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,y=i.attributes.position;if(m!==null){const v=Math.max(0,o.start),x=Math.min(m.count,o.start+o.count);for(let S=v,E=x-1;S<E;S+=p){const M=m.getX(S),P=m.getX(S+1);if(c.fromBufferAttribute(y,M),u.fromBufferAttribute(y,P),lw.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const j=t.ray.origin.distanceTo(f);j<t.near||j>t.far||e.push({distance:j,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let S=v,E=x-1;S<E;S+=p){if(c.fromBufferAttribute(y,S),u.fromBufferAttribute(y,S+1),lw.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const P=t.ray.origin.distanceTo(f);P<t.near||P>t.far||e.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}N1.prototype.isLine=!0;const Nk=new tt,Fk=new tt;class F1 extends N1{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[];for(let r=0,s=e.count;r<s;r+=2)Nk.fromBufferAttribute(e,r),Fk.fromBufferAttribute(e,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Nk.distanceTo(Fk);t.setAttribute("lineDistance",new yi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}F1.prototype.isLineSegments=!0;class Egt extends N1{constructor(t,e){super(t,e),this.type="LineLoop"}}Egt.prototype.isLineLoop=!0;class B1 extends ui{constructor(t){super(),this.type="PointsMaterial",this.color=new he(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}B1.prototype.isPointsMaterial=!0;const Bk=new ye,KS=new jh,Sg=new Gh,Mg=new tt;class Sgt extends hn{constructor(t=new Nn,e=new B1){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Sg.copy(i.boundingSphere),Sg.applyMatrix4(r),Sg.radius+=s,t.ray.intersectsSphere(Sg)===!1)return;Bk.copy(r).invert(),KS.copy(t.ray).applyMatrix4(Bk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,h=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let m=f,g=p;m<g;m++){const y=c.getX(m);Mg.fromBufferAttribute(h,y),zk(Mg,y,l,r,t,e,this)}}else{const f=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let m=f,g=p;m<g;m++)Mg.fromBufferAttribute(h,m),zk(Mg,m,l,r,t,e,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Sgt.prototype.isPoints=!0;function zk(n,t,e,i,r,s,o){const a=KS.distanceSqToPoint(n);if(a<e){const l=new tt;KS.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}class Mgt extends _i{constructor(t,e,i,r,s,o,a,l,c){super(t,e,i,r,s,o,a,l,c),this.minFilter=o!==void 0?o:cr,this.magFilter=s!==void 0?s:cr,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,t.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Mgt.prototype.isVideoTexture=!0;class Tgt extends _i{constructor(t,e,i){super({width:t,height:e}),this.format=i,this.magFilter=di,this.minFilter=di,this.generateMipmaps=!1,this.needsUpdate=!0}}Tgt.prototype.isFramebufferTexture=!0;class Agt extends _i{constructor(t,e,i,r,s,o,a,l,c,u,h,f){super(null,o,a,l,c,u,r,s,h,f),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}Agt.prototype.isCompressedTexture=!0;class Cgt extends _i{constructor(t,e,i,r,s,o,a,l,c){super(t,e,i,r,s,o,a,l,c),this.needsUpdate=!0}}Cgt.prototype.isCanvasTexture=!0;class $r{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),s=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),s+=i.distanceTo(r),e.push(s),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let r=0;const s=i.length;let o;e?o=e:o=t*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,p=(o-u)/f;return(r+p)/(s-1)}getTangent(t,e){let r=t-1e-4,s=t+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=e||(o.isVector2?new $t:new tt);return l.copy(a).sub(o).normalize(),l}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new tt,r=[],s=[],o=[],a=new tt,l=new ye;for(let p=0;p<=t;p++){const m=p/t;r[p]=this.getTangentAt(m,new tt)}s[0]=new tt,o[0]=new tt;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let p=1;p<=t;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Li(r[p-1].dot(r[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,m))}o[p].crossVectors(r[p],s[p])}if(e===!0){let p=Math.acos(Li(s[0].dot(s[t]),-1,1));p/=t,r[0].dot(a.crossVectors(s[0],s[t]))>0&&(p=-p);for(let m=1;m<=t;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],p*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Gb extends $r{constructor(t=0,e=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(t,e){const i=e||new $t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+t*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*h+this.aX,c=f*h+p*u+this.aY}return i.set(l,c)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Gb.prototype.isEllipseCurve=!0;class yV extends Gb{constructor(t,e,i,r,s,o){super(t,e,i,i,r,s,o),this.type="ArcCurve"}}yV.prototype.isArcCurve=!0;function z1(){let n=0,t=0,e=0,i=0;function r(s,o,a,l){n=s,t=a,e=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+h)+(l-a)/h;f*=u,p*=u,r(o,a,f,p)},calc:function(s){const o=s*s,a=o*s;return n+t*s+e*o+i*a}}}const Tg=new tt,cw=new z1,uw=new z1,hw=new z1;class vV extends $r{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new tt){const i=e,r=this.points,s=r.length,o=(s-(this.closed?0:1))*t;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Tg.subVectors(r[0],r[1]).add(r[0]),c=Tg);const h=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Tg.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Tg),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(h),p),g=Math.pow(h.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(u),p);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),cw.initNonuniformCatmullRom(c.x,h.x,f.x,u.x,m,g,y),uw.initNonuniformCatmullRom(c.y,h.y,f.y,u.y,m,g,y),hw.initNonuniformCatmullRom(c.z,h.z,f.z,u.z,m,g,y)}else this.curveType==="catmullrom"&&(cw.initCatmullRom(c.x,h.x,f.x,u.x,this.tension),uw.initCatmullRom(c.y,h.y,f.y,u.y,this.tension),hw.initCatmullRom(c.z,h.z,f.z,u.z,this.tension));return i.set(cw.calc(l),uw.calc(l),hw.calc(l)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new tt().fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}vV.prototype.isCatmullRomCurve3=!0;function Uk(n,t,e,i,r){const s=(i-t)*.5,o=(r-e)*.5,a=n*n,l=n*a;return(2*e-2*i+s+o)*l+(-3*e+3*i-2*s-o)*a+s*n+e}function Ogt(n,t){const e=1-n;return e*e*t}function Pgt(n,t){return 2*(1-n)*n*t}function Dgt(n,t){return n*n*t}function vd(n,t,e,i){return Ogt(n,t)+Pgt(n,e)+Dgt(n,i)}function Rgt(n,t){const e=1-n;return e*e*e*t}function Lgt(n,t){const e=1-n;return 3*e*e*n*t}function Igt(n,t){return 3*(1-n)*n*n*t}function kgt(n,t){return n*n*n*t}function _d(n,t,e,i,r){return Rgt(n,t)+Lgt(n,e)+Igt(n,i)+kgt(n,r)}class U1 extends $r{constructor(t=new $t,e=new $t,i=new $t,r=new $t){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new $t){const i=e,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(_d(t,r.x,s.x,o.x,a.x),_d(t,r.y,s.y,o.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}U1.prototype.isCubicBezierCurve=!0;class _V extends $r{constructor(t=new tt,e=new tt,i=new tt,r=new tt){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new tt){const i=e,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(_d(t,r.x,s.x,o.x,a.x),_d(t,r.y,s.y,o.y,a.y),_d(t,r.z,s.z,o.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}_V.prototype.isCubicBezierCurve3=!0;class jb extends $r{constructor(t=new $t,e=new $t){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new $t){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const i=e||new $t;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}jb.prototype.isLineCurve=!0;class Ngt extends $r{constructor(t=new tt,e=new tt){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new tt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class V1 extends $r{constructor(t=new $t,e=new $t,i=new $t){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new $t){const i=e,r=this.v0,s=this.v1,o=this.v2;return i.set(vd(t,r.x,s.x,o.x),vd(t,r.y,s.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}V1.prototype.isQuadraticBezierCurve=!0;class bV extends $r{constructor(t=new tt,e=new tt,i=new tt){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new tt){const i=e,r=this.v0,s=this.v1,o=this.v2;return i.set(vd(t,r.x,s.x,o.x),vd(t,r.y,s.y,o.y),vd(t,r.z,s.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}bV.prototype.isQuadraticBezierCurve3=!0;class H1 extends $r{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new $t){const i=e,r=this.points,s=(r.length-1)*t,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(Uk(a,l.x,c.x,u.x,h.x),Uk(a,l.y,c.y,u.y,h.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new $t().fromArray(r))}return this}}H1.prototype.isSplineCurve=!0;var xV=Object.freeze({__proto__:null,ArcCurve:yV,CatmullRomCurve3:vV,CubicBezierCurve:U1,CubicBezierCurve3:_V,EllipseCurve:Gb,LineCurve:jb,LineCurve3:Ngt,QuadraticBezierCurve:V1,QuadraticBezierCurve3:bV,SplineCurve:H1});class Fgt extends $r{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new jb(e,t))}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,e)}s++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(e.push(u),i=u)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(new xV[r.type]().fromJSON(r))}return this}}class QS extends Fgt{constructor(t){super(),this.type="Path",this.currentPoint=new $t,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new jb(this.currentPoint.clone(),new $t(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const s=new V1(this.currentPoint.clone(),new $t(t,e),new $t(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,s,o){const a=new U1(this.currentPoint.clone(),new $t(t,e),new $t(i,r),new $t(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new H1(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(t+a,e+l,i,r,s,o),this}absarc(t,e,i,r,s,o){return this.absellipse(t,e,i,i,r,s,o),this}ellipse(t,e,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+c,e+u,i,r,s,o,a,l),this}absellipse(t,e,i,r,s,o,a,l){const c=new Gb(t,e,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new tt;new tt;new tt;new Jn;class Wp extends QS{constructor(t){super(t),this.uuid=Ys(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(new QS().fromJSON(r))}return this}}const Bgt={triangulate:function(n,t,e=2){const i=t&&t.length,r=i?t[0]*e:n.length;let s=wV(n,0,r,e,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,f,p;if(i&&(s=$gt(n,t,s,e)),n.length>80*e){a=c=n[0],l=u=n[1];for(let m=e;m<r;m+=e)h=n[m],f=n[m+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);p=Math.max(c-a,u-l),p=p!==0?1/p:0}return np(s,o,e,a,l,p),o}};function wV(n,t,e,i,r){let s,o;if(r===tyt(n,t,e,i)>0)for(s=t;s<e;s+=i)o=Vk(s,n[s],n[s+1],o);else for(s=e-i;s>=t;s-=i)o=Vk(s,n[s],n[s+1],o);return o&&qb(o,o.next)&&(rp(o),o=o.next),o}function Ba(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(qb(e,e.next)||Un(e.prev,e,e.next)===0)){if(rp(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function np(n,t,e,i,r,s,o){if(!n)return;!o&&s&&Ygt(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Ugt(n,i,r,s):zgt(n)){t.push(l.i/e),t.push(n.i/e),t.push(c.i/e),rp(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Vgt(Ba(n),t,e),np(n,t,e,i,r,s,2)):o===2&&Hgt(n,t,e,i,r,s):np(Ba(n),t,e,i,r,s,1);break}}}function zgt(n){const t=n.prev,e=n,i=n.next;if(Un(t,e,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(Nu(t.x,t.y,e.x,e.y,i.x,i.y,r.x,r.y)&&Un(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Ugt(n,t,e,i){const r=n.prev,s=n,o=n.next;if(Un(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=JS(a,l,t,e,i),f=JS(c,u,t,e,i);let p=n.prevZ,m=n.nextZ;for(;p&&p.z>=h&&m&&m.z<=f;){if(p!==n.prev&&p!==n.next&&Nu(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Un(p.prev,p,p.next)>=0||(p=p.prevZ,m!==n.prev&&m!==n.next&&Nu(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Un(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;p&&p.z>=h;){if(p!==n.prev&&p!==n.next&&Nu(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Un(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==n.prev&&m!==n.next&&Nu(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Un(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Vgt(n,t,e){let i=n;do{const r=i.prev,s=i.next.next;!qb(r,s)&&EV(r,i,i.next,s)&&ip(r,s)&&ip(s,r)&&(t.push(r.i/e),t.push(i.i/e),t.push(s.i/e),rp(i),rp(i.next),i=n=s),i=i.next}while(i!==n);return Ba(i)}function Hgt(n,t,e,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Qgt(o,a)){let l=SV(o,a);o=Ba(o,o.next),l=Ba(l,l.next),np(o,t,e,i,r,s),np(l,t,e,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function $gt(n,t,e,i){const r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;s++)a=t[s]*i,l=s<o-1?t[s+1]*i:n.length,c=wV(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Kgt(c));for(r.sort(Wgt),s=0;s<r.length;s++)Ggt(r[s],e),e=Ba(e,e.next);return e}function Wgt(n,t){return n.x-t.x}function Ggt(n,t){if(t=jgt(n,t),t){const e=SV(t,n);Ba(t,t.next),Ba(e,e.next)}}function jgt(n,t){let e=t;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const f=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(f<=i&&f>s){if(s=f,f===i){if(r===e.y)return e;if(r===e.next.y)return e.next}o=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,h;e=o;do i>=e.x&&e.x>=l&&i!==e.x&&Nu(r<c?i:s,r,l,c,r<c?s:i,r,e.x,e.y)&&(h=Math.abs(r-e.y)/(i-e.x),ip(e,n)&&(h<u||h===u&&(e.x>o.x||e.x===o.x&&qgt(o,e)))&&(o=e,u=h)),e=e.next;while(e!==a);return o}function qgt(n,t){return Un(n.prev,n,t.prev)<0&&Un(t.next,n,n.next)<0}function Ygt(n,t,e,i){let r=n;do r.z===null&&(r.z=JS(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Xgt(r)}function Xgt(n){let t,e,i,r,s,o,a,l,c=1;do{for(e=n,n=null,s=null,o=0;e;){for(o++,i=e,a=0,t=0;t<c&&(a++,i=i.nextZ,!!i);t++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||e.z<=i.z)?(r=e,e=e.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;e=i}s.nextZ=null,c*=2}while(o>1);return n}function JS(n,t,e,i,r){return n=32767*(n-e)*r,t=32767*(t-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function Kgt(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function Nu(n,t,e,i,r,s,o,a){return(r-o)*(t-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(e-o)*(t-a)>=0&&(e-o)*(s-a)-(r-o)*(i-a)>=0}function Qgt(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!Jgt(n,t)&&(ip(n,t)&&ip(t,n)&&Zgt(n,t)&&(Un(n.prev,n,t.prev)||Un(n,t.prev,t))||qb(n,t)&&Un(n.prev,n,n.next)>0&&Un(t.prev,t,t.next)>0)}function Un(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function qb(n,t){return n.x===t.x&&n.y===t.y}function EV(n,t,e,i){const r=Cg(Un(n,t,e)),s=Cg(Un(n,t,i)),o=Cg(Un(e,i,n)),a=Cg(Un(e,i,t));return!!(r!==s&&o!==a||r===0&&Ag(n,e,t)||s===0&&Ag(n,i,t)||o===0&&Ag(e,n,i)||a===0&&Ag(e,t,i))}function Ag(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function Cg(n){return n>0?1:n<0?-1:0}function Jgt(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&EV(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function ip(n,t){return Un(n.prev,n,n.next)<0?Un(n,t,n.next)>=0&&Un(n,n.prev,t)>=0:Un(n,t,n.prev)<0||Un(n,n.next,t)<0}function Zgt(n,t){let e=n,i=!1;const r=(n.x+t.x)/2,s=(n.y+t.y)/2;do e.y>s!=e.next.y>s&&e.next.y!==e.y&&r<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function SV(n,t){const e=new ZS(n.i,n.x,n.y),i=new ZS(t.i,t.x,t.y),r=n.next,s=t.prev;return n.next=t,t.prev=n,e.next=r,r.prev=e,i.next=e,e.prev=i,s.next=i,i.prev=s,i}function Vk(n,t,e,i){const r=new ZS(n,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function rp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ZS(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tyt(n,t,e,i){let r=0;for(let s=t,o=e-i;s<e;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Ca{static area(t){const e=t.length;let i=0;for(let r=e-1,s=0;s<e;r=s++)i+=t[r].x*t[s].y-t[s].x*t[r].y;return i*.5}static isClockWise(t){return Ca.area(t)<0}static triangulateShape(t,e){const i=[],r=[],s=[];Hk(t),$k(i,t);let o=t.length;e.forEach(Hk);for(let l=0;l<e.length;l++)r.push(o),o+=e[l].length,$k(i,e[l]);const a=Bgt.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Hk(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function $k(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class Xh extends Nn{constructor(t=new Wp([new $t(.5,.5),new $t(-.5,.5),new $t(-.5,-.5),new $t(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],s=[];for(let a=0,l=t.length;a<l;a++){const c=t[a];o(c)}this.setAttribute("position",new yi(r,3)),this.setAttribute("uv",new yi(s,2)),this.computeVertexNormals();function o(a){const l=[],c=e.curveSegments!==void 0?e.curveSegments:12,u=e.steps!==void 0?e.steps:1;let h=e.depth!==void 0?e.depth:1,f=e.bevelEnabled!==void 0?e.bevelEnabled:!0,p=e.bevelThickness!==void 0?e.bevelThickness:.2,m=e.bevelSize!==void 0?e.bevelSize:p-.1,g=e.bevelOffset!==void 0?e.bevelOffset:0,y=e.bevelSegments!==void 0?e.bevelSegments:3;const v=e.extrudePath,x=e.UVGenerator!==void 0?e.UVGenerator:eyt;e.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=e.amount);let S,E=!1,M,P,L,j;v&&(S=v.getSpacedPoints(u),E=!0,f=!1,M=v.computeFrenetFrames(u,!1),P=new tt,L=new tt,j=new tt),f||(y=0,p=0,m=0,g=0);const W=a.extractPoints(c);let U=W.shape;const A=W.holes;if(!Ca.isClockWise(U)){U=U.reverse();for(let O=0,k=A.length;O<k;O++){const $=A[O];Ca.isClockWise($)&&(A[O]=$.reverse())}}const nt=Ca.triangulateShape(U,A),q=U;for(let O=0,k=A.length;O<k;O++){const $=A[O];U=U.concat($)}function D(O,k,$){return k||console.error("THREE.ExtrudeGeometry: vec does not exist"),k.clone().multiplyScalar($).add(O)}const G=U.length,Z=nt.length;function V(O,k,$){let X,rt,mt;const yt=O.x-k.x,ht=O.y-k.y,Tt=$.x-O.x,bt=$.y-O.y,N=yt*yt+ht*ht,R=yt*bt-ht*Tt;if(Math.abs(R)>Number.EPSILON){const st=Math.sqrt(N),gt=Math.sqrt(Tt*Tt+bt*bt),Ot=k.x-ht/st,kt=k.y+yt/st,Wt=$.x-bt/gt,vt=$.y+Tt/gt,oe=((Wt-Ot)*bt-(vt-kt)*Tt)/(yt*bt-ht*Tt);X=Ot+yt*oe-O.x,rt=kt+ht*oe-O.y;const ge=X*X+rt*rt;if(ge<=2)return new $t(X,rt);mt=Math.sqrt(ge/2)}else{let st=!1;yt>Number.EPSILON?Tt>Number.EPSILON&&(st=!0):yt<-Number.EPSILON?Tt<-Number.EPSILON&&(st=!0):Math.sign(ht)===Math.sign(bt)&&(st=!0),st?(X=-ht,rt=yt,mt=Math.sqrt(N)):(X=yt,rt=ht,mt=Math.sqrt(N/2))}return new $t(X/mt,rt/mt)}const Q=[];for(let O=0,k=q.length,$=k-1,X=O+1;O<k;O++,$++,X++)$===k&&($=0),X===k&&(X=0),Q[O]=V(q[O],q[$],q[X]);const ut=[];let _t,at=Q.concat();for(let O=0,k=A.length;O<k;O++){const $=A[O];_t=[];for(let X=0,rt=$.length,mt=rt-1,yt=X+1;X<rt;X++,mt++,yt++)mt===rt&&(mt=0),yt===rt&&(yt=0),_t[X]=V($[X],$[mt],$[yt]);ut.push(_t),at=at.concat(_t)}for(let O=0;O<y;O++){const k=O/y,$=p*Math.cos(k*Math.PI/2),X=m*Math.sin(k*Math.PI/2)+g;for(let rt=0,mt=q.length;rt<mt;rt++){const yt=D(q[rt],Q[rt],X);Et(yt.x,yt.y,-$)}for(let rt=0,mt=A.length;rt<mt;rt++){const yt=A[rt];_t=ut[rt];for(let ht=0,Tt=yt.length;ht<Tt;ht++){const bt=D(yt[ht],_t[ht],X);Et(bt.x,bt.y,-$)}}}const Ct=m+g;for(let O=0;O<G;O++){const k=f?D(U[O],at[O],Ct):U[O];E?(L.copy(M.normals[0]).multiplyScalar(k.x),P.copy(M.binormals[0]).multiplyScalar(k.y),j.copy(S[0]).add(L).add(P),Et(j.x,j.y,j.z)):Et(k.x,k.y,0)}for(let O=1;O<=u;O++)for(let k=0;k<G;k++){const $=f?D(U[k],at[k],Ct):U[k];E?(L.copy(M.normals[O]).multiplyScalar($.x),P.copy(M.binormals[O]).multiplyScalar($.y),j.copy(S[O]).add(L).add(P),Et(j.x,j.y,j.z)):Et($.x,$.y,h/u*O)}for(let O=y-1;O>=0;O--){const k=O/y,$=p*Math.cos(k*Math.PI/2),X=m*Math.sin(k*Math.PI/2)+g;for(let rt=0,mt=q.length;rt<mt;rt++){const yt=D(q[rt],Q[rt],X);Et(yt.x,yt.y,h+$)}for(let rt=0,mt=A.length;rt<mt;rt++){const yt=A[rt];_t=ut[rt];for(let ht=0,Tt=yt.length;ht<Tt;ht++){const bt=D(yt[ht],_t[ht],X);E?Et(bt.x,bt.y+S[u-1].y,S[u-1].x+$):Et(bt.x,bt.y,h+$)}}}Lt(),et();function Lt(){const O=r.length/3;if(f){let k=0,$=G*k;for(let X=0;X<Z;X++){const rt=nt[X];lt(rt[2]+$,rt[1]+$,rt[0]+$)}k=u+y*2,$=G*k;for(let X=0;X<Z;X++){const rt=nt[X];lt(rt[0]+$,rt[1]+$,rt[2]+$)}}else{for(let k=0;k<Z;k++){const $=nt[k];lt($[2],$[1],$[0])}for(let k=0;k<Z;k++){const $=nt[k];lt($[0]+G*u,$[1]+G*u,$[2]+G*u)}}i.addGroup(O,r.length/3-O,0)}function et(){const O=r.length/3;let k=0;Y(q,k),k+=q.length;for(let $=0,X=A.length;$<X;$++){const rt=A[$];Y(rt,k),k+=rt.length}i.addGroup(O,r.length/3-O,1)}function Y(O,k){let $=O.length;for(;--$>=0;){const X=$;let rt=$-1;rt<0&&(rt=O.length-1);for(let mt=0,yt=u+y*2;mt<yt;mt++){const ht=G*mt,Tt=G*(mt+1),bt=k+X+ht,N=k+rt+ht,R=k+rt+Tt,st=k+X+Tt;Mt(bt,N,R,st)}}}function Et(O,k,$){l.push(O),l.push(k),l.push($)}function lt(O,k,$){xt(O),xt(k),xt($);const X=r.length/3,rt=x.generateTopUV(i,r,X-3,X-2,X-1);Rt(rt[0]),Rt(rt[1]),Rt(rt[2])}function Mt(O,k,$,X){xt(O),xt(k),xt(X),xt(k),xt($),xt(X);const rt=r.length/3,mt=x.generateSideWallUV(i,r,rt-6,rt-3,rt-2,rt-1);Rt(mt[0]),Rt(mt[1]),Rt(mt[3]),Rt(mt[1]),Rt(mt[2]),Rt(mt[3])}function xt(O){r.push(l[O*3+0]),r.push(l[O*3+1]),r.push(l[O*3+2])}function Rt(O){s.push(O.x),s.push(O.y)}}}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return nyt(e,i,t)}static fromJSON(t,e){const i=[];for(let s=0,o=t.shapes.length;s<o;s++){const a=e[t.shapes[s]];i.push(a)}const r=t.options.extrudePath;return r!==void 0&&(t.options.extrudePath=new xV[r.type]().fromJSON(r)),new Xh(i,t.options)}}const eyt={generateTopUV:function(n,t,e,i,r){const s=t[e*3],o=t[e*3+1],a=t[i*3],l=t[i*3+1],c=t[r*3],u=t[r*3+1];return[new $t(s,o),new $t(a,l),new $t(c,u)]},generateSideWallUV:function(n,t,e,i,r,s){const o=t[e*3],a=t[e*3+1],l=t[e*3+2],c=t[i*3],u=t[i*3+1],h=t[i*3+2],f=t[r*3],p=t[r*3+1],m=t[r*3+2],g=t[s*3],y=t[s*3+1],v=t[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new $t(o,1-l),new $t(c,1-h),new $t(f,1-m),new $t(g,1-v)]:[new $t(a,1-l),new $t(u,1-h),new $t(p,1-m),new $t(y,1-v)]}};function nyt(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class $1 extends Nn{constructor(t=new Wp([new $t(0,.5),new $t(-.5,-.5),new $t(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(t)===!1)c(t);else for(let u=0;u<t.length;u++)c(t[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new yi(r,3)),this.setAttribute("normal",new yi(s,3)),this.setAttribute("uv",new yi(o,2));function c(u){const h=r.length/3,f=u.extractPoints(e);let p=f.shape;const m=f.holes;Ca.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,v=m.length;y<v;y++){const x=m[y];Ca.isClockWise(x)===!0&&(m[y]=x.reverse())}const g=Ca.triangulateShape(p,m);for(let y=0,v=m.length;y<v;y++){const x=m[y];p=p.concat(x)}for(let y=0,v=p.length;y<v;y++){const x=p[y];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,v=g.length;y<v;y++){const x=g[y],S=x[0]+h,E=x[1]+h,M=x[2]+h;i.push(S,E,M),l+=3}}}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return iyt(e,t)}static fromJSON(t,e){const i=[];for(let r=0,s=t.shapes.length;r<s;r++){const o=e[t.shapes[r]];i.push(o)}return new $1(i,t.curveSegments)}}function iyt(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const r=n[e];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t}class MV extends ui{constructor(t){super(),this.type="ShadowMaterial",this.color=new he(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}MV.prototype.isShadowMaterial=!0;class TV extends gs{constructor(t){super(t),this.type="RawShaderMaterial"}}TV.prototype.isRawShaderMaterial=!0;class W1 extends ui{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new he(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}W1.prototype.isMeshStandardMaterial=!0;class AV extends W1{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $t(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Li(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new he(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new he(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new he(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}AV.prototype.isMeshPhysicalMaterial=!0;class CV extends ui{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new he(16777215),this.specular=new he(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}CV.prototype.isMeshPhongMaterial=!0;class OV extends ui{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new he(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}OV.prototype.isMeshToonMaterial=!0;class PV extends ui{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}PV.prototype.isMeshNormalMaterial=!0;class DV extends ui{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new he(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}DV.prototype.isMeshLambertMaterial=!0;class RV extends ui{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new he(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}RV.prototype.isMeshMatcapMaterial=!0;class LV extends Yh{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}LV.prototype.isLineDashedMaterial=!0;const ryt={ShadowMaterial:MV,SpriteMaterial:k1,RawShaderMaterial:TV,ShaderMaterial:gs,PointsMaterial:B1,MeshPhysicalMaterial:AV,MeshStandardMaterial:W1,MeshPhongMaterial:CV,MeshToonMaterial:OV,MeshNormalMaterial:PV,MeshLambertMaterial:DV,MeshDepthMaterial:L1,MeshDistanceMaterial:I1,MeshBasicMaterial:Vb,MeshMatcapMaterial:RV,LineDashedMaterial:LV,LineBasicMaterial:Yh,Material:ui};ui.fromType=function(n){return new ryt[n]};const Ln={arraySlice:function(n,t,e){return Ln.isTypedArray(n)?new n.constructor(n.subarray(t,e!==void 0?e:n.length)):n.slice(t,e)},convertArray:function(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function t(r,s){return n[r]-n[s]}const e=n.length,i=new Array(e);for(let r=0;r!==e;++r)i[r]=r;return i.sort(t),i},sortedArray:function(n,t,e){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=e[s]*t;for(let l=0;l!==t;++l)r[o++]=n[a+l]}return r},flattenJSON:function(n,t,e,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(t.push(s.time),e.push.apply(e,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(t.push(s.time),o.toArray(e,e.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(t.push(s.time),e.push(o)),s=n[r++];while(s!==void 0)},subclip:function(n,t,e,i,r=30){const s=n.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],f=[];for(let p=0;p<c.times.length;++p){const m=c.times[p]*r;if(!(m<e||m>=i)){h.push(c.times[p]);for(let g=0;g<u;++g)f.push(c.values[p*u+g])}}h.length!==0&&(c.times=Ln.convertArray(h,c.times.constructor),c.values=Ln.convertArray(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,t=0,e=n,i=30){i<=0&&(i=30);const r=e.tracks.length,s=t/i;for(let o=0;o<r;++o){const a=e.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const m=a.times.length-1;let g;if(s<=a.times[0]){const v=u,x=h-u;g=Ln.arraySlice(a.values,v,x)}else if(s>=a.times[m]){const v=m*h+u,x=v+h-u;g=Ln.arraySlice(a.values,v,x)}else{const v=a.createInterpolant(),x=u,S=h-u;v.evaluate(s),g=Ln.arraySlice(v.resultBuffer,x,S)}l==="quaternion"&&new zi().fromArray(g).normalize().conjugate().toArray(g);const y=c.times.length;for(let v=0;v<y;++v){const x=v*p+f;if(l==="quaternion")zi.multiplyQuaternionsFlat(c.values,x,g,0,c.values,x);else{const S=p-f*2;for(let E=0;E<S;++E)c.values[x+E]-=g[E]}}}return n.blendMode=XU,n}};class za{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],s=e[i-1];t:{e:{let o;n:{i:if(!(t<r)){for(let a=i+2;;){if(r===void 0){if(t<s)break i;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,s)}if(i===a)break;if(s=r,r=e[++i],t<r)break e}o=e.length;break n}if(!(t>=s)){const a=e[1];t<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===l)break;if(r=s,s=e[--i-1],t>=s)break e}o=i,i=0;break n}break t}for(;i<o;){const a=i+o>>>1;t<e[a]?o=a:i=a+1}if(r=e[i],s=e[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(r===void 0)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,s,t)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r;for(let o=0;o!==r;++o)e[o]=i[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}za.prototype.beforeStart_=za.prototype.copySampleValue_;za.prototype.afterEnd_=za.prototype.copySampleValue_;class syt extends za{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Lu,endingEnd:Lu}}intervalChanged_(t,e,i){const r=this.parameterPositions;let s=t-2,o=t+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Iu:s=t,a=2*e-i;break;case u_:s=r.length-2,a=e+r[s]-r[s+1];break;default:s=t,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Iu:o=t,l=2*i-e;break;case u_:o=1,l=i+r[1]-r[0];break;default:o=t-1,l=e}const c=(i-e)*.5,u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,p=this._weightNext,m=(i-e)/(r-e),g=m*m,y=g*m,v=-f*y+2*f*g-f*m,x=(1+f)*y+(-1.5-2*f)*g+(-.5+f)*m+1,S=(-1-p)*y+(1.5+p)*g+.5*m,E=p*y-p*g;for(let M=0;M!==a;++M)s[M]=v*o[u+M]+x*o[c+M]+S*o[l+M]+E*o[h+M];return s}}class IV extends za{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=(i-e)/(r-e),h=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*h+o[l+f]*u;return s}}class oyt extends za{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Zs{constructor(t,e,i,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ln.convertArray(e,this.TimeBufferType),this.values=Ln.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Ln.convertArray(t.times,Array),values:Ln.convertArray(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new oyt(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new IV(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new syt(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case l_:e=this.InterpolantFactoryMethodDiscrete;break;case c_:e=this.InterpolantFactoryMethodLinear;break;case Dx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return l_;case this.InterpolantFactoryMethodLinear:return c_;case this.InterpolantFactoryMethodSmooth:return Dx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<t;)++s;for(;o!==-1&&i[o]>e;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ln.arraySlice(i,s,o),this.values=Ln.arraySlice(this.values,s*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(r!==void 0&&Ln.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){const t=Ln.arraySlice(this.times),e=Ln.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===Dx,s=t.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=t[a],u=t[a+1];if(c!==u&&(a!==1||c!==t[0]))if(r)l=!0;else{const h=a*i,f=h-i,p=h+i;for(let m=0;m!==i;++m){const g=e[h+m];if(g!==e[f+m]||g!==e[p+m]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const h=a*i,f=o*i;for(let p=0;p!==i;++p)e[f+p]=e[h+p]}++o}}if(s>0){t[o]=t[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)e[l+c]=e[a+c];++o}return o!==t.length?(this.times=Ln.arraySlice(t,0,o),this.values=Ln.arraySlice(e,0,o*i)):(this.times=t,this.values=e),this}clone(){const t=Ln.arraySlice(this.times,0),e=Ln.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Zs.prototype.TimeBufferType=Float32Array;Zs.prototype.ValueBufferType=Float32Array;Zs.prototype.DefaultInterpolation=c_;class Kh extends Zs{}Kh.prototype.ValueTypeName="bool";Kh.prototype.ValueBufferType=Array;Kh.prototype.DefaultInterpolation=l_;Kh.prototype.InterpolantFactoryMethodLinear=void 0;Kh.prototype.InterpolantFactoryMethodSmooth=void 0;class kV extends Zs{}kV.prototype.ValueTypeName="color";class f_ extends Zs{}f_.prototype.ValueTypeName="number";class ayt extends za{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-e)/(r-e);let c=t*a;for(let u=c+a;c!==u;c+=4)zi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Gp extends Zs{InterpolantFactoryMethodLinear(t){return new ayt(this.times,this.values,this.getValueSize(),t)}}Gp.prototype.ValueTypeName="quaternion";Gp.prototype.DefaultInterpolation=c_;Gp.prototype.InterpolantFactoryMethodSmooth=void 0;class Qh extends Zs{}Qh.prototype.ValueTypeName="string";Qh.prototype.ValueBufferType=Array;Qh.prototype.DefaultInterpolation=l_;Qh.prototype.InterpolantFactoryMethodLinear=void 0;Qh.prototype.InterpolantFactoryMethodSmooth=void 0;class d_ extends Zs{}d_.prototype.ValueTypeName="vector";class Wk{constructor(t,e=-1,i,r=T1){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=Ys(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let o=0,a=i.length;o!==a;++o)e.push(cyt(i[o]).scale(r));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,o=i.length;s!==o;++s)e.push(Zs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const s=e.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Ln.getKeyframeOrder(l);l=Ln.sortedArray(l,1,u),c=Ln.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new f_(".morphTargetInfluences["+e[a].name+"]",l,c).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const r=t;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){const c=t[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let f=r[h];f||(r[h]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,f,p,m,g){if(p.length!==0){const y=[],v=[];Ln.flattenJSON(p,y,v,m),y.length!==0&&g.push(new h(f,y,v))}},r=[],s=t.name||"default",o=t.fps||30,a=t.blendMode;let l=t.length||-1;const c=t.hierarchy||[];for(let h=0;h<c.length;h++){const f=c[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let g=0;g<f[m].morphTargets.length;g++)p[f[m].morphTargets[g]]=-1;for(const g in p){const y=[],v=[];for(let x=0;x!==f[m].morphTargets.length;++x){const S=f[m];y.push(S.time),v.push(S.morphTarget===g?1:0)}r.push(new f_(".morphTargetInfluence["+g+"]",y,v))}l=p.length*o}else{const p=".bones["+e[h].name+"]";i(d_,p+".position",f,"pos",r),i(Gp,p+".quaternion",f,"rot",r),i(d_,p+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,r=t.length;i!==r;++i){const s=this.tracks[i];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lyt(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return f_;case"vector":case"vector2":case"vector3":case"vector4":return d_;case"color":return kV;case"quaternion":return Gp;case"bool":case"boolean":return Kh;case"string":return Qh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function cyt(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=lyt(n.type);if(n.times===void 0){const e=[],i=[];Ln.flattenJSON(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const Ah={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class uyt{constructor(t,e,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,f=c.length;h<f;h+=2){const p=c[h],m=c[h+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const hyt=new uyt;class Ja{constructor(t){this.manager=t!==void 0?t:hyt,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(r,s){i.load(t,r,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const ho={};class fyt extends Ja{constructor(t){super(t)}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=Ah.get(t);if(s!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(ho[t]!==void 0){ho[t].push({onLoad:e,onProgress:i,onError:r});return}ho[t]=[],ho[t].push({onLoad:e,onProgress:i,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ho[t],h=c.body.getReader(),f=c.headers.get("Content-Length"),p=f?parseInt(f):0,m=p!==0;let g=0;const y=new ReadableStream({start(v){x();function x(){h.read().then(({done:S,value:E})=>{if(S)v.close();else{g+=E.byteLength;const M=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:p});for(let P=0,L=u.length;P<L;P++){const j=u[P];j.onProgress&&j.onProgress(M)}v.enqueue(E),x()}})}}});return new Response(y)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(m=>p.decode(m))}}}).then(c=>{Ah.add(t,c);const u=ho[t];delete ho[t];for(let h=0,f=u.length;h<f;h++){const p=u[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=ho[t];if(u===void 0)throw this.manager.itemError(t),c;delete ho[t];for(let h=0,f=u.length;h<f;h++){const p=u[h];p.onError&&p.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class NV extends Ja{constructor(t){super(t)}load(t,e,i,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=Ah.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a=tp("img");function l(){u(),Ah.add(t,this),e&&e(this),s.manager.itemEnd(t)}function c(h){u(),r&&r(h),s.manager.itemError(t),s.manager.itemEnd(t)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(t),a.src=t,a}}class dyt extends Ja{constructor(t){super(t)}load(t,e,i,r){const s=new Hb,o=new NV(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(t[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,e&&e(s))},void 0,r)}for(let c=0;c<t.length;++c)l(c);return s}}class pyt extends Ja{constructor(t){super(t)}load(t,e,i,r){const s=new _i,o=new NV(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(a){s.image=a,s.needsUpdate=!0,e!==void 0&&e(s)},i,r),s}}class Js extends hn{constructor(t,e=1){super(),this.type="Light",this.color=new he(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}Js.prototype.isLight=!0;class myt extends Js{constructor(t,e,i){super(t,i),this.type="HemisphereLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.groundColor=new he(e)}copy(t){return Js.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}myt.prototype.isHemisphereLight=!0;const Gk=new ye,jk=new tt,qk=new tt;class G1{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $t(512,512),this.map=null,this.mapPass=null,this.matrix=new ye,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $b,this._frameExtents=new $t(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;jk.setFromMatrixPosition(t.matrixWorld),e.position.copy(jk),qk.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(qk),e.updateMatrixWorld(),Gk.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gk),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class FV extends G1{constructor(){super(new ur(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,i=jS*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(i!==e.fov||r!==e.aspect||s!==e.far)&&(e.fov=i,e.aspect=r,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}FV.prototype.isSpotLightShadow=!0;class gyt extends Js{constructor(t,e,i=0,r=Math.PI/3,s=0,o=1){super(t,e),this.type="SpotLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.target=new hn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new FV}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}gyt.prototype.isSpotLight=!0;const Yk=new ye,Hf=new tt,fw=new tt;class BV extends G1{constructor(){super(new ur(90,1,.5,500)),this._frameExtents=new $t(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new tt(1,0,0),new tt(-1,0,0),new tt(0,0,1),new tt(0,0,-1),new tt(0,1,0),new tt(0,-1,0)],this._cubeUps=[new tt(0,1,0),new tt(0,1,0),new tt(0,1,0),new tt(0,1,0),new tt(0,0,1),new tt(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,s=t.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Hf.setFromMatrixPosition(t.matrixWorld),i.position.copy(Hf),fw.copy(i.position),fw.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(fw),i.updateMatrixWorld(),r.makeTranslation(-Hf.x,-Hf.y,-Hf.z),Yk.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Yk)}}BV.prototype.isPointLightShadow=!0;class yyt extends Js{constructor(t,e,i=0,r=1){super(t,e),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new BV}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}yyt.prototype.isPointLight=!0;class zV extends G1{constructor(){super(new D1(-5,5,5,-5,.5,500))}}zV.prototype.isDirectionalLightShadow=!0;class vyt extends Js{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.target=new hn,this.shadow=new zV}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}vyt.prototype.isDirectionalLight=!0;class _yt extends Js{constructor(t,e){super(t,e),this.type="AmbientLight"}}_yt.prototype.isAmbientLight=!0;class byt extends Js{constructor(t,e,i=10,r=10){super(t,e),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}byt.prototype.isRectAreaLight=!0;class UV{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new tt)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,r=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*s),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*r)),e.addScaledVector(o[5],1.092548*(r*s)),e.addScaledVector(o[6],.315392*(3*s*s-1)),e.addScaledVector(o[7],1.092548*(i*s)),e.addScaledVector(o[8],.546274*(i*i-r*r)),e}getIrradianceAt(t,e){const i=t.x,r=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*r),e.addScaledVector(o[2],2*.511664*s),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*r),e.addScaledVector(o[5],2*.429043*r*s),e.addScaledVector(o[6],.743125*s*s-.247708),e.addScaledVector(o[7],2*.429043*i*s),e.addScaledVector(o[8],.429043*(i*i-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,e+r*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,e+r*3);return t}static getBasisAt(t,e){const i=t.x,r=t.y,s=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*s,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*s,e[6]=.315392*(3*s*s-1),e[7]=1.092548*i*s,e[8]=.546274*(i*i-r*r)}}UV.prototype.isSphericalHarmonics3=!0;class j1 extends Js{constructor(t=new UV,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}j1.prototype.isLightProbe=!0;class xyt{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class wyt extends Nn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}wyt.prototype.isInstancedBufferGeometry=!0;class Eyt extends Ja{constructor(t){super(t),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=Ah.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ah.add(t,l),e&&e(l),s.manager.itemEnd(t)}).catch(function(l){r&&r(l),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}}Eyt.prototype.isImageBitmapLoader=!0;let Og;const Syt={getContext:function(){return Og===void 0&&(Og=new(window.AudioContext||window.webkitAudioContext)),Og},setContext:function(n){Og=n}};class Myt extends Ja{constructor(t){super(t)}load(t,e,i,r){const s=this,o=new fyt(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{const l=a.slice(0);Syt.getContext().decodeAudioData(l,function(u){e(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(t)}},i,r)}}class Tyt extends j1{constructor(t,e,i=1){super(void 0,i);const r=new he().set(t),s=new he().set(e),o=new tt(r.r,r.g,r.b),a=new tt(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}Tyt.prototype.isHemisphereLightProbe=!0;class Ayt extends j1{constructor(t,e=1){super(void 0,e);const i=new he().set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Ayt.prototype.isAmbientLightProbe=!0;class Cyt extends hn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}class Oyt{constructor(t,e,i){this.binding=t,this.valueSize=i;let r,s,o;switch(e){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,r=this.valueSize,s=t*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=e}else{o+=e;const a=e/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,r=t*e+e,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=e*this._origIndex;this._mixBufferRegion(i,r,l,1-s,e)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(let l=e,c=e+e;l!==c;++l)if(i[l]!==i[l+e]){a.setValue(i,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(let s=i,o=r;s!==o;++s)e[s]=e[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)t[e+o]=t[i+o]}_slerp(t,e,i,r){zi.slerpFlat(t,e,t,e,t,i,r)}_slerpAdditive(t,e,i,r,s){const o=this._workIndex*s;zi.multiplyQuaternionsFlat(t,o,t,e,t,i),zi.slerpFlat(t,e,t,e,t,o,r)}_lerp(t,e,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=e+a;t[l]=t[l]*o+t[i+a]*r}}_lerpAdditive(t,e,i,r,s){for(let o=0;o!==s;++o){const a=e+o;t[a]=t[a]+t[i+o]*r}}}const q1="\\[\\]\\.:\\/",Pyt=new RegExp("["+q1+"]","g"),Y1="[^"+q1+"]",Dyt="[^"+q1.replace("\\.","")+"]",Ryt=/((?:WC+[\/:])*)/.source.replace("WC",Y1),Lyt=/(WCOD+)?/.source.replace("WCOD",Dyt),Iyt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Y1),kyt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Y1),Nyt=new RegExp("^"+Ryt+Lyt+Iyt+kyt+"$"),Fyt=["material","materials","bones"];class Byt{constructor(t,e,i){const r=i||cn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class cn{constructor(t,e,i){this.path=e,this.parsedPath=i||cn.parseTrackName(e),this.node=cn.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new cn.Composite(t,e,i):new cn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Pyt,"")}static parseTrackName(t){const e=Nyt.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Fyt.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===e||a.uuid===e)return a;const l=i(a.children);if(l)return l}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[e++]=i[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,r=e.propertyName;let s=e.propertyIndex;if(t||(t=cn.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let u=0;u<t.length;u++)if(t[u].name===c){c=u;break}break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(c!==void 0){if(t[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[c]}}const o=t[r];if(o===void 0){const c=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",t);return}let a=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cn.Composite=Byt;cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cn.prototype.GetterByBindingType=[cn.prototype._getValue_direct,cn.prototype._getValue_array,cn.prototype._getValue_arrayElement,cn.prototype._getValue_toArray];cn.prototype.SetterByBindingTypeAndVersioning=[[cn.prototype._setValue_direct,cn.prototype._setValue_direct_setNeedsUpdate,cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_array,cn.prototype._setValue_array_setNeedsUpdate,cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_arrayElement,cn.prototype._setValue_arrayElement_setNeedsUpdate,cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_fromArray,cn.prototype._setValue_fromArray_setNeedsUpdate,cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zyt{constructor(t,e,i=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=r;const s=e.tracks,o=s.length,a=new Array(o),l={endingStart:Lu,endingEnd:Lu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Eht,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const r=this._clip.duration,s=t._clip.duration,o=s/r,a=r/s;t.warp(1,o,e),this.warp(a,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,r){if(!this.enabled){this._updateWeight(t);return}const s=this._startTime;if(s!==null){const l=(t-s)*i;if(l<0||i===0)return;this._startTime=null,e=i*l}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case XU:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case T1:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let r=this.time+t,s=this._loopCount;const o=i===Sht;if(t===0)return s===-1?r:o&&(s&1)===1?e-r:r;if(i===wht){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else if(r<0)r=0;else{this.time=r;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(s===-1&&(t>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=e||r<0){const a=Math.floor(r/e);r-=e*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return e-r}return r}_setEndings(t,e,i){const r=this._interpolantSettings;i?(r.endingStart=Iu,r.endingEnd=Iu):(t?r.endingStart=this.zeroSlopeAtStart?Iu:Lu:r.endingStart=u_,e?r.endingEnd=this.zeroSlopeAtEnd?Iu:Lu:r.endingEnd=u_)}_scheduleFading(t,e,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=e,a[1]=s+t,l[1]=i,this}}class Uyt extends Tc{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,r=t._clip.tracks,s=r.length,o=t._propertyBindings,a=t._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const f=r[h],p=f.name;let m=u[p];if(m!==void 0)++m.referenceCount,o[h]=m;else{if(m=o[h],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,p));continue}const g=e&&e._propertyBindings[h].binding.parsedPath;m=new Oyt(cn.create(i,p,g),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,p),o[h]=m}a[h].resultBuffer=m.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,r=t._clip.uuid,s=this._actionsByClip[r];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,r,i)}const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const s=e[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const s=e[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const r=this._actions,s=this._actionsByClip;let o=s[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=o;else{const a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),t._byClipCacheIndex=null;const h=a.actionByRoot,f=(t._localRoot||this._root).uuid;delete h[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const s=e[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_addInactiveBinding(t,e,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[e];o===void 0&&(o={},r[e]=o),o[i]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=e[e.length-1],c=t._cacheIndex;l._cacheIndex=c,e[c]=l,e.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new IV(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,s=e[r];t.__cacheIndex=r,e[r]=t,s.__cacheIndex=i,e[i]=s}clipAction(t,e,i){const r=e||this._root,s=r.uuid;let o=typeof t=="string"?Wk.findByName(r,t):t;const a=o!==null?o.uuid:t,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=T1),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new zyt(this,o,e,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(t,e){const i=e||this._root,r=i.uuid,s=typeof t=="string"?Wk.findByName(i,t):t,o=s?s.uuid:t,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,r=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let c=0;c!==i;++c)e[c]._update(r,t,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,e[u]=h,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[e];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[e];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}Uyt.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Vyt extends $p{constructor(t,e,i=1){super(t,e),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}Vyt.prototype.isInstancedInterleavedBuffer=!0;const ma=new tt,Pg=new ye,dw=new ye;class Hyt extends F1{constructor(t){const e=VV(t),i=new Nn,r=[],s=[],o=new he(0,0,1),a=new he(0,1,0);for(let c=0;c<e.length;c++){const u=e[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new yi(r,3)),i.setAttribute("color",new yi(s,3));const l=new Yh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,r=i.getAttribute("position");dw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<e.length;s++){const a=e[s];a.parent&&a.parent.isBone&&(Pg.multiplyMatrices(dw,a.matrixWorld),ma.setFromMatrixPosition(Pg),r.setXYZ(o,ma.x,ma.y,ma.z),Pg.multiplyMatrices(dw,a.parent.matrixWorld),ma.setFromMatrixPosition(Pg),r.setXYZ(o+1,ma.x,ma.y,ma.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function VV(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,VV(n.children[e]));return t}class $yt extends F1{constructor(t=10,e=10,i=4473924,r=8947848){i=new he(i),r=new he(r);const s=e/2,o=t/e,a=t/2,l=[],c=[];for(let f=0,p=0,m=-a;f<=e;f++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=f===s?i:r;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const u=new Nn;u.setAttribute("position",new yi(l,3)),u.setAttribute("color",new yi(c,3));const h=new Yh({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}}const Rs=new Uint32Array(512),Ls=new Uint32Array(512);for(let n=0;n<256;++n){const t=n-127;t<-27?(Rs[n]=0,Rs[n|256]=32768,Ls[n]=24,Ls[n|256]=24):t<-14?(Rs[n]=1024>>-t-14,Rs[n|256]=1024>>-t-14|32768,Ls[n]=-t-1,Ls[n|256]=-t-1):t<=15?(Rs[n]=t+15<<10,Rs[n|256]=t+15<<10|32768,Ls[n]=13,Ls[n|256]=13):t<128?(Rs[n]=31744,Rs[n|256]=64512,Ls[n]=24,Ls[n|256]=24):(Rs[n]=31744,Rs[n|256]=64512,Ls[n]=13,Ls[n|256]=13)}const HV=new Uint32Array(2048),jp=new Uint32Array(64),Wyt=new Uint32Array(64);for(let n=1;n<1024;++n){let t=n<<13,e=0;for(;(t&8388608)===0;)t<<=1,e-=8388608;t&=-8388609,e+=947912704,HV[n]=t|e}for(let n=1024;n<2048;++n)HV[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)jp[n]=n<<23;jp[31]=1199570944;jp[32]=2147483648;for(let n=33;n<63;++n)jp[n]=2147483648+(n-32<<23);jp[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(Wyt[n]=1024);$r.create=function(n,t){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create($r.prototype),n.prototype.constructor=n,n.prototype.getPoint=t,n};QS.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};$yt.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Hyt.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Ja.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),xyt.extractUrlBase(n)};Ja.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};ws.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};ws.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ws.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};ws.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};ws.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Ur.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Gh.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};$b.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};Si.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)};Si.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Si.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Si.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Si.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Si.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};ye.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};ye.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)};ye.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new tt().setFromMatrixColumn(this,3)};ye.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};ye.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};ye.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ye.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ye.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};ye.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};ye.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ye.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};ye.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};ye.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};ye.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};ye.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};ye.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ye.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};ye.prototype.makeFrustum=function(n,t,e,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,t,i,e,r,s)};ye.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};_o.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};zi.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};zi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};jh.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};jh.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};jh.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Jn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Jn.prototype.barycoordFromPoint=function(n,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,t)};Jn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Jn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Jn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Jn.barycoordFromPoint=function(n,t,e,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Jn.getBarycoord(n,t,e,i,r)};Jn.normal=function(n,t,e,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Jn.getNormal(n,t,e,i)};Wp.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Wp.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Xh(this,n)};Wp.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new $1(this,n)};$t.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};$t.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};$t.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};tt.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};tt.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};tt.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};tt.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};tt.prototype.getColumnFromMatrix=function(n,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,n)};tt.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};tt.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};tt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};tt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};dn.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};dn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};hn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};hn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};hn.prototype.translate=function(n,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,n)};hn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};hn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(hn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});dr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(dr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Mht},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});gV.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};ur.prototype.setLens=function(n,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(n)};Object.defineProperties(Js.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(ai.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===h_},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(h_)}}});ai.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?h_:Zd),this};ai.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},ai.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Nn.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Nn.prototype.addAttribute=function(n,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new ai(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(n,t)};Nn.prototype.addDrawCall=function(n,t,e){e!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,t)};Nn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Nn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Nn.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Nn.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Nn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});$p.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?h_:Zd),this};$p.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Xh.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Xh.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Xh.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};pV.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(ui.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new he}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===GU}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(gs.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});mn.prototype.clearTarget=function(n,t,e,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(t,e,i)};mn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};mn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};mn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};mn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};mn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};mn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};mn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};mn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};mn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};mn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};mn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};mn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};mn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};mn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};mn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};mn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};mn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};mn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};mn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};mn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};mn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};mn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};mn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};mn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(mn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Rn:zo}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(hV.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Er.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});Cyt.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Myt().load(n,function(i){t.setBuffer(i)}),this};O1.prototype.updateCubeMap=function(n,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,t)};O1.prototype.clear=function(n,t,e,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,t,e,i)};Ac.crossOrigin=void 0;Ac.loadTexture=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new pyt;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,e,void 0,i);return t&&(s.mapping=t),s};Ac.loadTextureCube=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new dyt;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,e,void 0,i);return t&&(s.mapping=t),s};Ac.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ac.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:M1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=M1);function Dg(n,t,e){return(n-e)/(t-e)}function Rg(n){let t="";for(let o=0;o<4;o++){let a=(n.getUint8(o,!0)>>>0).toString(2);t="0".repeat(8-a.length)+a+t}let e=parseInt(t.charAt(0),2),i=parseInt(t.substring(1,9),2),r=parseInt("1"+t.substring(9),2);return((-1)**e*r/(1<<t.length-9-(i-127))).toFixed(2)}function Gyt(n,t){return 2*Math.acos(n.dot(t)/(n.length()*t.length()))*57.2957795}function jyt(n,t){let e=[];for(var i=0;i<4;i++)e.push(n.getUint8(i+t,!0));return e[e.length-24]|e[e.length-2]<<16|e[e.length-3]<<8|e[e.length-4]<<1}function qyt(n,t){const e=new ArrayBuffer(4);let i=new DataView(e);for(let u=0;u<4;u++)i.setInt8(u,n.getUint8(u+t,!0));i=Dg(Rg(i),1,0),t+=4;const r=new ArrayBuffer(4);let s=new DataView(r);for(let u=0;u<4;u++)s.setInt8(u,n.getUint8(u+t,!0));s=Dg(Rg(s),1,0),t+=4;const o=new ArrayBuffer(4);let a=new DataView(o);for(let u=0;u<4;u++)a.setInt8(u,n.getUint8(u+t,!0));a=Dg(Rg(a),1,0),t+=4;const l=new ArrayBuffer(4);let c=new DataView(l);for(let u=0;u<4;u++)c.setInt8(u,n.getUint8(u+t,!0));return c=Dg(Rg(c),1,0),new zi(s,a,c,i)}function Yyt(n,t){let e=n.target.value,i=jyt(e,0);i=i/1e3,t.timeArr.push(i),t.timeArr.length>1&&(t.timeArr[t.timeArr.length-1]>t.timeArr[t.timeArr.length-2]?t.rawTime+=t.timeArr[t.timeArr.length-1]-t.timeArr[t.timeArr.length-2]:t.rawTime+=t.timeArr[t.timeArr.length-2]-t.timeArr[t.timeArr.length-1]);let r=t.quaternion;t.quaternion=qyt(e,4);let s=t.rotation;t.rotation=new Ur().setFromQuaternion(t.quaternion,"XYZ"),(Math.round(Math.abs(t.rotation.x*57.2957795))==90||Math.round(Math.abs(t.rotation.x*57.2957795))==180)&&(t.rotation.x=s.x,t.quaternion=r),(Math.round(Math.abs(t.rotation.y*57.2957795))==90||Math.round(Math.abs(t.rotation.y*57.2957795))==180)&&(t.rotation.y=s.y,t.quaternion=r),(Math.round(Math.abs(t.rotation.z*57.2957795))==0||Math.round(Math.abs(t.rotation.z*57.2957795))==180)&&(t.rotation.z=s.z,t.quaternion=r);let o=[t.quaternion,t.rotation,(t.rawTime/1e3).toFixed(2)];t.data.push(o)}class bd{constructor(t=!1){C0(this,"genericNotHandler",function(t){const e=t.target.value;console.log(`New notification message: ${_a(Ru,e.getUint8(2,!0))}`)});t?this.enum=syncNotEnum:this.enum=Ru,Object.keys(this.enum).map(e=>{bd[e]=this.genericNotHandler})}setCallback(t,e){bd[_a(Ru,t)]=e}handleNotification(t){const e=t.target.value;let i=_a(Ru,e.getUint8(2,!0));return bd[i](t)}}class Xyt{constructor(t=!0){this.device=null,this.device_name=null,this.sensor_status="disconnected",this.onDisconnected=this.onDisconnected.bind(this),this.verbose=t,this.battery_level=0,this.rotation=new Ur(0,0,0,"XYZ"),this.quaternion=new zi(0,0,0,0),this.data=[],this.timeArr=[],this.rawTime=0,this.min=new Ur(1/0,1/0,1/0,"XYZ"),this.max=new Ur(-1/0,-1/0,-1/0,"XYZ"),this.max_angle=0,this.ackEnum=dI,this.NotificationHandler=new bd}async request(){this.device=await navigator.bluetooth.requestDevice({filters:[{manufacturerData:[{companyIdentifier:2182}]}],optionalServices:[Rr+Pe.battery_service+Lr,Rr+Pe.measurement_service+Lr,Rr+Pe.configuration_service+Lr,Rr+Pe.message_service+Lr]}),this.device.addEventListener("gattserverdisconnected",this.onDisconnected)}connect(){return this.device?this.device.gatt.connect():(this.sensor_status="disconnected",Promise.reject("Device is not connected."))}disconnect(){return this.sensor_status="disconnected",this.device?this.device.gatt.disconnect():Promise.reject("Device is not connected.")}onDisconnected(){this.sensor_status="disconnected",console.log("Device is disconnected.")}async findAndConnect(){try{await this.request(),this.sensor_status="connecting...",await this.connect(),await this.readDeviceName(),await this.getInitialBatteryLevel(),this.sensor_status="online",await this.subCharChanged(this.handleBatteryChanged,Pe.battery_service,Pe.battery_level)}catch(t){console.log(t.name),console.log(t.code),console.error(t),t.name=="NetworkError"&&(this.sensor_status="error",alert("Something went wrong please refresh this tab and try again."))}}async getCharacteristicData(t,e){return(await(await this.device.gatt.getPrimaryService(Rr+t+Lr)).getCharacteristic(Rr+e+Lr)).readValue()}async readMessageAck(t){let e=await this.getCharacteristicData(Pe.message_service,Pe.message_acknowledge);if(this.verbose){let i=_a(dI,t.getUint8(2,!0));i==null&&(i=_a(If,t.getUint8(2,!0)));let r=`${i} ack: ${_a(Lf,e.getUint8(3,!0))}`;console.log(r)}return e}async writeCharacteristicData(t,e,i){return await(await(await this.device.gatt.getPrimaryService(Rr+t+Lr)).getCharacteristic(Rr+e+Lr)).writeValue(i),this.readMessageAck(i)}writeDeviceName(t){return this.getCharacteristicData(Pe.configuration_service,Pe.device_control).then(e=>{if(t.length>16)return Promise.reject("Name is too long, max 16 characters");let i=e.getUint8(7,!0);for(let s=0;s<i;s++)e.setUint8(s,0,!0);e.setUint8(0,8,!0),e.setUint8(7,t.length,!0);let r=Array.from(t);for(let s=0;s<t.length;s++)e.setUint8(8+s,r[s].charCodeAt(0),!0);return this.device_name=t,this.verbose=!1,this.writeCharacteristicData(Pe.configuration_service,Pe.device_control,e).then(()=>(this.verbose=!0,this.readDeviceName().then(s=>{console.log("New Name:"),console.log(s)})))}).catch(e=>{e=="Name is too long, max 16 characters"||(this.sensor_status="connection error"),console.error(e)})}async readDeviceName(){let t=await this.getCharacteristicData(Pe.configuration_service,Pe.device_control),e=8,i="";for(let r=e;r<t.getUint8(7,!0)+e;r++)i+=String.fromCharCode(t.getUint8(r,!0));return this.device_name=i,this.device_name}async blinkDeviceLED(){try{let t=await this.getCharacteristicData(Pe.configuration_service,Pe.device_control),i=await(await this.device.gatt.getPrimaryService(Rr+Pe.configuration_service+Lr)).getCharacteristic(Rr+Pe.device_control+Lr);t.setUint8(0,1),t.setUint8(1,1),console.log("Blinking LED..."),await i.writeValue(t)}catch(t){console.error(t),console.log(t.name)}}async getInitialBatteryLevel(){let e=(await this.getCharacteristicData(Pe.battery_service,Pe.battery_level)).getUint8(0,!0);return this.battery_level=e,e}async subCharChanged(t,e,i){let s=await(await this.device.gatt.getPrimaryService(Rr+e+Lr)).getCharacteristic(Rr+i+Lr);s.startNotifications(),s.addEventListener("characteristicvaluechanged",o=>{t(o,this)})}createMessageObject(t,e,i,r){let s=e+1,o=new ArrayBuffer(160),a=new DataView(o);a.setUint8(0,t),a.setUint8(1,s),a.setUint8(2,i);for(let l=0;l<e;l++)a.setUint8(l+3,r[l]);a.setUint8(s+2,this.computeChecksum(a));for(let l=e+4;l<160-(e+4);l++)a.setUint8(l,0);return a}computeChecksum(t){let e=0,i=t.getUint8(1,!0)+2;for(let r=0;r<i;r++)e+=t.getUint8(r,!0);return 255&-e}downloadDataToCSV(){let t="data:text/csv;charset=utf-8,",e=[["Qx","Qy","Qz","Qw","E","N","U","T"]].concat(this.data);e.forEach(function(s){let o=[];for(let l=0;l<s.length;l++)s[l].constructor.name==="Quaternion"?o.push(s[l].x.toString(),s[l].y.toString(),s[l].z.toString(),s[l].w.toString()):s[l].constructor.name==="Euler"?o.push(s[l].x.toString(),s[l].y.toString(),s[l].z.toString()):o.push(s[l].toString());let a=o.join(", ");o=[],t+=a+`\r
`}),console.log(`Amount of data points: ${e.length}, amount of columns for each data point: ${e[0].length}`);var i=encodeURI(t),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download","XsensUserData.csv"),document.body.appendChild(r),r.click()}handleBatteryChanged(t,e){const i=t.target.value;e.battery_level=i.getUint8(0,!0)}async syncSensor(){console.log("Synchronization started"),this.NotificationHandler.setCallback(Ru.syncStatus,e=>{let i=e.target.value,r=_a(Lf,i.getUint8(3,!1));console.log(`Device is: ${r}`)}),await this.subCharChanged(this.NotificationHandler.handleNotification,Pe.message_service,Pe.message_notification);let t=this.createMessageObject(Jm.sync_message,6,If.startSync,[78,2,0,205,34,212]);await this.writeCharacteristicData(Pe.message_service,Pe.message_control,t),await this.device.gatt.disconnect(),this.sensor_status="synchronizing",setTimeout(async()=>{console.log("Attempting to connect to device"),await this.device.gatt.connect(),console.log("Connection re-established"),this.sensor_status="online",await this.subCharChanged(this.NotificationHandler.handleNotification,Pe.message_service,Pe.message_notification);let e=this.createMessageObject(Jm.sync_message,0,If.getSyncStatus,[]);await this.writeCharacteristicData(Pe.message_service,Pe.message_control,e)},14e3)}async getSyncStatusSensor(){this.NotificationHandler.setCallback(Ru.syncStatus,async e=>{let i=e.target.value,r=_a(Lf,i.getUint8(3,!1));if(console.log(`Device is: ${r}`),i.getUint8(3,!1)==Lf.synced){let s=this.createMessageObject(Jm.sync_message,0,If.stopSync,[]);await this.writeCharacteristicData(Pe.message_service,Pe.message_control,s),console.log("Sync stopped")}else i.getUint8(3,!1)==Lf["un-synced"]&&this.syncSensor()}),await this.subCharChanged(this.NotificationHandler.handleNotification,Pe.message_service,Pe.message_notification);let t=this.createMessageObject(Jm.sync_message,0,If.getSyncStatus,[]);await this.writeCharacteristicData(Pe.message_service,Pe.message_control,t)}async startRTStream(){console.log("Real time streaming started"),this.data=[],this.timeArr=[],this.rawTime=0,await this.subCharChanged(Yyt,Pe.measurement_service,Pe.short_payload_length),await this.subCharChanged(this.NotificationHandler.handleNotification,Pe.message_service,Pe.message_notification),this.data=[],this.timeArr=[],this.rawTime=0;let t=new ArrayBuffer(3),e=new DataView(t);e.setUint8(0,1),e.setUint8(1,1),e.setUint8(2,pI.orientationQuaternion),this.verbose=!1,await this.writeCharacteristicData(Pe.measurement_service,Pe.control,e).then(()=>{this.verbose=!0})}async stopRTStream(){console.log("Real time streaming stopped"),await this.subCharChanged(this.NotificationHandler.handleNotification,Pe.message_service,Pe.message_notification);let t=new ArrayBuffer(3),e=new DataView(t);e.setUint8(0,1),e.setUint8(1,0),e.setUint8(2,pI.orientationQuaternion),this.verbose=!1,await this.writeCharacteristicData(Pe.measurement_service,Pe.control,e).then(()=>{this.verbose=!0});let i;for(let r=0;r<this.data.length;r++)if(this.data[r][0].x!=0&&this.data[r][0].y!=0&&this.data[r][0].z!=0&&this.data[r][0].w!=0){i=r;break}this.max_angle=Gyt(this.data[i][0],this.data[this.data.length-1][0]).toFixed(2),console.log(`Quat angle: ${this.max_angle}`),console.log("Recording duurde:",(this.rawTime/1e3).toFixed(2),"seconden")}}var __,$V;class Kyt{constructor(){tO(this,__);this.device=eO(this,__,$V).call(this),this.device_name=Math.floor(Math.random()*100),this.sensor_status="disconnected",this.battery_level=100,this.max_angle=15.57,this.rotation=new Ur(0,0,0,"XYZ")}disconnect(){return this.sensor_status="disconnected",Promise.resolve()}findAndConnect(){return this.sensor_status="online",Promise.resolve()}writeDeviceName(t){return this.device_name=t,console.log("changed name to "+t),Promise.resolve()}blinkDeviceLED(){return console.log("Blinking LED..."),Promise.resolve()}downloadDataToCSV(){return console.log("You just downloaded a CSV file"),Promise.resolve()}getSyncStatusSensor(){return console.log("You just synced your sensor"),Promise.resolve()}startRTStream(){return console.log("Sensor "+this.device_name+" started streaming for data"),Promise.resolve()}stopRTStream(){return console.log("Sensor "+this.device_name+" stopped streaming for data"),this.max_angle=Math.floor(Math.random()*100),Promise.resolve()}}__=new WeakSet,$V=function(){return{field1:"field1",field2:"field2"}};class Qyt{constructor(){C0(this,"sensorMap",new Map)}giveFakeOrRealSensor(){switch(localStorage.getItem("development")){case"true":return console.log("Using a fake sensor"),new Kyt;case"false":return new Xyt}}clearList(){this.sensorMap.clear()}getSensor(t){return this.sensorMap.size==1?this.sensorMap.get(Array.from(this.sensorMap.keys())[0]):this.sensorMap.get(t)}getAllSensors(){return Array.from(this.sensorMap)}addToSensorList(t){this.sensorMap.set(t.device_name,t)}removeFromSensorList(t){this.sensorMap.delete(t.device_name)}connectToSensor(){const t=this.giveFakeOrRealSensor();return console.log(t),t.findAndConnect().then(()=>(this.addToSensorList(t),Promise.resolve())).catch(()=>Promise.reject())}disconnectSensor(t){const e=this.getSensor(t);e.disconnect(),this.removeFromSensorList(e)}diconnectAllSensors(){for(let t of this.sensorMap.values())t.disconnect()}enoughConnectedSensors(t){return this.sensorMap.size<t?(console.log("There are not enough sensors properly connected"),!1):!0}streamMultipleSensors(t){for(let e=0;e<t.length;e++)this.startRTStream(t[e].device_name)}stopStreamMultipleSensors(t){for(let e=0;e<t.length;e++)this.stopRTStream(t[e].device_name)}startRTStream(t){this.getSensor(t).startRTStream()}stopRTStream(t){this.getSensor(t).stopRTStream()}getMaxAngle(t){return this.getSensor(t).max_angle}getSyncStatusSensor(t){this.getSensor(t).getSyncStatusSensor()}blinkDeviceLED(t){this.getSensor(t).blinkDeviceLED()}downloadDataToCSV(t){this.getSensor(t).downloadDataToCSV()}writeDeviceName(t){this.getSensor().writeDeviceName(t)}}const Jyt=new Qyt;function Xk(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(e),!0).forEach(function(i){ci(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Xk(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function p_(n){return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(n)}function Zyt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function tvt(n,t,e){return t&&Kk(n.prototype,t),e&&Kk(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ci(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function X1(n,t){return nvt(n)||rvt(n,t)||WV(n,t)||ovt()}function qp(n){return evt(n)||ivt(n)||WV(n)||svt()}function evt(n){if(Array.isArray(n))return tM(n)}function nvt(n){if(Array.isArray(n))return n}function ivt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function rvt(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],r=!0,s=!1,o,a;try{for(e=e.call(n);!(r=(o=e.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&e.return!=null&&e.return()}finally{if(s)throw a}}return i}}function WV(n,t){if(!!n){if(typeof n=="string")return tM(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return tM(n,t)}}function tM(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function svt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ovt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qk=function(){},K1={},GV={},jV=null,qV={mark:Qk,measure:Qk};try{typeof window<"u"&&(K1=window),typeof document<"u"&&(GV=document),typeof MutationObserver<"u"&&(jV=MutationObserver),typeof performance<"u"&&(qV=performance)}catch{}var avt=K1.navigator||{},Jk=avt.userAgent,Zk=Jk===void 0?"":Jk,Ua=K1,Cn=GV,t2=jV,Lg=qV;Ua.document;var Go=!!Cn.documentElement&&!!Cn.head&&typeof Cn.addEventListener=="function"&&typeof Cn.createElement=="function",YV=~Zk.indexOf("MSIE")||~Zk.indexOf("Trident/"),Ig,kg,Ng,Fg,Bg,Uo="___FONT_AWESOME___",eM=16,XV="fa",KV="svg-inline--fa",pc="data-fa-i2svg",nM="data-fa-pseudo-element",lvt="data-fa-pseudo-element-pending",Q1="data-prefix",J1="data-icon",e2="fontawesome-i2svg",cvt="async",uvt=["HTML","HEAD","STYLE","SCRIPT"],QV=function(){try{return!0}catch{return!1}}(),Tn="classic",Vn="sharp",Z1=[Tn,Vn];function Yp(n){return new Proxy(n,{get:function(e,i){return i in e?e[i]:e[Tn]}})}var sp=Yp((Ig={},ci(Ig,Tn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ci(Ig,Vn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Ig)),op=Yp((kg={},ci(kg,Tn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ci(kg,Vn,{solid:"fass",regular:"fasr",light:"fasl"}),kg)),ap=Yp((Ng={},ci(Ng,Tn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ci(Ng,Vn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Ng)),hvt=Yp((Fg={},ci(Fg,Tn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ci(Fg,Vn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Fg)),fvt=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,JV="fa-layers-text",dvt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,pvt=Yp((Bg={},ci(Bg,Tn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ci(Bg,Vn,{900:"fass",400:"fasr",300:"fasl"}),Bg)),ZV=[1,2,3,4,5,6,7,8,9,10],mvt=ZV.concat([11,12,13,14,15,16,17,18,19,20]),gvt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Gl={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},lp=new Set;Object.keys(op[Tn]).map(lp.add.bind(lp));Object.keys(op[Vn]).map(lp.add.bind(lp));var yvt=[].concat(Z1,qp(lp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Gl.GROUP,Gl.SWAP_OPACITY,Gl.PRIMARY,Gl.SECONDARY]).concat(ZV.map(function(n){return"".concat(n,"x")})).concat(mvt.map(function(n){return"w-".concat(n)})),xd=Ua.FontAwesomeConfig||{};function vvt(n){var t=Cn.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function _vt(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if(Cn&&typeof Cn.querySelector=="function"){var bvt=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];bvt.forEach(function(n){var t=X1(n,2),e=t[0],i=t[1],r=_vt(vvt(e));r!=null&&(xd[i]=r)})}var tH={styleDefault:"solid",familyDefault:"classic",cssPrefix:XV,replacementClass:KV,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};xd.familyPrefix&&(xd.cssPrefix=xd.familyPrefix);var Ch=Zt(Zt({},tH),xd);Ch.autoReplaceSvg||(Ch.observeMutations=!1);var ie={};Object.keys(tH).forEach(function(n){Object.defineProperty(ie,n,{enumerable:!0,set:function(e){Ch[n]=e,wd.forEach(function(i){return i(ie)})},get:function(){return Ch[n]}})});Object.defineProperty(ie,"familyPrefix",{enumerable:!0,set:function(t){Ch.cssPrefix=t,wd.forEach(function(e){return e(ie)})},get:function(){return Ch.cssPrefix}});Ua.FontAwesomeConfig=ie;var wd=[];function xvt(n){return wd.push(n),function(){wd.splice(wd.indexOf(n),1)}}var ga=eM,$s={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function wvt(n){if(!(!n||!Go)){var t=Cn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=Cn.head.childNodes,i=null,r=e.length-1;r>-1;r--){var s=e[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return Cn.head.insertBefore(t,i),n}}var Evt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function cp(){for(var n=12,t="";n-- >0;)t+=Evt[Math.random()*62|0];return t}function Jh(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function tA(n){return n.classList?Jh(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function eH(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Svt(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(eH(n[e]),'" ')},"").trim()}function Yb(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function eA(n){return n.size!==$s.size||n.x!==$s.x||n.y!==$s.y||n.rotate!==$s.rotate||n.flipX||n.flipY}function Mvt(n){var t=n.transform,e=n.containerWidth,i=n.iconWidth,r={transform:"translate(".concat(e/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:c}}function Tvt(n){var t=n.transform,e=n.width,i=e===void 0?eM:e,r=n.height,s=r===void 0?eM:r,o=n.startCentered,a=o===void 0?!1:o,l="";return a&&YV?l+="translate(".concat(t.x/ga-i/2,"em, ").concat(t.y/ga-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/ga,"em), calc(-50% + ").concat(t.y/ga,"em)) "):l+="translate(".concat(t.x/ga,"em, ").concat(t.y/ga,"em) "),l+="scale(".concat(t.size/ga*(t.flipX?-1:1),", ").concat(t.size/ga*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var Avt=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function nH(){var n=XV,t=KV,e=ie.cssPrefix,i=ie.replacementClass,r=Avt;if(e!==n||i!==t){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(a,".".concat(i))}return r}var n2=!1;function pw(){ie.autoAddCss&&!n2&&(wvt(nH()),n2=!0)}var Cvt={mixout:function(){return{dom:{css:nH,insertCss:pw}}},hooks:function(){return{beforeDOMElementCreation:function(){pw()},beforeI2svg:function(){pw()}}}},Vo=Ua||{};Vo[Uo]||(Vo[Uo]={});Vo[Uo].styles||(Vo[Uo].styles={});Vo[Uo].hooks||(Vo[Uo].hooks={});Vo[Uo].shims||(Vo[Uo].shims=[]);var us=Vo[Uo],iH=[],Ovt=function n(){Cn.removeEventListener("DOMContentLoaded",n),m_=1,iH.map(function(t){return t()})},m_=!1;Go&&(m_=(Cn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Cn.readyState),m_||Cn.addEventListener("DOMContentLoaded",Ovt));function Pvt(n){!Go||(m_?setTimeout(n,0):iH.push(n))}function Xp(n){var t=n.tag,e=n.attributes,i=e===void 0?{}:e,r=n.children,s=r===void 0?[]:r;return typeof n=="string"?eH(n):"<".concat(t," ").concat(Svt(i),">").concat(s.map(Xp).join(""),"</").concat(t,">")}function i2(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var Dvt=function(t,e){return function(i,r,s,o){return t.call(e,i,r,s,o)}},mw=function(t,e,i,r){var s=Object.keys(t),o=s.length,a=r!==void 0?Dvt(e,r):e,l,c,u;for(i===void 0?(l=1,u=t[s[0]]):(l=0,u=i);l<o;l++)c=s[l],u=a(u,t[c],c,t);return u};function Rvt(n){for(var t=[],e=0,i=n.length;e<i;){var r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var s=n.charCodeAt(e++);(s&64512)==56320?t.push(((r&1023)<<10)+(s&1023)+65536):(t.push(r),e--)}else t.push(r)}return t}function iM(n){var t=Rvt(n);return t.length===1?t[0].toString(16):null}function Lvt(n,t){var e=n.length,i=n.charCodeAt(t),r;return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function r2(n){return Object.keys(n).reduce(function(t,e){var i=n[e],r=!!i.icon;return r?t[i.iconName]=i.icon:t[e]=i,t},{})}function rM(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.skipHooks,r=i===void 0?!1:i,s=r2(t);typeof us.hooks.addPack=="function"&&!r?us.hooks.addPack(n,r2(t)):us.styles[n]=Zt(Zt({},us.styles[n]||{}),s),n==="fas"&&rM("fa",t)}var zg,Ug,Vg,Fu=us.styles,Ivt=us.shims,kvt=(zg={},ci(zg,Tn,Object.values(ap[Tn])),ci(zg,Vn,Object.values(ap[Vn])),zg),nA=null,rH={},sH={},oH={},aH={},lH={},Nvt=(Ug={},ci(Ug,Tn,Object.keys(sp[Tn])),ci(Ug,Vn,Object.keys(sp[Vn])),Ug);function Fvt(n){return~yvt.indexOf(n)}function Bvt(n,t){var e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i===n&&r!==""&&!Fvt(r)?r:null}var cH=function(){var t=function(s){return mw(Fu,function(o,a,l){return o[l]=mw(a,s,{}),o},{})};rH=t(function(r,s,o){if(s[3]&&(r[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){r[l.toString(16)]=o})}return r}),sH=t(function(r,s,o){if(r[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){r[l]=o})}return r}),lH=t(function(r,s,o){var a=s[2];return r[o]=o,a.forEach(function(l){r[l]=o}),r});var e="far"in Fu||ie.autoFetchSvg,i=mw(Ivt,function(r,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!e&&(a="fas"),typeof o=="string"&&(r.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});oH=i.names,aH=i.unicodes,nA=Xb(ie.styleDefault,{family:ie.familyDefault})};xvt(function(n){nA=Xb(n.styleDefault,{family:ie.familyDefault})});cH();function iA(n,t){return(rH[n]||{})[t]}function zvt(n,t){return(sH[n]||{})[t]}function jl(n,t){return(lH[n]||{})[t]}function uH(n){return oH[n]||{prefix:null,iconName:null}}function Uvt(n){var t=aH[n],e=iA("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Va(){return nA}var rA=function(){return{prefix:null,iconName:null,rest:[]}};function Xb(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.family,i=e===void 0?Tn:e,r=sp[i][n],s=op[i][n]||op[i][r],o=n in us.styles?n:null;return s||o||null}var s2=(Vg={},ci(Vg,Tn,Object.keys(ap[Tn])),ci(Vg,Vn,Object.keys(ap[Vn])),Vg);function Kb(n){var t,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.skipLookups,r=i===void 0?!1:i,s=(t={},ci(t,Tn,"".concat(ie.cssPrefix,"-").concat(Tn)),ci(t,Vn,"".concat(ie.cssPrefix,"-").concat(Vn)),t),o=null,a=Tn;(n.includes(s[Tn])||n.some(function(c){return s2[Tn].includes(c)}))&&(a=Tn),(n.includes(s[Vn])||n.some(function(c){return s2[Vn].includes(c)}))&&(a=Vn);var l=n.reduce(function(c,u){var h=Bvt(ie.cssPrefix,u);if(Fu[u]?(u=kvt[a].includes(u)?hvt[a][u]:u,o=u,c.prefix=u):Nvt[a].indexOf(u)>-1?(o=u,c.prefix=Xb(u,{family:a})):h?c.iconName=h:u!==ie.replacementClass&&u!==s[Tn]&&u!==s[Vn]&&c.rest.push(u),!r&&c.prefix&&c.iconName){var f=o==="fa"?uH(c.iconName):{},p=jl(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||p||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!Fu.far&&Fu.fas&&!ie.autoFetchSvg&&(c.prefix="fas")}return c},rA());return(n.includes("fa-brands")||n.includes("fab"))&&(l.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Vn&&(Fu.fass||ie.autoFetchSvg)&&(l.prefix="fass",l.iconName=jl(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Va()||"fas"),l}var Vvt=function(){function n(){Zyt(this,n),this.definitions={}}return tvt(n,[{key:"add",value:function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){e.definitions[a]=Zt(Zt({},e.definitions[a]||{}),o[a]),rM(a,o[a]);var l=ap[Tn][a];l&&rM(l,o[a]),cH()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var o=r[s],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];e[a]||(e[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(e[a][h]=c)}),e[a][l]=c}),e}}]),n}(),o2=[],Bu={},Qu={},Hvt=Object.keys(Qu);function $vt(n,t){var e=t.mixoutsTo;return o2=n,Bu={},Object.keys(Qu).forEach(function(i){Hvt.indexOf(i)===-1&&delete Qu[i]}),o2.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(o){typeof r[o]=="function"&&(e[o]=r[o]),p_(r[o])==="object"&&Object.keys(r[o]).forEach(function(a){e[o]||(e[o]={}),e[o][a]=r[o][a]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(o){Bu[o]||(Bu[o]=[]),Bu[o].push(s[o])})}i.provides&&i.provides(Qu)}),e}function sM(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];var s=Bu[n]||[];return s.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function mc(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=Bu[n]||[];r.forEach(function(s){s.apply(null,e)})}function Ho(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Qu[n]?Qu[n].apply(null,t):void 0}function oM(n){n.prefix==="fa"&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Va();if(!!t)return t=jl(e,t)||t,i2(hH.definitions,e,t)||i2(us.styles,e,t)}var hH=new Vvt,Wvt=function(){ie.autoReplaceSvg=!1,ie.observeMutations=!1,mc("noAuto")},Gvt={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Go?(mc("beforeI2svg",t),Ho("pseudoElements2svg",t),Ho("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot;ie.autoReplaceSvg===!1&&(ie.autoReplaceSvg=!0),ie.observeMutations=!0,Pvt(function(){qvt({autoReplaceSvgRoot:e}),mc("watch",t)})}},jvt={icon:function(t){if(t===null)return null;if(p_(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:jl(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=Xb(t[0]);return{prefix:i,iconName:jl(i,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(ie.cssPrefix,"-"))>-1||t.match(fvt))){var r=Kb(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Va(),iconName:jl(r.prefix,r.iconName)||r.iconName}}if(typeof t=="string"){var s=Va();return{prefix:s,iconName:jl(s,t)||t}}}},Cr={noAuto:Wvt,config:ie,dom:Gvt,parse:jvt,library:hH,findIconDefinition:oM,toHtml:Xp},qvt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot,i=e===void 0?Cn:e;(Object.keys(us.styles).length>0||ie.autoFetchSvg)&&Go&&ie.autoReplaceSvg&&Cr.dom.i2svg({node:i})};function Qb(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Xp(i)})}}),Object.defineProperty(n,"node",{get:function(){if(!!Go){var i=Cn.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function Yvt(n){var t=n.children,e=n.main,i=n.mask,r=n.attributes,s=n.styles,o=n.transform;if(eA(o)&&e.found&&!i.found){var a=e.width,l=e.height,c={x:a/l/2,y:.5};r.style=Yb(Zt(Zt({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function Xvt(n){var t=n.prefix,e=n.iconName,i=n.children,r=n.attributes,s=n.symbol,o=s===!0?"".concat(t,"-").concat(ie.cssPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Zt(Zt({},r),{},{id:o}),children:i}]}]}function sA(n){var t=n.icons,e=t.main,i=t.mask,r=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,l=n.title,c=n.maskId,u=n.titleId,h=n.extra,f=n.watchable,p=f===void 0?!1:f,m=i.found?i:e,g=m.width,y=m.height,v=r==="fak",x=[ie.replacementClass,s?"".concat(ie.cssPrefix,"-").concat(s):""].filter(function(W){return h.classes.indexOf(W)===-1}).filter(function(W){return W!==""||!!W}).concat(h.classes).join(" "),S={children:[],attributes:Zt(Zt({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:x,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},E=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};p&&(S.attributes[pc]=""),l&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(u||cp())},children:[l]}),delete S.attributes.title);var M=Zt(Zt({},S),{},{prefix:r,iconName:s,main:e,mask:i,maskId:c,transform:o,symbol:a,styles:Zt(Zt({},E),h.styles)}),P=i.found&&e.found?Ho("generateAbstractMask",M)||{children:[],attributes:{}}:Ho("generateAbstractIcon",M)||{children:[],attributes:{}},L=P.children,j=P.attributes;return M.children=L,M.attributes=j,a?Xvt(M):Yvt(M)}function a2(n){var t=n.content,e=n.width,i=n.height,r=n.transform,s=n.title,o=n.extra,a=n.watchable,l=a===void 0?!1:a,c=Zt(Zt(Zt({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(c[pc]="");var u=Zt({},o.styles);eA(r)&&(u.transform=Tvt({transform:r,startCentered:!0,width:e,height:i}),u["-webkit-transform"]=u.transform);var h=Yb(u);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function Kvt(n){var t=n.content,e=n.title,i=n.extra,r=Zt(Zt(Zt({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),s=Yb(i.styles);s.length>0&&(r.style=s);var o=[];return o.push({tag:"span",attributes:r,children:[t]}),e&&o.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),o}var gw=us.styles;function aM(n){var t=n[0],e=n[1],i=n.slice(4),r=X1(i,1),s=r[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(ie.cssPrefix,"-").concat(Gl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ie.cssPrefix,"-").concat(Gl.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ie.cssPrefix,"-").concat(Gl.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:e,icon:o}}var Qvt={found:!1,width:512,height:512};function Jvt(n,t){!QV&&!ie.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function lM(n,t){var e=t;return t==="fa"&&ie.styleDefault!==null&&(t=Va()),new Promise(function(i,r){if(Ho("missingIconAbstract"),e==="fa"){var s=uH(n)||{};n=s.iconName||n,t=s.prefix||t}if(n&&t&&gw[t]&&gw[t][n]){var o=gw[t][n];return i(aM(o))}Jvt(n,t),i(Zt(Zt({},Qvt),{},{icon:ie.showMissingIcons&&n?Ho("missingIconAbstract")||{}:{}}))})}var l2=function(){},cM=ie.measurePerformance&&Lg&&Lg.mark&&Lg.measure?Lg:{mark:l2,measure:l2},td='FA "6.4.0"',Zvt=function(t){return cM.mark("".concat(td," ").concat(t," begins")),function(){return fH(t)}},fH=function(t){cM.mark("".concat(td," ").concat(t," ends")),cM.measure("".concat(td," ").concat(t),"".concat(td," ").concat(t," begins"),"".concat(td," ").concat(t," ends"))},oA={begin:Zvt,end:fH},Vy=function(){};function c2(n){var t=n.getAttribute?n.getAttribute(pc):null;return typeof t=="string"}function t_t(n){var t=n.getAttribute?n.getAttribute(Q1):null,e=n.getAttribute?n.getAttribute(J1):null;return t&&e}function e_t(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(ie.replacementClass)}function n_t(){if(ie.autoReplaceSvg===!0)return Hy.replace;var n=Hy[ie.autoReplaceSvg];return n||Hy.replace}function i_t(n){return Cn.createElementNS("http://www.w3.org/2000/svg",n)}function r_t(n){return Cn.createElement(n)}function dH(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.ceFn,i=e===void 0?n.tag==="svg"?i_t:r_t:e;if(typeof n=="string")return Cn.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(o){r.setAttribute(o,n.attributes[o])});var s=n.children||[];return s.forEach(function(o){r.appendChild(dH(o,{ceFn:i}))}),r}function s_t(n){var t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Hy={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(r){e.parentNode.insertBefore(dH(r),e)}),e.getAttribute(pc)===null&&ie.keepOriginalSource){var i=Cn.createComment(s_t(e));e.parentNode.replaceChild(i,e)}else e.remove()},nest:function(t){var e=t[0],i=t[1];if(~tA(e).indexOf(ie.replacementClass))return Hy.replace(t);var r=new RegExp("".concat(ie.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(a,l){return l===ie.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}var o=i.map(function(a){return Xp(a)}).join(`
`);e.setAttribute(pc,""),e.innerHTML=o}};function u2(n){n()}function pH(n,t){var e=typeof t=="function"?t:Vy;if(n.length===0)e();else{var i=u2;ie.mutateApproach===cvt&&(i=Ua.requestAnimationFrame||u2),i(function(){var r=n_t(),s=oA.begin("mutate");n.map(r),s(),e()})}}var aA=!1;function mH(){aA=!0}function uM(){aA=!1}var g_=null;function h2(n){if(!!t2&&!!ie.observeMutations){var t=n.treeCallback,e=t===void 0?Vy:t,i=n.nodeCallback,r=i===void 0?Vy:i,s=n.pseudoElementsCallback,o=s===void 0?Vy:s,a=n.observeMutationsRoot,l=a===void 0?Cn:a;g_=new t2(function(c){if(!aA){var u=Va();Jh(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!c2(h.addedNodes[0])&&(ie.searchPseudoElements&&o(h.target),e(h.target)),h.type==="attributes"&&h.target.parentNode&&ie.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&c2(h.target)&&~gvt.indexOf(h.attributeName))if(h.attributeName==="class"&&t_t(h.target)){var f=Kb(tA(h.target)),p=f.prefix,m=f.iconName;h.target.setAttribute(Q1,p||u),m&&h.target.setAttribute(J1,m)}else e_t(h.target)&&r(h.target)})}}),Go&&g_.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function o_t(){!g_||g_.disconnect()}function a_t(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(i,r){var s=r.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),e}function l_t(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=Kb(tA(n));return r.prefix||(r.prefix=Va()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=zvt(r.prefix,n.innerText)||iA(r.prefix,iM(n.innerText))),!r.iconName&&ie.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function c_t(n){var t=Jh(n.attributes).reduce(function(r,s){return r.name!=="class"&&r.name!=="style"&&(r[s.name]=s.value),r},{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return ie.autoA11y&&(e?t["aria-labelledby"]="".concat(ie.replacementClass,"-title-").concat(i||cp()):(t["aria-hidden"]="true",t.focusable="false")),t}function u_t(){return{iconName:null,title:null,titleId:null,prefix:null,transform:$s,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function f2(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},e=l_t(n),i=e.iconName,r=e.prefix,s=e.rest,o=c_t(n),a=sM("parseNodeAttributes",{},n),l=t.styleParser?a_t(n):[];return Zt({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:$s,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var h_t=us.styles;function gH(n){var t=ie.autoReplaceSvg==="nest"?f2(n,{styleParser:!1}):f2(n);return~t.extra.classes.indexOf(JV)?Ho("generateLayersText",n,t):Ho("generateSvgReplacementMutation",n,t)}var Ha=new Set;Z1.map(function(n){Ha.add("fa-".concat(n))});Object.keys(sp[Tn]).map(Ha.add.bind(Ha));Object.keys(sp[Vn]).map(Ha.add.bind(Ha));Ha=qp(Ha);function d2(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Go)return Promise.resolve();var e=Cn.documentElement.classList,i=function(h){return e.add("".concat(e2,"-").concat(h))},r=function(h){return e.remove("".concat(e2,"-").concat(h))},s=ie.autoFetchSvg?Ha:Z1.map(function(u){return"fa-".concat(u)}).concat(Object.keys(h_t));s.includes("fa")||s.push("fa");var o=[".".concat(JV,":not([").concat(pc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(pc,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Jh(n.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),r("complete");else return Promise.resolve();var l=oA.begin("onTree"),c=a.reduce(function(u,h){try{var f=gH(h);f&&u.push(f)}catch(p){QV||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(f){pH(f,function(){i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),h(f)})})}function f_t(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;gH(n).then(function(e){e&&pH([e],t)})}function d_t(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:oM(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:oM(r||{})),n(i,Zt(Zt({},e),{},{mask:r}))}}var p_t=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.transform,r=i===void 0?$s:i,s=e.symbol,o=s===void 0?!1:s,a=e.mask,l=a===void 0?null:a,c=e.maskId,u=c===void 0?null:c,h=e.title,f=h===void 0?null:h,p=e.titleId,m=p===void 0?null:p,g=e.classes,y=g===void 0?[]:g,v=e.attributes,x=v===void 0?{}:v,S=e.styles,E=S===void 0?{}:S;if(!!t){var M=t.prefix,P=t.iconName,L=t.icon;return Qb(Zt({type:"icon"},t),function(){return mc("beforeDOMElementCreation",{iconDefinition:t,params:e}),ie.autoA11y&&(f?x["aria-labelledby"]="".concat(ie.replacementClass,"-title-").concat(m||cp()):(x["aria-hidden"]="true",x.focusable="false")),sA({icons:{main:aM(L),mask:l?aM(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:M,iconName:P,transform:Zt(Zt({},$s),r),symbol:o,title:f,maskId:u,titleId:m,extra:{attributes:x,styles:E,classes:y}})})}},m_t={mixout:function(){return{icon:d_t(p_t)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=d2,e.nodeCallback=f_t,e}}},provides:function(t){t.i2svg=function(e){var i=e.node,r=i===void 0?Cn:i,s=e.callback,o=s===void 0?function(){}:s;return d2(r,o)},t.generateSvgReplacementMutation=function(e,i){var r=i.iconName,s=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,h=i.maskId,f=i.extra;return new Promise(function(p,m){Promise.all([lM(r,a),u.iconName?lM(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=X1(g,2),v=y[0],x=y[1];p([e,sA({icons:{main:v,mask:x},prefix:a,iconName:r,transform:l,symbol:c,maskId:h,title:s,titleId:o,extra:f,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(e){var i=e.children,r=e.attributes,s=e.main,o=e.transform,a=e.styles,l=Yb(a);l.length>0&&(r.style=l);var c;return eA(o)&&(c=Ho("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),i.push(c||s.icon),{children:i,attributes:r}}}},g_t={mixout:function(){return{layer:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,s=r===void 0?[]:r;return Qb({type:"layer"},function(){mc("beforeDOMElementCreation",{assembler:e,params:i});var o=[];return e(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(ie.cssPrefix,"-layers")].concat(qp(s)).join(" ")},children:o}]})}}}},y_t={mixout:function(){return{counter:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.title,s=r===void 0?null:r,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,h=u===void 0?{}:u;return Qb({type:"counter",content:e},function(){return mc("beforeDOMElementCreation",{content:e,params:i}),Kvt({content:e.toString(),title:s,extra:{attributes:c,styles:h,classes:["".concat(ie.cssPrefix,"-layers-counter")].concat(qp(a))}})})}}}},v_t={mixout:function(){return{text:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,s=r===void 0?$s:r,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,h=u===void 0?{}:u,f=i.styles,p=f===void 0?{}:f;return Qb({type:"text",content:e},function(){return mc("beforeDOMElementCreation",{content:e,params:i}),a2({content:e,transform:Zt(Zt({},$s),s),title:a,extra:{attributes:h,styles:p,classes:["".concat(ie.cssPrefix,"-layers-text")].concat(qp(c))}})})}}},provides:function(t){t.generateLayersText=function(e,i){var r=i.title,s=i.transform,o=i.extra,a=null,l=null;if(YV){var c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/c,l=u.height/c}return ie.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,a2({content:e.innerHTML,width:a,height:l,transform:s,title:r,extra:o,watchable:!0})])}}},__t=new RegExp('"',"ug"),p2=[1105920,1112319];function b_t(n){var t=n.replace(__t,""),e=Lvt(t,0),i=e>=p2[0]&&e<=p2[1],r=t.length===2?t[0]===t[1]:!1;return{value:iM(r?t[0]:t),isSecondary:i||r}}function m2(n,t){var e="".concat(lvt).concat(t.replace(":","-"));return new Promise(function(i,r){if(n.getAttribute(e)!==null)return i();var s=Jh(n.children),o=s.filter(function(L){return L.getAttribute(nM)===t})[0],a=Ua.getComputedStyle(n,t),l=a.getPropertyValue("font-family").match(dvt),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return n.removeChild(o),i();if(l&&u!=="none"&&u!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Vn:Tn,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?op[f][l[2].toLowerCase()]:pvt[f][c],m=b_t(h),g=m.value,y=m.isSecondary,v=l[0].startsWith("FontAwesome"),x=iA(p,g),S=x;if(v){var E=Uvt(g);E.iconName&&E.prefix&&(x=E.iconName,p=E.prefix)}if(x&&!y&&(!o||o.getAttribute(Q1)!==p||o.getAttribute(J1)!==S)){n.setAttribute(e,S),o&&n.removeChild(o);var M=u_t(),P=M.extra;P.attributes[nM]=t,lM(x,p).then(function(L){var j=sA(Zt(Zt({},M),{},{icons:{main:L,mask:rA()},prefix:p,iconName:S,extra:P,watchable:!0})),W=Cn.createElement("svg");t==="::before"?n.insertBefore(W,n.firstChild):n.appendChild(W),W.outerHTML=j.map(function(U){return Xp(U)}).join(`
`),n.removeAttribute(e),i()}).catch(r)}else i()}else i()})}function x_t(n){return Promise.all([m2(n,"::before"),m2(n,"::after")])}function w_t(n){return n.parentNode!==document.head&&!~uvt.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(nM)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function g2(n){if(!!Go)return new Promise(function(t,e){var i=Jh(n.querySelectorAll("*")).filter(w_t).map(x_t),r=oA.begin("searchPseudoElements");mH(),Promise.all(i).then(function(){r(),uM(),t()}).catch(function(){r(),uM(),e()})})}var E_t={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=g2,e}}},provides:function(t){t.pseudoElements2svg=function(e){var i=e.node,r=i===void 0?Cn:i;ie.searchPseudoElements&&g2(r)}}},y2=!1,S_t={mixout:function(){return{dom:{unwatch:function(){mH(),y2=!0}}}},hooks:function(){return{bootstrap:function(){h2(sM("mutationObserverCallbacks",{}))},noAuto:function(){o_t()},watch:function(e){var i=e.observeMutationsRoot;y2?uM():h2(sM("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},v2=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},e)},M_t={mixout:function(){return{parse:{transform:function(e){return v2(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-transform");return r&&(e.transform=v2(r)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var i=e.main,r=e.transform,s=e.containerWidth,o=e.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:h,path:f};return{tag:"g",attributes:Zt({},p.outer),children:[{tag:"g",attributes:Zt({},p.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:Zt(Zt({},i.icon.attributes),p.path)}]}]}}}},yw={x:0,y:0,width:"100%",height:"100%"};function _2(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function T_t(n){return n.tag==="g"?n.children:[n]}var A_t={hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-mask"),s=r?Kb(r.split(" ").map(function(o){return o.trim()})):rA();return s.prefix||(s.prefix=Va()),e.mask=s,e.maskId=i.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var i=e.children,r=e.attributes,s=e.main,o=e.mask,a=e.maskId,l=e.transform,c=s.width,u=s.icon,h=o.width,f=o.icon,p=Mvt({transform:l,containerWidth:h,iconWidth:c}),m={tag:"rect",attributes:Zt(Zt({},yw),{},{fill:"white"})},g=u.children?{children:u.children.map(_2)}:{},y={tag:"g",attributes:Zt({},p.inner),children:[_2(Zt({tag:u.tag,attributes:Zt(Zt({},u.attributes),p.path)},g))]},v={tag:"g",attributes:Zt({},p.outer),children:[y]},x="mask-".concat(a||cp()),S="clip-".concat(a||cp()),E={tag:"mask",attributes:Zt(Zt({},yw),{},{id:x,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,v]},M={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:T_t(f)},E]};return i.push(M,{tag:"rect",attributes:Zt({fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(x,")")},yw)}),{children:i,attributes:r}}}},C_t={provides:function(t){var e=!1;Ua.matchMedia&&(e=Ua.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:Zt(Zt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Zt(Zt({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Zt(Zt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:Zt(Zt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Zt(Zt({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:Zt(Zt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Zt(Zt({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||i.push({tag:"path",attributes:Zt(Zt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Zt(Zt({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},O_t={hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-symbol"),s=r===null?!1:r===""?!0:r;return e.symbol=s,e}}}},P_t=[Cvt,m_t,g_t,y_t,v_t,E_t,S_t,M_t,A_t,C_t,O_t];$vt(P_t,{mixoutsTo:Cr});Cr.noAuto;var yH=Cr.config,D_t=Cr.library;Cr.dom;var y_=Cr.parse;Cr.findIconDefinition;Cr.toHtml;var R_t=Cr.icon;Cr.layer;var L_t=Cr.text;Cr.counter;function b2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function os(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(e),!0).forEach(function(i){or(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):b2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function v_(n){return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v_(n)}function or(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function I_t(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function k_t(n,t){if(n==null)return{};var e=I_t(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(e[i]=n[i]))}return e}function hM(n){return N_t(n)||F_t(n)||B_t(n)||z_t()}function N_t(n){if(Array.isArray(n))return fM(n)}function F_t(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function B_t(n,t){if(!!n){if(typeof n=="string")return fM(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return fM(n,t)}}function fM(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function z_t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U_t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vH={exports:{}};(function(n){(function(t){var e=function(v,x,S){if(!c(x)||h(x)||f(x)||p(x)||l(x))return x;var E,M=0,P=0;if(u(x))for(E=[],P=x.length;M<P;M++)E.push(e(v,x[M],S));else{E={};for(var L in x)Object.prototype.hasOwnProperty.call(x,L)&&(E[v(L,S)]=e(v,x[L],S))}return E},i=function(v,x){x=x||{};var S=x.separator||"_",E=x.split||/(?=[A-Z])/;return v.split(E).join(S)},r=function(v){return m(v)?v:(v=v.replace(/[\-_\s]+(.)?/g,function(x,S){return S?S.toUpperCase():""}),v.substr(0,1).toLowerCase()+v.substr(1))},s=function(v){var x=r(v);return x.substr(0,1).toUpperCase()+x.substr(1)},o=function(v,x){return i(v,x).toLowerCase()},a=Object.prototype.toString,l=function(v){return typeof v=="function"},c=function(v){return v===Object(v)},u=function(v){return a.call(v)=="[object Array]"},h=function(v){return a.call(v)=="[object Date]"},f=function(v){return a.call(v)=="[object RegExp]"},p=function(v){return a.call(v)=="[object Boolean]"},m=function(v){return v=v-0,v===v},g=function(v,x){var S=x&&"process"in x?x.process:x;return typeof S!="function"?v:function(E,M){return S(E,v,M)}},y={camelize:r,decamelize:o,pascalize:s,depascalize:o,camelizeKeys:function(v,x){return e(g(r,x),v)},decamelizeKeys:function(v,x){return e(g(o,x),v,x)},pascalizeKeys:function(v,x){return e(g(s,x),v)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};n.exports?n.exports=y:t.humps=y})(U_t)})(vH);var V_t=vH.exports,H_t=["class","style"];function $_t(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.indexOf(":"),r=V_t.camelize(e.slice(0,i)),s=e.slice(i+1).trim();return t[r]=s,t},{})}function W_t(n){return n.split(/\s+/).reduce(function(t,e){return t[e]=!0,t},{})}function lA(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n=="string")return n;var i=(n.children||[]).map(function(l){return lA(l)}),r=Object.keys(n.attributes||{}).reduce(function(l,c){var u=n.attributes[c];switch(c){case"class":l.class=W_t(u);break;case"style":l.style=$_t(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});e.class;var s=e.style,o=s===void 0?{}:s,a=k_t(e,H_t);return fp(n.tag,os(os(os({},t),{},{class:r.class,style:os(os({},r.style),o)},r.attrs),a),i)}var _H=!1;try{_H=!0}catch{}function G_t(){if(!_H&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function Ed(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?or({},n,t):{}}function j_t(n){var t,e=(t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-li":n.listItem,"fa-inverse":n.inverse,"fa-flip":n.flip===!0,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both"},or(t,"fa-".concat(n.size),n.size!==null),or(t,"fa-rotate-".concat(n.rotation),n.rotation!==null),or(t,"fa-pull-".concat(n.pull),n.pull!==null),or(t,"fa-swap-opacity",n.swapOpacity),or(t,"fa-bounce",n.bounce),or(t,"fa-shake",n.shake),or(t,"fa-beat",n.beat),or(t,"fa-fade",n.fade),or(t,"fa-beat-fade",n.beatFade),or(t,"fa-flash",n.flash),or(t,"fa-spin-pulse",n.spinPulse),or(t,"fa-spin-reverse",n.spinReverse),t);return Object.keys(e).map(function(i){return e[i]?i:null}).filter(function(i){return i})}function x2(n){if(n&&v_(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(y_.icon)return y_.icon(n);if(n===null)return null;if(v_(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}var q_t=hp({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,e){var i=e.attrs,r=Bn(function(){return x2(t.icon)}),s=Bn(function(){return Ed("classes",j_t(t))}),o=Bn(function(){return Ed("transform",typeof t.transform=="string"?y_.transform(t.transform):t.transform)}),a=Bn(function(){return Ed("mask",x2(t.mask))}),l=Bn(function(){return R_t(r.value,os(os(os(os({},s.value),o.value),a.value),{},{symbol:t.symbol,title:t.title}))});Yl(l,function(u){if(!u)return G_t("Could not find one or more icon(s)",r.value,a.value)},{immediate:!0});var c=Bn(function(){return l.value?lA(l.value.abstract[0],{},i):null});return function(){return c.value}}});hp({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,e){var i=e.slots,r=yH.familyPrefix,s=Bn(function(){return["".concat(r,"-layers")].concat(hM(t.fixedWidth?["".concat(r,"-fw")]:[]))});return function(){return fp("div",{class:s.value},i.default?i.default():[])}}});hp({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,e){var i=e.attrs,r=yH.familyPrefix,s=Bn(function(){return Ed("classes",[].concat(hM(t.counter?["".concat(r,"-layers-counter")]:[]),hM(t.position?["".concat(r,"-layers-").concat(t.position)]:[])))}),o=Bn(function(){return Ed("transform",typeof t.transform=="string"?y_.transform(t.transform):t.transform)}),a=Bn(function(){var c=L_t(t.value.toString(),os(os({},o.value),s.value)),u=c.abstract;return t.counter&&(u[0].attributes.class=u[0].attributes.class.replace("fa-layers-text","")),u[0]}),l=Bn(function(){return lA(a.value,{},i)});return function(){return l.value}}});var Y_t={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},X_t={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]};xr.configure({language:"de"});const K_t={apiKey:"AIzaSyD5e9LrGSnSUkVs4z-4QZhQD_wM5REeTfY",authDomain:"ibs-fysiotherapy.firebaseapp.com",projectId:"ibs-fysiotherapy",storageBucket:"ibs-fysiotherapy.appspot.com",messagingSenderId:"767042773850",appId:"1:767042773850:web:c38e45c3058e7d3ab80963"};D_t.add(X_t,Y_t);Q6(K_t);let Q_t="true";localStorage.setItem("development",Q_t);G7();SN(MN).component("font-awesome-icon",q_t).use(ZN).use(JN).use(xr).provide("sensorHandler",Jyt).mount("#app");export{Y2 as $,wbt as A,sn as B,Rd as C,Ebt as D,r3 as E,Dh as F,Sbt as G,gbt as H,bbt as I,xbt as J,JN as K,s3 as L,hp as M,tbt as N,Bn as O,obt as P,fp as Q,Ws as R,K6 as S,Hu as T,VW as U,mi as V,Yl as W,WW as X,fW as Y,Oh as Z,nG as _,lbt as a,ebt as a0,rbt as a1,ubt as a2,U2 as a3,Wg as a4,EB as a5,G7 as a6,Tbt as a7,Rbt as a8,Abt as a9,Lbt as aa,Pbt as ab,Ibt as ac,kbt as ad,Dbt as ae,Cbt as af,Obt as ag,yo as ah,abt as ai,pM as aj,mbt as ak,sbt as al,pbt as am,hbt as an,fbt as ao,Xi as b,p5 as c,gN as d,cbt as e,ibt as f,ZN as g,dbt as h,m5 as i,ybt as j,_bt as k,Qy as l,Wu as m,mM as n,dN as o,nbt as p,vbt as q,XW as r,Ro as s,Z_t as t,Mbt as u,q6 as v,OW as w,J6 as x,Fw as y,i3 as z};
