var NV=Object.defineProperty;var kV=(n,t,e)=>t in n?NV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var bb=(n,t,e)=>(kV(n,typeof t!="symbol"?t+"":t,e),e),FV=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var g1=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)};var y1=(n,t,e)=>(FV(n,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function HE(n,t){const e=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)e[i[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}const BV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zV=HE(BV);function hI(n){return!!n||n===""}function $E(n){if(_e(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],r=qn(i)?HV(i):$E(i);if(r)for(const s in r)t[s]=r[s]}return t}else{if(qn(n))return n;if(bn(n))return n}}const UV=/;(?![^(]*\))/g,VV=/:(.+)/;function HV(n){const t={};return n.split(UV).forEach(e=>{if(e){const i=e.split(VV);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function WE(n){let t="";if(qn(n))t=n;else if(_e(n))for(let e=0;e<n.length;e++){const i=WE(n[e]);i&&(t+=i+" ")}else if(bn(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function $V(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=g_(n[i],t[i]);return e}function g_(n,t){if(n===t)return!0;let e=_1(n),i=_1(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=jf(n),i=jf(t),e||i)return n===t;if(e=_e(n),i=_e(t),e||i)return e&&i?$V(n,t):!1;if(e=bn(n),i=bn(t),e||i){if(!e||!i)return!1;const r=Object.keys(n).length,s=Object.keys(t).length;if(r!==s)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!g_(n[o],t[o]))return!1}}return String(n)===String(t)}function fI(n,t){return n.findIndex(e=>g_(e,t))}const pmt=n=>qn(n)?n:n==null?"":_e(n)||bn(n)&&(n.toString===mI||!Pe(n.toString))?JSON.stringify(n,dI,2):String(n),dI=(n,t)=>t&&t.__v_isRef?dI(n,t.value):pu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,r])=>(e[`${i} =>`]=r,e),{})}:__(t)?{[`Set(${t.size})`]:[...t.values()]}:bn(t)&&!_e(t)&&!gI(t)?String(t):t,mn={},du=[],es=()=>{},WV=()=>!1,GV=/^on[^a-z]/,y_=n=>GV.test(n),GE=n=>n.startsWith("onUpdate:"),qi=Object.assign,jE=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},jV=Object.prototype.hasOwnProperty,Ke=(n,t)=>jV.call(n,t),_e=Array.isArray,pu=n=>Ad(n)==="[object Map]",__=n=>Ad(n)==="[object Set]",_1=n=>Ad(n)==="[object Date]",Pe=n=>typeof n=="function",qn=n=>typeof n=="string",jf=n=>typeof n=="symbol",bn=n=>n!==null&&typeof n=="object",pI=n=>bn(n)&&Pe(n.then)&&Pe(n.catch),mI=Object.prototype.toString,Ad=n=>mI.call(n),qV=n=>Ad(n).slice(8,-1),gI=n=>Ad(n)==="[object Object]",qE=n=>qn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Gm=HE(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),v_=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},YV=/-(\w)/g,Bs=v_(n=>n.replace(YV,(t,e)=>e?e.toUpperCase():"")),XV=/\B([A-Z])/g,jl=v_(n=>n.replace(XV,"-$1").toLowerCase()),b_=v_(n=>n.charAt(0).toUpperCase()+n.slice(1)),xb=v_(n=>n?`on${b_(n)}`:""),qf=(n,t)=>!Object.is(n,t),jm=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},Wg=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},KV=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let v1;const QV=()=>v1||(v1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ss;class JV{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Ss&&(this.parent=Ss,this.index=(Ss.scopes||(Ss.scopes=[])).push(this)-1)}run(t){if(this.active){const e=Ss;try{return Ss=this,t()}finally{Ss=e}}}on(){Ss=this}off(){Ss=this.parent}stop(t){if(this.active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function ZV(n,t=Ss){t&&t.active&&t.effects.push(n)}const YE=n=>{const t=new Set(n);return t.w=0,t.n=0,t},yI=n=>(n.w&da)>0,_I=n=>(n.n&da)>0,tH=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=da},eH=n=>{const{deps:t}=n;if(t.length){let e=0;for(let i=0;i<t.length;i++){const r=t[i];yI(r)&&!_I(r)?r.delete(n):t[e++]=r,r.w&=~da,r.n&=~da}t.length=e}},ox=new WeakMap;let mf=0,da=1;const ax=30;let Kr;const Tl=Symbol(""),lx=Symbol("");class XE{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,ZV(this,i)}run(){if(!this.active)return this.fn();let t=Kr,e=oa;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Kr,Kr=this,oa=!0,da=1<<++mf,mf<=ax?tH(this):b1(this),this.fn()}finally{mf<=ax&&eH(this),da=1<<--mf,Kr=this.parent,oa=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Kr===this?this.deferStop=!0:this.active&&(b1(this),this.onStop&&this.onStop(),this.active=!1)}}function b1(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}let oa=!0;const vI=[];function ql(){vI.push(oa),oa=!1}function Yl(){const n=vI.pop();oa=n===void 0?!0:n}function mr(n,t,e){if(oa&&Kr){let i=ox.get(n);i||ox.set(n,i=new Map);let r=i.get(e);r||i.set(e,r=YE()),bI(r)}}function bI(n,t){let e=!1;mf<=ax?_I(n)||(n.n|=da,e=!yI(n)):e=!n.has(Kr),e&&(n.add(Kr),Kr.deps.push(n))}function bo(n,t,e,i,r,s){const o=ox.get(n);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&_e(n))o.forEach((l,c)=>{(c==="length"||c>=i)&&a.push(l)});else switch(e!==void 0&&a.push(o.get(e)),t){case"add":_e(n)?qE(e)&&a.push(o.get("length")):(a.push(o.get(Tl)),pu(n)&&a.push(o.get(lx)));break;case"delete":_e(n)||(a.push(o.get(Tl)),pu(n)&&a.push(o.get(lx)));break;case"set":pu(n)&&a.push(o.get(Tl));break}if(a.length===1)a[0]&&cx(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);cx(YE(l))}}function cx(n,t){const e=_e(n)?n:[...n];for(const i of e)i.computed&&x1(i);for(const i of e)i.computed||x1(i)}function x1(n,t){(n!==Kr||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const nH=HE("__proto__,__v_isRef,__isVue"),xI=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(jf)),iH=KE(),rH=KE(!1,!0),sH=KE(!0),w1=oH();function oH(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const i=Ze(this);for(let s=0,o=this.length;s<o;s++)mr(i,"get",s+"");const r=i[t](...e);return r===-1||r===!1?i[t](...e.map(Ze)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){ql();const i=Ze(this)[t].apply(this,e);return Yl(),i}}),n}function KE(n=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(n?t?wH:TI:t?MI:SI).get(i))return i;const o=_e(i);if(!n&&o&&Ke(w1,r))return Reflect.get(w1,r,s);const a=Reflect.get(i,r,s);return(jf(r)?xI.has(r):nH(r))||(n||mr(i,"get",r),t)?a:li(a)?o&&qE(r)?a:a.value:bn(a)?n?AI(a):nh(a):a}}const aH=wI(),lH=wI(!0);function wI(n=!1){return function(e,i,r,s){let o=e[i];if(Tu(o)&&li(o)&&!li(r))return!1;if(!n&&(!Gg(r)&&!Tu(r)&&(o=Ze(o),r=Ze(r)),!_e(e)&&li(o)&&!li(r)))return o.value=r,!0;const a=_e(e)&&qE(i)?Number(i)<e.length:Ke(e,i),l=Reflect.set(e,i,r,s);return e===Ze(s)&&(a?qf(r,o)&&bo(e,"set",i,r):bo(e,"add",i,r)),l}}function cH(n,t){const e=Ke(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&e&&bo(n,"delete",t,void 0),i}function uH(n,t){const e=Reflect.has(n,t);return(!jf(t)||!xI.has(t))&&mr(n,"has",t),e}function hH(n){return mr(n,"iterate",_e(n)?"length":Tl),Reflect.ownKeys(n)}const EI={get:iH,set:aH,deleteProperty:cH,has:uH,ownKeys:hH},fH={get:sH,set(n,t){return!0},deleteProperty(n,t){return!0}},dH=qi({},EI,{get:rH,set:lH}),QE=n=>n,x_=n=>Reflect.getPrototypeOf(n);function Rp(n,t,e=!1,i=!1){n=n.__v_raw;const r=Ze(n),s=Ze(t);e||(t!==s&&mr(r,"get",t),mr(r,"get",s));const{has:o}=x_(r),a=i?QE:e?tS:Yf;if(o.call(r,t))return a(n.get(t));if(o.call(r,s))return a(n.get(s));n!==r&&n.get(t)}function Lp(n,t=!1){const e=this.__v_raw,i=Ze(e),r=Ze(n);return t||(n!==r&&mr(i,"has",n),mr(i,"has",r)),n===r?e.has(n):e.has(n)||e.has(r)}function Ip(n,t=!1){return n=n.__v_raw,!t&&mr(Ze(n),"iterate",Tl),Reflect.get(n,"size",n)}function E1(n){n=Ze(n);const t=Ze(this);return x_(t).has.call(t,n)||(t.add(n),bo(t,"add",n,n)),this}function S1(n,t){t=Ze(t);const e=Ze(this),{has:i,get:r}=x_(e);let s=i.call(e,n);s||(n=Ze(n),s=i.call(e,n));const o=r.call(e,n);return e.set(n,t),s?qf(t,o)&&bo(e,"set",n,t):bo(e,"add",n,t),this}function M1(n){const t=Ze(this),{has:e,get:i}=x_(t);let r=e.call(t,n);r||(n=Ze(n),r=e.call(t,n)),i&&i.call(t,n);const s=t.delete(n);return r&&bo(t,"delete",n,void 0),s}function T1(){const n=Ze(this),t=n.size!==0,e=n.clear();return t&&bo(n,"clear",void 0,void 0),e}function Np(n,t){return function(i,r){const s=this,o=s.__v_raw,a=Ze(o),l=t?QE:n?tS:Yf;return!n&&mr(a,"iterate",Tl),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function kp(n,t,e){return function(...i){const r=this.__v_raw,s=Ze(r),o=pu(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=e?QE:t?tS:Yf;return!t&&mr(s,"iterate",l?lx:Tl),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Vo(n){return function(...t){return n==="delete"?!1:this}}function pH(){const n={get(s){return Rp(this,s)},get size(){return Ip(this)},has:Lp,add:E1,set:S1,delete:M1,clear:T1,forEach:Np(!1,!1)},t={get(s){return Rp(this,s,!1,!0)},get size(){return Ip(this)},has:Lp,add:E1,set:S1,delete:M1,clear:T1,forEach:Np(!1,!0)},e={get(s){return Rp(this,s,!0)},get size(){return Ip(this,!0)},has(s){return Lp.call(this,s,!0)},add:Vo("add"),set:Vo("set"),delete:Vo("delete"),clear:Vo("clear"),forEach:Np(!0,!1)},i={get(s){return Rp(this,s,!0,!0)},get size(){return Ip(this,!0)},has(s){return Lp.call(this,s,!0)},add:Vo("add"),set:Vo("set"),delete:Vo("delete"),clear:Vo("clear"),forEach:Np(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=kp(s,!1,!1),e[s]=kp(s,!0,!1),t[s]=kp(s,!1,!0),i[s]=kp(s,!0,!0)}),[n,e,t,i]}const[mH,gH,yH,_H]=pH();function JE(n,t){const e=t?n?_H:yH:n?gH:mH;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Ke(e,r)&&r in i?e:i,r,s)}const vH={get:JE(!1,!1)},bH={get:JE(!1,!0)},xH={get:JE(!0,!1)},SI=new WeakMap,MI=new WeakMap,TI=new WeakMap,wH=new WeakMap;function EH(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SH(n){return n.__v_skip||!Object.isExtensible(n)?0:EH(qV(n))}function nh(n){return Tu(n)?n:ZE(n,!1,EI,vH,SI)}function MH(n){return ZE(n,!1,dH,bH,MI)}function AI(n){return ZE(n,!0,fH,xH,TI)}function ZE(n,t,e,i,r){if(!bn(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=SH(n);if(o===0)return n;const a=new Proxy(n,o===2?i:e);return r.set(n,a),a}function mu(n){return Tu(n)?mu(n.__v_raw):!!(n&&n.__v_isReactive)}function Tu(n){return!!(n&&n.__v_isReadonly)}function Gg(n){return!!(n&&n.__v_isShallow)}function CI(n){return mu(n)||Tu(n)}function Ze(n){const t=n&&n.__v_raw;return t?Ze(t):n}function OI(n){return Wg(n,"__v_skip",!0),n}const Yf=n=>bn(n)?nh(n):n,tS=n=>bn(n)?AI(n):n;function PI(n){oa&&Kr&&(n=Ze(n),bI(n.dep||(n.dep=YE())))}function DI(n,t){n=Ze(n),n.dep&&cx(n.dep)}function li(n){return!!(n&&n.__v_isRef===!0)}function TH(n){return RI(n,!1)}function AH(n){return RI(n,!0)}function RI(n,t){return li(n)?n:new CH(n,t)}class CH{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ze(t),this._value=e?t:Yf(t)}get value(){return PI(this),this._value}set value(t){const e=this.__v_isShallow||Gg(t)||Tu(t);t=e?t:Ze(t),qf(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Yf(t),DI(this))}}function gu(n){return li(n)?n.value:n}const OH={get:(n,t,e)=>gu(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const r=n[t];return li(r)&&!li(e)?(r.value=e,!0):Reflect.set(n,t,e,i)}};function LI(n){return mu(n)?n:new Proxy(n,OH)}class PH{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function mmt(n,t,e){const i=n[t];return li(i)?i:new PH(n,t,e)}var II;class DH{constructor(t,e,i,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[II]=!1,this._dirty=!0,this.effect=new XE(t,()=>{this._dirty||(this._dirty=!0,DI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Ze(this);return PI(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}II="__v_isReadonly";function RH(n,t,e=!1){let i,r;const s=Pe(n);return s?(i=n,r=es):(i=n.get,r=n.set),new DH(i,r,s||!r,e)}const Tf=[];function gmt(n,...t){ql();const e=Tf.length?Tf[Tf.length-1].component:null,i=e&&e.appContext.config.warnHandler,r=LH();if(i)fo(i,e,11,[n+t.join(""),e&&e.proxy,r.map(({vnode:s})=>`at <${uN(e,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${n}`,...t];r.length&&s.push(`
`,...IH(r)),console.warn(...s)}Yl()}function LH(){let n=Tf[Tf.length-1];if(!n)return[];const t=[];for(;n;){const e=t[0];e&&e.vnode===n?e.recurseCount++:t.push({vnode:n,recurseCount:0});const i=n.component&&n.component.parent;n=i&&i.vnode}return t}function IH(n){const t=[];return n.forEach((e,i)=>{t.push(...i===0?[]:[`
`],...NH(e))}),t}function NH({vnode:n,recurseCount:t}){const e=t>0?`... (${t} recursive calls)`:"",i=n.component?n.component.parent==null:!1,r=` at <${uN(n.component,n.type,i)}`,s=">"+e;return n.props?[r,...kH(n.props),s]:[r+s]}function kH(n){const t=[],e=Object.keys(n);return e.slice(0,3).forEach(i=>{t.push(...NI(i,n[i]))}),e.length>3&&t.push(" ..."),t}function NI(n,t,e){return qn(t)?(t=JSON.stringify(t),e?t:[`${n}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?e?t:[`${n}=${t}`]:li(t)?(t=NI(n,Ze(t.value),!0),e?t:[`${n}=Ref<`,t,">"]):Pe(t)?[`${n}=fn${t.name?`<${t.name}>`:""}`]:(t=Ze(t),e?t:[`${n}=`,t])}function fo(n,t,e,i){let r;try{r=i?n(...i):n()}catch(s){w_(s,t,e)}return r}function ns(n,t,e,i){if(Pe(n)){const s=fo(n,t,e,i);return s&&pI(s)&&s.catch(o=>{w_(o,t,e)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(ns(n[s],t,e,i));return r}function w_(n,t,e,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=e;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){fo(l,null,10,[n,o,a]);return}}FH(n,e,r,i)}function FH(n,t,e,i=!0){console.error(n)}let Xf=!1,ux=!1;const Ti=[];let Cs=0;const yu=[];let io=null,ml=0;const kI=Promise.resolve();let eS=null;function FI(n){const t=eS||kI;return n?t.then(this?n.bind(this):n):t}function BH(n){let t=Cs+1,e=Ti.length;for(;t<e;){const i=t+e>>>1;Kf(Ti[i])<n?t=i+1:e=i}return t}function nS(n){(!Ti.length||!Ti.includes(n,Xf&&n.allowRecurse?Cs+1:Cs))&&(n.id==null?Ti.push(n):Ti.splice(BH(n.id),0,n),BI())}function BI(){!Xf&&!ux&&(ux=!0,eS=kI.then(UI))}function zH(n){const t=Ti.indexOf(n);t>Cs&&Ti.splice(t,1)}function UH(n){_e(n)?yu.push(...n):(!io||!io.includes(n,n.allowRecurse?ml+1:ml))&&yu.push(n),BI()}function A1(n,t=Xf?Cs+1:0){for(;t<Ti.length;t++){const e=Ti[t];e&&e.pre&&(Ti.splice(t,1),t--,e())}}function zI(n){if(yu.length){const t=[...new Set(yu)];if(yu.length=0,io){io.push(...t);return}for(io=t,io.sort((e,i)=>Kf(e)-Kf(i)),ml=0;ml<io.length;ml++)io[ml]();io=null,ml=0}}const Kf=n=>n.id==null?1/0:n.id,VH=(n,t)=>{const e=Kf(n)-Kf(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function UI(n){ux=!1,Xf=!0,Ti.sort(VH);const t=es;try{for(Cs=0;Cs<Ti.length;Cs++){const e=Ti[Cs];e&&e.active!==!1&&fo(e,null,14)}}finally{Cs=0,Ti.length=0,zI(),Xf=!1,eS=null,(Ti.length||yu.length)&&UI()}}function HH(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||mn;let r=e;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||mn;f&&(r=e.map(p=>p.trim())),h&&(r=e.map(KV))}let a,l=i[a=xb(t)]||i[a=xb(Bs(t))];!l&&s&&(l=i[a=xb(jl(t))]),l&&ns(l,n,6,r);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,ns(c,n,6,r)}}function VI(n,t,e=!1){const i=t.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!Pe(n)){const l=c=>{const u=VI(c,t,!0);u&&(a=!0,qi(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(bn(n)&&i.set(n,null),null):(_e(s)?s.forEach(l=>o[l]=null):qi(o,s),bn(n)&&i.set(n,o),o)}function E_(n,t){return!n||!y_(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(n,t[0].toLowerCase()+t.slice(1))||Ke(n,jl(t))||Ke(n,t))}let Or=null,S_=null;function jg(n){const t=Or;return Or=n,S_=n&&n.type.__scopeId||null,t}function ymt(n){S_=n}function _mt(){S_=null}function $H(n,t=Or,e){if(!t||n._n)return n;const i=(...r)=>{i._d&&F1(-1);const s=jg(t),o=n(...r);return jg(s),i._d&&F1(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function wb(n){const{type:t,vnode:e,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:g}=n;let y,v;const w=jg(n);try{if(e.shapeFlag&4){const E=r||i;y=Ts(u.call(E,E,h,s,p,f,m)),v=l}else{const E=t;y=Ts(E.length>1?E(s,{attrs:l,slots:a,emit:c}):E(s,null)),v=t.props?l:WH(l)}}catch(E){Af.length=0,w_(E,n,1),y=Vi(Nl)}let M=y;if(v&&g!==!1){const E=Object.keys(v),{shapeFlag:T}=M;E.length&&T&7&&(o&&E.some(GE)&&(v=GH(v,o)),M=Au(M,v))}return e.dirs&&(M=Au(M),M.dirs=M.dirs?M.dirs.concat(e.dirs):e.dirs),e.transition&&(M.transition=e.transition),y=M,jg(w),y}const WH=n=>{let t;for(const e in n)(e==="class"||e==="style"||y_(e))&&((t||(t={}))[e]=n[e]);return t},GH=(n,t)=>{const e={};for(const i in n)(!GE(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function jH(n,t,e){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return i?C1(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!E_(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?C1(i,o,c):!0:!!o;return!1}function C1(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==n[s]&&!E_(e,s))return!0}return!1}function qH({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const YH=n=>n.__isSuspense;function XH(n,t){t&&t.pendingBranch?_e(n)?t.effects.push(...n):t.effects.push(n):UH(n)}function qm(n,t){if(ai){let e=ai.provides;const i=ai.parent&&ai.parent.provides;i===e&&(e=ai.provides=Object.create(i)),e[n]=t}}function Ls(n,t,e=!1){const i=ai||Or;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return e&&Pe(t)?t.call(i.proxy):t}}function vmt(n,t){return iS(n,null,t)}const O1={};function _u(n,t,e){return iS(n,t,e)}function iS(n,t,{immediate:e,deep:i,flush:r,onTrack:s,onTrigger:o}=mn){const a=ai;let l,c=!1,u=!1;if(li(n)?(l=()=>n.value,c=Gg(n)):mu(n)?(l=()=>n,i=!0):_e(n)?(u=!0,c=n.some(v=>mu(v)||Gg(v)),l=()=>n.map(v=>{if(li(v))return v.value;if(mu(v))return _l(v);if(Pe(v))return fo(v,a,2)})):Pe(n)?t?l=()=>fo(n,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),ns(n,a,3,[f])}:l=es,t&&i){const v=l;l=()=>_l(v())}let h,f=v=>{h=y.onStop=()=>{fo(v,a,4)}};if(Jf)return f=es,t?e&&ns(t,a,3,[l(),u?[]:void 0,f]):l(),es;let p=u?[]:O1;const m=()=>{if(!!y.active)if(t){const v=y.run();(i||c||(u?v.some((w,M)=>qf(w,p[M])):qf(v,p)))&&(h&&h(),ns(t,a,3,[v,p===O1?void 0:p,f]),p=v)}else y.run()};m.allowRecurse=!!t;let g;r==="sync"?g=m:r==="post"?g=()=>Ji(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),g=()=>nS(m));const y=new XE(l,g);return t?e?m():p=y.run():r==="post"?Ji(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&jE(a.scope.effects,y)}}function KH(n,t,e){const i=this.proxy,r=qn(n)?n.includes(".")?HI(i,n):()=>i[n]:n.bind(i,i);let s;Pe(t)?s=t:(s=t.handler,e=t);const o=ai;Cu(this);const a=iS(r,s.bind(i),e);return o?Cu(o):Al(),a}function HI(n,t){const e=t.split(".");return()=>{let i=n;for(let r=0;r<e.length&&i;r++)i=i[e[r]];return i}}function _l(n,t){if(!bn(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),li(n))_l(n.value,t);else if(_e(n))for(let e=0;e<n.length;e++)_l(n[e],t);else if(__(n)||pu(n))n.forEach(e=>{_l(e,t)});else if(gI(n))for(const e in n)_l(n[e],t);return n}function $I(n){return Pe(n)?{setup:n,name:n.name}:n}const Ym=n=>!!n.type.__asyncLoader,WI=n=>n.type.__isKeepAlive;function QH(n,t){GI(n,"a",t)}function JH(n,t){GI(n,"da",t)}function GI(n,t,e=ai){const i=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(M_(t,i,e),e){let r=e.parent;for(;r&&r.parent;)WI(r.parent.vnode)&&ZH(i,t,e,r),r=r.parent}}function ZH(n,t,e,i){const r=M_(t,n,i,!0);jI(()=>{jE(i[t],r)},e)}function M_(n,t,e=ai,i=!1){if(e){const r=e[n]||(e[n]=[]),s=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;ql(),Cu(e);const a=ns(t,e,n,o);return Al(),Yl(),a});return i?r.unshift(s):r.push(s),s}}const Oo=n=>(t,e=ai)=>(!Jf||n==="sp")&&M_(n,(...i)=>t(...i),e),t$=Oo("bm"),e$=Oo("m"),n$=Oo("bu"),i$=Oo("u"),r$=Oo("bum"),jI=Oo("um"),s$=Oo("sp"),o$=Oo("rtg"),a$=Oo("rtc");function l$(n,t=ai){M_("ec",n,t)}function bmt(n,t){const e=Or;if(e===null)return n;const i=A_(e)||e.proxy,r=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,c=mn]=t[s];Pe(o)&&(o={mounted:o,updated:o}),o.deep&&_l(a),r.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c})}return n}function nl(n,t,e,i){const r=n.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(ql(),ns(l,e,8,[n.el,a,n,t]),Yl())}}const rS="components";function c$(n,t){return YI(rS,n,!0,t)||n}const qI=Symbol();function xmt(n){return qn(n)?YI(rS,n,!1)||n:n||qI}function YI(n,t,e=!0,i=!1){const r=Or||ai;if(r){const s=r.type;if(n===rS){const a=cN(s,!1);if(a&&(a===t||a===Bs(t)||a===b_(Bs(t))))return s}const o=P1(r[n]||s[n],t)||P1(r.appContext[n],t);return!o&&i?s:o}}function P1(n,t){return n&&(n[t]||n[Bs(t)]||n[b_(Bs(t))])}function wmt(n,t,e,i){let r;const s=e&&e[i];if(_e(n)||qn(n)){r=new Array(n.length);for(let o=0,a=n.length;o<a;o++)r[o]=t(n[o],o,void 0,s&&s[o])}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(bn(n))if(n[Symbol.iterator])r=Array.from(n,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(n);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=t(n[c],c,a,s&&s[a])}}else r=[];return e&&(e[i]=r),r}const hx=n=>n?aN(n)?A_(n)||n.proxy:hx(n.parent):null,qg=qi(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>hx(n.parent),$root:n=>hx(n.root),$emit:n=>n.emit,$options:n=>sS(n),$forceUpdate:n=>n.f||(n.f=()=>nS(n.update)),$nextTick:n=>n.n||(n.n=FI.bind(n.proxy)),$watch:n=>KH.bind(n)}),u$={get({_:n},t){const{ctx:e,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return r[t];case 4:return e[t];case 3:return s[t]}else{if(i!==mn&&Ke(i,t))return o[t]=1,i[t];if(r!==mn&&Ke(r,t))return o[t]=2,r[t];if((c=n.propsOptions[0])&&Ke(c,t))return o[t]=3,s[t];if(e!==mn&&Ke(e,t))return o[t]=4,e[t];fx&&(o[t]=0)}}const u=qg[t];let h,f;if(u)return t==="$attrs"&&mr(n,"get",t),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==mn&&Ke(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,Ke(f,t))return f[t]},set({_:n},t,e){const{data:i,setupState:r,ctx:s}=n;return r!==mn&&Ke(r,t)?(r[t]=e,!0):i!==mn&&Ke(i,t)?(i[t]=e,!0):Ke(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(s[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!e[o]||n!==mn&&Ke(n,o)||t!==mn&&Ke(t,o)||(a=s[0])&&Ke(a,o)||Ke(i,o)||Ke(qg,o)||Ke(r.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Ke(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};let fx=!0;function h$(n){const t=sS(n),e=n.proxy,i=n.ctx;fx=!1,t.beforeCreate&&D1(t.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:w,destroyed:M,unmounted:E,render:T,renderTracked:D,renderTriggered:I,errorCaptured:G,serverPrefetch:j,expose:V,inheritAttrs:A,components:F,directives:nt,filters:q}=t;if(c&&f$(c,i,null,n.appContext.config.unwrapInjectedRef),o)for(const Z in o){const U=o[Z];Pe(U)&&(i[Z]=U.bind(e))}if(r){const Z=r.call(e,e);bn(Z)&&(n.data=nh(Z))}if(fx=!0,s)for(const Z in s){const U=s[Z],Q=Pe(U)?U.bind(e,e):Pe(U.get)?U.get.bind(e,e):es,ut=!Pe(U)&&Pe(U.set)?U.set.bind(e):es,vt=Ar({get:Q,set:ut});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>vt.value,set:at=>vt.value=at})}if(a)for(const Z in a)XI(a[Z],i,e,Z);if(l){const Z=Pe(l)?l.call(e):l;Reflect.ownKeys(Z).forEach(U=>{qm(U,Z[U])})}u&&D1(u,n,"c");function W(Z,U){_e(U)?U.forEach(Q=>Z(Q.bind(e))):U&&Z(U.bind(e))}if(W(t$,h),W(e$,f),W(n$,p),W(i$,m),W(QH,g),W(JH,y),W(l$,G),W(a$,D),W(o$,I),W(r$,w),W(jI,E),W(s$,j),_e(V))if(V.length){const Z=n.exposed||(n.exposed={});V.forEach(U=>{Object.defineProperty(Z,U,{get:()=>e[U],set:Q=>e[U]=Q})})}else n.exposed||(n.exposed={});T&&n.render===es&&(n.render=T),A!=null&&(n.inheritAttrs=A),F&&(n.components=F),nt&&(n.directives=nt)}function f$(n,t,e=es,i=!1){_e(n)&&(n=dx(n));for(const r in n){const s=n[r];let o;bn(s)?"default"in s?o=Ls(s.from||r,s.default,!0):o=Ls(s.from||r):o=Ls(s),li(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function D1(n,t,e){ns(_e(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function XI(n,t,e,i){const r=i.includes(".")?HI(e,i):()=>e[i];if(qn(n)){const s=t[n];Pe(s)&&_u(r,s)}else if(Pe(n))_u(r,n.bind(e));else if(bn(n))if(_e(n))n.forEach(s=>XI(s,t,e,i));else{const s=Pe(n.handler)?n.handler.bind(e):t[n.handler];Pe(s)&&_u(r,s,n)}}function sS(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!e&&!i?l=t:(l={},r.length&&r.forEach(c=>Yg(l,c,o,!0)),Yg(l,t,o)),bn(t)&&s.set(t,l),l}function Yg(n,t,e,i=!1){const{mixins:r,extends:s}=t;s&&Yg(n,s,e,!0),r&&r.forEach(o=>Yg(n,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const a=d$[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const d$={data:R1,props:cl,emits:cl,methods:cl,computed:cl,beforeCreate:Ui,created:Ui,beforeMount:Ui,mounted:Ui,beforeUpdate:Ui,updated:Ui,beforeDestroy:Ui,beforeUnmount:Ui,destroyed:Ui,unmounted:Ui,activated:Ui,deactivated:Ui,errorCaptured:Ui,serverPrefetch:Ui,components:cl,directives:cl,watch:m$,provide:R1,inject:p$};function R1(n,t){return t?n?function(){return qi(Pe(n)?n.call(this,this):n,Pe(t)?t.call(this,this):t)}:t:n}function p$(n,t){return cl(dx(n),dx(t))}function dx(n){if(_e(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function Ui(n,t){return n?[...new Set([].concat(n,t))]:t}function cl(n,t){return n?qi(qi(Object.create(null),n),t):t}function m$(n,t){if(!n)return t;if(!t)return n;const e=qi(Object.create(null),n);for(const i in t)e[i]=Ui(n[i],t[i]);return e}function g$(n,t,e,i=!1){const r={},s={};Wg(s,T_,1),n.propsDefaults=Object.create(null),KI(n,t,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);e?n.props=i?r:MH(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function y$(n,t,e,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=Ze(r),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(E_(n.emitsOptions,f))continue;const p=t[f];if(l)if(Ke(s,f))p!==s[f]&&(s[f]=p,c=!0);else{const m=Bs(f);r[m]=px(l,a,m,p,n,!1)}else p!==s[f]&&(s[f]=p,c=!0)}}}else{KI(n,t,r,s)&&(c=!0);let u;for(const h in a)(!t||!Ke(t,h)&&((u=jl(h))===h||!Ke(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(r[h]=px(l,a,h,void 0,n,!0)):delete r[h]);if(s!==a)for(const h in s)(!t||!Ke(t,h)&&!0)&&(delete s[h],c=!0)}c&&bo(n,"set","$attrs")}function KI(n,t,e,i){const[r,s]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(Gm(l))continue;const c=t[l];let u;r&&Ke(r,u=Bs(l))?!s||!s.includes(u)?e[u]=c:(a||(a={}))[u]=c:E_(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Ze(e),c=a||mn;for(let u=0;u<s.length;u++){const h=s[u];e[h]=px(r,l,h,c[h],n,!Ke(c,h))}}return o}function px(n,t,e,i,r,s){const o=n[e];if(o!=null){const a=Ke(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&Pe(l)){const{propsDefaults:c}=r;e in c?i=c[e]:(Cu(r),i=c[e]=l.call(null,t),Al())}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===jl(e))&&(i=!0))}return i}function QI(n,t,e=!1){const i=t.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!Pe(n)){const u=h=>{l=!0;const[f,p]=QI(h,t,!0);qi(o,f),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return bn(n)&&i.set(n,du),du;if(_e(s))for(let u=0;u<s.length;u++){const h=Bs(s[u]);L1(h)&&(o[h]=mn)}else if(s)for(const u in s){const h=Bs(u);if(L1(h)){const f=s[u],p=o[h]=_e(f)||Pe(f)?{type:f}:f;if(p){const m=k1(Boolean,p.type),g=k1(String,p.type);p[0]=m>-1,p[1]=g<0||m<g,(m>-1||Ke(p,"default"))&&a.push(h)}}}const c=[o,a];return bn(n)&&i.set(n,c),c}function L1(n){return n[0]!=="$"}function I1(n){const t=n&&n.toString().match(/^\s*function (\w+)/);return t?t[1]:n===null?"null":""}function N1(n,t){return I1(n)===I1(t)}function k1(n,t){return _e(t)?t.findIndex(e=>N1(e,n)):Pe(t)&&N1(t,n)?0:-1}const JI=n=>n[0]==="_"||n==="$stable",oS=n=>_e(n)?n.map(Ts):[Ts(n)],_$=(n,t,e)=>{if(t._n)return t;const i=$H((...r)=>oS(t(...r)),e);return i._c=!1,i},ZI=(n,t,e)=>{const i=n._ctx;for(const r in n){if(JI(r))continue;const s=n[r];if(Pe(s))t[r]=_$(r,s,i);else if(s!=null){const o=oS(s);t[r]=()=>o}}},tN=(n,t)=>{const e=oS(t);n.slots.default=()=>e},v$=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=Ze(t),Wg(t,"_",e)):ZI(t,n.slots={})}else n.slots={},t&&tN(n,t);Wg(n.slots,T_,1)},b$=(n,t,e)=>{const{vnode:i,slots:r}=n;let s=!0,o=mn;if(i.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:(qi(r,t),!e&&a===1&&delete r._):(s=!t.$stable,ZI(t,r)),o=t}else t&&(tN(n,t),o={default:1});if(s)for(const a in r)!JI(a)&&!(a in o)&&delete r[a]};function eN(){return{app:null,config:{isNativeTag:WV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let x$=0;function w$(n,t){return function(i,r=null){Pe(i)||(i=Object.assign({},i)),r!=null&&!bn(r)&&(r=null);const s=eN(),o=new Set;let a=!1;const l=s.app={_uid:x$++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:W$,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Pe(c.install)?(o.add(c),c.install(l,...u)):Pe(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const f=Vi(i,r);return f.appContext=s,u&&t?t(f,c):n(f,c,h),a=!0,l._container=c,c.__vue_app__=l,A_(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}function mx(n,t,e,i,r=!1){if(_e(n)){n.forEach((f,p)=>mx(f,t&&(_e(t)?t[p]:t),e,i,r));return}if(Ym(i)&&!r)return;const s=i.shapeFlag&4?A_(i.component)||i.component.proxy:i.el,o=r?null:s,{i:a,r:l}=n,c=t&&t.r,u=a.refs===mn?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(qn(c)?(u[c]=null,Ke(h,c)&&(h[c]=null)):li(c)&&(c.value=null)),Pe(l))fo(l,a,12,[o,u]);else{const f=qn(l),p=li(l);if(f||p){const m=()=>{if(n.f){const g=f?u[l]:l.value;r?_e(g)&&jE(g,s):_e(g)?g.includes(s)||g.push(s):f?(u[l]=[s],Ke(h,l)&&(h[l]=u[l])):(l.value=[s],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,Ke(h,l)&&(h[l]=o)):p&&(l.value=o,n.k&&(u[n.k]=o))};o?(m.id=-1,Ji(m,e)):m()}}}const Ji=XH;function E$(n){return S$(n)}function S$(n,t){const e=QV();e.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=es,insertStaticContent:m}=n,g=(O,N,$,X=null,rt=null,mt=null,yt=!1,ht=null,Tt=!!N.dynamicChildren)=>{if(O===N)return;O&&!$h(O,N)&&(X=Et(O),at(O,rt,mt,!0),O=null),N.patchFlag===-2&&(Tt=!1,N.dynamicChildren=null);const{type:bt,ref:k,shapeFlag:R}=N;switch(bt){case aS:y(O,N,$,X);break;case Nl:v(O,N,$,X);break;case Xm:O==null&&w(N,$,X,yt);break;case so:F(O,N,$,X,rt,mt,yt,ht,Tt);break;default:R&1?T(O,N,$,X,rt,mt,yt,ht,Tt):R&6?nt(O,N,$,X,rt,mt,yt,ht,Tt):(R&64||R&128)&&bt.process(O,N,$,X,rt,mt,yt,ht,Tt,Mt)}k!=null&&rt&&mx(k,O&&O.ref,mt,N||O,!N)},y=(O,N,$,X)=>{if(O==null)i(N.el=a(N.children),$,X);else{const rt=N.el=O.el;N.children!==O.children&&c(rt,N.children)}},v=(O,N,$,X)=>{O==null?i(N.el=l(N.children||""),$,X):N.el=O.el},w=(O,N,$,X)=>{[O.el,O.anchor]=m(O.children,N,$,X,O.el,O.anchor)},M=({el:O,anchor:N},$,X)=>{let rt;for(;O&&O!==N;)rt=f(O),i(O,$,X),O=rt;i(N,$,X)},E=({el:O,anchor:N})=>{let $;for(;O&&O!==N;)$=f(O),r(O),O=$;r(N)},T=(O,N,$,X,rt,mt,yt,ht,Tt)=>{yt=yt||N.type==="svg",O==null?D(N,$,X,rt,mt,yt,ht,Tt):j(O,N,rt,mt,yt,ht,Tt)},D=(O,N,$,X,rt,mt,yt,ht)=>{let Tt,bt;const{type:k,props:R,shapeFlag:st,transition:gt,dirs:Ot}=O;if(Tt=O.el=o(O.type,mt,R&&R.is,R),st&8?u(Tt,O.children):st&16&&G(O.children,Tt,null,X,rt,mt&&k!=="foreignObject",yt,ht),Ot&&nl(O,null,X,"created"),R){for(const Wt in R)Wt!=="value"&&!Gm(Wt)&&s(Tt,Wt,null,R[Wt],mt,O.children,X,rt,Y);"value"in R&&s(Tt,"value",null,R.value),(bt=R.onVnodeBeforeMount)&&xs(bt,X,O)}I(Tt,O,O.scopeId,yt,X),Ot&&nl(O,null,X,"beforeMount");const Nt=(!rt||rt&&!rt.pendingBranch)&&gt&&!gt.persisted;Nt&&gt.beforeEnter(Tt),i(Tt,N,$),((bt=R&&R.onVnodeMounted)||Nt||Ot)&&Ji(()=>{bt&&xs(bt,X,O),Nt&&gt.enter(Tt),Ot&&nl(O,null,X,"mounted")},rt)},I=(O,N,$,X,rt)=>{if($&&p(O,$),X)for(let mt=0;mt<X.length;mt++)p(O,X[mt]);if(rt){let mt=rt.subTree;if(N===mt){const yt=rt.vnode;I(O,yt,yt.scopeId,yt.slotScopeIds,rt.parent)}}},G=(O,N,$,X,rt,mt,yt,ht,Tt=0)=>{for(let bt=Tt;bt<O.length;bt++){const k=O[bt]=ht?ea(O[bt]):Ts(O[bt]);g(null,k,N,$,X,rt,mt,yt,ht)}},j=(O,N,$,X,rt,mt,yt)=>{const ht=N.el=O.el;let{patchFlag:Tt,dynamicChildren:bt,dirs:k}=N;Tt|=O.patchFlag&16;const R=O.props||mn,st=N.props||mn;let gt;$&&il($,!1),(gt=st.onVnodeBeforeUpdate)&&xs(gt,$,N,O),k&&nl(N,O,$,"beforeUpdate"),$&&il($,!0);const Ot=rt&&N.type!=="foreignObject";if(bt?V(O.dynamicChildren,bt,ht,$,X,Ot,mt):yt||U(O,N,ht,null,$,X,Ot,mt,!1),Tt>0){if(Tt&16)A(ht,N,R,st,$,X,rt);else if(Tt&2&&R.class!==st.class&&s(ht,"class",null,st.class,rt),Tt&4&&s(ht,"style",R.style,st.style,rt),Tt&8){const Nt=N.dynamicProps;for(let Wt=0;Wt<Nt.length;Wt++){const _t=Nt[Wt],re=R[_t],pe=st[_t];(pe!==re||_t==="value")&&s(ht,_t,re,pe,rt,O.children,$,X,Y)}}Tt&1&&O.children!==N.children&&u(ht,N.children)}else!yt&&bt==null&&A(ht,N,R,st,$,X,rt);((gt=st.onVnodeUpdated)||k)&&Ji(()=>{gt&&xs(gt,$,N,O),k&&nl(N,O,$,"updated")},X)},V=(O,N,$,X,rt,mt,yt)=>{for(let ht=0;ht<N.length;ht++){const Tt=O[ht],bt=N[ht],k=Tt.el&&(Tt.type===so||!$h(Tt,bt)||Tt.shapeFlag&70)?h(Tt.el):$;g(Tt,bt,k,null,X,rt,mt,yt,!0)}},A=(O,N,$,X,rt,mt,yt)=>{if($!==X){if($!==mn)for(const ht in $)!Gm(ht)&&!(ht in X)&&s(O,ht,$[ht],null,yt,N.children,rt,mt,Y);for(const ht in X){if(Gm(ht))continue;const Tt=X[ht],bt=$[ht];Tt!==bt&&ht!=="value"&&s(O,ht,bt,Tt,yt,N.children,rt,mt,Y)}"value"in X&&s(O,"value",$.value,X.value)}},F=(O,N,$,X,rt,mt,yt,ht,Tt)=>{const bt=N.el=O?O.el:a(""),k=N.anchor=O?O.anchor:a("");let{patchFlag:R,dynamicChildren:st,slotScopeIds:gt}=N;gt&&(ht=ht?ht.concat(gt):gt),O==null?(i(bt,$,X),i(k,$,X),G(N.children,$,k,rt,mt,yt,ht,Tt)):R>0&&R&64&&st&&O.dynamicChildren?(V(O.dynamicChildren,st,$,rt,mt,yt,ht),(N.key!=null||rt&&N===rt.subTree)&&nN(O,N,!0)):U(O,N,$,k,rt,mt,yt,ht,Tt)},nt=(O,N,$,X,rt,mt,yt,ht,Tt)=>{N.slotScopeIds=ht,O==null?N.shapeFlag&512?rt.ctx.activate(N,$,X,yt,Tt):q(N,$,X,rt,mt,yt,Tt):P(O,N,Tt)},q=(O,N,$,X,rt,mt,yt)=>{const ht=O.component=k$(O,X,rt);if(WI(O)&&(ht.ctx.renderer=Mt),F$(ht),ht.asyncDep){if(rt&&rt.registerDep(ht,W),!O.el){const Tt=ht.subTree=Vi(Nl);v(null,Tt,N,$)}return}W(ht,O,N,$,rt,mt,yt)},P=(O,N,$)=>{const X=N.component=O.component;if(jH(O,N,$))if(X.asyncDep&&!X.asyncResolved){Z(X,N,$);return}else X.next=N,zH(X.update),X.update();else N.el=O.el,X.vnode=N},W=(O,N,$,X,rt,mt,yt)=>{const ht=()=>{if(O.isMounted){let{next:k,bu:R,u:st,parent:gt,vnode:Ot}=O,Nt=k,Wt;il(O,!1),k?(k.el=Ot.el,Z(O,k,yt)):k=Ot,R&&jm(R),(Wt=k.props&&k.props.onVnodeBeforeUpdate)&&xs(Wt,gt,k,Ot),il(O,!0);const _t=wb(O),re=O.subTree;O.subTree=_t,g(re,_t,h(re.el),Et(re),O,rt,mt),k.el=_t.el,Nt===null&&qH(O,_t.el),st&&Ji(st,rt),(Wt=k.props&&k.props.onVnodeUpdated)&&Ji(()=>xs(Wt,gt,k,Ot),rt)}else{let k;const{el:R,props:st}=N,{bm:gt,m:Ot,parent:Nt}=O,Wt=Ym(N);if(il(O,!1),gt&&jm(gt),!Wt&&(k=st&&st.onVnodeBeforeMount)&&xs(k,Nt,N),il(O,!0),R&&Rt){const _t=()=>{O.subTree=wb(O),Rt(R,O.subTree,O,rt,null)};Wt?N.type.__asyncLoader().then(()=>!O.isUnmounted&&_t()):_t()}else{const _t=O.subTree=wb(O);g(null,_t,$,X,O,rt,mt),N.el=_t.el}if(Ot&&Ji(Ot,rt),!Wt&&(k=st&&st.onVnodeMounted)){const _t=N;Ji(()=>xs(k,Nt,_t),rt)}(N.shapeFlag&256||Nt&&Ym(Nt.vnode)&&Nt.vnode.shapeFlag&256)&&O.a&&Ji(O.a,rt),O.isMounted=!0,N=$=X=null}},Tt=O.effect=new XE(ht,()=>nS(bt),O.scope),bt=O.update=()=>Tt.run();bt.id=O.uid,il(O,!0),bt()},Z=(O,N,$)=>{N.component=O;const X=O.vnode.props;O.vnode=N,O.next=null,y$(O,N.props,X,$),b$(O,N.children,$),ql(),A1(),Yl()},U=(O,N,$,X,rt,mt,yt,ht,Tt=!1)=>{const bt=O&&O.children,k=O?O.shapeFlag:0,R=N.children,{patchFlag:st,shapeFlag:gt}=N;if(st>0){if(st&128){ut(bt,R,$,X,rt,mt,yt,ht,Tt);return}else if(st&256){Q(bt,R,$,X,rt,mt,yt,ht,Tt);return}}gt&8?(k&16&&Y(bt,rt,mt),R!==bt&&u($,R)):k&16?gt&16?ut(bt,R,$,X,rt,mt,yt,ht,Tt):Y(bt,rt,mt,!0):(k&8&&u($,""),gt&16&&G(R,$,X,rt,mt,yt,ht,Tt))},Q=(O,N,$,X,rt,mt,yt,ht,Tt)=>{O=O||du,N=N||du;const bt=O.length,k=N.length,R=Math.min(bt,k);let st;for(st=0;st<R;st++){const gt=N[st]=Tt?ea(N[st]):Ts(N[st]);g(O[st],gt,$,null,rt,mt,yt,ht,Tt)}bt>k?Y(O,rt,mt,!0,!1,R):G(N,$,X,rt,mt,yt,ht,Tt,R)},ut=(O,N,$,X,rt,mt,yt,ht,Tt)=>{let bt=0;const k=N.length;let R=O.length-1,st=k-1;for(;bt<=R&&bt<=st;){const gt=O[bt],Ot=N[bt]=Tt?ea(N[bt]):Ts(N[bt]);if($h(gt,Ot))g(gt,Ot,$,null,rt,mt,yt,ht,Tt);else break;bt++}for(;bt<=R&&bt<=st;){const gt=O[R],Ot=N[st]=Tt?ea(N[st]):Ts(N[st]);if($h(gt,Ot))g(gt,Ot,$,null,rt,mt,yt,ht,Tt);else break;R--,st--}if(bt>R){if(bt<=st){const gt=st+1,Ot=gt<k?N[gt].el:X;for(;bt<=st;)g(null,N[bt]=Tt?ea(N[bt]):Ts(N[bt]),$,Ot,rt,mt,yt,ht,Tt),bt++}}else if(bt>st)for(;bt<=R;)at(O[bt],rt,mt,!0),bt++;else{const gt=bt,Ot=bt,Nt=new Map;for(bt=Ot;bt<=st;bt++){const kt=N[bt]=Tt?ea(N[bt]):Ts(N[bt]);kt.key!=null&&Nt.set(kt.key,bt)}let Wt,_t=0;const re=st-Ot+1;let pe=!1,Qt=0;const it=new Array(re);for(bt=0;bt<re;bt++)it[bt]=0;for(bt=gt;bt<=R;bt++){const kt=O[bt];if(_t>=re){at(kt,rt,mt,!0);continue}let ft;if(kt.key!=null)ft=Nt.get(kt.key);else for(Wt=Ot;Wt<=st;Wt++)if(it[Wt-Ot]===0&&$h(kt,N[Wt])){ft=Wt;break}ft===void 0?at(kt,rt,mt,!0):(it[ft-Ot]=bt+1,ft>=Qt?Qt=ft:pe=!0,g(kt,N[ft],$,null,rt,mt,yt,ht,Tt),_t++)}const Gt=pe?M$(it):du;for(Wt=Gt.length-1,bt=re-1;bt>=0;bt--){const kt=Ot+bt,ft=N[kt],Vt=kt+1<k?N[kt+1].el:X;it[bt]===0?g(null,ft,$,Vt,rt,mt,yt,ht,Tt):pe&&(Wt<0||bt!==Gt[Wt]?vt(ft,$,Vt,2):Wt--)}}},vt=(O,N,$,X,rt=null)=>{const{el:mt,type:yt,transition:ht,children:Tt,shapeFlag:bt}=O;if(bt&6){vt(O.component.subTree,N,$,X);return}if(bt&128){O.suspense.move(N,$,X);return}if(bt&64){yt.move(O,N,$,Mt);return}if(yt===so){i(mt,N,$);for(let R=0;R<Tt.length;R++)vt(Tt[R],N,$,X);i(O.anchor,N,$);return}if(yt===Xm){M(O,N,$);return}if(X!==2&&bt&1&&ht)if(X===0)ht.beforeEnter(mt),i(mt,N,$),Ji(()=>ht.enter(mt),rt);else{const{leave:R,delayLeave:st,afterLeave:gt}=ht,Ot=()=>i(mt,N,$),Nt=()=>{R(mt,()=>{Ot(),gt&&gt()})};st?st(mt,Ot,Nt):Nt()}else i(mt,N,$)},at=(O,N,$,X=!1,rt=!1)=>{const{type:mt,props:yt,ref:ht,children:Tt,dynamicChildren:bt,shapeFlag:k,patchFlag:R,dirs:st}=O;if(ht!=null&&mx(ht,null,$,O,!0),k&256){N.ctx.deactivate(O);return}const gt=k&1&&st,Ot=!Ym(O);let Nt;if(Ot&&(Nt=yt&&yt.onVnodeBeforeUnmount)&&xs(Nt,N,O),k&6)et(O.component,$,X);else{if(k&128){O.suspense.unmount($,X);return}gt&&nl(O,null,N,"beforeUnmount"),k&64?O.type.remove(O,N,$,rt,Mt,X):bt&&(mt!==so||R>0&&R&64)?Y(bt,N,$,!1,!0):(mt===so&&R&384||!rt&&k&16)&&Y(Tt,N,$),X&&Ct(O)}(Ot&&(Nt=yt&&yt.onVnodeUnmounted)||gt)&&Ji(()=>{Nt&&xs(Nt,N,O),gt&&nl(O,null,N,"unmounted")},$)},Ct=O=>{const{type:N,el:$,anchor:X,transition:rt}=O;if(N===so){Lt($,X);return}if(N===Xm){E(O);return}const mt=()=>{r($),rt&&!rt.persisted&&rt.afterLeave&&rt.afterLeave()};if(O.shapeFlag&1&&rt&&!rt.persisted){const{leave:yt,delayLeave:ht}=rt,Tt=()=>yt($,mt);ht?ht(O.el,mt,Tt):Tt()}else mt()},Lt=(O,N)=>{let $;for(;O!==N;)$=f(O),r(O),O=$;r(N)},et=(O,N,$)=>{const{bum:X,scope:rt,update:mt,subTree:yt,um:ht}=O;X&&jm(X),rt.stop(),mt&&(mt.active=!1,at(yt,O,N,$)),ht&&Ji(ht,N),Ji(()=>{O.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Y=(O,N,$,X=!1,rt=!1,mt=0)=>{for(let yt=mt;yt<O.length;yt++)at(O[yt],N,$,X,rt)},Et=O=>O.shapeFlag&6?Et(O.component.subTree):O.shapeFlag&128?O.suspense.next():f(O.anchor||O.el),lt=(O,N,$)=>{O==null?N._vnode&&at(N._vnode,null,null,!0):g(N._vnode||null,O,N,null,null,null,$),A1(),zI(),N._vnode=O},Mt={p:g,um:at,m:vt,r:Ct,mt:q,mc:G,pc:U,pbc:V,n:Et,o:n};let xt,Rt;return t&&([xt,Rt]=t(Mt)),{render:lt,hydrate:xt,createApp:w$(lt,xt)}}function il({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function nN(n,t,e=!1){const i=n.children,r=t.children;if(_e(i)&&_e(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=ea(r[s]),a.el=o.el),e||nN(o,a))}}function M$(n){const t=n.slice(),e=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(r=e[e.length-1],n[r]<c){t[i]=r,e.push(i);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,n[e[a]]<c?s=a+1:o=a;c<n[e[s]]&&(s>0&&(t[i]=e[s-1]),e[s]=i)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}const T$=n=>n.__isTeleport,so=Symbol(void 0),aS=Symbol(void 0),Nl=Symbol(void 0),Xm=Symbol(void 0),Af=[];let Jr=null;function iN(n=!1){Af.push(Jr=n?null:[])}function A$(){Af.pop(),Jr=Af[Af.length-1]||null}let Qf=1;function F1(n){Qf+=n}function rN(n){return n.dynamicChildren=Qf>0?Jr||du:null,A$(),Qf>0&&Jr&&Jr.push(n),n}function C$(n,t,e,i,r,s){return rN(oN(n,t,e,i,r,s,!0))}function O$(n,t,e,i,r){return rN(Vi(n,t,e,i,r,!0))}function gx(n){return n?n.__v_isVNode===!0:!1}function $h(n,t){return n.type===t.type&&n.key===t.key}const T_="__vInternal",sN=({key:n})=>n!=null?n:null,Km=({ref:n,ref_key:t,ref_for:e})=>n!=null?qn(n)||li(n)||Pe(n)?{i:Or,r:n,k:t,f:!!e}:n:null;function oN(n,t=null,e=null,i=0,r=null,s=n===so?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&sN(t),ref:t&&Km(t),scopeId:S_,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(lS(l,e),s&128&&n.normalize(l)):e&&(l.shapeFlag|=qn(e)?8:16),Qf>0&&!o&&Jr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Jr.push(l),l}const Vi=P$;function P$(n,t=null,e=null,i=0,r=null,s=!1){if((!n||n===qI)&&(n=Nl),gx(n)){const a=Au(n,t,!0);return e&&lS(a,e),Qf>0&&!s&&Jr&&(a.shapeFlag&6?Jr[Jr.indexOf(n)]=a:Jr.push(a)),a.patchFlag|=-2,a}if($$(n)&&(n=n.__vccOpts),t){t=D$(t);let{class:a,style:l}=t;a&&!qn(a)&&(t.class=WE(a)),bn(l)&&(CI(l)&&!_e(l)&&(l=qi({},l)),t.style=$E(l))}const o=qn(n)?1:YH(n)?128:T$(n)?64:bn(n)?4:Pe(n)?2:0;return oN(n,t,e,i,r,o,s,!0)}function D$(n){return n?CI(n)||T_ in n?qi({},n):n:null}function Au(n,t,e=!1){const{props:i,ref:r,patchFlag:s,children:o}=n,a=t?L$(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&sN(a),ref:t&&t.ref?e&&r?_e(r)?r.concat(Km(t)):[r,Km(t)]:Km(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==so?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Au(n.ssContent),ssFallback:n.ssFallback&&Au(n.ssFallback),el:n.el,anchor:n.anchor}}function R$(n=" ",t=0){return Vi(aS,null,n,t)}function Emt(n,t){const e=Vi(Xm,null,n);return e.staticCount=t,e}function Smt(n="",t=!1){return t?(iN(),O$(Nl,null,n)):Vi(Nl,null,n)}function Ts(n){return n==null||typeof n=="boolean"?Vi(Nl):_e(n)?Vi(so,null,n.slice()):typeof n=="object"?ea(n):Vi(aS,null,String(n))}function ea(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Au(n)}function lS(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(_e(t))e=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),lS(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!(T_ in t)?t._ctx=Or:r===3&&Or&&(Or.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:Or},e=32):(t=String(t),i&64?(e=16,t=[R$(t)]):e=8);n.children=t,n.shapeFlag|=e}function L$(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=WE([t.class,i.class]));else if(r==="style")t.style=$E([t.style,i.style]);else if(y_(r)){const s=t[r],o=i[r];o&&s!==o&&!(_e(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function xs(n,t,e,i=null){ns(n,t,7,[e,i])}const I$=eN();let N$=0;function k$(n,t,e){const i=n.type,r=(t?t.appContext:n.appContext)||I$,s={uid:N$++,vnode:n,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new JV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:QI(i,r),emitsOptions:VI(i,r),emit:null,emitted:null,propsDefaults:mn,inheritAttrs:i.inheritAttrs,ctx:mn,data:mn,props:mn,attrs:mn,slots:mn,refs:mn,setupState:mn,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=HH.bind(null,s),n.ce&&n.ce(s),s}let ai=null;const Mmt=()=>ai||Or,Cu=n=>{ai=n,n.scope.on()},Al=()=>{ai&&ai.scope.off(),ai=null};function aN(n){return n.vnode.shapeFlag&4}let Jf=!1;function F$(n,t=!1){Jf=t;const{props:e,children:i}=n.vnode,r=aN(n);g$(n,e,r,t),v$(n,i);const s=r?B$(n,t):void 0;return Jf=!1,s}function B$(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=OI(new Proxy(n.ctx,u$));const{setup:i}=e;if(i){const r=n.setupContext=i.length>1?U$(n):null;Cu(n),ql();const s=fo(i,n,0,[n.props,r]);if(Yl(),Al(),pI(s)){if(s.then(Al,Al),t)return s.then(o=>{B1(n,o,t)}).catch(o=>{w_(o,n,0)});n.asyncDep=s}else B1(n,s,t)}else lN(n,t)}function B1(n,t,e){Pe(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:bn(t)&&(n.setupState=LI(t)),lN(n,e)}let z1;function lN(n,t,e){const i=n.type;if(!n.render){if(!t&&z1&&!i.render){const r=i.template||sS(n).template;if(r){const{isCustomElement:s,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=qi(qi({isCustomElement:s,delimiters:a},o),l);i.render=z1(r,c)}}n.render=i.render||es}Cu(n),ql(),h$(n),Yl(),Al()}function z$(n){return new Proxy(n.attrs,{get(t,e){return mr(n,"get","$attrs"),t[e]}})}function U$(n){const t=i=>{n.exposed=i||{}};let e;return{get attrs(){return e||(e=z$(n))},slots:n.slots,emit:n.emit,expose:t}}function A_(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(LI(OI(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in qg)return qg[e](n)}}))}const V$=/(?:^|[-_])(\w)/g,H$=n=>n.replace(V$,t=>t.toUpperCase()).replace(/[-_]/g,"");function cN(n,t=!0){return Pe(n)?n.displayName||n.name:n.name||t&&n.__name}function uN(n,t,e=!1){let i=cN(t);if(!i&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&n&&n.parent){const r=s=>{for(const o in s)if(s[o]===t)return o};i=r(n.components||n.parent.type.components)||r(n.appContext.components)}return i?H$(i):e?"App":"Anonymous"}function $$(n){return Pe(n)&&"__vccOpts"in n}const Ar=(n,t)=>RH(n,t,Jf);function cS(n,t,e){const i=arguments.length;return i===2?bn(t)&&!_e(t)?gx(t)?Vi(n,null,[t]):Vi(n,t):Vi(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&gx(e)&&(e=[e]),Vi(n,t,e))}const W$="3.2.40",G$="http://www.w3.org/2000/svg",gl=typeof document<"u"?document:null,U1=gl&&gl.createElement("template"),j$={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const r=t?gl.createElementNS(G$,n):gl.createElement(n,e?{is:e}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>gl.createTextNode(n),createComment:n=>gl.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>gl.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,r,s){const o=e?e.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===s||!(r=r.nextSibling)););else{U1.innerHTML=i?`<svg>${n}</svg>`:n;const a=U1.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function q$(n,t,e){const i=n._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}function Y$(n,t,e){const i=n.style,r=qn(e);if(e&&!r){for(const s in e)yx(i,s,e[s]);if(t&&!qn(t))for(const s in t)e[s]==null&&yx(i,s,"")}else{const s=i.display;r?t!==e&&(i.cssText=e):t&&n.removeAttribute("style"),"_vod"in n&&(i.display=s)}}const V1=/\s*!important$/;function yx(n,t,e){if(_e(e))e.forEach(i=>yx(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=X$(n,t);V1.test(e)?n.setProperty(jl(i),e.replace(V1,""),"important"):n[i]=e}}const H1=["Webkit","Moz","ms"],Eb={};function X$(n,t){const e=Eb[t];if(e)return e;let i=Bs(t);if(i!=="filter"&&i in n)return Eb[t]=i;i=b_(i);for(let r=0;r<H1.length;r++){const s=H1[r]+i;if(s in n)return Eb[t]=s}return t}const $1="http://www.w3.org/1999/xlink";function K$(n,t,e,i,r){if(i&&t.startsWith("xlink:"))e==null?n.removeAttributeNS($1,t.slice(6,t.length)):n.setAttributeNS($1,t,e);else{const s=zV(t);e==null||s&&!hI(e)?n.removeAttribute(t):n.setAttribute(t,s?"":e)}}function Q$(n,t,e,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),n[t]=e==null?"":e;return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=e;const l=e==null?"":e;(n.value!==l||n.tagName==="OPTION")&&(n.value=l),e==null&&n.removeAttribute(t);return}let a=!1;if(e===""||e==null){const l=typeof n[t];l==="boolean"?e=hI(e):e==null&&l==="string"?(e="",a=!0):l==="number"&&(e=0,a=!0)}try{n[t]=e}catch{}a&&n.removeAttribute(t)}const[hN,J$]=(()=>{let n=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));const e=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(e&&Number(e[1])<=53)}return[n,t]})();let _x=0;const Z$=Promise.resolve(),tW=()=>{_x=0},eW=()=>_x||(Z$.then(tW),_x=hN());function fN(n,t,e,i){n.addEventListener(t,e,i)}function nW(n,t,e,i){n.removeEventListener(t,e,i)}function iW(n,t,e,i,r=null){const s=n._vei||(n._vei={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=rW(t);if(i){const c=s[t]=sW(i,r);fN(n,a,c,l)}else o&&(nW(n,a,o,l),s[t]=void 0)}}const W1=/(?:Once|Passive|Capture)$/;function rW(n){let t;if(W1.test(n)){t={};let i;for(;i=n.match(W1);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):jl(n.slice(2)),t]}function sW(n,t){const e=i=>{const r=i.timeStamp||hN();(J$||r>=e.attached-1)&&ns(oW(i,e.value),t,5,[i])};return e.value=n,e.attached=eW(),e}function oW(n,t){if(_e(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const G1=/^on[a-z]/,aW=(n,t,e,i,r=!1,s,o,a,l)=>{t==="class"?q$(n,i,r):t==="style"?Y$(n,e,i):y_(t)?GE(t)||iW(n,t,e,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lW(n,t,i,r))?Q$(n,t,i,s,o,a,l):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),K$(n,t,i,r))};function lW(n,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in n&&G1.test(t)&&Pe(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||G1.test(t)&&qn(e)?!1:t in n}const j1=n=>{const t=n.props["onUpdate:modelValue"]||!1;return _e(t)?e=>jm(t,e):t},Tmt={deep:!0,created(n,t,e){n._assign=j1(e),fN(n,"change",()=>{const i=n._modelValue,r=cW(n),s=n.checked,o=n._assign;if(_e(i)){const a=fI(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(__(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(dN(n,s))})},mounted:q1,beforeUpdate(n,t,e){n._assign=j1(e),q1(n,t,e)}};function q1(n,{value:t,oldValue:e},i){n._modelValue=t,_e(t)?n.checked=fI(t,i.props.value)>-1:__(t)?n.checked=t.has(i.props.value):t!==e&&(n.checked=g_(t,dN(n,!0)))}function cW(n){return"_value"in n?n._value:n.value}function dN(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const uW={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Amt=(n,t)=>e=>{if(!("key"in e))return;const i=jl(e.key);if(t.some(r=>r===i||uW[r]===i))return n(e)},Cmt={beforeMount(n,{value:t},{transition:e}){n._vod=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):Wh(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),Wh(n,!0),i.enter(n)):i.leave(n,()=>{Wh(n,!1)}):Wh(n,t))},beforeUnmount(n,{value:t}){Wh(n,t)}};function Wh(n,t){n.style.display=t?n._vod:"none"}const hW=qi({patchProp:aW},j$);let Y1;function fW(){return Y1||(Y1=E$(hW))}const pN=(...n)=>{const t=fW().createApp(...n),{mount:e}=t;return t.mount=i=>{const r=dW(i);if(!r)return;const s=t._component;!Pe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=e(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function dW(n){return qn(n)?document.querySelector(n):n}const pW=(n,t)=>{const e=n.__vccOpts||n;for(const[i,r]of t)e[i]=r;return e},mW={name:"App",inject:["sensorHandler"],mounted(){window.addEventListener("beforeunload",()=>{this.sensorHandler.diconnectAllSensors()})}},gW={id:"app"};function yW(n,t,e,i,r,s){const o=c$("RouterView");return iN(),C$("div",gW,[Vi(o)])}const mN=pW(mW,[["render",yW]]),_W="modulepreload",vW=function(n,t){return new URL(n,t).href},X1={},xr=function(t,e,i){return!e||e.length===0?t():Promise.all(e.map(r=>{if(r=vW(r,i),r in X1)return;X1[r]=!0;const s=r.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":_W,s||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),s)return new Promise((l,c)=>{a.addEventListener("load",l),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function bW(){return gN().__VUE_DEVTOOLS_GLOBAL_HOOK__}function gN(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const xW=typeof Proxy=="function",wW="devtools-plugin:setup",EW="plugin:settings:set";let Ac,vx;function SW(){var n;return Ac!==void 0||(typeof window<"u"&&window.performance?(Ac=!0,vx=window.performance):typeof global<"u"&&((n=global.perf_hooks)===null||n===void 0?void 0:n.performance)?(Ac=!0,vx=global.perf_hooks.performance):Ac=!1),Ac}function MW(){return SW()?vx.now():Date.now()}class TW{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const o in t.settings){const a=t.settings[o];i[o]=a.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},i);try{const o=localStorage.getItem(r),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(r,JSON.stringify(o))}catch{}s=o},now(){return MW()}},e&&e.on(EW,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function AW(n,t){const e=n,i=gN(),r=bW(),s=xW&&e.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))r.emit(wW,n,t);else{const o=s?new TW(e,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const tu=typeof window<"u";function CW(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const on=Object.assign;function Sb(n,t){const e={};for(const i in t){const r=t[i];e[i]=ss(r)?r.map(n):n(r)}return e}const Cf=()=>{},ss=Array.isArray,OW=/\/$/,PW=n=>n.replace(OW,"");function Mb(n,t,e="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=n(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=IW(i!=null?i:t,e),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function DW(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function K1(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function RW(n,t,e){const i=t.matched.length-1,r=e.matched.length-1;return i>-1&&i===r&&Ou(t.matched[i],e.matched[r])&&yN(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function Ou(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function yN(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!LW(n[e],t[e]))return!1;return!0}function LW(n,t){return ss(n)?Q1(n,t):ss(t)?Q1(t,n):n===t}function Q1(n,t){return ss(t)?n.length===t.length&&n.every((e,i)=>e===t[i]):n.length===1&&n[0]===t}function IW(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),i=n.split("/");let r=e.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Zf;(function(n){n.pop="pop",n.push="push"})(Zf||(Zf={}));var Of;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Of||(Of={}));function NW(n){if(!n)if(tu){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),PW(n)}const kW=/^[^#]+#/;function FW(n,t){return n.replace(kW,"#")+t}function BW(n,t){const e=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-e.left-(t.left||0),top:i.top-e.top-(t.top||0)}}const C_=()=>({left:window.pageXOffset,top:window.pageYOffset});function zW(n){let t;if("el"in n){const e=n.el,i=typeof e=="string"&&e.startsWith("#"),r=typeof e=="string"?i?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!r)return;t=BW(r,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function J1(n,t){return(history.state?history.state.position-t:-1)+n}const bx=new Map;function UW(n,t){bx.set(n,t)}function VW(n){const t=bx.get(n);return bx.delete(n),t}let HW=()=>location.protocol+"//"+location.host;function _N(n,t){const{pathname:e,search:i,hash:r}=t,s=n.indexOf("#");if(s>-1){let a=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),K1(l,"")}return K1(e,n)+i+r}function $W(n,t,e,i){let r=[],s=[],o=null;const a=({state:f})=>{const p=_N(n,location),m=e.value,g=t.value;let y=0;if(f){if(e.value=p,t.value=f,o&&o===m){o=null;return}y=g?f.position-g.position:0}else i(p);r.forEach(v=>{v(e.value,m,{delta:y,type:Zf.pop,direction:y?y>0?Of.forward:Of.back:Of.unknown})})};function l(){o=e.value}function c(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return s.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(on({},f.state,{scroll:C_()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function Z1(n,t,e,i=!1,r=!1){return{back:n,current:t,forward:e,replaced:i,position:window.history.length,scroll:r?C_():null}}function WW(n){const{history:t,location:e}=window,i={value:_N(n,e)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=n.indexOf("#"),f=h>-1?(e.host&&document.querySelector("base")?n:n.slice(h))+l:HW()+n+l;try{t[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),e[u?"replace":"assign"](f)}}function o(l,c){const u=on({},t.state,Z1(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=on({},r.value,t.state,{forward:l,scroll:C_()});s(u.current,u,!0);const h=on({},Z1(i.value,l,null),{position:u.position+1},c);s(l,h,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function GW(n){n=NW(n);const t=WW(n),e=$W(n,t.state,t.location,t.replace);function i(s,o=!0){o||e.pauseListeners(),history.go(s)}const r=on({location:"",base:n,go:i,createHref:FW.bind(null,n)},t,e);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function jW(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),GW(n)}function qW(n){return typeof n=="string"||n&&typeof n=="object"}function vN(n){return typeof n=="string"||typeof n=="symbol"}const Ho={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bN=Symbol("");var tC;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(tC||(tC={}));function Pu(n,t){return on(new Error,{type:n,[bN]:!0},t)}function qs(n,t){return n instanceof Error&&bN in n&&(t==null||!!(n.type&t))}const eC="[^/]+?",YW={sensitive:!1,strict:!1,start:!0,end:!0},XW=/[.+*?^${}()[\]/\\]/g;function KW(n,t){const e=on({},YW,t),i=[];let r=e.start?"^":"";const s=[];for(const c of n){const u=c.length?[]:[90];e.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(e.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(XW,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:y,regexp:v}=f;s.push({name:m,repeatable:g,optional:y});const w=v||eC;if(w!==eC){p+=10;try{new RegExp(`(${w})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+E.message)}}let M=g?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(M=y&&c.length<2?`(?:/${M})`:"/"+M),y&&(M+="?"),r+=M,p+=20,y&&(p+=-8),g&&(p+=-20),w===".*"&&(p+=-50)}u.push(p)}i.push(u)}if(e.strict&&e.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}e.strict||(r+="/?"),e.end?r+="$":e.strict&&(r+="(?:/|$)");const o=new RegExp(r,e.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=s[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of n){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:y}=p,v=m in c?c[m]:"";if(ss(v)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=ss(v)?v.join("/"):v;if(!w)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=w}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function QW(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=t[e]-n[e];if(i)return i;e++}return n.length<t.length?n.length===1&&n[0]===40+40?-1:1:n.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function JW(n,t){let e=0;const i=n.score,r=t.score;for(;e<i.length&&e<r.length;){const s=QW(i[e],r[e]);if(s)return s;e++}if(Math.abs(r.length-i.length)===1){if(nC(i))return 1;if(nC(r))return-1}return r.length-i.length}function nC(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const ZW={type:0,value:""},t4=/[a-zA-Z0-9_]/;function e4(n){if(!n)return[[]];if(n==="/")return[[ZW]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${e})/"${c}": ${p}`)}let e=0,i=e;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function h(){!c||(e===0?s.push({type:0,value:c}):e===1||e===2||e===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&e!==2){i=e,e=4;continue}switch(e){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),e=1):f();break;case 4:f(),e=i;break;case 1:l==="("?e=2:t4.test(l)?f():(h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:e=3:u+=l;break;case 3:h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function n4(n,t,e){const i=KW(e4(n.path),e),r=on(i,{record:n,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function i4(n,t){const e=[],i=new Map;t=sC({strict:!1,end:!0,sensitive:!1},t);function r(u){return i.get(u)}function s(u,h,f){const p=!f,m=r4(u);m.aliasOf=f&&f.record;const g=sC(t,u),y=[m];if("alias"in u){const M=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of M)y.push(on({},m,{components:f?f.record.components:m.components,path:E,aliasOf:f?f.record:m}))}let v,w;for(const M of y){const{path:E}=M;if(h&&E[0]!=="/"){const T=h.record.path,D=T[T.length-1]==="/"?"":"/";M.path=h.record.path+(E&&D+E)}if(v=n4(M,h,g),f?f.alias.push(v):(w=w||v,w!==v&&w.alias.push(v),p&&u.name&&!rC(v)&&o(u.name)),m.children){const T=m.children;for(let D=0;D<T.length;D++)s(T[D],v,f&&f.children[D])}f=f||v,l(v)}return w?()=>{o(w)}:Cf}function o(u){if(vN(u)){const h=i.get(u);h&&(i.delete(u),e.splice(e.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=e.indexOf(u);h>-1&&(e.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return e}function l(u){let h=0;for(;h<e.length&&JW(u,e[h])>=0&&(u.record.path!==e[h].record.path||!xN(u,e[h]));)h++;e.splice(h,0,u),u.record.name&&!rC(u)&&i.set(u.record.name,u)}function c(u,h){let f,p={},m,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw Pu(1,{location:u});g=f.record.name,p=on(iC(h.params,f.keys.filter(w=>!w.optional).map(w=>w.name)),u.params&&iC(u.params,f.keys.map(w=>w.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=e.find(w=>w.re.test(m)),f&&(p=f.parse(m),g=f.record.name);else{if(f=h.name?i.get(h.name):e.find(w=>w.re.test(h.path)),!f)throw Pu(1,{location:u,currentLocation:h});g=f.record.name,p=on({},h.params,u.params),m=f.stringify(p)}const y=[];let v=f;for(;v;)y.unshift(v.record),v=v.parent;return{name:g,path:m,params:p,matched:y,meta:o4(y)}}return n.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function iC(n,t){const e={};for(const i of t)i in n&&(e[i]=n[i]);return e}function r4(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:s4(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function s4(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const i in n.components)t[i]=typeof e=="boolean"?e:e[i];return t}function rC(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function o4(n){return n.reduce((t,e)=>on(t,e.meta),{})}function sC(n,t){const e={};for(const i in n)e[i]=i in t?t[i]:n[i];return e}function xN(n,t){return t.children.some(e=>e===n||xN(n,e))}const wN=/#/g,a4=/&/g,l4=/\//g,c4=/=/g,u4=/\?/g,EN=/\+/g,h4=/%5B/g,f4=/%5D/g,SN=/%5E/g,d4=/%60/g,MN=/%7B/g,p4=/%7C/g,TN=/%7D/g,m4=/%20/g;function uS(n){return encodeURI(""+n).replace(p4,"|").replace(h4,"[").replace(f4,"]")}function g4(n){return uS(n).replace(MN,"{").replace(TN,"}").replace(SN,"^")}function xx(n){return uS(n).replace(EN,"%2B").replace(m4,"+").replace(wN,"%23").replace(a4,"%26").replace(d4,"`").replace(MN,"{").replace(TN,"}").replace(SN,"^")}function y4(n){return xx(n).replace(c4,"%3D")}function _4(n){return uS(n).replace(wN,"%23").replace(u4,"%3F")}function v4(n){return n==null?"":_4(n).replace(l4,"%2F")}function Xg(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function b4(n){const t={};if(n===""||n==="?")return t;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(EN," "),o=s.indexOf("="),a=Xg(o<0?s:s.slice(0,o)),l=o<0?null:Xg(s.slice(o+1));if(a in t){let c=t[a];ss(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function oC(n){let t="";for(let e in n){const i=n[e];if(e=y4(e),i==null){i!==void 0&&(t+=(t.length?"&":"")+e);continue}(ss(i)?i.map(s=>s&&xx(s)):[i&&xx(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+e,s!=null&&(t+="="+s))})}return t}function x4(n){const t={};for(const e in n){const i=n[e];i!==void 0&&(t[e]=ss(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const w4=Symbol(""),aC=Symbol(""),hS=Symbol(""),fS=Symbol(""),wx=Symbol("");function Gh(){let n=[];function t(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function e(){n=[]}return{add:t,list:()=>n,reset:e}}function na(n,t,e,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Pu(4,{from:e,to:t})):h instanceof Error?a(h):qW(h)?a(Pu(2,{from:t,to:h})):(s&&i.enterCallbacks[r]===s&&typeof h=="function"&&s.push(h),o())},c=n.call(i&&i.instances[r],t,e,l);let u=Promise.resolve(c);n.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Tb(n,t,e,i){const r=[];for(const s of n)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(E4(a)){const c=(a.__vccOpts||a)[t];c&&r.push(na(c,e,i,s,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=CW(c)?c.default:c;s.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&na(f,e,i,s,o)()}))}}return r}function E4(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function lC(n){const t=Ls(hS),e=Ls(fS),i=Ar(()=>t.resolve(gu(n.to))),r=Ar(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=e.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ou.bind(null,u));if(f>-1)return f;const p=cC(l[c-2]);return c>1&&cC(u)===p&&h[h.length-1].path!==p?h.findIndex(Ou.bind(null,l[c-2])):f}),s=Ar(()=>r.value>-1&&A4(e.params,i.value.params)),o=Ar(()=>r.value>-1&&r.value===e.matched.length-1&&yN(e.params,i.value.params));function a(l={}){return T4(l)?t[gu(n.replace)?"replace":"push"](gu(n.to)).catch(Cf):Promise.resolve()}return{route:i,href:Ar(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const S4=$I({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lC,setup(n,{slots:t}){const e=nh(lC(n)),{options:i}=Ls(hS),r=Ar(()=>({[uC(n.activeClass,i.linkActiveClass,"router-link-active")]:e.isActive,[uC(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const s=t.default&&t.default(e);return n.custom?s:cS("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:r.value},s)}}}),M4=S4;function T4(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function A4(n,t){for(const e in t){const i=t[e],r=n[e];if(typeof i=="string"){if(i!==r)return!1}else if(!ss(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function cC(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const uC=(n,t,e)=>n!=null?n:t!=null?t:e,C4=$I({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const i=Ls(wx),r=Ar(()=>n.route||i.value),s=Ls(aC,0),o=Ar(()=>{let c=gu(s);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ar(()=>r.value.matched[o.value]);qm(aC,Ar(()=>o.value+1)),qm(w4,a),qm(wx,r);const l=TH();return _u(()=>[l.value,a.value,n.name],([c,u,h],[f,p,m])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Ou(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=n.name,h=a.value,f=h&&h.components[u];if(!f)return hC(e.default,{Component:f,route:c});const p=h.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,y=cS(f,on({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return hC(e.default,{Component:y,route:c})||y}}});function hC(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const O4=C4;function P4(n){const t=i4(n.routes,n),e=n.parseQuery||b4,i=n.stringifyQuery||oC,r=n.history,s=Gh(),o=Gh(),a=Gh(),l=AH(Ho);let c=Ho;tu&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Sb.bind(null,et=>""+et),h=Sb.bind(null,v4),f=Sb.bind(null,Xg);function p(et,Y){let Et,lt;return vN(et)?(Et=t.getRecordMatcher(et),lt=Y):lt=et,t.addRoute(lt,Et)}function m(et){const Y=t.getRecordMatcher(et);Y&&t.removeRoute(Y)}function g(){return t.getRoutes().map(et=>et.record)}function y(et){return!!t.getRecordMatcher(et)}function v(et,Y){if(Y=on({},Y||l.value),typeof et=="string"){const O=Mb(e,et,Y.path),N=t.resolve({path:O.path},Y),$=r.createHref(O.fullPath);return on(O,N,{params:f(N.params),hash:Xg(O.hash),redirectedFrom:void 0,href:$})}let Et;if("path"in et)Et=on({},et,{path:Mb(e,et.path,Y.path).path});else{const O=on({},et.params);for(const N in O)O[N]==null&&delete O[N];Et=on({},et,{params:h(et.params)}),Y.params=h(Y.params)}const lt=t.resolve(Et,Y),Mt=et.hash||"";lt.params=u(f(lt.params));const xt=DW(i,on({},et,{hash:g4(Mt),path:lt.path})),Rt=r.createHref(xt);return on({fullPath:xt,hash:Mt,query:i===oC?x4(et.query):et.query||{}},lt,{redirectedFrom:void 0,href:Rt})}function w(et){return typeof et=="string"?Mb(e,et,l.value.path):on({},et)}function M(et,Y){if(c!==et)return Pu(8,{from:Y,to:et})}function E(et){return I(et)}function T(et){return E(on(w(et),{replace:!0}))}function D(et){const Y=et.matched[et.matched.length-1];if(Y&&Y.redirect){const{redirect:Et}=Y;let lt=typeof Et=="function"?Et(et):Et;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=w(lt):{path:lt},lt.params={}),on({query:et.query,hash:et.hash,params:"path"in lt?{}:et.params},lt)}}function I(et,Y){const Et=c=v(et),lt=l.value,Mt=et.state,xt=et.force,Rt=et.replace===!0,O=D(Et);if(O)return I(on(w(O),{state:typeof O=="object"?on({},Mt,O.state):Mt,force:xt,replace:Rt}),Y||Et);const N=Et;N.redirectedFrom=Y;let $;return!xt&&RW(i,lt,Et)&&($=Pu(16,{to:N,from:lt}),ut(lt,lt,!0,!1)),($?Promise.resolve($):j(N,lt)).catch(X=>qs(X)?qs(X,2)?X:Q(X):Z(X,N,lt)).then(X=>{if(X){if(qs(X,2))return I(on({replace:Rt},w(X.to),{state:typeof X.to=="object"?on({},Mt,X.to.state):Mt,force:xt}),Y||N)}else X=A(N,lt,!0,Rt,Mt);return V(N,lt,X),X})}function G(et,Y){const Et=M(et,Y);return Et?Promise.reject(Et):Promise.resolve()}function j(et,Y){let Et;const[lt,Mt,xt]=D4(et,Y);Et=Tb(lt.reverse(),"beforeRouteLeave",et,Y);for(const O of lt)O.leaveGuards.forEach(N=>{Et.push(na(N,et,Y))});const Rt=G.bind(null,et,Y);return Et.push(Rt),Cc(Et).then(()=>{Et=[];for(const O of s.list())Et.push(na(O,et,Y));return Et.push(Rt),Cc(Et)}).then(()=>{Et=Tb(Mt,"beforeRouteUpdate",et,Y);for(const O of Mt)O.updateGuards.forEach(N=>{Et.push(na(N,et,Y))});return Et.push(Rt),Cc(Et)}).then(()=>{Et=[];for(const O of et.matched)if(O.beforeEnter&&!Y.matched.includes(O))if(ss(O.beforeEnter))for(const N of O.beforeEnter)Et.push(na(N,et,Y));else Et.push(na(O.beforeEnter,et,Y));return Et.push(Rt),Cc(Et)}).then(()=>(et.matched.forEach(O=>O.enterCallbacks={}),Et=Tb(xt,"beforeRouteEnter",et,Y),Et.push(Rt),Cc(Et))).then(()=>{Et=[];for(const O of o.list())Et.push(na(O,et,Y));return Et.push(Rt),Cc(Et)}).catch(O=>qs(O,8)?O:Promise.reject(O))}function V(et,Y,Et){for(const lt of a.list())lt(et,Y,Et)}function A(et,Y,Et,lt,Mt){const xt=M(et,Y);if(xt)return xt;const Rt=Y===Ho,O=tu?history.state:{};Et&&(lt||Rt?r.replace(et.fullPath,on({scroll:Rt&&O&&O.scroll},Mt)):r.push(et.fullPath,Mt)),l.value=et,ut(et,Y,Et,Rt),Q()}let F;function nt(){F||(F=r.listen((et,Y,Et)=>{if(!Lt.listening)return;const lt=v(et),Mt=D(lt);if(Mt){I(on(Mt,{replace:!0}),lt).catch(Cf);return}c=lt;const xt=l.value;tu&&UW(J1(xt.fullPath,Et.delta),C_()),j(lt,xt).catch(Rt=>qs(Rt,12)?Rt:qs(Rt,2)?(I(Rt.to,lt).then(O=>{qs(O,20)&&!Et.delta&&Et.type===Zf.pop&&r.go(-1,!1)}).catch(Cf),Promise.reject()):(Et.delta&&r.go(-Et.delta,!1),Z(Rt,lt,xt))).then(Rt=>{Rt=Rt||A(lt,xt,!1),Rt&&(Et.delta&&!qs(Rt,8)?r.go(-Et.delta,!1):Et.type===Zf.pop&&qs(Rt,20)&&r.go(-1,!1)),V(lt,xt,Rt)}).catch(Cf)}))}let q=Gh(),P=Gh(),W;function Z(et,Y,Et){Q(et);const lt=P.list();return lt.length?lt.forEach(Mt=>Mt(et,Y,Et)):console.error(et),Promise.reject(et)}function U(){return W&&l.value!==Ho?Promise.resolve():new Promise((et,Y)=>{q.add([et,Y])})}function Q(et){return W||(W=!et,nt(),q.list().forEach(([Y,Et])=>et?Et(et):Y()),q.reset()),et}function ut(et,Y,Et,lt){const{scrollBehavior:Mt}=n;if(!tu||!Mt)return Promise.resolve();const xt=!Et&&VW(J1(et.fullPath,0))||(lt||!Et)&&history.state&&history.state.scroll||null;return FI().then(()=>Mt(et,Y,xt)).then(Rt=>Rt&&zW(Rt)).catch(Rt=>Z(Rt,et,Y))}const vt=et=>r.go(et);let at;const Ct=new Set,Lt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:y,getRoutes:g,resolve:v,options:n,push:E,replace:T,go:vt,back:()=>vt(-1),forward:()=>vt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:P.add,isReady:U,install(et){const Y=this;et.component("RouterLink",M4),et.component("RouterView",O4),et.config.globalProperties.$router=Y,Object.defineProperty(et.config.globalProperties,"$route",{enumerable:!0,get:()=>gu(l)}),tu&&!at&&l.value===Ho&&(at=!0,E(r.location).catch(Mt=>{}));const Et={};for(const Mt in Ho)Et[Mt]=Ar(()=>l.value[Mt]);et.provide(hS,Y),et.provide(fS,nh(Et)),et.provide(wx,l);const lt=et.unmount;Ct.add(et),et.unmount=function(){Ct.delete(et),Ct.size<1&&(c=Ho,F&&F(),F=null,l.value=Ho,at=!1,W=!1),lt()}}};return Lt}function Cc(n){return n.reduce((t,e)=>t.then(()=>e()),Promise.resolve())}function D4(n,t){const e=[],i=[],r=[],s=Math.max(t.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(n.matched.find(c=>Ou(c,a))?i.push(a):e.push(a));const l=n.matched[o];l&&(t.matched.find(c=>Ou(c,l))||r.push(l))}return[e,i,r]}function Omt(){return Ls(fS)}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var dS="store";function R4(n){return n===void 0&&(n=null),Ls(n!==null?n:dS)}function L4(n,t){return n.filter(t)[0]}function Ex(n,t){if(t===void 0&&(t=[]),n===null||typeof n!="object")return n;var e=L4(t,function(r){return r.original===n});if(e)return e.copy;var i=Array.isArray(n)?[]:{};return t.push({original:n,copy:i}),Object.keys(n).forEach(function(r){i[r]=Ex(n[r],t)}),i}function ih(n,t){Object.keys(n).forEach(function(e){return t(n[e],e)})}function AN(n){return n!==null&&typeof n=="object"}function I4(n){return n&&typeof n.then=="function"}function N4(n,t){return function(){return n(t)}}function CN(n,t,e){return t.indexOf(n)<0&&(e&&e.prepend?t.unshift(n):t.push(n)),function(){var i=t.indexOf(n);i>-1&&t.splice(i,1)}}function ON(n,t){n._actions=Object.create(null),n._mutations=Object.create(null),n._wrappedGetters=Object.create(null),n._modulesNamespaceMap=Object.create(null);var e=n.state;O_(n,e,[],n._modules.root,!0),pS(n,e,t)}function pS(n,t,e){var i=n._state;n.getters={},n._makeLocalGettersCache=Object.create(null);var r=n._wrappedGetters,s={};ih(r,function(o,a){s[a]=N4(o,n),Object.defineProperty(n.getters,a,{get:function(){return s[a]()},enumerable:!0})}),n._state=nh({data:t}),n.strict&&U4(n),i&&e&&n._withCommit(function(){i.data=null})}function O_(n,t,e,i,r){var s=!e.length,o=n._modules.getNamespace(e);if(i.namespaced&&(n._modulesNamespaceMap[o],n._modulesNamespaceMap[o]=i),!s&&!r){var a=mS(t,e.slice(0,-1)),l=e[e.length-1];n._withCommit(function(){a[l]=i.state})}var c=i.context=k4(n,o,e);i.forEachMutation(function(u,h){var f=o+h;F4(n,f,u,c)}),i.forEachAction(function(u,h){var f=u.root?h:o+h,p=u.handler||u;B4(n,f,p,c)}),i.forEachGetter(function(u,h){var f=o+h;z4(n,f,u,c)}),i.forEachChild(function(u,h){O_(n,t,e.concat(h),u,r)})}function k4(n,t,e){var i=t==="",r={dispatch:i?n.dispatch:function(s,o,a){var l=Kg(s,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=t+h),n.dispatch(h,c)},commit:i?n.commit:function(s,o,a){var l=Kg(s,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=t+h),n.commit(h,c,u)}};return Object.defineProperties(r,{getters:{get:i?function(){return n.getters}:function(){return PN(n,t)}},state:{get:function(){return mS(n.state,e)}}}),r}function PN(n,t){if(!n._makeLocalGettersCache[t]){var e={},i=t.length;Object.keys(n.getters).forEach(function(r){if(r.slice(0,i)===t){var s=r.slice(i);Object.defineProperty(e,s,{get:function(){return n.getters[r]},enumerable:!0})}}),n._makeLocalGettersCache[t]=e}return n._makeLocalGettersCache[t]}function F4(n,t,e,i){var r=n._mutations[t]||(n._mutations[t]=[]);r.push(function(o){e.call(n,i.state,o)})}function B4(n,t,e,i){var r=n._actions[t]||(n._actions[t]=[]);r.push(function(o){var a=e.call(n,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:n.getters,rootState:n.state},o);return I4(a)||(a=Promise.resolve(a)),n._devtoolHook?a.catch(function(l){throw n._devtoolHook.emit("vuex:error",l),l}):a})}function z4(n,t,e,i){n._wrappedGetters[t]||(n._wrappedGetters[t]=function(s){return e(i.state,i.getters,s.state,s.getters)})}function U4(n){_u(function(){return n._state.data},function(){},{deep:!0,flush:"sync"})}function mS(n,t){return t.reduce(function(e,i){return e[i]},n)}function Kg(n,t,e){return AN(n)&&n.type&&(e=t,t=n,n=n.type),{type:n,payload:t,options:e}}var V4="vuex bindings",fC="vuex:mutations",Ab="vuex:actions",Oc="vuex",H4=0;function $4(n,t){AW({id:"org.vuejs.vuex",app:n,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[V4]},function(e){e.addTimelineLayer({id:fC,label:"Vuex Mutations",color:dC}),e.addTimelineLayer({id:Ab,label:"Vuex Actions",color:dC}),e.addInspector({id:Oc,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),e.on.getInspectorTree(function(i){if(i.app===n&&i.inspectorId===Oc)if(i.filter){var r=[];IN(r,t._modules.root,i.filter,""),i.rootNodes=r}else i.rootNodes=[LN(t._modules.root,"")]}),e.on.getInspectorState(function(i){if(i.app===n&&i.inspectorId===Oc){var r=i.nodeId;PN(t,r),i.state=j4(Y4(t._modules,r),r==="root"?t.getters:t._makeLocalGettersCache,r)}}),e.on.editInspectorState(function(i){if(i.app===n&&i.inspectorId===Oc){var r=i.nodeId,s=i.path;r!=="root"&&(s=r.split("/").filter(Boolean).concat(s)),t._withCommit(function(){i.set(t._state.data,s,i.state.value)})}}),t.subscribe(function(i,r){var s={};i.payload&&(s.payload=i.payload),s.state=r,e.notifyComponentUpdate(),e.sendInspectorTree(Oc),e.sendInspectorState(Oc),e.addTimelineEvent({layerId:fC,event:{time:Date.now(),title:i.type,data:s}})}),t.subscribeAction({before:function(i,r){var s={};i.payload&&(s.payload=i.payload),i._id=H4++,i._time=Date.now(),s.state=r,e.addTimelineEvent({layerId:Ab,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:s}})},after:function(i,r){var s={},o=Date.now()-i._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},i.payload&&(s.payload=i.payload),s.state=r,e.addTimelineEvent({layerId:Ab,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:s}})}})})}var dC=8702998,W4=6710886,G4=16777215,DN={label:"namespaced",textColor:G4,backgroundColor:W4};function RN(n){return n&&n!=="root"?n.split("/").slice(-2,-1)[0]:"Root"}function LN(n,t){return{id:t||"root",label:RN(t),tags:n.namespaced?[DN]:[],children:Object.keys(n._children).map(function(e){return LN(n._children[e],t+e+"/")})}}function IN(n,t,e,i){i.includes(e)&&n.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[DN]:[]}),Object.keys(t._children).forEach(function(r){IN(n,t._children[r],e,i+r+"/")})}function j4(n,t,e){t=e==="root"?t:t[e];var i=Object.keys(t),r={state:Object.keys(n.state).map(function(o){return{key:o,editable:!0,value:n.state[o]}})};if(i.length){var s=q4(t);r.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?RN(o):o,editable:!1,value:Sx(function(){return s[o]})}})}return r}function q4(n){var t={};return Object.keys(n).forEach(function(e){var i=e.split("/");if(i.length>1){var r=t,s=i.pop();i.forEach(function(o){r[o]||(r[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),r=r[o]._custom.value}),r[s]=Sx(function(){return n[e]})}else t[e]=Sx(function(){return n[e]})}),t}function Y4(n,t){var e=t.split("/").filter(function(i){return i});return e.reduce(function(i,r,s){var o=i[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return s===e.length-1?o:o._children},t==="root"?n:n.root._children)}function Sx(n){try{return n()}catch(t){return t}}var as=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},NN={namespaced:{configurable:!0}};NN.namespaced.get=function(){return!!this._rawModule.namespaced};as.prototype.addChild=function(t,e){this._children[t]=e};as.prototype.removeChild=function(t){delete this._children[t]};as.prototype.getChild=function(t){return this._children[t]};as.prototype.hasChild=function(t){return t in this._children};as.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};as.prototype.forEachChild=function(t){ih(this._children,t)};as.prototype.forEachGetter=function(t){this._rawModule.getters&&ih(this._rawModule.getters,t)};as.prototype.forEachAction=function(t){this._rawModule.actions&&ih(this._rawModule.actions,t)};as.prototype.forEachMutation=function(t){this._rawModule.mutations&&ih(this._rawModule.mutations,t)};Object.defineProperties(as.prototype,NN);var Xl=function(t){this.register([],t,!1)};Xl.prototype.get=function(t){return t.reduce(function(e,i){return e.getChild(i)},this.root)};Xl.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(i,r){return e=e.getChild(r),i+(e.namespaced?r+"/":"")},"")};Xl.prototype.update=function(t){kN([],this.root,t)};Xl.prototype.register=function(t,e,i){var r=this;i===void 0&&(i=!0);var s=new as(e,i);if(t.length===0)this.root=s;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],s)}e.modules&&ih(e.modules,function(a,l){r.register(t.concat(l),a,i)})};Xl.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],r=e.getChild(i);!r||!r.runtime||e.removeChild(i)};Xl.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return e?e.hasChild(i):!1};function kN(n,t,e){if(t.update(e),e.modules)for(var i in e.modules){if(!t.getChild(i))return;kN(n.concat(i),t.getChild(i),e.modules[i])}}function X4(n){return new Xi(n)}var Xi=function(t){var e=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Xl(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(f,p){return l.call(o,f,p)},this.commit=function(f,p,m){return c.call(o,f,p,m)},this.strict=r;var u=this._modules.root.state;O_(this,u,[],this._modules.root),pS(this,u),i.forEach(function(h){return h(e)})},gS={state:{configurable:!0}};Xi.prototype.install=function(t,e){t.provide(e||dS,this),t.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&$4(t,this)};gS.state.get=function(){return this._state.data};gS.state.set=function(n){};Xi.prototype.commit=function(t,e,i){var r=this,s=Kg(t,e,i),o=s.type,a=s.payload,l={type:o,payload:a},c=this._mutations[o];!c||(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,r.state)}))};Xi.prototype.dispatch=function(t,e){var i=this,r=Kg(t,e),s=r.type,o=r.payload,a={type:s,payload:o},l=this._actions[s];if(!!l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,i.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(f){try{i._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,i.state)})}catch{}u(f)},function(f){try{i._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,i.state,f)})}catch{}h(f)})})}};Xi.prototype.subscribe=function(t,e){return CN(t,this._subscribers,e)};Xi.prototype.subscribeAction=function(t,e){var i=typeof t=="function"?{before:t}:t;return CN(i,this._actionSubscribers,e)};Xi.prototype.watch=function(t,e,i){var r=this;return _u(function(){return t(r.state,r.getters)},e,Object.assign({},i))};Xi.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._state.data=t})};Xi.prototype.registerModule=function(t,e,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,e),O_(this,this.state,t,this._modules.get(t),i.preserveState),pS(this,this.state)};Xi.prototype.unregisterModule=function(t){var e=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=mS(e.state,t.slice(0,-1));delete i[t[t.length-1]]}),ON(this)};Xi.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Xi.prototype.hotUpdate=function(t){this._modules.update(t),ON(this,!0)};Xi.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e};Object.defineProperties(Xi.prototype,gS);var FN=D_(function(n,t){var e={};return P_(t).forEach(function(i){var r=i.key,s=i.val;e[r]=function(){var a=this.$store.state,l=this.$store.getters;if(n){var c=R_(this.$store,"mapState",n);if(!c)return;a=c.context.state,l=c.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},e[r].vuex=!0}),e}),BN=D_(function(n,t){var e={};return P_(t).forEach(function(i){var r=i.key,s=i.val;e[r]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.commit;if(n){var u=R_(this.$store,"mapMutations",n);if(!u)return;c=u.context.commit}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),e}),zN=D_(function(n,t){var e={};return P_(t).forEach(function(i){var r=i.key,s=i.val;s=n+s,e[r]=function(){if(!(n&&!R_(this.$store,"mapGetters",n)))return this.$store.getters[s]},e[r].vuex=!0}),e}),UN=D_(function(n,t){var e={};return P_(t).forEach(function(i){var r=i.key,s=i.val;e[r]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.dispatch;if(n){var u=R_(this.$store,"mapActions",n);if(!u)return;c=u.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),e}),K4=function(n){return{mapState:FN.bind(null,n),mapGetters:zN.bind(null,n),mapMutations:BN.bind(null,n),mapActions:UN.bind(null,n)}};function P_(n){return Q4(n)?Array.isArray(n)?n.map(function(t){return{key:t,val:t}}):Object.keys(n).map(function(t){return{key:t,val:n[t]}}):[]}function Q4(n){return Array.isArray(n)||AN(n)}function D_(n){return function(t,e){return typeof t!="string"?(e=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),n(t,e)}}function R_(n,t,e){var i=n._modulesNamespaceMap[e];return i}function J4(n){n===void 0&&(n={});var t=n.collapsed;t===void 0&&(t=!0);var e=n.filter;e===void 0&&(e=function(u,h,f){return!0});var i=n.transformer;i===void 0&&(i=function(u){return u});var r=n.mutationTransformer;r===void 0&&(r=function(u){return u});var s=n.actionFilter;s===void 0&&(s=function(u,h){return!0});var o=n.actionTransformer;o===void 0&&(o=function(u){return u});var a=n.logMutations;a===void 0&&(a=!0);var l=n.logActions;l===void 0&&(l=!0);var c=n.logger;return c===void 0&&(c=console),function(u){var h=Ex(u.state);typeof c>"u"||(a&&u.subscribe(function(f,p){var m=Ex(p);if(e(f,h,m)){var g=gC(),y=r(f),v="mutation "+f.type+g;pC(c,v,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(h)),c.log("%c mutation","color: #03A9F4; font-weight: bold",y),c.log("%c next state","color: #4CAF50; font-weight: bold",i(m)),mC(c)}h=m}),l&&u.subscribeAction(function(f,p){if(s(f,p)){var m=gC(),g=o(f),y="action "+f.type+m;pC(c,y,t),c.log("%c action","color: #03A9F4; font-weight: bold",g),mC(c)}}))}}function pC(n,t,e){var i=e?n.groupCollapsed:n.group;try{i.call(n,t)}catch{n.log(t)}}function mC(n){try{n.groupEnd()}catch{n.log("\u2014\u2014 log end \u2014\u2014")}}function gC(){var n=new Date;return" @ "+Fp(n.getHours(),2)+":"+Fp(n.getMinutes(),2)+":"+Fp(n.getSeconds(),2)+"."+Fp(n.getMilliseconds(),3)}function Z4(n,t){return new Array(t+1).join(n)}function Fp(n,t){return Z4("0",t-n.toString().length)+n}var tG={version:"4.0.2",Store:Xi,storeKey:dS,createStore:X4,useStore:R4,mapState:FN,mapMutations:BN,mapGetters:zN,mapActions:UN,createNamespacedHelpers:K4,createLogger:J4};const VN=tG;pN(mN).use(VN);const HN=new VN.Store({state:{user:"",patients:[],name:null,email:null,weight:null,length:null,gender:null,birthdate:null,selected_sensors:[]},getters:{getUser(){return JSON.parse(localStorage.getItem("user"))},isLogedIn(){return localStorage.getItem("user")!==null},getPatientName(n){return n.name},getPatientEmail(n){return n.email},getPatientWeight(n){return n.weight},getPatientLength(n){return n.length},getPatientGender(n){return n.gender},getPatientBirthdate(n){return n.birthdate},getPatientList(n){return n.patients},getSelectedSensors(n){return n.selected_sensors}},mutations:{changeProfilePicture(n,t){n.user.photoUrl=t},setPatientName(n,t){n.name=t},setPatientEmail(n,t){n.email=t},setPatientWeight(n,t){n.weight=t},setPatientLength(n,t){n.length=t},setPatientGender(n,t){n.gender=t},setPatientBirthdate(n,t){n.birthdate=t},setUser(n,t){n.user=t,localStorage.setItem("user",JSON.stringify(n.user))},setPatientList(n,t){n.patients=t},setSelectedSensors(n,t){n.selected_sensors=t}},actions:{logOutUser(n){n.user="",localStorage.removeItem("user"),indexedDB.deleteDatabase("firebaseLocalStorageDb"),n.patientEmail="",localStorage.removeItem("patientEmail")},deletePatient(n){n.patientEmail="",localStorage.removeItem("patientEmail")}}}),$N=P4({history:jW(),routes:[{path:"/",name:"register",component:()=>xr(()=>import("./RegisterUser.921b4d86.js"),["RegisterUser.921b4d86.js","RegisterUser.9817ad19.css","vee-validate.esm.60d124ec.js","object.21bfa4b4.js","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js"],import.meta.url)},{path:"/dev",name:"dev",component:()=>xr(()=>import("./DevelopmentSensors.2378dfee.js"),["DevelopmentSensors.2378dfee.js","DevelopmentSensors.3584035a.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","BackButton.b6eaa6a1.js","BackButton.c5362791.css"],import.meta.url)},{path:"/patients",name:"patients",component:()=>xr(()=>import("./PatientsOverview.75eef9db.js"),["PatientsOverview.75eef9db.js","PatientsOverview.214a0a4b.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","RegisterPatientForm.3e92da1c.js","RegisterPatientForm.0afd3f02.css","vee-validate.esm.60d124ec.js","object.21bfa4b4.js"],import.meta.url)},{path:"/patients/:name",name:"patient",component:()=>xr(()=>import("./PatientInfo.45c4ffc2.js"),["PatientInfo.45c4ffc2.js","PatientInfo.bd5803a8.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","AgeCalculator.549f26af.js","CapitalizeString.fdf4aab9.js","CapitalizeString.e547c2c3.css","vee-validate.esm.60d124ec.js","object.21bfa4b4.js","BackButton.b6eaa6a1.js","BackButton.c5362791.css"],import.meta.url)},{path:"/registerPatient",name:"registerPatient",component:()=>xr(()=>import("./RegisterPatientForm.3e92da1c.js"),["RegisterPatientForm.3e92da1c.js","RegisterPatientForm.0afd3f02.css","vee-validate.esm.60d124ec.js","fdb.07d85fc7.js","object.21bfa4b4.js"],import.meta.url)},{path:"/:name/:category/exerciseResults",name:"exerciseResults",component:()=>xr(()=>import("./ExerciseResults.c8dd9f9d.js"),["ExerciseResults.c8dd9f9d.js","ExerciseResults.f77e6c74.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","CapitalizeString.fdf4aab9.js","CapitalizeString.e547c2c3.css","vee-validate.esm.60d124ec.js","BackButton.b6eaa6a1.js","BackButton.c5362791.css"],import.meta.url)},{path:"/selectSensor",name:"selectSensor",component:()=>xr(()=>import("./SelectSensor.70c1900a.js"),["SelectSensor.70c1900a.js","SelectSensor.141bb60d.css","BackButton.b6eaa6a1.js","BackButton.c5362791.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js"],import.meta.url)},{path:"/:name/:category/:sensorsNeeded/selectSensor",name:"selectSensorFromInfo",component:()=>xr(()=>import("./SelectSensor.70c1900a.js"),["SelectSensor.70c1900a.js","SelectSensor.141bb60d.css","BackButton.b6eaa6a1.js","BackButton.c5362791.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js"],import.meta.url)},{path:"/:name/:category/measureInfo",name:"measureInfo",component:()=>xr(()=>import("./MeasureInfo.f53fc976.js"),["MeasureInfo.f53fc976.js","MeasureInfo.788c571d.css","BackButton.b6eaa6a1.js","BackButton.c5362791.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js"],import.meta.url)},{path:"/:name/:category/measure",name:"measure",component:()=>xr(()=>import("./MeasureStart.86edf04b.js"),["MeasureStart.86edf04b.js","MeasureStart.29c43c21.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","AgeCalculator.549f26af.js","BackButton.b6eaa6a1.js","BackButton.c5362791.css"],import.meta.url)},{path:"/:name/addCategorie",name:"addCategorie",component:()=>xr(()=>import("./AddCategorie.39d87bd1.js"),["AddCategorie.39d87bd1.js","AddCategorie.5f88558f.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","BackButton.b6eaa6a1.js","BackButton.c5362791.css"],import.meta.url)},{path:"/:name/:category/:sensorsNeeded/sensorCheck",name:"sensorCheck",component:()=>xr(()=>import("./SensorCheck.0fbca92b.js"),["SensorCheck.0fbca92b.js","SensorCheck.05cc648c.css","NavBarTop.29089119.js","NavBarTop.9860cb71.css","firebaseAuth.a0254fc4.js","fdb.07d85fc7.js","BackButton.b6eaa6a1.js","BackButton.c5362791.css"],import.meta.url)}]});$N.beforeEach(async n=>{if(n.name!=="register"&&!HN.getters.isLogedIn)return{name:"register"}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},eG=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],a=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},GN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(e[u],e[h],e[f],e[p])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(WN(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):eG(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const h=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw Error();const f=s<<2|a>>4;if(i.push(f),c!==64){const p=a<<4&240|c>>2;if(i.push(p),h!==64){const m=c<<6&192|h;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},nG=function(n){const t=WN(n);return GN.encodeByteArray(t,!0)},jN=function(n){return nG(n).replace(/\./g,"")},Pmt=function(n){try{return GN.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dmt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qN())}function Rmt(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Lmt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Imt(){const n=qN();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rG(){return typeof indexedDB=="object"}function sG(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG="FirebaseError";class rh extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=oG,Object.setPrototypeOf(this,rh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,YN.prototype.create)}}class YN{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?aG(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new rh(r,a,i)}}function aG(n,t){return n.replace(lG,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const lG=/\{\$([^}]+)}/g;function Nmt(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Mx(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(yC(s)&&yC(o)){if(!Mx(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function yC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kmt(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Fmt(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Bmt(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function zmt(n,t){const e=new cG(n,t);return e.subscribe.bind(e)}class cG{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");uG(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Cb),r.error===void 0&&(r.error=Cb),r.complete===void 0&&(r.complete=Cb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uG(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Cb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n){return n&&n._delegate?n._delegate:n}class td{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new iG;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dG(t))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ul){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ul){return this.instances.has(t)}getOptions(t=ul){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(!!i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fG(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ul){return this.component?this.component.multipleInstances?t:ul:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fG(n){return n===ul?void 0:n}function dG(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hG(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nn||(nn={}));const mG={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},gG=nn.INFO,yG={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},_G=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=yG[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class XN{constructor(t){this.name=t,this._logLevel=gG,this._logHandler=_G,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mG[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...t),this._logHandler(this,nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...t),this._logHandler(this,nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...t),this._logHandler(this,nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...t),this._logHandler(this,nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...t),this._logHandler(this,nn.ERROR,...t)}}const vG=(n,t)=>t.some(e=>n instanceof e);let _C,vC;function bG(){return _C||(_C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xG(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KN=new WeakMap,Tx=new WeakMap,QN=new WeakMap,Ob=new WeakMap,yS=new WeakMap;function wG(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(aa(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&KN.set(e,n)}).catch(()=>{}),yS.set(t,n),t}function EG(n){if(Tx.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Tx.set(n,t)}let Ax={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Tx.get(n);if(t==="objectStoreNames")return n.objectStoreNames||QN.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return aa(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function SG(n){Ax=n(Ax)}function MG(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Pb(this),t,...e);return QN.set(i,t.sort?t.sort():[t]),aa(i)}:xG().includes(n)?function(...t){return n.apply(Pb(this),t),aa(KN.get(this))}:function(...t){return aa(n.apply(Pb(this),t))}}function TG(n){return typeof n=="function"?MG(n):(n instanceof IDBTransaction&&EG(n),vG(n,bG())?new Proxy(n,Ax):n)}function aa(n){if(n instanceof IDBRequest)return wG(n);if(Ob.has(n))return Ob.get(n);const t=TG(n);return t!==n&&(Ob.set(n,t),yS.set(t,n)),t}const Pb=n=>yS.get(n);function AG(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=aa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(aa(o.result),l.oldVersion,l.newVersion,aa(o.transaction))}),e&&o.addEventListener("blocked",()=>e()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const CG=["get","getKey","getAll","getAllKeys","count"],OG=["put","add","delete","clear"],Db=new Map;function bC(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Db.get(t))return Db.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=OG.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CG.includes(e)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),r&&l.done]))[0]};return Db.set(t,s),s}SG(n=>({...n,get:(t,e,i)=>bC(t,e)||n.get(t,e,i),has:(t,e)=>!!bC(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DG(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function DG(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cx="@firebase/app",xC="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new XN("@firebase/app"),RG="@firebase/app-compat",LG="@firebase/analytics-compat",IG="@firebase/analytics",NG="@firebase/app-check-compat",kG="@firebase/app-check",FG="@firebase/auth",BG="@firebase/auth-compat",zG="@firebase/database",UG="@firebase/database-compat",VG="@firebase/functions",HG="@firebase/functions-compat",$G="@firebase/installations",WG="@firebase/installations-compat",GG="@firebase/messaging",jG="@firebase/messaging-compat",qG="@firebase/performance",YG="@firebase/performance-compat",XG="@firebase/remote-config",KG="@firebase/remote-config-compat",QG="@firebase/storage",JG="@firebase/storage-compat",ZG="@firebase/firestore",t5="@firebase/firestore-compat",e5="firebase",n5="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="[DEFAULT]",i5={[Cx]:"fire-core",[RG]:"fire-core-compat",[IG]:"fire-analytics",[LG]:"fire-analytics-compat",[kG]:"fire-app-check",[NG]:"fire-app-check-compat",[FG]:"fire-auth",[BG]:"fire-auth-compat",[zG]:"fire-rtdb",[UG]:"fire-rtdb-compat",[VG]:"fire-fn",[HG]:"fire-fn-compat",[$G]:"fire-iid",[WG]:"fire-iid-compat",[GG]:"fire-fcm",[jG]:"fire-fcm-compat",[qG]:"fire-perf",[YG]:"fire-perf-compat",[XG]:"fire-rc",[KG]:"fire-rc-compat",[QG]:"fire-gcs",[JG]:"fire-gcs-compat",[ZG]:"fire-fst",[t5]:"fire-fst-compat","fire-js":"fire-js",[e5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map,Ox=new Map;function r5(n,t){try{n.container.addComponent(t)}catch(e){kl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Jg(n){const t=n.name;if(Ox.has(t))return kl.debug(`There were multiple attempts to register component ${t}.`),!1;Ox.set(t,n);for(const e of Qg.values())r5(e,n);return!0}function s5(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fl=new YN("app","Firebase",o5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new td("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=n5;function c5(n,t={}){typeof t!="object"&&(t={name:t});const e=Object.assign({name:JN,automaticDataCollectionEnabled:!1},t),i=e.name;if(typeof i!="string"||!i)throw Fl.create("bad-app-name",{appName:String(i)});const r=Qg.get(i);if(r){if(Mx(n,r.options)&&Mx(e,r.config))return r;throw Fl.create("duplicate-app",{appName:i})}const s=new pG(i);for(const a of Ox.values())s.addComponent(a);const o=new a5(n,e,s);return Qg.set(i,o),o}function u5(n=JN){const t=Qg.get(n);if(!t)throw Fl.create("no-app",{appName:n});return t}function vu(n,t,e){var i;let r=(i=i5[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),kl.warn(a.join(" "));return}Jg(new td(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="firebase-heartbeat-database",f5=1,ed="firebase-heartbeat-store";let Rb=null;function ZN(){return Rb||(Rb=AG(h5,f5,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ed)}}}).catch(n=>{throw Fl.create("idb-open",{originalErrorMessage:n.message})})),Rb}async function d5(n){var t;try{return(await ZN()).transaction(ed).objectStore(ed).get(tk(n))}catch(e){if(e instanceof rh)kl.warn(e.message);else{const i=Fl.create("idb-get",{originalErrorMessage:(t=e)===null||t===void 0?void 0:t.message});kl.warn(i.message)}}}async function wC(n,t){var e;try{const r=(await ZN()).transaction(ed,"readwrite");return await r.objectStore(ed).put(t,tk(n)),r.done}catch(i){if(i instanceof rh)kl.warn(i.message);else{const r=Fl.create("idb-set",{originalErrorMessage:(e=i)===null||e===void 0?void 0:e.message});kl.warn(r.message)}}}function tk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=1024,m5=30*24*60*60*1e3;class g5{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _5(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=EC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=m5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=EC(),{heartbeatsToSend:e,unsentEntries:i}=y5(this._heartbeatsCache.heartbeats),r=jN(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function EC(){return new Date().toISOString().substring(0,10)}function y5(n,t=p5){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),SC(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),SC(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class _5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rG()?sG().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await d5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return wC(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return wC(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function SC(n){return jN(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(n){Jg(new td("platform-logger",t=>new PG(t),"PRIVATE")),Jg(new td("heartbeat",t=>new g5(t),"PRIVATE")),vu(Cx,xC,n),vu(Cx,xC,"esm2017"),vu("fire-js","")}v5("");var b5="firebase",x5="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vu(b5,x5,"app");var w5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne,_S=_S||{},Me=w5||self;function Zg(){}function L_(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function Cd(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function E5(n){return Object.prototype.hasOwnProperty.call(n,Lb)&&n[Lb]||(n[Lb]=++S5)}var Lb="closure_uid_"+(1e9*Math.random()>>>0),S5=0;function M5(n,t,e){return n.call.apply(n.bind,arguments)}function T5(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Oi(n,t,e){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Oi=M5:Oi=T5,Oi.apply(null,arguments)}function Bp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vi(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Sa(){this.s=this.s,this.o=this.o}var A5=0;Sa.prototype.s=!1;Sa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),A5!=0)&&E5(this)};Sa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ek=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function vS(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function MC(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(L_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Pi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Pi.prototype.h=function(){this.defaultPrevented=!0};var C5=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Me.addEventListener("test",Zg,t),Me.removeEventListener("test",Zg,t)}catch{}return n}();function ty(n){return/^[\s\xa0]*$/.test(n)}var TC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ib(n,t){return n<t?-1:n>t?1:0}function I_(){var n=Me.navigator;return n&&(n=n.userAgent)?n:""}function Os(n){return I_().indexOf(n)!=-1}function bS(n){return bS[" "](n),n}bS[" "]=Zg;function O5(n){var t=R5;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}var P5=Os("Opera"),Du=Os("Trident")||Os("MSIE"),nk=Os("Edge"),Px=nk||Du,ik=Os("Gecko")&&!(I_().toLowerCase().indexOf("webkit")!=-1&&!Os("Edge"))&&!(Os("Trident")||Os("MSIE"))&&!Os("Edge"),D5=I_().toLowerCase().indexOf("webkit")!=-1&&!Os("Edge");function rk(){var n=Me.document;return n?n.documentMode:void 0}var ey;t:{var Nb="",kb=function(){var n=I_();if(ik)return/rv:([^\);]+)(\)|;)/.exec(n);if(nk)return/Edge\/([\d\.]+)/.exec(n);if(Du)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(D5)return/WebKit\/(\S+)/.exec(n);if(P5)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(kb&&(Nb=kb?kb[1]:""),Du){var Fb=rk();if(Fb!=null&&Fb>parseFloat(Nb)){ey=String(Fb);break t}}ey=Nb}var R5={};function L5(){return O5(function(){let n=0;const t=TC(String(ey)).split("."),e=TC("9").split("."),i=Math.max(t.length,e.length);for(let o=0;n==0&&o<i;o++){var r=t[o]||"",s=e[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;n=Ib(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||Ib(r[2].length==0,s[2].length==0)||Ib(r[2],s[2]),r=r[3],s=s[3]}while(n==0)}return 0<=n})}var Dx;if(Me.document&&Du){var AC=rk();Dx=AC||parseInt(ey,10)||void 0}else Dx=void 0;var I5=Dx;function nd(n,t){if(Pi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(ik){t:{try{bS(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else e=="mouseover"?t=n.fromElement:e=="mouseout"&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:N5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nd.X.h.call(this)}}vi(nd,Pi);var N5={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Od="closure_listenable_"+(1e6*Math.random()|0),k5=0;function F5(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++k5,this.ba=this.ea=!1}function N_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function xS(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function sk(n){const t={};for(const e in n)t[e]=n[e];return t}const CC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ok(n,t){let e,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(e in i)n[e]=i[e];for(let s=0;s<CC.length;s++)e=CC[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function k_(n){this.src=n,this.g={},this.h=0}k_.prototype.add=function(n,t,e,i,r){var s=n.toString();n=this.g[s],n||(n=this.g[s]=[],this.h++);var o=Lx(n,t,i,r);return-1<o?(t=n[o],e||(t.ea=!1)):(t=new F5(t,this.src,s,!!i,r),t.ea=e,n.push(t)),t};function Rx(n,t){var e=t.type;if(e in n.g){var i=n.g[e],r=ek(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(N_(t),n.g[e].length==0&&(delete n.g[e],n.h--))}}function Lx(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}var wS="closure_lm_"+(1e6*Math.random()|0),Bb={};function ak(n,t,e,i,r){if(i&&i.once)return ck(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ak(n,t[s],e,i,r);return null}return e=MS(e),n&&n[Od]?n.N(t,e,Cd(i)?!!i.capture:!!i,r):lk(n,t,e,!1,i,r)}function lk(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Cd(r)?!!r.capture:!!r,a=SS(n);if(a||(n[wS]=a=new k_(n)),e=a.add(t,e,i,o,s),e.proxy)return e;if(i=B5(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)C5||(r=o),r===void 0&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(hk(t.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return e}function B5(){function n(e){return t.call(n.src,n.listener,e)}const t=z5;return n}function ck(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ck(n,t[s],e,i,r);return null}return e=MS(e),n&&n[Od]?n.O(t,e,Cd(i)?!!i.capture:!!i,r):lk(n,t,e,!0,i,r)}function uk(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)uk(n,t[s],e,i,r);else i=Cd(i)?!!i.capture:!!i,e=MS(e),n&&n[Od]?(n=n.i,t=String(t).toString(),t in n.g&&(s=n.g[t],e=Lx(s,e,i,r),-1<e&&(N_(s[e]),Array.prototype.splice.call(s,e,1),s.length==0&&(delete n.g[t],n.h--)))):n&&(n=SS(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Lx(t,e,i,r)),(e=-1<n?t[n]:null)&&ES(e))}function ES(n){if(typeof n!="number"&&n&&!n.ba){var t=n.src;if(t&&t[Od])Rx(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(hk(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=SS(t))?(Rx(e,n),e.h==0&&(e.src=null,t[wS]=null)):N_(n)}}}function hk(n){return n in Bb?Bb[n]:Bb[n]="on"+n}function z5(n,t){if(n.ba)n=!0;else{t=new nd(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&ES(n),n=e.call(i,t)}return n}function SS(n){return n=n[wS],n instanceof k_?n:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function MS(n){return typeof n=="function"?n:(n[zb]||(n[zb]=function(t){return n.handleEvent(t)}),n[zb])}function hi(){Sa.call(this),this.i=new k_(this),this.P=this,this.I=null}vi(hi,Sa);hi.prototype[Od]=!0;hi.prototype.removeEventListener=function(n,t,e,i){uk(this,n,t,e,i)};function yi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,typeof t=="string")t=new Pi(t,n);else if(t instanceof Pi)t.target=t.target||n;else{var r=t;t=new Pi(i,n),ok(t,r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=zp(o,i,!0,t)&&r}if(o=t.g=n,r=zp(o,i,!0,t)&&r,r=zp(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)o=t.g=e[s],r=zp(o,i,!1,t)&&r}hi.prototype.M=function(){if(hi.X.M.call(this),this.i){var n=this.i,t;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)N_(e[i]);delete n.g[t],n.h--}}this.I=null};hi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)};hi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};function zp(n,t,e,i){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==e){var a=o.listener,l=o.ha||o.src;o.ea&&Rx(n.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var TS=Me.JSON.stringify;function U5(){var n=pk;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class V5{constructor(){this.h=this.g=null}add(t,e){const i=fk.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}}var fk=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new H5,n=>n.reset());class H5{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function $5(n){Me.setTimeout(()=>{throw n},0)}function dk(n,t){Ix||W5(),Nx||(Ix(),Nx=!0),pk.add(n,t)}var Ix;function W5(){var n=Me.Promise.resolve(void 0);Ix=function(){n.then(G5)}}var Nx=!1,pk=new V5;function G5(){for(var n;n=U5();){try{n.h.call(n.g)}catch(e){$5(e)}var t=fk;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Nx=!1}function F_(n,t){hi.call(this),this.h=n||1,this.g=t||Me,this.j=Oi(this.kb,this),this.l=Date.now()}vi(F_,hi);ne=F_.prototype;ne.ca=!1;ne.R=null;ne.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yi(this,"tick"),this.ca&&(AS(this),this.start()))}};ne.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function AS(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}ne.M=function(){F_.X.M.call(this),AS(this),delete this.g};function CS(n,t,e){if(typeof n=="function")e&&(n=Oi(n,e));else if(n&&typeof n.handleEvent=="function")n=Oi(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Me.setTimeout(n,t||0)}function mk(n){n.g=CS(()=>{n.g=null,n.i&&(n.i=!1,mk(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class j5 extends Sa{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:mk(this)}M(){super.M(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function id(n){Sa.call(this),this.h=n,this.g={}}vi(id,Sa);var OC=[];function gk(n,t,e,i){Array.isArray(e)||(e&&(OC[0]=e.toString()),e=OC);for(var r=0;r<e.length;r++){var s=ak(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function yk(n){xS(n.g,function(t,e){this.g.hasOwnProperty(e)&&ES(t)},n),n.g={}}id.prototype.M=function(){id.X.M.call(this),yk(this)};id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function B_(){this.g=!0}B_.prototype.Aa=function(){this.g=!1};function q5(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+e+`
`+o})}function Y5(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+e+`
`+s+" "+o})}function su(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+K5(n,e)+(i?" "+i:"")})}function X5(n,t){n.info(function(){return"TIMEOUT: "+t})}B_.prototype.info=function(){};function K5(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e){for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return TS(e)}catch{return t}}var Kl={},PC=null;function z_(){return PC=PC||new hi}Kl.Oa="serverreachability";function _k(n){Pi.call(this,Kl.Oa,n)}vi(_k,Pi);function rd(n){const t=z_();yi(t,new _k(t))}Kl.STAT_EVENT="statevent";function vk(n,t){Pi.call(this,Kl.STAT_EVENT,n),this.stat=t}vi(vk,Pi);function Hi(n){const t=z_();yi(t,new vk(t,n))}Kl.Pa="timingevent";function bk(n,t){Pi.call(this,Kl.Pa,n),this.size=t}vi(bk,Pi);function Pd(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){n()},t)}var U_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},xk={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function OS(){}OS.prototype.h=null;function DC(n){return n.h||(n.h=n.i())}function wk(){}var Dd={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function PS(){Pi.call(this,"d")}vi(PS,Pi);function DS(){Pi.call(this,"c")}vi(DS,Pi);var kx;function V_(){}vi(V_,OS);V_.prototype.g=function(){return new XMLHttpRequest};V_.prototype.i=function(){return{}};kx=new V_;function Rd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new id(this),this.O=Q5,n=Px?125:void 0,this.T=new F_(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ek}function Ek(){this.i=null,this.g="",this.h=!1}var Q5=45e3,Fx={},ny={};ne=Rd.prototype;ne.setTimeout=function(n){this.O=n};function Bx(n,t,e){n.K=1,n.v=$_(wo(t)),n.s=e,n.P=!0,Sk(n,null)}function Sk(n,t){n.F=Date.now(),Ld(n),n.A=wo(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Rk(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Ek,n.g=Zk(n.l,e?t:null,!n.s),0<n.N&&(n.L=new j5(Oi(n.Ka,n,n.g),n.N)),gk(n.S,n.g,"readystatechange",n.hb),t=n.H?sk(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),rd(),q5(n.j,n.u,n.A,n.m,n.U,n.s)}ne.hb=function(n){n=n.target;const t=this.L;t&&co(n)==3?t.l():this.Ka(n)};ne.Ka=function(n){try{if(n==this.g)t:{const u=co(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Px||this.g&&(this.h.h||this.g.fa()||NC(this.g)))){this.I||u!=4||t==7||(t==8||0>=h?rd(3):rd(2)),H_(this);var e=this.g.aa();this.Y=e;e:if(Mk(this)){var i=NC(this.g);n="";var r=i.length,s=co(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vl(this),Pf(this);var o="";break e}this.h.i=new Me.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=e==200,Y5(this.j,this.u,this.A,this.m,this.U,u,e),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ty(a)){var c=a;break e}}c=null}if(e=c)su(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zx(this,e);else{this.i=!1,this.o=3,Hi(12),vl(this),Pf(this);break t}}this.P?(Tk(this,u,o),Px&&this.i&&u==3&&(gk(this.S,this.T,"tick",this.gb),this.T.start())):(su(this.j,this.m,o,null),zx(this,o)),u==4&&vl(this),this.i&&!this.I&&(u==4?Xk(this.l,this):(this.i=!1,Ld(this)))}else e==400&&0<o.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),vl(this),Pf(this)}}}catch{}finally{}};function Mk(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Da:!1}function Tk(n,t,e){let i=!0,r;for(;!n.I&&n.C<e.length;)if(r=J5(n,e),r==ny){t==4&&(n.o=4,Hi(14),i=!1),su(n.j,n.m,null,"[Incomplete Response]");break}else if(r==Fx){n.o=4,Hi(15),su(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}else su(n.j,n.m,r,null),zx(n,r);Mk(n)&&r!=ny&&r!=Fx&&(n.h.g="",n.C=0),t!=4||e.length!=0||n.h.h||(n.o=1,Hi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,t=n.l,t.g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),BS(t),t.K=!0,Hi(11))):(su(n.j,n.m,e,"[Invalid Chunked Response]"),vl(n),Pf(n))}ne.gb=function(){if(this.g){var n=co(this.g),t=this.g.fa();this.C<t.length&&(H_(this),Tk(this,n,t),this.i&&n!=4&&Ld(this))}};function J5(n,t){var e=n.C,i=t.indexOf(`
`,e);return i==-1?ny:(e=Number(t.substring(e,i)),isNaN(e)?Fx:(i+=1,i+e>t.length?ny:(t=t.substr(i,e),n.C=i+e,t)))}ne.cancel=function(){this.I=!0,vl(this)};function Ld(n){n.V=Date.now()+n.O,Ak(n,n.O)}function Ak(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Pd(Oi(n.fb,n),t)}function H_(n){n.B&&(Me.clearTimeout(n.B),n.B=null)}ne.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(X5(this.j,this.A),this.K!=2&&(rd(),Hi(17)),vl(this),this.o=2,Pf(this)):Ak(this,this.V-n)};function Pf(n){n.l.G==0||n.I||Xk(n.l,n)}function vl(n){H_(n);var t=n.L;t&&typeof t.na=="function"&&t.na(),n.L=null,AS(n.T),yk(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function zx(n,t){try{var e=n.l;if(e.G!=0&&(e.g==n||Ux(e.h,n))){if(!n.J&&Ux(e.h,n)&&e.G==3){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!e.u){if(e.g)if(e.g.F+3e3<n.F)sy(e),j_(e);else break t;FS(e),Hi(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&e.A==0&&!e.v&&(e.v=Pd(Oi(e.bb,e),6e3));if(1>=Nk(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else bl(e,11)}else if((n.J||e.g==n)&&sy(e),!ty(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.T=c[0],c=c[1],e.G==2)if(c[0]=="c"){e.I=c[1],e.ka=c[2];const u=c[3];u!=null&&(e.ma=u,e.j.info("VER="+e.ma));const h=c[4];h!=null&&(e.Ca=h,e.j.info("SVER="+e.Ca));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,e.J=i,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const p=n.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=i.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(RS(s,s.h),s.h=null))}if(i.D){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,Pn(i.F,i.D,g))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms")),i=e;var o=n;if(i.sa=Jk(i,i.H?i.ka:null,i.V),o.J){kk(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(H_(a),Ld(a)),i.g=o}else qk(i);0<e.i.length&&q_(e)}else c[0]!="stop"&&c[0]!="close"||bl(e,7);else e.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?bl(e,7):kS(e):c[0]!="noop"&&e.l&&e.l.wa(c),e.A=0)}}rd(4)}catch{}}function Z5(n){if(n.W&&typeof n.W=="function")return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(L_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}t=[],e=0;for(i in n)t[e++]=n[i];return t}function tj(n){if(n.oa&&typeof n.oa=="function")return n.oa();if(!n.W||typeof n.W!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(L_(n)||typeof n=="string"){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}function Ck(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(L_(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var e=tj(n),i=Z5(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}var Ok=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ej(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Cl(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cl){this.h=t!==void 0?t:n.h,iy(this,n.j),this.s=n.s,this.g=n.g,ry(this,n.m),this.l=n.l,t=n.i;var e=new sd;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),RC(this,e),this.o=n.o}else n&&(e=String(n).match(Ok))?(this.h=!!t,iy(this,e[1]||"",!0),this.s=gf(e[2]||""),this.g=gf(e[3]||"",!0),ry(this,e[4]),this.l=gf(e[5]||"",!0),RC(this,e[6]||"",!0),this.o=gf(e[7]||"")):(this.h=!!t,this.i=new sd(null,this.h))}Cl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(yf(t,LC,!0),":");var e=this.g;return(e||t=="file")&&(n.push("//"),(t=this.s)&&n.push(yf(t,LC,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.m,e!=null&&n.push(":",String(e))),(e=this.l)&&(this.g&&e.charAt(0)!="/"&&n.push("/"),n.push(yf(e,e.charAt(0)=="/"?rj:ij,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",yf(e,oj)),n.join("")};function wo(n){return new Cl(n)}function iy(n,t,e){n.j=e?gf(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ry(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function RC(n,t,e){t instanceof sd?(n.i=t,aj(n.i,n.h)):(e||(t=yf(t,sj)),n.i=new sd(t,n.h))}function Pn(n,t,e){n.i.set(t,e)}function $_(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gf(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yf(n,t,e){return typeof n=="string"?(n=encodeURI(n).replace(t,nj),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nj(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var LC=/[#\/\?@]/g,ij=/[#\?:]/g,rj=/[#\?]/g,sj=/[#\?@]/g,oj=/#/g;function sd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ma(n){n.g||(n.g=new Map,n.h=0,n.i&&ej(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}ne=sd.prototype;ne.add=function(n,t){Ma(this),this.i=null,n=sh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this};function Pk(n,t){Ma(n),t=sh(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Dk(n,t){return Ma(n),t=sh(n,t),n.g.has(t)}ne.forEach=function(n,t){Ma(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)};ne.oa=function(){Ma(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e};ne.W=function(n){Ma(this);let t=[];if(typeof n=="string")Dk(this,n)&&(t=t.concat(this.g.get(sh(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t};ne.set=function(n,t){return Ma(this),this.i=null,n=sh(this,n),Dk(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};ne.get=function(n,t){return n?(n=this.W(n),0<n.length?String(n[0]):t):t};function Rk(n,t,e){Pk(n,t),0<e.length&&(n.i=null,n.g.set(sh(n,t),vS(e)),n.h+=e.length)}ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};function sh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function aj(n,t){t&&!n.j&&(Ma(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Pk(this,i),Rk(this,r,e))},n)),n.j=t}var lj=class{constructor(n,t){this.h=n,this.g=t}};function Lk(n){this.l=n||cj,Me.PerformanceNavigationTiming?(n=Me.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Me.g&&Me.g.Ga&&Me.g.Ga()&&Me.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cj=10;function Ik(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function Nk(n){return n.h?1:n.g?n.g.size:0}function Ux(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function RS(n,t){n.g?n.g.add(t):n.h=t}function kk(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}Lk.prototype.cancel=function(){if(this.i=Fk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function Fk(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return vS(n.i)}function LS(){}LS.prototype.stringify=function(n){return Me.JSON.stringify(n,void 0)};LS.prototype.parse=function(n){return Me.JSON.parse(n,void 0)};function uj(){this.g=new LS}function hj(n,t,e){const i=e||"";try{Ck(n,function(r,s){let o=r;Cd(r)&&(o=TS(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function fj(n,t){const e=new B_;if(Me.Image){const i=new Image;i.onload=Bp(Up,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Bp(Up,e,i,"TestLoadImage: error",!1,t),i.onabort=Bp(Up,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Bp(Up,e,i,"TestLoadImage: timeout",!1,t),Me.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}function Up(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Id(n){this.l=n.$b||null,this.j=n.ib||!1}vi(Id,OS);Id.prototype.g=function(){return new W_(this.l,this.j)};Id.prototype.i=function(n){return function(){return n}}({});function W_(n,t){hi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=IS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vi(W_,hi);var IS=0;ne=W_.prototype;ne.open=function(n,t){if(this.readyState!=IS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,od(this)};ne.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Me).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))};ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nd(this)),this.readyState=IS};ne.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bk(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))};function Bk(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}ne.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Nd(this):od(this),this.readyState==3&&Bk(this)}};ne.Ua=function(n){this.g&&(this.response=this.responseText=n,Nd(this))};ne.Ta=function(n){this.g&&(this.response=n,Nd(this))};ne.ga=function(){this.g&&Nd(this)};function Nd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,od(n)}ne.setRequestHeader=function(n,t){this.v.append(n,t)};ne.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};ne.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)e=e.value,n.push(e[0]+": "+e[1]),e=t.next();return n.join(`\r
`)};function od(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(W_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var dj=Me.JSON.parse;function Yn(n){hi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zk,this.K=this.L=!1}vi(Yn,hi);var zk="",pj=/^https?$/i,mj=["POST","PUT"];ne=Yn.prototype;ne.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kx.g(),this.C=this.u?DC(this.u):DC(kx),this.g.onreadystatechange=Oi(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){IC(this,s);return}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())e.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(e.keys()).find(s=>s.toLowerCase()=="content-type"),r=Me.FormData&&n instanceof Me.FormData,!(0<=ek(mj,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hk(this),0<this.B&&((this.K=gj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oi(this.qa,this)):this.A=CS(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){IC(this,s)}};function gj(n){return Du&&L5()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}ne.qa=function(){typeof _S<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))};function IC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Uk(n),G_(n)}function Uk(n){n.D||(n.D=!0,yi(n,"complete"),yi(n,"error"))}ne.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),G_(this))};ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),G_(this,!0)),Yn.X.M.call(this)};ne.Ha=function(){this.s||(this.F||this.v||this.l?Vk(this):this.eb())};ne.eb=function(){Vk(this)};function Vk(n){if(n.h&&typeof _S<"u"&&(!n.C[1]||co(n)!=4||n.aa()!=2)){if(n.v&&co(n)==4)CS(n.Ha,0,n);else if(yi(n,"readystatechange"),co(n)==4){n.h=!1;try{const a=n.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var e;if(!(e=t)){var i;if(i=a===0){var r=String(n.H).match(Ok)[1]||null;if(!r&&Me.self&&Me.self.location){var s=Me.self.location.protocol;r=s.substr(0,s.length-1)}i=!pj.test(r?r.toLowerCase():"")}e=i}if(e)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var o=2<co(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",Uk(n)}}finally{G_(n)}}}}function G_(n,t){if(n.g){Hk(n);const e=n.g,i=n.C[0]?Zg:null;n.g=null,n.C=null,t||yi(n,"ready");try{e.onreadystatechange=i}catch{}}}function Hk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Me.clearTimeout(n.A),n.A=null)}function co(n){return n.g?n.g.readyState:0}ne.aa=function(){try{return 2<co(this)?this.g.status:-1}catch{return-1}};ne.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ne.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),dj(t)}};function NC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}ne.Ea=function(){return this.m};ne.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function $k(n){let t="";return xS(n,function(e,i){t+=i,t+=":",t+=e,t+=`\r
`}),t}function NS(n,t,e){t:{for(i in e){var i=!1;break t}i=!0}i||(e=$k(e),typeof n=="string"?e!=null&&encodeURIComponent(String(e)):Pn(n,t,e))}function jh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Wk(n){this.Ca=0,this.i=[],this.j=new B_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=jh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=jh("baseRetryDelayMs",5e3,n),this.ab=jh("retryDelaySeedMs",1e4,n),this.Za=jh("forwardChannelMaxRetries",2,n),this.ta=jh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Lk(n&&n.concurrentRequestLimit),this.Fa=new uj,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ne=Wk.prototype;ne.ma=8;ne.G=1;function kS(n){if(Gk(n),n.G==3){var t=n.U++,e=wo(n.F);Pn(e,"SID",n.I),Pn(e,"RID",t),Pn(e,"TYPE","terminate"),kd(n,e),t=new Rd(n,n.j,t,void 0),t.K=2,t.v=$_(wo(e)),e=!1,Me.navigator&&Me.navigator.sendBeacon&&(e=Me.navigator.sendBeacon(t.v.toString(),"")),!e&&Me.Image&&(new Image().src=t.v,e=!0),e||(t.g=Zk(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ld(t)}Qk(n)}function j_(n){n.g&&(BS(n),n.g.cancel(),n.g=null)}function Gk(n){j_(n),n.u&&(Me.clearTimeout(n.u),n.u=null),sy(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&Me.clearTimeout(n.m),n.m=null)}function q_(n){Ik(n.h)||n.m||(n.m=!0,dk(n.Ja,n),n.C=0)}function yj(n,t){return Nk(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=t.D.concat(n.i),!0):n.G==1||n.G==2||n.C>=(n.Ya?0:n.Za)?!1:(n.m=Pd(Oi(n.Ja,n,t),Kk(n,n.C)),n.C++,!0)}ne.Ja=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Rd(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=sk(s),ok(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)t:{for(var t=0,e=0;e<this.i.length;e++){e:{var i=this.i[e];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=e;break t}if(t===4096||e===this.i.length-1){t=e+1;break t}}t=1e3}else t=1e3;t=jk(this,r,t),e=wo(this.F),Pn(e,"RID",n),Pn(e,"CVER",22),this.D&&Pn(e,"X-HTTP-Session-Id",this.D),kd(this,e),s&&(this.N?t="headers="+encodeURIComponent(String($k(s)))+"&"+t:this.o&&NS(e,this.o,s)),RS(this.h,r),this.Xa&&Pn(e,"TYPE","init"),this.O?(Pn(e,"$req",t),Pn(e,"SID","null"),r.Z=!0,Bx(r,e,null)):Bx(r,e,t),this.G=2}}else this.G==3&&(n?kC(this,n):this.i.length==0||Ik(this.h)||kC(this))};function kC(n,t){var e;t?e=t.m:e=n.U++;const i=wo(n.F);Pn(i,"SID",n.I),Pn(i,"RID",e),Pn(i,"AID",n.T),kd(n,i),n.o&&n.s&&NS(i,n.o,n.s),e=new Rd(n,n.j,e,n.C+1),n.o===null&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=jk(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),RS(n.h,e),Bx(e,i,t)}function kd(n,t){n.ia&&xS(n.ia,function(e,i){Pn(t,i,e)}),n.l&&Ck({},function(e,i){Pn(t,i,e)})}function jk(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Oi(n.l.Qa,n.l,n):null;t:{var r=n.i;let s=-1;for(;;){const o=["count="+e];s==-1?0<e?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{hj(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return n=n.i.splice(0,e),t.D=n,i}function qk(n){n.g||n.u||(n.Z=1,dk(n.Ia,n),n.A=0)}function FS(n){return n.g||n.u||3<=n.A?!1:(n.Z++,n.u=Pd(Oi(n.Ia,n),Kk(n,n.A)),n.A++,!0)}ne.Ia=function(){if(this.u=null,Yk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Pd(Oi(this.cb,this),n)}};ne.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Hi(10),j_(this),Yk(this))};function BS(n){n.B!=null&&(Me.clearTimeout(n.B),n.B=null)}function Yk(n){n.g=new Rd(n,n.j,"rpc",n.Z),n.o===null&&(n.g.H=n.s),n.g.N=0;var t=wo(n.sa);Pn(t,"RID","rpc"),Pn(t,"SID",n.I),Pn(t,"CI",n.L?"0":"1"),Pn(t,"AID",n.T),Pn(t,"TYPE","xmlhttp"),kd(n,t),n.o&&n.s&&NS(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=$_(wo(t)),e.s=null,e.P=!0,Sk(e,n)}ne.bb=function(){this.v!=null&&(this.v=null,j_(this),FS(this),Hi(19))};function sy(n){n.v!=null&&(Me.clearTimeout(n.v),n.v=null)}function Xk(n,t){var e=null;if(n.g==t){sy(n),BS(n),n.g=null;var i=2}else if(Ux(n.h,t))e=t.D,kk(n.h,t),i=1;else return;if(n.G!=0){if(n.pa=t.Y,t.i)if(i==1){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;i=z_(),yi(i,new bk(i,e)),q_(n)}else qk(n);else if(r=t.o,r==3||r==0&&0<n.pa||!(i==1&&yj(n,t)||i==2&&FS(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:bl(n,5);break;case 4:bl(n,10);break;case 3:bl(n,6);break;default:bl(n,2)}}}function Kk(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function bl(n,t){if(n.j.info("Error code "+t),t==2){var e=null;n.l&&(e=null);var i=Oi(n.jb,n);e||(e=new Cl("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||iy(e,"https"),$_(e)),fj(e.toString(),i)}else Hi(2);n.G=0,n.l&&n.l.va(t),Qk(n),Gk(n)}ne.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Hi(2)):(this.j.info("Failed to ping google.com"),Hi(1))};function Qk(n){if(n.G=0,n.la=[],n.l){const t=Fk(n.h);(t.length!=0||n.i.length!=0)&&(MC(n.la,t),MC(n.la,n.i),n.h.i.length=0,vS(n.i),n.i.length=0),n.l.ua()}}function Jk(n,t,e){var i=e instanceof Cl?wo(e):new Cl(e,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),ry(i,i.m);else{var r=Me.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Cl(null,void 0);i&&iy(s,i),t&&(s.g=t),r&&ry(s,r),e&&(s.l=e),i=s}return e=n.D,t=n.za,e&&t&&Pn(i,e,t),Pn(i,"VER",n.ma),kd(n,i),i}function Zk(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=e&&n.Da&&!n.ra?new Yn(new Id({ib:!0})):new Yn(n.ra),t.L=n.H,t}function t2(){}ne=t2.prototype;ne.xa=function(){};ne.wa=function(){};ne.va=function(){};ne.ua=function(){};ne.Qa=function(){};function oy(){if(Du&&!(10<=Number(I5)))throw Error("Environmental error: no available transport.")}oy.prototype.g=function(n,t){return new gr(n,t)};function gr(n,t){hi.call(this),this.g=new Wk(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!ty(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ty(t)&&(this.g.D=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new oh(this)}vi(gr,hi);gr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Hi(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Jk(n,null,n.V),q_(n)};gr.prototype.close=function(){kS(this.g)};gr.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var e={};e.__data__=n,n=e}else this.v&&(e={},e.__data__=TS(n),n=e);t.i.push(new lj(t.$a++,n)),t.G==3&&q_(t)};gr.prototype.M=function(){this.g.l=null,delete this.j,kS(this.g),delete this.g,gr.X.M.call(this)};function e2(n){PS.call(this);var t=n.__sm__;if(t){t:{for(const e in t){n=e;break t}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}vi(e2,PS);function n2(){DS.call(this),this.status=1}vi(n2,DS);function oh(n){this.g=n}vi(oh,t2);oh.prototype.xa=function(){yi(this.g,"a")};oh.prototype.wa=function(n){yi(this.g,new e2(n))};oh.prototype.va=function(n){yi(this.g,new n2)};oh.prototype.ua=function(){yi(this.g,"b")};oy.prototype.createWebChannel=oy.prototype.g;gr.prototype.send=gr.prototype.u;gr.prototype.open=gr.prototype.m;gr.prototype.close=gr.prototype.close;U_.NO_ERROR=0;U_.TIMEOUT=8;U_.HTTP_ERROR=6;xk.COMPLETE="complete";wk.EventType=Dd;Dd.OPEN="a";Dd.CLOSE="b";Dd.ERROR="c";Dd.MESSAGE="d";hi.prototype.listen=hi.prototype.N;Yn.prototype.listenOnce=Yn.prototype.O;Yn.prototype.getLastError=Yn.prototype.Na;Yn.prototype.getLastErrorCode=Yn.prototype.Ea;Yn.prototype.getStatus=Yn.prototype.aa;Yn.prototype.getResponseJson=Yn.prototype.Ra;Yn.prototype.getResponseText=Yn.prototype.fa;Yn.prototype.send=Yn.prototype.da;var _j=function(){return new oy},vj=function(){return z_()},Ub=U_,bj=xk,xj=Kl,FC={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wj=Id,Vp=wk,Ej=Yn;const BC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah="9.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new XN("@firebase/firestore");function zC(){return Bl.logLevel}function oe(n,...t){if(Bl.logLevel<=nn.DEBUG){const e=t.map(zS);Bl.debug(`Firestore (${ah}): ${n}`,...e)}}function Eo(n,...t){if(Bl.logLevel<=nn.ERROR){const e=t.map(zS);Bl.error(`Firestore (${ah}): ${n}`,...e)}}function UC(n,...t){if(Bl.logLevel<=nn.WARN){const e=t.map(zS);Bl.warn(`Firestore (${ah}): ${n}`,...e)}}function zS(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n="Unexpected state"){const t=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+n;throw Eo(t),new Error(t)}function vn(n,t){n||Oe()}function De(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends rh{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Zi.UNAUTHENTICATED))}shutdown(){}}class Tj{constructor(t){this.t=t,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let i=this.i;const r=l=>this.i!==i?(i=this.i,e(l)):Promise.resolve();let s=new po;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new po,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new po)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn(typeof i.accessToken=="string"),new Sj(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vn(t===null||typeof t=="string"),new Zi(t)}}class Aj{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vn(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Cj{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new Aj(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oj{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pj{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(vn(typeof e.token=="string"),this.A=e.token,new Oj(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Dj(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function rn(n,t){return n<t?-1:n>t?1:0}function Ru(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ee(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ee(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ee(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ee(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Zn.fromMillis(Date.now())}static fromDate(t){return Zn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Zn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?rn(this.nanoseconds,t.nanoseconds):rn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new $e(t)}static min(){return new $e(new Zn(0,0))}static max(){return new $e(new Zn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,e,i){e===void 0?e=0:e>t.length&&Oe(),i===void 0?i=t.length-e:i>t.length-e&&Oe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ad.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ad?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Sn extends ad{construct(t,e,i){return new Sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ee(It.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Sn(e)}static emptyPath(){return new Sn([])}}const Rj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends ad{construct(t,e,i){return new Ai(t,e,i)}static isValidIdentifier(t){return Rj.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ai(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ee(It.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new ee(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ee(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(e)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.path=t}static fromPath(t){return new ue(Sn.fromString(t))}static fromName(t){return new ue(Sn.fromString(t).popFirst(5))}static empty(){return new ue(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Sn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ue(new Sn(t.slice()))}}function Lj(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=$e.fromTimestamp(i===1e9?new Zn(e+1,0):new Zn(e,i));return new pa(r,ue.empty(),t)}function Ij(n){return new pa(n.readTime,n.key,-1)}class pa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new pa($e.min(),ue.empty(),-1)}static max(){return new pa($e.max(),ue.empty(),-1)}}function Nj(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ue.comparator(n.documentKey,t.documentKey),e!==0?e:rn(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(n){if(n.code!==It.FAILED_PRECONDITION||n.message!==kj)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new zt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof zt?e:zt.resolve(e)}catch(e){return zt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):zt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):zt.reject(e)}static resolve(t){return new zt((e,i)=>{e(t)})}static reject(t){return new zt((e,i)=>{i(t)})}static waitFor(t){return new zt((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=zt.resolve(!1);for(const i of t)e=e.next(r=>r?zt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new zt((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new zt((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function Bd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ql(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function r2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */US.at=-1;class ni{constructor(t,e){this.comparator=t,this.root=e||pi.EMPTY}insert(t,e){return new ni(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(t){return new ni(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hp(this.root,t,this.comparator,!0)}}class Hp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pi{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i!=null?i:pi.RED,this.left=r!=null?r:pi.EMPTY,this.right=s!=null?s:pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new pi(t!=null?t:this.key,e!=null?e:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return pi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const t=this.left.check();if(t!==this.right.check())throw Oe();return t+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(n,t,e,i,r){return this}insert(n,t,e){return new pi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.comparator=t,this.data=new ni(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new HC(this.data.getIterator())}getIteratorFrom(t){return new HC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ti)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ti(this.comparator);return e.data=t,e}}class HC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new Pr([])}unionWith(t){let e=new ti(Ai.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Pr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ru(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new _i(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new _i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const Bj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(n){if(vn(!!n),typeof n=="string"){let t=0;const e=Bj.exec(n);if(vn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lu(n){return typeof n=="string"?_i.fromBase64String(n):_i.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function o2(n){const t=n.mapValue.fields.__previous_value__;return s2(t)?o2(t):t}function ld(n){const t=ma(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t,e,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class cd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof cd&&t.projectId===this.projectId&&t.database===this.database}}function Y_(n){return n==null}function ay(n){return n===0&&1/n==-1/0}function Uj(n){return typeof n=="number"&&Number.isInteger(n)&&!ay(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?s2(n)?4:Vj(n)?9007199254740991:10:Oe()}function zs(n,t){if(n===t)return!0;const e=zl(n);if(e!==zl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ld(n).isEqual(ld(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ma(i.timestampValue),o=ma(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,r){return Lu(i.bytesValue).isEqual(Lu(r.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Gn(i.geoPointValue.latitude)===Gn(r.geoPointValue.latitude)&&Gn(i.geoPointValue.longitude)===Gn(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Gn(i.integerValue)===Gn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Gn(i.doubleValue),o=Gn(r.doubleValue);return s===o?ay(s)===ay(o):isNaN(s)&&isNaN(o)}return!1}(n,t);case 9:return Ru(n.arrayValue.values||[],t.arrayValue.values||[],zs);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(VC(s)!==VC(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!zs(s[a],o[a])))return!1;return!0}(n,t);default:return Oe()}}function ud(n,t){return(n.values||[]).find(e=>zs(e,t))!==void 0}function Iu(n,t){if(n===t)return 0;const e=zl(n),i=zl(t);if(e!==i)return rn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const o=Gn(r.integerValue||r.doubleValue),a=Gn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,t);case 3:return $C(n.timestampValue,t.timestampValue);case 4:return $C(ld(n),ld(t));case 5:return rn(n.stringValue,t.stringValue);case 6:return function(r,s){const o=Lu(r),a=Lu(s);return o.compareTo(a)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=rn(o[l],a[l]);if(c!==0)return c}return rn(o.length,a.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const o=rn(Gn(r.latitude),Gn(s.latitude));return o!==0?o:rn(Gn(r.longitude),Gn(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Iu(o[l],a[l]);if(c)return c}return rn(o.length,a.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===$p.mapValue&&s===$p.mapValue)return 0;if(r===$p.mapValue)return 1;if(s===$p.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=rn(a[u],c[u]);if(h!==0)return h;const f=Iu(o[a[u]],l[c[u]]);if(f!==0)return f}return rn(a.length,c.length)}(n.mapValue,t.mapValue);default:throw Oe()}}function $C(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return rn(n,t);const e=ma(n),i=ma(t),r=rn(e.seconds,i.seconds);return r!==0?r:rn(e.nanos,i.nanos)}function bu(n){return Vx(n)}function Vx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ma(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lu(n.bytesValue).toBase64():"referenceValue"in n?(e=n.referenceValue,ue.fromName(e).toString()):"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Vx(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Vx(i.fields[a])}`;return s+"}"}(n.mapValue):Oe();var t,e}function WC(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Hx(n){return!!n&&"integerValue"in n}function VS(n){return!!n&&"arrayValue"in n}function GC(n){return!!n&&"nullValue"in n}function jC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qm(n){return!!n&&"mapValue"in n}function Df(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ql(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Df(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Df(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Vj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.value=t}static empty(){return new nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Qm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Df(e)}setAll(t){let e=Ai.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Df(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Qm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Qm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ql(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new nr(Df(this.value))}}function a2(n){const t=[];return Ql(n.fields,(e,i)=>{const r=new Ai([e]);if(Qm(i)){const s=a2(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Pr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,e,i,r,s,o){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new mi(t,0,$e.min(),$e.min(),nr.empty(),0)}static newFoundDocument(t,e,i){return new mi(t,1,e,$e.min(),i,0)}static newNoDocument(t,e){return new mi(t,2,e,$e.min(),nr.empty(),0)}static newUnknownDocument(t,e){return new mi(t,3,e,$e.min(),nr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function qC(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Hj(n,t,e,i,r,s,o)}function HS(n){const t=De(n);if(t.ht===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+bu(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Y_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>bu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>bu(i)).join(",")),t.ht=e}return t.ht}function $j(n){let t=n.path.canonicalString();return n.collectionGroup!==null&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${bu(i.value)}`;var i}).join(", ")}]`),Y_(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(e)).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>bu(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>bu(e)).join(",")),`Target(${t})`}function $S(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Qj(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(e=n.filters[r],i=t.filters[r],e.op!==i.op||!e.field.isEqual(i.field)||!zs(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XC(n.startAt,t.startAt)&&XC(n.endAt,t.endAt)}function $x(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class $i extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.lt(t,e,i):new Wj(t,e,i):e==="array-contains"?new qj(t,i):e==="in"?new Yj(t,i):e==="not-in"?new Xj(t,i):e==="array-contains-any"?new Kj(t,i):new $i(t,e,i)}static lt(t,e,i){return e==="in"?new Gj(t,i):new jj(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.ft(Iu(e,this.value)):e!==null&&zl(this.value)===zl(e)&&this.ft(Iu(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Oe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wj extends $i{constructor(t,e,i){super(t,e,i),this.key=ue.fromName(i.referenceValue)}matches(t){const e=ue.comparator(t.key,this.key);return this.ft(e)}}class Gj extends $i{constructor(t,e){super(t,"in",e),this.keys=l2("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class jj extends $i{constructor(t,e){super(t,"not-in",e),this.keys=l2("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function l2(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>ue.fromName(i.referenceValue))}class qj extends $i{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return VS(e)&&ud(e.arrayValue,this.value)}}class Yj extends $i{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ud(this.value.arrayValue,e)}}class Xj extends $i{constructor(t,e){super(t,"not-in",e)}matches(t){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!ud(this.value.arrayValue,e)}}class Kj extends $i{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!VS(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ud(this.value.arrayValue,i))}}class ly{constructor(t,e){this.position=t,this.inclusive=e}}class Rf{constructor(t,e="asc"){this.field=t,this.dir=e}}function Qj(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function YC(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=ue.comparator(ue.fromName(o.referenceValue),e.key):i=Iu(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function XC(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!zs(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function Jj(n,t,e,i,r,s,o,a){return new zd(n,t,e,i,r,s,o,a)}function WS(n){return new zd(n)}function KC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c2(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function u2(n){for(const t of n.filters)if(t.dt())return t.field;return null}function h2(n){return n.collectionGroup!==null}function hd(n){const t=De(n);if(t._t===null){t._t=[];const e=u2(t),i=c2(t);if(e!==null&&i===null)e.isKeyField()||t._t.push(new Rf(e)),t._t.push(new Rf(Ai.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Rf(Ai.keyField(),s))}}}return t._t}function So(n){const t=De(n);if(!t.wt)if(t.limitType==="F")t.wt=qC(t.path,t.collectionGroup,hd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of hd(t)){const o=s.dir==="desc"?"asc":"desc";e.push(new Rf(s.field,o))}const i=t.endAt?new ly(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ly(t.startAt.position,t.startAt.inclusive):null;t.wt=qC(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Wx(n,t,e){return new zd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function X_(n,t){return $S(So(n),So(t))&&n.limitType===t.limitType}function f2(n){return`${HS(So(n))}|lt:${n.limitType}`}function Gx(n){return`Query(target=${$j(So(n))}; limitType=${n.limitType})`}function GS(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return e.collectionGroup!==null?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ue.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&function(e,i){return!(e.startAt&&!function(r,s,o){const a=YC(r,s,o);return r.inclusive?a<=0:a<0}(e.startAt,hd(e),i)||e.endAt&&!function(r,s,o){const a=YC(r,s,o);return r.inclusive?a>=0:a>0}(e.endAt,hd(e),i))}(n,t)}function Zj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d2(n){return(t,e)=>{let i=!1;for(const r of hd(n)){const s=t6(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function t6(n,t,e){const i=n.field.isKeyField()?ue.comparator(t.key,e.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Iu(a,l):Oe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ay(t)?"-0":t}}function m2(n){return{integerValue:""+n}}function e6(n,t){return Uj(t)?m2(t):p2(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this._=void 0}}function n6(n,t,e){return n instanceof cy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Nu?y2(n,t):n instanceof fd?_2(n,t):function(i,r){const s=g2(i,r),o=QC(s)+QC(i.yt);return Hx(s)&&Hx(i.yt)?m2(o):p2(i.It,o)}(n,t)}function i6(n,t,e){return n instanceof Nu?y2(n,t):n instanceof fd?_2(n,t):e}function g2(n,t){return n instanceof uy?Hx(e=t)||function(i){return!!i&&"doubleValue"in i}(e)?t:{integerValue:0}:null;var e}class cy extends K_{}class Nu extends K_{constructor(t){super(),this.elements=t}}function y2(n,t){const e=v2(t);for(const i of n.elements)e.some(r=>zs(r,i))||e.push(i);return{arrayValue:{values:e}}}class fd extends K_{constructor(t){super(),this.elements=t}}function _2(n,t){let e=v2(t);for(const i of n.elements)e=e.filter(r=>!zs(r,i));return{arrayValue:{values:e}}}class uy extends K_{constructor(t,e){super(),this.It=t,this.yt=e}}function QC(n){return Gn(n.integerValue||n.doubleValue)}function v2(n){return VS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,e){this.field=t,this.transform=e}}function s6(n,t){return n.field.isEqual(t.field)&&function(e,i){return e instanceof Nu&&i instanceof Nu||e instanceof fd&&i instanceof fd?Ru(e.elements,i.elements,zs):e instanceof uy&&i instanceof uy?zs(e.yt,i.yt):e instanceof cy&&i instanceof cy}(n.transform,t.transform)}class o6{constructor(t,e){this.version=t,this.transformResults=e}}class is{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new is}static exists(t){return new is(void 0,t)}static updateTime(t){return new is(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Q_{}function b2(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new jS(n.key,is.none()):new Ud(n.key,n.data,is.none());{const e=n.data,i=nr.empty();let r=new ti(Ai.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ta(n.key,i,new Pr(r.toArray()),is.none())}}function a6(n,t,e){n instanceof Ud?function(i,r,s){const o=i.value.clone(),a=ZC(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,t,e):n instanceof Ta?function(i,r,s){if(!Jm(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=ZC(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(x2(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,e)}function Lf(n,t,e,i){return n instanceof Ud?function(r,s,o,a){if(!Jm(r.precondition,s))return o;const l=r.value.clone(),c=tO(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ta?function(r,s,o,a){if(!Jm(r.precondition,s))return o;const l=tO(r.fieldTransforms,a,s),c=s.data;return c.setAll(x2(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,t,e,i):function(r,s,o){return Jm(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(n,t,e)}function l6(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=g2(i.transform,r||null);s!=null&&(e===null&&(e=nr.empty()),e.set(i.field,s))}return e||null}function JC(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(e,i){return e===void 0&&i===void 0||!(!e||!i)&&Ru(e,i,(r,s)=>s6(r,s))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ud extends Q_{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ta extends Q_{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function x2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ZC(n,t,e){const i=new Map;vn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,i6(o,a,e[r]))}return i}function tO(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,n6(s,o,t))}return i}class jS extends Q_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c6 extends Q_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,Xe;function h6(n){switch(n){default:return Oe();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0}}function w2(n){if(n===void 0)return Eo("GRPC error has no .code"),It.UNKNOWN;switch(n){case Wn.OK:return It.OK;case Wn.CANCELLED:return It.CANCELLED;case Wn.UNKNOWN:return It.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return It.INTERNAL;case Wn.UNAVAILABLE:return It.UNAVAILABLE;case Wn.UNAUTHENTICATED:return It.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case Wn.NOT_FOUND:return It.NOT_FOUND;case Wn.ALREADY_EXISTS:return It.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return It.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case Wn.ABORTED:return It.ABORTED;case Wn.OUT_OF_RANGE:return It.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return It.UNIMPLEMENTED;case Wn.DATA_LOSS:return It.DATA_LOSS;default:return Oe()}}(Xe=Wn||(Wn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ql(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return r2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new ni(ue.comparator);function Mo(){return f6}const E2=new ni(ue.comparator);function _f(...n){let t=E2;for(const e of n)t=t.insert(e.key,e);return t}function S2(n){let t=E2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function xl(){return If()}function M2(){return If()}function If(){return new lh(n=>n.toString(),(n,t)=>n.isEqual(t))}const d6=new ni(ue.comparator),p6=new ti(ue.comparator);function Ge(...n){let t=p6;for(const e of n)t=t.add(e);return t}const m6=new ti(rn);function T2(){return m6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Vd.createSynthesizedTargetChangeForCurrentChange(t,e)),new J_($e.min(),i,T2(),Mo(),Ge())}}class Vd{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Vd(_i.EMPTY_BYTE_STRING,e,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class A2{constructor(t,e){this.targetId=t,this.At=e}}class C2{constructor(t,e,i=_i.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class eO{constructor(){this.Rt=0,this.bt=iO(),this.Pt=_i.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Ge(),e=Ge(),i=Ge();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Oe()}}),new Vd(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=iO()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class g6{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Mo(),this.qt=nO(),this.Kt=new ti(rn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:Oe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if($x(s))if(i===0){const o=new ue(s.path);this.jt(e,o,mi.newNoDocument(o,$e.min()))}else vn(i===1);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&$x(a.target)){const l=new ue(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,mi.newNoDocument(l,t))}s.Dt&&(e.set(o,s.xt()),s.Nt())}});let i=Ge();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(t));const r=new J_(t,e,this.Kt,this.Ut,i);return this.Ut=Mo(),this.qt=nO(),this.Kt=new ti(rn),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new eO,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new ti(rn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=this.Xt(t)!==null;return e||oe("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new eO),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function nO(){return new ni(ue.comparator)}function iO(){return new ni(ue.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class v6{constructor(t,e){this.databaseId=t,this.gt=e}}function hy(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function O2(n,t){return n.gt?t.toBase64():t.toUint8Array()}function b6(n,t){return hy(n,t.toTimestamp())}function mo(n){return vn(!!n),$e.fromTimestamp(function(t){const e=ma(t);return new Zn(e.seconds,e.nanos)}(n))}function qS(n,t){return function(e){return new Sn(["projects",e.projectId,"databases",e.database])}(n).child("documents").child(t).canonicalString()}function P2(n){const t=Sn.fromString(n);return vn(L2(t)),t}function jx(n,t){return qS(n.databaseId,t.path)}function Vb(n,t){const e=P2(t);if(e.get(1)!==n.databaseId.projectId)throw new ee(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ee(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ue(D2(e))}function qx(n,t){return qS(n.databaseId,t)}function x6(n){const t=P2(n);return t.length===4?Sn.emptyPath():D2(t)}function Yx(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function D2(n){return vn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rO(n,t,e){return{name:jx(n,t),fields:e.value.mapValue.fields}}function w6(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Oe()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(l,c){return l.gt?(vn(c===void 0||typeof c=="string"),_i.fromBase64String(c||"")):(vn(c===void 0||c instanceof Uint8Array),_i.fromUint8Array(c||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?It.UNKNOWN:w2(l.code);return new ee(c,l.message||"")}(o);e=new C2(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vb(n,i.document.name),s=mo(i.document.updateTime),o=new nr({mapValue:{fields:i.document.fields}}),a=mi.newFoundDocument(r,s,o),l=i.targetIds||[],c=i.removedTargetIds||[];e=new Zm(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Vb(n,i.document),s=i.readTime?mo(i.readTime):$e.min(),o=mi.newNoDocument(r,s),a=i.removedTargetIds||[];e=new Zm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Vb(n,i.document),s=i.removedTargetIds||[];e=new Zm([],s,r,null)}else{if(!("filter"in t))return Oe();{t.filter;const i=t.filter;i.targetId;const r=i.count||0,s=new u6(r),o=i.targetId;e=new A2(o,s)}}return e}function E6(n,t){let e;if(t instanceof Ud)e={update:rO(n,t.key,t.value)};else if(t instanceof jS)e={delete:jx(n,t.key)};else if(t instanceof Ta)e={update:rO(n,t.key,t.data),updateMask:L6(t.fieldMask)};else{if(!(t instanceof c6))return Oe();e={verify:jx(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof cy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Nu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof fd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uy)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw Oe()}(0,i))),t.precondition.isNone||(e.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:b6(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Oe()}(n,t.precondition)),e}function S6(n,t){return n&&n.length>0?(vn(t!==void 0),n.map(e=>function(i,r){let s=i.updateTime?mo(i.updateTime):mo(r);return s.isEqual($e.min())&&(s=mo(r)),new o6(s,i.transformResults||[])}(e,t))):[]}function M6(n,t){return{documents:[qx(n,t.path)]}}function T6(n,t){const e={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(e.parent=qx(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=qx(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(jC(h.value))return{unaryFilter:{field:Pc(h.field),op:"IS_NAN"}};if(GC(h.value))return{unaryFilter:{field:Pc(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(jC(h.value))return{unaryFilter:{field:Pc(h.field),op:"IS_NOT_NAN"}};if(GC(h.value))return{unaryFilter:{field:Pc(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(h.field),op:P6(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Pc(u.field),direction:O6(u.dir)}}(c))}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=function(l,c){return l.gt||Y_(c)?c:{value:c}}(n,t.limit);var a;return o!==null&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e}function A6(n){let t=x6(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){vn(i===1);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=R2(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(u=>function(h){return new Rf(ou(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;e.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Y_(h)?null:h}(e.limit));let l=null;e.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new ly(f,h)}(e.startAt));let c=null;return e.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new ly(f,h)}(e.endAt)),Jj(t,r,o,s,a,"F",l,c)}function C6(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oe()}}(0,t.purpose);return e==null?null:{"goog-listen-tags":e}}function R2(n){return n?n.unaryFilter!==void 0?[R6(n)]:n.fieldFilter!==void 0?[D6(n)]:n.compositeFilter!==void 0?n.compositeFilter.filters.map(t=>R2(t)).reduce((t,e)=>t.concat(e)):Oe():[]}function O6(n){return y6[n]}function P6(n){return _6[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function ou(n){return Ai.fromServerFormat(n.fieldPath)}function D6(n){return $i.create(ou(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}function R6(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ou(n.unaryFilter.field);return $i.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ou(n.unaryFilter.field);return $i.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ou(n.unaryFilter.field);return $i.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ou(n.unaryFilter.field);return $i.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}function L6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function L2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&a6(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Lf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Lf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=M2();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=b2(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument($e.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ge())}isEqual(t){return this.batchId===t.batchId&&Ru(this.mutations,t.mutations,(e,i)=>JC(e,i))&&Ru(this.baseMutations,t.baseMutations,(e,i)=>JC(e,i))}}class YS{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){vn(t.mutations.length===i.length);let r=d6;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new YS(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,e,i,r,s=$e.min(),o=$e.min(),a=_i.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Ol(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t){this.re=t}}function F6(n){const t=A6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wx(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.Ye=new z6}addToCollectionParentIndex(t,e){return this.Ye.add(e),zt.resolve()}getCollectionParents(t,e){return zt.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return zt.resolve()}deleteFieldIndex(t,e){return zt.resolve()}getDocumentsMatchingTarget(t,e){return zt.resolve(null)}getIndexType(t,e){return zt.resolve(0)}getFieldIndexes(t,e){return zt.resolve([])}getNextCollectionGroupToUpdate(t){return zt.resolve(null)}getMinOffset(t,e){return zt.resolve(pa.min())}getMinOffsetFromCollectionGroup(t,e){return zt.resolve(pa.min())}updateCollectionGroup(t,e,i){return zt.resolve()}updateIndexEntries(t,e){return zt.resolve()}}class z6{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ti(Sn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ti(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new ku(0)}static vn(){return new ku(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.changes=new lh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,mi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?zt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(i!==null&&Lf(i.mutation,r,Pr.empty(),Zn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ge()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ge()){const r=xl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=_f();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=xl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ge()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=Mo();const o=If(),a=If();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Ta)?s=s.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),Lf(u.mutation,c,u.mutation.getFieldMask(),Zn.now()))}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var h;return a.set(c,new V6(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,e){const i=If();let r=new ni((o,a)=>o-a),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(c===null)return;let u=i.get(l)||Pr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||Ge()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=M2();u.forEach(f=>{if(!s.has(f)){const p=b2(e.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return zt.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return function(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):h2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):zt.resolve(xl());let a=-1,l=s;return o.next(c=>zt.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?zt.resolve():this.getBaseDocument(t,u,h).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ge())).next(u=>({batchId:a,changes:S2(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ue(e)).next(i=>{let r=_f();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=_f();return this.indexManager.getCollectionParents(t,r).next(o=>zt.forEach(o,a=>{const l=function(c,u){return new zd(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e,a.child(r));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,mi.newInvalidDocument(c)))});let o=_f();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Lf(c.mutation,l,Pr.empty(),Zn.now()),GS(e,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(t,e,i){return i===null||i.mutation.type===1?this.remoteDocumentCache.getEntry(t,e):zt.resolve(mi.newInvalidDocument(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return zt.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:mo(i.createTime)}),zt.resolve()}getNamedQuery(t,e){return zt.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(i){return{name:i.name,query:F6(i.bundledQuery),readTime:mo(i.readTime)}}(e)),zt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.overlays=new ni(ue.comparator),this.es=new Map}getOverlay(t,e){return zt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=xl();return zt.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),zt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),zt.resolve()}getOverlaysForCollection(t,e,i){const r=xl(),s=e.length+1,o=new ue(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return zt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ni((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=xl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=xl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return zt.resolve(a)}ue(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new N6(e,i));let s=this.es.get(e);s===void 0&&(s=Ge(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.ns=new ti(si.ss),this.rs=new ti(si.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new si(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new si(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new ue(new Sn([])),i=new si(e,t),r=new si(e,t+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new ue(new Sn([])),i=new si(e,t),r=new si(e,t+1);let s=Ge();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new si(t,0),i=this.ns.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class si{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return ue.comparator(t.key,e.key)||rn(t._s,e._s)}static os(t,e){return rn(t._s,e._s)||ue.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new ti(si.ss)}checkEmpty(t){return zt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new I6(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new si(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return zt.resolve(o)}lookupMutationBatch(t,e){return zt.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ps(i),s=r<0?0:r;return zt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return zt.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return zt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new si(e,0),r=new si(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),zt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ti(rn);return e.forEach(r=>{const s=new si(r,0),o=new si(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),zt.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;ue.isDocumentKey(s)||(s=s.child(""));const o=new si(new ue(s),0);let a=new ti(rn);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l._s)),!0)},o),zt.resolve(this.Is(a))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){vn(this.Ts(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return zt.forEach(e.mutations,r=>{const s=new si(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new si(e,0),r=this.gs.firstAfterOrEqual(i);return zt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,zt.resolve()}Ts(t,e){return this.ps(t)}ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(t){this.Es=t,this.docs=new ni(ue.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return zt.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(e))}getEntries(t,e){let i=Mo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mi.newInvalidDocument(r))}),zt.resolve(i)}getAllFromCollection(t,e,i){let r=Mo();const s=new ue(e.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!e.isPrefixOf(a.path))break;a.path.length>e.length+1||Nj(Ij(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return zt.resolve(r)}getAllFromCollectionGroup(t,e,i,r){Oe()}As(t,e){return zt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new q6(this)}getSize(t){return zt.resolve(this.size)}}class q6 extends U6{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),zt.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t){this.persistence=t,this.Rs=new lh(e=>HS(e),$S),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.bs=0,this.Ps=new XS,this.targetCount=0,this.vs=ku.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),zt.resolve()}getLastRemoteSnapshotVersion(t){return zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return zt.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),zt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),zt.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new ku(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,zt.resolve()}updateTargetData(t,e){return this.Dn(e),zt.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,zt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),zt.waitFor(s).next(()=>r)}getTargetCount(t){return zt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return zt.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),zt.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),zt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),zt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return zt.resolve(i)}containsKey(t,e){return zt.resolve(this.Ps.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new US(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Y6(this),this.indexManager=new B6,this.remoteDocumentCache=function(i){return new j6(i)}(i=>this.referenceDelegate.xs(i)),this.It=new k6(e),this.Ns=new $6(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new W6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new G6(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){oe("MemoryPersistence","Starting transaction:",t);const r=new K6(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return zt.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class K6 extends Fj{constructor(t){super(),this.currentSequenceNumber=t}}class KS{constructor(t){this.persistence=t,this.Fs=new XS,this.$s=null}static Bs(t){return new KS(t)}get Ls(){if(this.$s)return this.$s;throw Oe()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),zt.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),zt.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),zt.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.Ls,i=>{const r=ue.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,$e.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return zt.or([()=>zt.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Ge(),r=Ge();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new QS(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Mi(t,e,r,i)).next(s=>s||this.Oi(t,e))}ki(t,e){if(KC(e))return zt.resolve(null);let i=So(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Wx(e,null,"F"),i=So(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ge(...s);return this.Ni.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Fi(e,a);return this.$i(e,c,o,l.readTime)?this.ki(t,Wx(e,null,"F")):this.Bi(t,c,e,l)}))})))}Mi(t,e,i,r){return KC(e)||r.isEqual($e.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(s=>{const o=this.Fi(e,s);return this.$i(e,o,i,r)?this.Oi(t,e):(zC()<=nn.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gx(e)),this.Bi(t,o,e,Lj(r,-1)))})}Fi(t,e){let i=new ti(d2(t));return e.forEach((r,s)=>{GS(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return zC()<=nn.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Gx(e)),this.Ni.getDocumentsMatchingQuery(t,e,pa.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new ni(rn),this.qi=new lh(s=>HS(s),$S),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new H6(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function Z6(n,t,e,i){return new J6(n,t,e,i)}async function I2(n,t){const e=De(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ge();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function t8(n,t){const e=De(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=zt.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const g=l.docVersions.get(p);vn(g!==null),m.version.compareTo(g)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=Ge();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function N2(n){const t=De(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function e8(n,t){const e=De(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const a=[];t.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(e.Cs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>e.Cs.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(h)?p=p.withResumeToken(_i.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,u)&&a.push(e.Cs.updateTargetData(s,p))});let l=Mo(),c=Ge();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(n8(s,o,t.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!i.isEqual($e.min())){const u=e.Cs.getLastRemoteSnapshotVersion(s).next(h=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return zt.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.Ui=r,s))}function n8(n,t,e){let i=Ge(),r=Ge();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=Mo();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual($e.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function i8(n,t){const e=De(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function r8(n,t){const e=De(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,zt.resolve(r)):e.Cs.allocateTargetId(i).next(o=>(r=new Ol(t,o,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}async function Xx(n,t,e){const i=De(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Bd(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}function sO(n,t,e){const i=De(n);let r=$e.min(),s=Ge();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=De(a),h=u.qi.get(c);return h!==void 0?zt.resolve(u.Ui.get(h)):u.Cs.getTargetData(l,c)}(i,o,So(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,t,e?r:$e.min(),e?s:Ge())).next(a=>(s8(i,Zj(t),a),{documents:a,Hi:s})))}function s8(n,t,e){let i=$e.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}class oO{constructor(){this.activeTargetIds=T2()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class o8{constructor(){this.Lr=new oO,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new oO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const o=this.ao(t,e);oe("RestConnection","Sending: ",o,i);const a={};return this.ho(a,r,s),this.lo(t,o,a,i).then(l=>(oe("RestConnection","Received: ",l),l),l=>{throw UC("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",i),l})}fo(t,e,i,r,s,o){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){const i=l8[t];return`${this.oo}/v1/${e}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((s,o)=>{const a=new Ej;a.listenOnce(bj.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ub.NO_ERROR:const c=a.getResponseJson();oe("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Ub.TIMEOUT:oe("Connection",'RPC "'+t+'" timed out'),o(new ee(It.DEADLINE_EXCEEDED,"Request time out"));break;case Ub.HTTP_ERROR:const u=a.getStatus();if(oe("Connection",'RPC "'+t+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(m)>=0?m:It.UNKNOWN}(h.status);o(new ee(f,h.message))}else o(new ee(It.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ee(It.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{oe("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(r);a.send(e,"POST",l,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=_j(),o=vj(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new wj({})),this.ho(a.initMessageHeaders,e,i),a.encodeInitMessageHeaders=!0;const l=r.join("");oe("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,h=!1;const f=new c8({Hr:m=>{h?oe("Connection","Not sending because WebChannel is closed:",m):(u||(oe("Connection","Opening WebChannel transport."),c.open(),u=!0),oe("Connection","WebChannel sending:",m),c.send(m))},Jr:()=>c.close()}),p=(m,g,y)=>{m.listen(g,v=>{try{y(v)}catch(w){setTimeout(()=>{throw w},0)}})};return p(c,Vp.EventType.OPEN,()=>{h||oe("Connection","WebChannel transport opened.")}),p(c,Vp.EventType.CLOSE,()=>{h||(h=!0,oe("Connection","WebChannel transport closed"),f.io())}),p(c,Vp.EventType.ERROR,m=>{h||(h=!0,UC("Connection","WebChannel transport errored:",m),f.io(new ee(It.UNAVAILABLE,"The operation could not be completed")))}),p(c,Vp.EventType.MESSAGE,m=>{var g;if(!h){const y=m.data[0];vn(!!y);const v=y,w=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(w){oe("Connection","WebChannel received error:",w);const M=w.status;let E=function(D){const I=Wn[D];if(I!==void 0)return w2(I)}(M),T=w.message;E===void 0&&(E=It.INTERNAL,T="Unknown error status: "+M+" with message "+w.message),h=!0,f.io(new ee(E,T)),c.close()}else oe("Connection","WebChannel received:",y),f.ro(y)}}),p(o,xj.STAT_EVENT,m=>{m.stat===FC.PROXY?oe("Connection","Detected buffering proxy"):m.stat===FC.NOPROXY&&oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Hb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){return new v6(n,!0)}class k2{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,e,i,r,s,o,a,l){this.Hs=t,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new k2(t,e)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,t!==4?this.xo.reset():e&&e.code===It.RESOURCE_EXHAUSTED?(Eo(e.toString()),Eo("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):e&&e.code===It.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new ee(It.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(t){return oe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h8 extends F2{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=w6(this.It,t),i=function(r){if(!("targetChange"in r))return $e.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?$e.min():s.readTime?mo(s.readTime):$e.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Yx(this.It),e.addTarget=function(r,s){let o;const a=s.target;return o=$x(a)?{documents:M6(r,a)}:{query:T6(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=O2(r,s.resumeToken):s.snapshotVersion.compareTo($e.min())>0&&(o.readTime=hy(r,s.snapshotVersion.toTimestamp())),o}(this.It,t);const i=C6(this.It,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Yx(this.It),e.removeTarget=t,this.Bo(e)}}class f8 extends F2{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(vn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=S6(t.writeResults,t.commitTime),i=mo(t.commitTime);return this.listener.Zo(i,e)}return vn(!t.writeResults||t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Yx(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>E6(this.It,i))};this.Bo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new ee(It.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(t,e,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ee(It.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(t,e,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(It.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class p8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,t==="Online"&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Eo(e),this.ou=!1):oe("OnlineStateTracker",e)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{i.enqueueAndForget(async()=>{Jl(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=De(a);l._u.add(4),await Hd(l),l.gu.set("Unknown"),l._u.delete(4),await tv(l)}(this))})}),this.gu=new p8(i,r)}}async function tv(n){if(Jl(n))for(const t of n.wu)await t(!0)}async function Hd(n){for(const t of n.wu)await t(!1)}function B2(n,t){const e=De(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),tM(e)?ZS(e):ch(e).ko()&&JS(e,t))}function z2(n,t){const e=De(n),i=ch(e);e.du.delete(t),i.ko()&&U2(e,t),e.du.size===0&&(i.ko()?i.Fo():Jl(e)&&e.gu.set("Unknown"))}function JS(n,t){n.yu.Ot(t.targetId),ch(n).zo(t)}function U2(n,t){n.yu.Ot(t),ch(n).Ho(t)}function ZS(n){n.yu=new g6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),ch(n).start(),n.gu.uu()}function tM(n){return Jl(n)&&!ch(n).No()&&n.du.size>0}function Jl(n){return De(n)._u.size===0}function V2(n){n.yu=void 0}async function g8(n){n.du.forEach((t,e)=>{JS(n,t)})}async function y8(n,t){V2(n),tM(n)?(n.gu.hu(t),ZS(n)):n.gu.set("Unknown")}async function _8(n,t,e){if(n.gu.set("Online"),t instanceof C2&&t.state===2&&t.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(n,t)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await fy(n,i)}else if(t instanceof Zm?n.yu.Gt(t):t instanceof A2?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual($e.min()))try{const i=await N2(n.localStore);e.compareTo(i)>=0&&await function(r,s){const o=r.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.du.get(l);c&&r.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(_i.EMPTY_BYTE_STRING,l.snapshotVersion)),U2(r,a);const c=new Ol(l.target,a,1,l.sequenceNumber);JS(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(n,e)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await fy(n,i)}}async function fy(n,t,e){if(!Bd(t))throw t;n._u.add(1),await Hd(n),n.gu.set("Offline"),e||(e=()=>N2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await e(),n._u.delete(1),await tv(n)})}function H2(n,t){return t().catch(e=>fy(n,e,t))}async function ev(n){const t=De(n),e=ga(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;v8(t);)try{const r=await i8(t.localStore,i);if(r===null){t.fu.length===0&&e.Fo();break}i=r.batchId,b8(t,r)}catch(r){await fy(t,r)}$2(t)&&W2(t)}function v8(n){return Jl(n)&&n.fu.length<10}function b8(n,t){n.fu.push(t);const e=ga(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function $2(n){return Jl(n)&&!ga(n).No()&&n.fu.length>0}function W2(n){ga(n).start()}async function x8(n){ga(n).eu()}async function w8(n){const t=ga(n);for(const e of n.fu)t.Xo(e.mutations)}async function E8(n,t,e){const i=n.fu.shift(),r=YS.from(i,t,e);await H2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await ev(n)}async function S8(n,t){t&&ga(n).Yo&&await async function(e,i){if(r=i.code,h6(r)&&r!==It.ABORTED){const s=e.fu.shift();ga(e).Oo(),await H2(e,()=>e.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ev(e)}var r}(n,t),$2(n)&&W2(n)}async function lO(n,t){const e=De(n);e.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=Jl(e);e._u.add(3),await Hd(e),i&&e.gu.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),await tv(e)}async function M8(n,t){const e=De(n);t?(e._u.delete(2),await tv(e)):t||(e._u.add(2),await Hd(e),e.gu.set("Unknown"))}function ch(n){return n.pu||(n.pu=function(t,e,i){const r=De(t);return r.su(),new h8(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:g8.bind(null,n),Zr:y8.bind(null,n),Wo:_8.bind(null,n)}),n.wu.push(async t=>{t?(n.pu.Oo(),tM(n)?ZS(n):n.gu.set("Unknown")):(await n.pu.stop(),V2(n))})),n.pu}function ga(n){return n.Iu||(n.Iu=function(t,e,i){const r=De(t);return r.su(),new f8(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:x8.bind(null,n),Zr:S8.bind(null,n),tu:w8.bind(null,n),Zo:E8.bind(null,n)}),n.wu.push(async t=>{t?(n.Iu.Oo(),await ev(n)):(await n.Iu.stop(),n.fu.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))})),n.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new eM(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(It.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nM(n,t){if(Eo("AsyncQueue",`${t}: ${n}`),Bd(n))return new ee(It.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ue.comparator(e.key,i.key):(e,i)=>ue.comparator(e.key,i.key),this.keyedMap=_f(),this.sortedSet=new ni(this.comparator)}static emptySet(t){return new xu(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof xu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new xu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Tu=new ni(ue.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?t.type!==0&&i.type===3?this.Tu=this.Tu.insert(e,t):t.type===3&&i.type!==1?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Tu=this.Tu.remove(e):t.type===1&&i.type===2?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Oe():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Fu{constructor(t,e,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(o=>{s.push({type:0,doc:o})}),new Fu(t,e,xu.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&X_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.Au=void 0,this.listeners=[]}}class A8{constructor(){this.queries=new lh(t=>f2(t),X_),this.onlineState="Unknown",this.Ru=new Set}}async function G2(n,t){const e=De(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new T8),r)try{s.Au=await e.onListen(i)}catch(o){const a=nM(o,`Initialization of query '${Gx(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&iM(e)}async function j2(n,t){const e=De(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return e.queries.delete(i),e.onUnlisten(i)}function C8(n,t){const e=De(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&iM(e)}function O8(n,t,e){const i=De(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function iM(n){n.Ru.forEach(t=>{t.next()})}class q2{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Fu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const i=e!=="Offline";return(!this.options.Nu||!i)&&(!t.docs.isEmpty()||e==="Offline")}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}xu(t){t=Fu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.key=t}}class X2{constructor(t){this.key=t}}class P8{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=Ge(),this.mutatedKeys=Ge(),this.Ku=d2(t),this.Gu=new xu(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new cO,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,h)=>{const f=r.get(u),p=GS(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(i.track({type:3,doc:p}),y=!0):this.zu(f,p)||(i.track({type:2,doc:p}),y=!0,(l&&this.Ku(p,l)>0||c&&this.Ku(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),y=!0):f&&!p&&(i.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Gu:o,Wu:i,$i:a,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return p(h)-p(f)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(i);const o=e?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Fu(this.query,t.Gu,r,s,t.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new cO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=Ge(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new X2(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new Y2(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=Ge();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return Fu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class D8{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class R8{constructor(t){this.key=t,this.ec=!1}}class L8{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new lh(a=>f2(a),X_),this.ic=new Map,this.rc=new Set,this.oc=new ni(ue.comparator),this.uc=new Map,this.cc=new XS,this.ac={},this.hc=new Map,this.lc=ku.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function I8(n,t){const e=W8(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const o=await r8(e.localStore,So(t));e.isPrimaryClient&&B2(e.remoteStore,o);const a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await N8(e,t,i,a==="current")}return r}async function N8(n,t,e,i){n.dc=(u,h,f)=>async function(p,m,g,y){let v=m.view.ju(g);v.$i&&(v=await sO(p.localStore,m.query,!1).then(({documents:E})=>m.view.ju(E,v)));const w=y&&y.targetChanges.get(m.targetId),M=m.view.applyChanges(v,p.isPrimaryClient,w);return hO(p,m.targetId,M.Yu),M.snapshot}(n,u,h,f);const r=await sO(n.localStore,t,!0),s=new P8(t,r.Hi),o=s.ju(r.documents),a=Vd.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline"),l=s.applyChanges(o,n.isPrimaryClient,a);hO(n,e,l.Yu);const c=new D8(t,e,s);return n.sc.set(t,c),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),l.snapshot}async function k8(n,t){const e=De(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!X_(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||await Xx(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),z2(e.remoteStore,i.targetId),Kx(e,i.targetId)}).catch(Fd)):(Kx(e,i.targetId),await Xx(e.localStore,i.targetId,!0))}async function F8(n,t,e){const i=G8(n);try{const r=await function(s,o){const a=De(s),l=Zn.now(),c=o.reduce((f,p)=>f.add(p.key),Ge());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Mo(),m=Ge();return a.Gi.getEntries(f,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(g=>{u=g;const y=[];for(const v of o){const w=l6(v,u.get(v.key).overlayedDocument);w!=null&&y.push(new Ta(v.key,w,a2(w.value.mapValue),is.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,y,o)}).next(g=>{h=g;const y=g.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:h.batchId,changes:S2(u)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new ni(rn)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(i,r.batchId,e),await $d(i,r.changes),await ev(i.remoteStore)}catch(r){const s=nM(r,"Failed to persist write");e.reject(s)}}async function K2(n,t){const e=De(n);try{const i=await e8(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.uc.get(s);o&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ec=!0:r.modifiedDocuments.size>0?vn(o.ec):r.removedDocuments.size>0&&(vn(o.ec),o.ec=!1))}),await $d(e,i,t)}catch(i){await Fd(i)}}function uO(n,t,e){const i=De(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.sc.forEach((s,o)=>{const a=o.view.bu(t);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=De(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.bu(o)&&(l=!0)}),l&&iM(a)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function B8(n,t,e){const i=De(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let o=new ni(ue.comparator);o=o.insert(s,mi.newNoDocument(s,$e.min()));const a=Ge().add(s),l=new J_($e.min(),new Map,new ti(rn),o,a);await K2(i,l),i.oc=i.oc.remove(s),i.uc.delete(t),rM(i)}else await Xx(i.localStore,t,!1).then(()=>Kx(i,t,e)).catch(Fd)}async function z8(n,t){const e=De(n),i=t.batch.batchId;try{const r=await t8(e.localStore,t);J2(e,i,null),Q2(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await $d(e,r)}catch(r){await Fd(r)}}async function U8(n,t,e){const i=De(n);try{const r=await function(s,o){const a=De(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(vn(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,t);J2(i,t,e),Q2(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await $d(i,r)}catch(r){await Fd(r)}}function Q2(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function J2(n,t,e){const i=De(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function Kx(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||Z2(n,i)})}function Z2(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);e!==null&&(z2(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),rM(n))}function hO(n,t,e){for(const i of e)i instanceof Y2?(n.cc.addReference(i.key,t),V8(n,i)):i instanceof X2?(oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||Z2(n,i.key)):Oe()}function V8(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(oe("SyncEngine","New document in limbo: "+e),n.rc.add(i),rM(n))}function rM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new ue(Sn.fromString(t)),i=n.lc.next();n.uc.set(i,new R8(e)),n.oc=n.oc.insert(e,i),B2(n.remoteStore,new Ol(So(WS(e.path)),i,2,US.at))}}async function $d(n,t,e){const i=De(n),r=[],s=[],o=[];i.sc.isEmpty()||(i.sc.forEach((a,l)=>{o.push(i.dc(l,t,e).then(c=>{if(c){i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=QS.Ci(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.nc.Wo(r),await async function(a,l){const c=De(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>zt.forEach(l,h=>zt.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>zt.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Bd(u))throw u;oe("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ui.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ui=c.Ui.insert(h,m)}}}(i.localStore,s))}async function H8(n,t){const e=De(n);if(!e.currentUser.isEqual(t)){oe("SyncEngine","User change. New user:",t.toKey());const i=await I2(e.localStore,t);e.currentUser=t,function(r,s){r.hc.forEach(o=>{o.forEach(a=>{a.reject(new ee(It.CANCELLED,s))})}),r.hc.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await $d(e,i.ji)}}function $8(n,t){const e=De(n),i=e.uc.get(t);if(i&&i.ec)return Ge().add(i.key);{let r=Ge();const s=e.ic.get(t);if(!s)return r;for(const o of s){const a=e.sc.get(o);r=r.unionWith(a.view.Qu)}return r}}function W8(n){const t=De(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=K2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B8.bind(null,t),t.nc.Wo=C8.bind(null,t.eventManager),t.nc._c=O8.bind(null,t.eventManager),t}function G8(n){const t=De(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U8.bind(null,t),t}class j8{constructor(){this.synchronizeTabs=!1}async initialize(t){this.It=Z_(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),await this.persistence.start(),this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore)}Ic(t,e){return null}Tc(t,e){return null}yc(t){return Z6(this.persistence,new Q6,t.initialUser,this.It)}gc(t){return new X6(KS.Bs,this.It)}mc(t){return new o8}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class q8{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H8.bind(null,this.syncEngine),await M8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new A8}createDatastore(t){const e=Z_(t.databaseInfo.databaseId),i=(r=t.databaseInfo,new u8(r));var r;return function(s,o,a,l){return new d8(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=a=>uO(this.syncEngine,a,0),o=aO.C()?new aO:new a8,new m8(e,i,r,s,o);var e,i,r,s,o}createSyncEngine(t,e){return function(i,r,s,o,a,l,c){const u=new L8(i,r,s,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=De(t);oe("RemoteStore","RemoteStore shutting down."),e._u.add(5),await Hd(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Eo("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(t,e,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Zi.UNAUTHENTICATED,this.clientId=i2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(It.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=nM(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function X8(n,t){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const e=await n.getConfiguration();await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await I2(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}async function K8(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Q8(n);oe("FirestoreClient","Initializing OnlineComponentProvider");const i=await n.getConfiguration();await t.initialize(e,i),n.setCredentialChangeListener(r=>lO(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>lO(t.remoteStore,s)),n.onlineComponents=t}async function Q8(n){return n.offlineComponents||(oe("FirestoreClient","Using default OfflineComponentProvider"),await X8(n,new j8)),n.offlineComponents}async function e3(n){return n.onlineComponents||(oe("FirestoreClient","Using default OnlineComponentProvider"),await K8(n,new q8)),n.onlineComponents}function J8(n){return e3(n).then(t=>t.syncEngine)}async function n3(n){const t=await e3(n),e=t.eventManager;return e.onListen=I8.bind(null,t.syncEngine),e.onUnlisten=k8.bind(null,t.syncEngine),e}function Z8(n,t,e={}){const i=new po;return n.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new t3({next:h=>{s.enqueueAndForget(()=>j2(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new ee(It.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new ee(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new q2(WS(o.path),c,{includeMetadataChanges:!0,Nu:!0});return G2(r,u)}(await n3(n),n.asyncQueue,t,e,i)),i.promise}function tq(n,t,e={}){const i=new po;return n.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new t3({next:h=>{s.enqueueAndForget(()=>j2(r,u)),h.fromCache&&a.source==="server"?l.reject(new ee(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new q2(o,c,{includeMetadataChanges:!0,Nu:!0});return G2(r,u)}(await n3(n),n.asyncQueue,t,e,i)),i.promise}const fO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(n,t,e){if(!e)throw new ee(It.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eq(n,t,e,i){if(t===!0&&i===!0)throw new ee(It.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dO(n){if(!ue.isDocumentKey(n))throw new ee(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pO(n){if(ue.isDocumentKey(n))throw new ee(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function To(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ee(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=nv(n);throw new ee(It.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){var e;if(t.host===void 0){if(t.ssl!==void 0)throw new ee(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ee(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,eq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ee(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(t),t.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Mj;switch(e.type){case"gapi":const i=e.client;return new Cj(i,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ee(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=fO.get(t);e&&(oe("ComponentProvider","Removing Datastore"),fO.delete(t),e.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wi(this.firestore,t,this._key)}}class Wd{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Wd(this.firestore,t,this._query)}}class la extends Wd{constructor(t,e,i){super(t,e,WS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wi(this.firestore,null,new ue(t))}withConverter(t){return new la(this.firestore,t,this._path)}}function Umt(n,t,...e){if(n=xo(n),i3("collection","path",t),n instanceof sM){const i=Sn.fromString(t,...e);return pO(i),new la(n,null,i)}{if(!(n instanceof Wi||n instanceof la))throw new ee(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(t,...e));return pO(i),new la(n.firestore,null,i)}}function Vmt(n,t,...e){if(n=xo(n),arguments.length===1&&(t=i2.R()),i3("doc","path",t),n instanceof sM){const i=Sn.fromString(t,...e);return dO(i),new Wi(n,null,new ue(i))}{if(!(n instanceof Wi||n instanceof la))throw new ee(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(t,...e));return dO(i),new Wi(n.firestore,n instanceof la?n.converter:null,new ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new k2(this,"async_queue_retry"),this.jc=()=>{const e=Hb();e&&oe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=Hb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=Hb();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new po;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(t){if(!Bd(t))throw t;oe("AsyncQueue","Operation failed with retryable error: "+t)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{this.qc=i,this.Kc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Eo("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=eM.createAndSchedule(this,t,e,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&Oe()}verifyOperationInProgress(){}async Yc(){let t;do t=this.$c,await t;while(t!==this.$c)}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}class uh extends sM{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new nq,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||r3(this),this._firestoreClient.terminate()}}function iq(n,t){const e=typeof n=="object"?n:u5(),i=typeof n=="string"?n:t||"(default)";return s5(e,"firestore").getImmediate({identifier:i})}function oM(n){return n._firestoreClient||r3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function r3(n){var t;const e=n._freezeSettings(),i=function(r,s,o,a){return new zj(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,e);n._firestoreClient=new Y8(n._authCredentials,n._appCheckCredentials,n._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ee(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bu(_i.fromBase64String(t))}catch(e){throw new ee(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Bu(_i.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ee(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ee(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return rn(this._lat,t._lat)||rn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=/^__.*__$/;class sq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ta(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ud(t,this.data,e,this.fieldTransforms)}}class s3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ta(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function o3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class sv{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new sv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return dy(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(t.length===0)throw this.aa("Document fields must not be empty");if(o3(this.na)&&rq.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class oq{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||Z_(t)}fa(t,e,i,r=!1){return new sv({na:t,methodName:e,la:i,path:Ai.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function lM(n){const t=n._freezeSettings(),e=Z_(n._databaseId);return new oq(n._databaseId,!!t.ignoreUndefinedProperties,e)}function aq(n,t,e,i,r,s={}){const o=n.fa(s.merge||s.mergeFields?2:0,t,e,r);cM("Data must be an object, but it was:",o,i);const a=a3(i,o);let l,c;if(s.merge)l=new Pr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=Qx(t,h,e);if(!o.contains(f))throw new ee(It.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);c3(u,f)||u.push(f)}l=new Pr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new sq(new nr(a),l,c)}class ov extends rv{_toFieldTransform(t){if(t.na!==2)throw t.na===1?t.aa(`${this._methodName}() can only appear at the top level of your update data`):t.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ov}}function lq(n,t,e){return new sv({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class cq extends rv{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=lq(this,t,!0),i=this.da.map(s=>hh(s,e)),r=new Nu(i);return new r6(t.path,r)}isEqual(t){return this===t}}function uq(n,t,e,i){const r=n.fa(1,t,e);cM("Data must be an object, but it was:",r,i);const s=[],o=nr.empty();Ql(i,(l,c)=>{const u=uM(t,l,e);c=xo(c);const h=r.ua(u);if(c instanceof ov)s.push(u);else{const f=hh(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new Pr(s);return new s3(o,a,r.fieldTransforms)}function hq(n,t,e,i,r,s){const o=n.fa(1,t,e),a=[Qx(t,i,e)],l=[r];if(s.length%2!=0)throw new ee(It.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Qx(t,s[f])),l.push(s[f+1]);const c=[],u=nr.empty();for(let f=a.length-1;f>=0;--f)if(!c3(c,a[f])){const p=a[f];let m=l[f];m=xo(m);const g=o.ua(p);if(m instanceof ov)c.push(p);else{const y=hh(m,g);y!=null&&(c.push(p),u.set(p,y))}}const h=new Pr(c);return new s3(u,h,o.fieldTransforms)}function fq(n,t,e,i=!1){return hh(e,n.fa(i?4:3,t))}function hh(n,t){if(l3(n=xo(n)))return cM("Unsupported field value:",t,n),a3(n,t);if(n instanceof rv)return function(e,i){if(!o3(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&t.na!==4)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const o of e){let a=hh(o,i.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if((e=xo(e))===null)return{nullValue:"NULL_VALUE"};if(typeof e=="number")return e6(i.It,e);if(typeof e=="boolean")return{booleanValue:e};if(typeof e=="string")return{stringValue:e};if(e instanceof Date){const r=Zn.fromDate(e);return{timestampValue:hy(i.It,r)}}if(e instanceof Zn){const r=new Zn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hy(i.It,r)}}if(e instanceof aM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bu)return{bytesValue:O2(i.It,e._byteString)};if(e instanceof Wi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:qS(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${nv(e)}`)}(n,t)}function a3(n,t){const e={};return r2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ql(n,(i,r)=>{const s=hh(r,t.ia(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function l3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof aM||n instanceof Bu||n instanceof Wi||n instanceof rv)}function cM(n,t,e){if(!l3(e)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(e)){const i=nv(e);throw i==="an object"?t.aa(n+" a custom object"):t.aa(n+" "+i)}}function Qx(n,t,e){if((t=xo(t))instanceof iv)return t._internalPath;if(typeof t=="string")return uM(n,t);throw dy("Field path arguments must be of type string or ",n,!1,void 0,e)}const dq=new RegExp("[~\\*/\\[\\]]");function uM(n,t,e){if(t.search(dq)>=0)throw dy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new iv(...t.split("."))._internalPath}catch{throw dy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dy(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ee(It.INVALID_ARGUMENT,a+n+l)}function c3(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hM("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class pq extends u3{data(){return super.data()}}function hM(n,t){return typeof t=="string"?uM(n,t):t instanceof iv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class h3 extends u3{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(hM("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class tg extends h3{data(t={}){return super.data(t)}}class mq{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new tg(this._firestore,this._userDataWriter,i.key,i,new vf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ee(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new tg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new tg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:gq(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ee(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _q{}function Hmt(n,...t){for(const e of t)n=e._apply(n);return n}class vq extends _q{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=lM(t.firestore),i=function(r,s,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ee(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yO(u,c);const p=[];for(const m of u)p.push(gO(a,r,m));h={arrayValue:{values:p}}}else h=gO(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yO(u,c),h=fq(o,s,u,c==="in"||c==="not-in");const f=$i.create(l,c,h);return function(p,m){if(m.dt()){const y=u2(p);if(y!==null&&!y.isEqual(m.field))throw new ee(It.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${y.toString()}' and '${m.field.toString()}'`);const v=c2(p);v!==null&&bq(p,m.field,v)}const g=function(y,v){for(const w of y.filters)if(v.indexOf(w.op)>=0)return w.op;return null}(p,function(y){switch(y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(g!==null)throw g===m.op?new ee(It.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new ee(It.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${g.toString()}' filters.`)}(r,f),f}(t._query,"where",e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Wd(t.firestore,t.converter,function(r,s){const o=r.filters.concat([s]);return new zd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function $mt(n,t,e){const i=t,r=hM("where",n);return new vq(r,i,e)}function gO(n,t,e){if(typeof(e=xo(e))=="string"){if(e==="")throw new ee(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h2(t)&&e.indexOf("/")!==-1)throw new ee(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Sn.fromString(e));if(!ue.isDocumentKey(i))throw new ee(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return WC(n,new ue(i))}if(e instanceof Wi)return WC(n,e._key);throw new ee(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(e)}.`)}function yO(n,t){if(!Array.isArray(n)||n.length===0)throw new ee(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ee(It.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function bq(n,t,e){if(!e.isEqual(t))throw new ee(It.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{convertValue(t,e="none"){switch(zl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Oe()}}convertObject(t,e){const i={};return Ql(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new aM(Gn(t.latitude),Gn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=o2(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ld(t));default:return null}}convertTimestamp(t){const e=ma(t);return new Zn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Sn.fromString(t);vn(L2(i));const r=new cd(i.get(1),i.get(3)),s=new ue(i.popFirst(5));return r.isEqual(e)||Eo(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wmt(n){n=To(n,Wi);const t=To(n.firestore,uh);return Z8(oM(t),n._key).then(e=>Eq(t,n,e))}class f3 extends xq{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wi(this.firestore,null,e)}}function Gmt(n){n=To(n,Wd);const t=To(n.firestore,uh),e=oM(t),i=new f3(t);return yq(n._query),tq(e,n._query).then(r=>new mq(t,i,n,r))}function jmt(n,t,e){n=To(n,Wi);const i=To(n.firestore,uh),r=wq(n.converter,t,e);return fM(i,[aq(lM(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,is.none())])}function qmt(n,t,e,...i){n=To(n,Wi);const r=To(n.firestore,uh),s=lM(r);let o;return o=typeof(t=xo(t))=="string"||t instanceof iv?hq(s,"updateDoc",n._key,t,e,i):uq(s,"updateDoc",n._key,t),fM(r,[o.toMutation(n._key,is.exists(!0))])}function Ymt(n){return fM(To(n.firestore,uh),[new jS(n._key,is.none())])}function fM(n,t){return function(e,i){const r=new po;return e.asyncQueue.enqueueAndForget(async()=>F8(await J8(e),i,r)),r.promise}(oM(n),t)}function Eq(n,t,e){const i=e.docs.get(t._key),r=new f3(n);return new h3(n,r,t._key,i,new vf(e.hasPendingWrites,e.fromCache),t.converter)}function Xmt(...n){return new cq("arrayUnion",n)}(function(n,t=!0){(function(e){ah=e})(l5),Jg(new td("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),o=new uh(new Tj(e.getProvider("auth-internal")),new Pj(e.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ee(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),vu(BC,"3.5.0",n),vu(BC,"3.5.0","esm2017")})();var d3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p3={exports:{}};/*!
 * Chartkick.js
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * v4.2.0
 * MIT License
 */(function(n,t){(function(e,i){n.exports=i()})(d3,function(){function e(C){return Object.prototype.toString.call(C)==="[object Array]"}function i(C){return C instanceof Function}function r(C){return Object.prototype.toString.call(C)==="[object Object]"&&!i(C)&&C instanceof Object}function s(C,x){var B;for(B in x)B!=="__proto__"&&(r(x[B])||e(x[B])?(r(x[B])&&!r(C[B])&&(C[B]={}),e(x[B])&&!e(C[B])&&(C[B]=[]),s(C[B],x[B])):x[B]!==void 0&&(C[B]=x[B]))}function o(C,x){var B={};return s(B,C),s(B,x),B}var a=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i;function l(C){var x,B,K;for(x=0;x<C.length;x++)for(K=C[x].data,B=0;B<K.length;B++)if(K[B][1]<0)return!0;return!1}function c(C){return""+C}function u(C){return parseFloat(C)}function h(C){var x,B,K,dt;if(typeof C!="object")if(typeof C=="number")C=new Date(C*1e3);else{if(C=c(C),x=C.match(a))return B=parseInt(x[1],10),K=parseInt(x[3],10)-1,dt=parseInt(x[5],10),new Date(B,K,dt);var At=C.replace(/ /,"T").replace(" ","").replace("UTC","Z");C=new Date(Date.parse(At)||C)}return C}function f(C){if(!e(C)){var x=[],B;for(B in C)C.hasOwnProperty(B)&&x.push([B,C[B]]);C=x}return C}function p(C,x,B,K,dt,At,Zt,ae){return function(le,Ee,ze){var Tn=le.data,fe=o({},C);return fe=o(fe,ze||{}),(le.singleSeriesFormat||"legend"in Ee)&&x(fe,Ee.legend,le.singleSeriesFormat),Ee.title&&B(fe,Ee.title),"min"in Ee?K(fe,Ee.min):l(Tn)||K(fe,0),Ee.max&&dt(fe,Ee.max),"stacked"in Ee&&At(fe,Ee.stacked),Ee.colors&&(fe.colors=Ee.colors),Ee.xtitle&&Zt(fe,Ee.xtitle),Ee.ytitle&&ae(fe,Ee.ytitle),fe=o(fe,Ee.library||{}),fe}}function m(C,x){return C[0].getTime()-x[0].getTime()}function g(C,x){return C[0]-x[0]}function y(C,x){return C-x}function v(C){return C.getMilliseconds()===0&&C.getSeconds()===0}function w(C){return v(C)&&C.getMinutes()===0}function M(C){return w(C)&&C.getHours()===0}function E(C,x){return M(C)&&C.getDay()===x}function T(C){return M(C)&&C.getDate()===1}function D(C){return T(C)&&C.getMonth()===0}function I(C){return!isNaN(h(C))&&c(C).length>=6}function G(C){return typeof C=="number"}var j=["bytes","KB","MB","GB","TB","PB","EB"];function V(C,x,B,K){C=C||"",B.prefix&&(x<0&&(x=x*-1,C+="-"),C+=B.prefix);var dt=B.suffix||"",At=B.precision,Zt=B.round;if(B.byteScale){var ae,le=K?B.byteScale:x;le>=1152921504606847e3?(x/=1152921504606847e3,ae=6):le>=0x4000000000000?(x/=0x4000000000000,ae=5):le>=1099511627776?(x/=1099511627776,ae=4):le>=1073741824?(x/=1073741824,ae=3):le>=1048576?(x/=1048576,ae=2):le>=1024?(x/=1024,ae=1):ae=0,At===void 0&&Zt===void 0&&(x>=1023.5&&ae<j.length-1&&(x=1,ae+=1),At=x>=1e3?4:3),dt=" "+j[ae]}if(At!==void 0&&Zt!==void 0)throw Error("Use either round or precision, not both");if(!K&&(At!==void 0&&(x=x.toPrecision(At),B.zeros||(x=parseFloat(x))),Zt!==void 0))if(Zt<0){var Ee=Math.pow(10,-1*Zt);x=parseInt((1*x/Ee).toFixed(0))*Ee}else x=x.toFixed(Zt),B.zeros||(x=parseFloat(x));if(B.thousands||B.decimal){x=c(x);var ze=x.split(".");x=ze[0],B.thousands&&(x=x.replace(/\B(?=(\d{3})+(?!\d))/g,B.thousands)),ze.length>1&&(x+=(B.decimal||".")+ze[1])}return C+x+dt}function A(C,x,B){return B in x?x[B]:B in C.options?C.options[B]:null}function F(C){var x,B,K;for(x=0;x<C.length;x++)for(K=C[x].data,B=0;B<K.length;B++)if(K[B][1]!=0)return!1;return!0}var nt={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},q={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},P=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],W=function(C,x,B){x!==void 0?(C.plugins.legend.display=!!x,x&&x!==!0&&(C.plugins.legend.position=x)):B&&(C.plugins.legend.display=!1)},Z=function(C,x){C.plugins.title.display=!0,C.plugins.title.text=x},U=function(C,x){x!==null&&(C.scales.y.min=u(x))},Q=function(C,x){C.scales.y.max=u(x)},ut=function(C,x){x!==null&&(C.scales.x.min=u(x))},vt=function(C,x){C.scales.x.max=u(x)},at=function(C,x){C.scales.x.stacked=!!x,C.scales.y.stacked=!!x},Ct=function(C,x){C.scales.x.title.display=!0,C.scales.x.title.text=x},Lt=function(C,x){C.scales.y.title.display=!0,C.scales.y.title.text=x},et=function(C,x){var B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);return B?"rgba("+parseInt(B[1],16)+", "+parseInt(B[2],16)+", "+parseInt(B[3],16)+", "+x+")":C},Y=function(C){return C!=null},Et=function(C,x,B){var K=Math.ceil(C.element.offsetWidth/4/x.labels.length);K>25?K=25:K<10&&(K=10),B.scales.x.ticks.callback||(B.scales.x.ticks.callback=function(dt){return dt=c(this.getLabelForValue(dt)),dt.length>K?dt.substring(0,K-2)+"...":dt})},lt=function(C,x,B){var K={prefix:C.options.prefix,suffix:C.options.suffix,thousands:C.options.thousands,decimal:C.options.decimal,precision:C.options.precision,round:C.options.round,zeros:C.options.zeros};if(C.options.bytes){var dt=C.data;B==="pie"&&(dt=[{data:dt}]);for(var At=0,Zt=0;Zt<dt.length;Zt++)for(var ae=dt[Zt],le=0;le<ae.data.length;le++)ae.data[le][1]>At&&(At=ae.data[le][1]);for(var Ee=1;At>=1024;)Ee*=1024,At/=1024;K.byteScale=Ee}if(B!=="pie"){var ze=x.scales.y;B==="bar"&&(ze=x.scales.x),K.byteScale&&(ze.ticks.stepSize||(ze.ticks.stepSize=K.byteScale/2),ze.ticks.maxTicksLimit||(ze.ticks.maxTicksLimit=4)),ze.ticks.callback||(ze.ticks.callback=function(fe){return V("",fe,K,!0)})}if(!x.plugins.tooltip.callbacks.label)if(B==="scatter")x.plugins.tooltip.callbacks.label=function(fe){var He=fe.dataset.label||"";return He&&(He+=": "),He+"("+fe.label+", "+fe.formattedValue+")"};else if(B==="bubble")x.plugins.tooltip.callbacks.label=function(fe){var He=fe.dataset.label||"";He&&(He+=": ");var or=fe.raw;return He+"("+or.x+", "+or.y+", "+or.v+")"};else if(B==="pie")x.plugins.tooltip.callbacks.label=function(fe){var He=fe.label,or=": ";return e(He)?(He=He.slice(),He[0]+=or):He+=or,V(He,fe.parsed,K)};else{var Tn=B==="bar"?"x":"y";x.plugins.tooltip.callbacks.label=function(fe){if(fe.parsed[Tn]!==null){var He=fe.dataset.label||"";return He&&(He+=": "),V(He,fe.parsed[Tn],K)}}}},Mt=p(o(nt,q),W,Z,U,Q,at,Ct,Lt),xt=function(C,x,B){var K=[],dt=[],At=C.options.colors||P,Zt=!0,ae=!0,le,Ee=!0,ze=!0,Tn=!0,fe=!0,He=C.data,or=0;if(B==="bubble")for(var qt=0;qt<He.length;qt++)for(var Ae=He[qt],Ut=0;Ut<Ae.data.length;Ut++)Ae.data[Ut][2]>or&&(or=Ae.data[Ut][2]);var Ln,ki,xi,rc,Ro,Fa=[],Ba=[];if(B==="bar"||B==="column"||C.xtype!=="number"&&C.xtype!=="bubble"){var za=[];for(Ln=0;Ln<He.length;Ln++)for(xi=He[Ln],ki=0;ki<xi.data.length;ki++)rc=xi.data[ki],Ro=C.xtype=="datetime"?rc[0].getTime():rc[0],Fa[Ro]||(Fa[Ro]=new Array(He.length)),Fa[Ro][Ln]=u(rc[1]),za.indexOf(Ro)===-1&&za.push(Ro);for((C.xtype==="datetime"||C.xtype==="number")&&za.sort(y),ki=0;ki<He.length;ki++)Ba.push([]);var Kn,sc;for(sc=0;sc<za.length;sc++)for(Ln=za[sc],C.xtype==="datetime"?(Kn=new Date(u(Ln)),Zt=Zt&&M(Kn),le||(le=Kn.getDay()),ae=ae&&E(Kn,le),Ee=Ee&&T(Kn),ze=ze&&D(Kn),Tn=Tn&&w(Kn),fe=fe&&v(Kn)):Kn=Ln,dt.push(Kn),ki=0;ki<He.length;ki++)Ba[ki].push(Fa[Ln][ki]===void 0?null:Fa[Ln][ki])}else for(var Ah=0;Ah<He.length;Ah++){for(var Ua=He[Ah],Lo=[],Qi=0;Qi<Ua.data.length;Qi++){var oc={x:u(Ua.data[Qi][0]),y:u(Ua.data[Qi][1])};B==="bubble"&&(oc.r=u(Ua.data[Qi][2])*20/or,oc.v=Ua.data[Qi][2]),Lo.push(oc)}Ba.push(Lo)}var Ur,Io;for(Ln=0;Ln<He.length;Ln++){if(xi=He[Ln],C.options.colors&&C.singleSeriesFormat&&(B==="bar"||B==="column")&&!xi.color&&e(C.options.colors)&&!e(C.options.colors[0])){Ur=At,Io=[];for(var ac=0;ac<At.length;ac++)Io[ac]=et(Ur[ac],.5)}else Ur=xi.color||At[Ln],Io=B!=="line"?et(Ur,.5):Ur;var wn={label:xi.name||"",data:Ba[Ln],fill:B==="area",borderColor:Ur,backgroundColor:Io,borderWidth:2},lp=B==="line"||B==="area"||B==="scatter"||B==="bubble";lp&&(wn.pointBackgroundColor=Ur,wn.pointHoverBackgroundColor=Ur,wn.pointHitRadius=50),B==="bubble"&&(wn.pointBackgroundColor=Io,wn.pointHoverBackgroundColor=Io,wn.pointHoverBorderWidth=2),xi.stack&&(wn.stack=xi.stack);var cp=A(C,xi,"curve");cp===!1?wn.tension=0:lp&&(wn.tension=.4);var up=A(C,xi,"points");up===!1&&(wn.pointRadius=0,wn.pointHoverRadius=0),wn=o(wn,C.options.dataset||{}),wn=o(wn,xi.library||{}),wn=o(wn,xi.dataset||{}),K.push(wn)}var ms=C.options.xmin,wi=C.options.xmax;if(C.xtype==="datetime"?(Y(ms)&&(x.scales.x.min=h(ms).getTime()),Y(wi)&&(x.scales.x.max=h(wi).getTime())):C.xtype==="number"&&(Y(ms)&&(x.scales.x.min=ms),Y(wi)&&(x.scales.x.max=wi)),C.xtype==="datetime"&&dt.length===0&&(Y(ms)&&dt.push(h(ms)),Y(wi)&&dt.push(h(wi)),Zt=!1,ae=!1,Ee=!1,ze=!1,Tn=!1,fe=!1),C.xtype==="datetime"&&dt.length>0){var Vr=(Y(ms)?h(ms):dt[0]).getTime(),Hr=(Y(wi)?h(wi):dt[0]).getTime();for(Ln=1;Ln<dt.length;Ln++){var gs=dt[Ln].getTime();gs<Vr&&(Vr=gs),gs>Hr&&(Hr=gs)}var No=(Hr-Vr)/(86400*1e3);if(!x.scales.x.time.unit){var ys;if(ze||No>365*10?(x.scales.x.time.unit="year",ys=365):Ee||No>30*10?(x.scales.x.time.unit="month",ys=30):Zt||No>10?(x.scales.x.time.unit="day",ys=1):Tn||No>.5?(x.scales.x.time.displayFormats={hour:"MMM d, h a"},x.scales.x.time.unit="hour",ys=1/24):fe&&(x.scales.x.time.displayFormats={minute:"h:mm a"},x.scales.x.time.unit="minute",ys=1/24/60),ys&&No>0){var Ch=C.element.offsetWidth;if(Ch>0){var Oh=Math.ceil(No/ys/(Ch/100));ae&&ys===1&&(Oh=Math.ceil(Oh/7)*7),x.scales.x.time.stepSize=Oh}}}x.scales.x.time.tooltipFormat||(Zt?x.scales.x.time.tooltipFormat="PP":Tn?x.scales.x.time.tooltipFormat="MMM d, h a":fe&&(x.scales.x.time.tooltipFormat="h:mm a"))}var Wv={labels:dt,datasets:K};return Wv},Rt=function(x){this.name="chartjs",this.library=x};Rt.prototype.renderLineChart=function(x,B){var K={};!x.options.max&&F(x.data)&&(K.max=1);var dt=Mt(x,o(K,x.options));lt(x,dt,B);var At=xt(x,dt,B||"line");x.xtype==="number"?(dt.scales.x.type=dt.scales.x.type||"linear",dt.scales.x.position=dt.scales.x.position||"bottom"):dt.scales.x.type=x.xtype==="string"?"category":"time",this.drawChart(x,"line",At,dt)},Rt.prototype.renderPieChart=function(x){var B=o({},nt);x.options.donut&&(B.cutout="50%"),"legend"in x.options&&W(B,x.options.legend),x.options.title&&Z(B,x.options.title),B=o(B,x.options.library||{}),lt(x,B,"pie");for(var K=[],dt=[],At=0;At<x.data.length;At++){var Zt=x.data[At];K.push(Zt[0]),dt.push(Zt[1])}var ae={data:dt,backgroundColor:x.options.colors||P};ae=o(ae,x.options.dataset||{});var le={labels:K,datasets:[ae]};this.drawChart(x,"pie",le,B)},Rt.prototype.renderColumnChart=function(x,B){var K;if(B==="bar"){var dt=o(nt,q);dt.indexAxis="y",dt.scales.x.grid.drawOnChartArea=!0,dt.scales.y.grid.drawOnChartArea=!1,delete dt.scales.y.ticks.maxTicksLimit,K=p(dt,W,Z,ut,vt,at,Ct,Lt)(x,x.options)}else K=Mt(x,x.options);lt(x,K,B);var At=xt(x,K,"column");B!=="bar"&&Et(x,At,K),this.drawChart(x,"bar",At,K)},Rt.prototype.renderAreaChart=function(x){this.renderLineChart(x,"area")},Rt.prototype.renderBarChart=function(x){this.renderColumnChart(x,"bar")},Rt.prototype.renderScatterChart=function(x,B){B=B||"scatter";var K=Mt(x,x.options);lt(x,K,B),"showLine"in K||(K.showLine=!1);var dt=xt(x,K,B);K.scales.x.type=K.scales.x.type||"linear",K.scales.x.position=K.scales.x.position||"bottom","mode"in K.interaction||(K.interaction.mode="nearest"),this.drawChart(x,B,dt,K)},Rt.prototype.renderBubbleChart=function(x){this.renderScatterChart(x,"bubble")},Rt.prototype.destroy=function(x){x.chart&&x.chart.destroy()},Rt.prototype.drawChart=function(x,B,K,dt){if(this.destroy(x),!x.destroyed){var At={type:B,data:K,options:dt};x.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(At)+");"),x.element.innerHTML="<canvas></canvas>";var Zt=x.element.getElementsByTagName("CANVAS")[0];x.chart=new this.library(Zt,At)}};var O={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}},N=function(C,x,B){x!==void 0?(C.legend.enabled=!!x,x&&x!==!0&&(x==="top"||x==="bottom"?C.legend.verticalAlign=x:(C.legend.layout="vertical",C.legend.verticalAlign="middle",C.legend.align=x))):B&&(C.legend.enabled=!1)},$=function(C,x){C.title.text=x},X=function(C,x){C.yAxis.min=x},rt=function(C,x){C.yAxis.max=x},mt=function(C,x){var B=x?x===!0?"normal":x:null;C.plotOptions.series.stacking=B,C.plotOptions.area.stacking=B,C.plotOptions.areaspline.stacking=B},yt=function(C,x){C.xAxis.title.text=x},ht=function(C,x){C.yAxis.title.text=x},Tt=p(O,N,$,X,rt,mt,yt,ht),bt=function(C,x,B){var K={prefix:C.options.prefix,suffix:C.options.suffix,thousands:C.options.thousands,decimal:C.options.decimal,precision:C.options.precision,round:C.options.round,zeros:C.options.zeros};B!=="pie"&&!e(x.yAxis)&&!x.yAxis.labels.formatter&&(x.yAxis.labels.formatter=function(){return V("",this.value,K)}),!x.tooltip.pointFormatter&&!x.tooltip.pointFormat&&(x.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25CF</span> '+V(this.series.name+": <b>",this.y,K)+"</b><br/>"})},k=function(x){this.name="highcharts",this.library=x};k.prototype.renderLineChart=function(x,B){B=B||"spline";var K={};B==="areaspline"&&(K={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),x.options.curve===!1&&(B==="areaspline"?B="area":B==="spline"&&(B="line"));var dt=Tt(x,x.options,K),At,Zt,ae;x.xtype==="number"?dt.xAxis.type=dt.xAxis.type||"linear":dt.xAxis.type=x.xtype==="string"?"category":"datetime",dt.chart.type||(dt.chart.type=B),bt(x,dt,B);var le=x.data;for(Zt=0;Zt<le.length;Zt++){if(le[Zt].name=le[Zt].name||"Value",At=le[Zt].data,x.xtype==="datetime")for(ae=0;ae<At.length;ae++)At[ae][0]=At[ae][0].getTime();le[Zt].marker={symbol:"circle"},x.options.points===!1&&(le[Zt].marker.enabled=!1)}this.drawChart(x,le,dt)},k.prototype.renderScatterChart=function(x){var B=Tt(x,x.options,{});B.chart.type="scatter",this.drawChart(x,x.data,B)},k.prototype.renderPieChart=function(x){var B=o(O,{});x.options.colors&&(B.colors=x.options.colors),x.options.donut&&(B.plotOptions={pie:{innerSize:"50%"}}),"legend"in x.options&&N(B,x.options.legend),x.options.title&&$(B,x.options.title);var K=o(B,x.options.library||{});bt(x,K,"pie");var dt=[{type:"pie",name:x.options.label||"Value",data:x.data}];this.drawChart(x,dt,K)},k.prototype.renderColumnChart=function(x,B){B=B||"column";var K=x.data,dt=Tt(x,x.options),At,Zt,ae,le,Ee=[],ze=[];for(dt.chart.type=B,bt(x,dt,B),At=0;At<K.length;At++)for(ae=K[At],Zt=0;Zt<ae.data.length;Zt++)le=ae.data[Zt],Ee[le[0]]||(Ee[le[0]]=new Array(K.length),ze.push(le[0])),Ee[le[0]][At]=le[1];x.xtype==="number"&&ze.sort(y),dt.xAxis.categories=ze;var Tn=[],fe;for(At=0;At<K.length;At++){for(le=[],Zt=0;Zt<ze.length;Zt++)le.push(Ee[ze[Zt]][At]||0);fe={name:K[At].name||"Value",data:le},K[At].stack&&(fe.stack=K[At].stack),Tn.push(fe)}this.drawChart(x,Tn,dt)},k.prototype.renderBarChart=function(x){this.renderColumnChart(x,"bar")},k.prototype.renderAreaChart=function(x){this.renderLineChart(x,"areaspline")},k.prototype.destroy=function(x){x.chart&&x.chart.destroy()},k.prototype.drawChart=function(x,B,K){this.destroy(x),!x.destroyed&&(K.chart.renderTo=x.element.id,K.series=B,x.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(K)+");"),x.chart=new this.library.Chart(K))};var R={},st=[],gt={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},Ot=function(C,x,B){if(x!==void 0){var K;x?x===!0?K="right":K=x:K="none",C.legend.position=K}else B&&(C.legend.position="none")},Nt=function(C,x){C.title=x,C.titleTextStyle={color:"#333",fontSize:"20px"}},Wt=function(C,x){C.vAxis.viewWindow.min=x},_t=function(C,x){C.vAxis.viewWindow.max=x},re=function(C,x){C.hAxis.viewWindow.min=x},pe=function(C,x){C.hAxis.viewWindow.max=x},Qt=function(C,x){C.isStacked=x||!1},it=function(C,x){C.hAxis.title=x,C.hAxis.titleTextStyle.italic=!1},Gt=function(C,x){C.vAxis.title=x,C.vAxis.titleTextStyle.italic=!1},kt=p(gt,Ot,Nt,Wt,_t,Qt,it,Gt),ft=function(C){window.attachEvent?window.attachEvent("onresize",C):window.addEventListener&&window.addEventListener("resize",C,!0),C()},Vt=function(x){this.name="google",this.library=x};Vt.prototype.renderLineChart=function(x){var B=this;this.waitForLoaded(x,function(){var K={};x.options.curve===!1&&(K.curveType="none"),x.options.points===!1&&(K.pointSize=0);var dt=kt(x,x.options,K),At=B.createDataTable(x.data,x.xtype);B.drawChart(x,"LineChart",At,dt)})},Vt.prototype.renderPieChart=function(x){var B=this;this.waitForLoaded(x,function(){var K={chartArea:{top:"10%",height:"80%"},legend:{}};x.options.colors&&(K.colors=x.options.colors),x.options.donut&&(K.pieHole=.5),"legend"in x.options&&Ot(K,x.options.legend),x.options.title&&Nt(K,x.options.title);var dt=o(o(gt,K),x.options.library||{}),At=new B.library.visualization.DataTable;At.addColumn("string",""),At.addColumn("number","Value"),At.addRows(x.data),B.drawChart(x,"PieChart",At,dt)})},Vt.prototype.renderColumnChart=function(x){var B=this;this.waitForLoaded(x,function(){var K=kt(x,x.options),dt=B.createDataTable(x.data,x.xtype);B.drawChart(x,"ColumnChart",dt,K)})},Vt.prototype.renderBarChart=function(x){var B=this;this.waitForLoaded(x,function(){var K={hAxis:{gridlines:{color:"#ccc"}}},dt=p(gt,Ot,Nt,re,pe,Qt,it,Gt)(x,x.options,K),At=B.createDataTable(x.data,x.xtype);B.drawChart(x,"BarChart",At,dt)})},Vt.prototype.renderAreaChart=function(x){var B=this;this.waitForLoaded(x,function(){var K={isStacked:!0,pointSize:0,areaOpacity:.5},dt=kt(x,x.options,K),At=B.createDataTable(x.data,x.xtype);B.drawChart(x,"AreaChart",At,dt)})},Vt.prototype.renderGeoChart=function(x){var B=this;this.waitForLoaded(x,"geochart",function(){var K={legend:"none",colorAxis:{colors:x.options.colors||["#f6c7b6","#ce502d"]}},dt=o(o(gt,K),x.options.library||{}),At=new B.library.visualization.DataTable;At.addColumn("string",""),At.addColumn("number",x.options.label||"Value"),At.addRows(x.data),B.drawChart(x,"GeoChart",At,dt)})},Vt.prototype.renderScatterChart=function(x){var B=this;this.waitForLoaded(x,function(){var K={},dt=kt(x,x.options,K),At=x.data,Zt=[],ae,le,Ee,ze;for(ae=0;ae<At.length;ae++)for(At[ae].name=At[ae].name||"Value",ze=At[ae].data,le=0;le<ze.length;le++){var Tn=new Array(At.length+1);Tn[0]=ze[le][0],Tn[ae+1]=ze[le][1],Zt.push(Tn)}for(Ee=new B.library.visualization.DataTable,Ee.addColumn("number",""),ae=0;ae<At.length;ae++)Ee.addColumn("number",At[ae].name);Ee.addRows(Zt),B.drawChart(x,"ScatterChart",Ee,dt)})},Vt.prototype.renderTimeline=function(x){var B=this;this.waitForLoaded(x,"timeline",function(){var K={legend:"none"};x.options.colors&&(K.colors=x.options.colors);var dt=o(o(gt,K),x.options.library||{}),At=new B.library.visualization.DataTable;At.addColumn({type:"string",id:"Name"}),At.addColumn({type:"date",id:"Start"}),At.addColumn({type:"date",id:"End"}),At.addRows(x.data),x.element.style.lineHeight="normal",B.drawChart(x,"Timeline",At,dt)})},Vt.prototype.destroy=function(x){x.chart&&x.chart.clearChart()},Vt.prototype.drawChart=function(x,B,K,dt){this.destroy(x),!x.destroyed&&(x.options.code&&window.console.log("var data = new google.visualization.DataTable("+K.toJSON()+`);
var chart = new google.visualization.`+B+`(element);
chart.draw(data, `+JSON.stringify(dt)+");"),x.chart=new this.library.visualization[B](x.element),ft(function(){x.chart.draw(K,dt)}))},Vt.prototype.waitForLoaded=function(x,B,K){var dt=this;if(K||(K=B,B="corechart"),st.push({pack:B,callback:K}),R[B])this.runCallbacks();else{R[B]=!0;var At={packages:[B],callback:function(){dt.runCallbacks()}},Zt=x.__config();Zt.language&&(At.language=Zt.language),B==="geochart"&&Zt.mapsApiKey&&(At.mapsApiKey=Zt.mapsApiKey),this.library.charts.load("current",At)}},Vt.prototype.runCallbacks=function(){for(var x,B,K=0;K<st.length;K++)x=st[K],B=this.library.visualization&&(x.pack==="corechart"&&this.library.visualization.LineChart||x.pack==="timeline"&&this.library.visualization.Timeline||x.pack==="geochart"&&this.library.visualization.GeoChart),B&&(x.callback(),st.splice(K,1),K--)},Vt.prototype.createDataTable=function(x,B){var K,dt,At,Zt,ae,le=[],Ee=[];for(K=0;K<x.length;K++)for(At=x[K],x[K].name=x[K].name||"Value",dt=0;dt<At.data.length;dt++)Zt=At.data[dt],ae=B==="datetime"?Zt[0].getTime():Zt[0],le[ae]||(le[ae]=new Array(x.length),Ee.push(ae)),le[ae][K]=u(Zt[1]);var ze=[],Tn=!0,fe;for(dt=0;dt<Ee.length;dt++)K=Ee[dt],B==="datetime"?(fe=new Date(u(K)),Tn=Tn&&M(fe)):B==="number"?fe=u(K):fe=K,ze.push([fe].concat(le[K]));if(B==="datetime")ze.sort(m);else if(B==="number"){for(ze.sort(g),K=0;K<ze.length;K++)ze[K][0]=c(ze[K][0]);B="string"}var He=new this.library.visualization.DataTable;for(B=B==="datetime"&&Tn?"date":B,He.addColumn(B,""),K=0;K<x.length;K++)He.addColumn("number",x[K].name);return He.addRows(ze),He};function he(C,x){var B=[],K,dt;if(x==="number"?dt=u:x==="datetime"?dt=h:dt=c,x==="bubble")for(K=0;K<C.length;K++)B.push([u(C[K][0]),u(C[K][1]),u(C[K][2])]);else for(K=0;K<C.length;K++)B.push([dt(C[K][0]),u(C[K][1])]);return x==="datetime"?B.sort(m):x==="number"&&B.sort(g),B}function jt(C,x,B){return Bn(C)?(B.xmin||B.xmax)&&(!B.xmin||I(B.xmin))&&(!B.xmax||I(B.xmax))?"datetime":"number":ye(C,G)?"number":!x&&ye(C,I)?"datetime":"string"}function ye(C,x){var B,K,dt;for(B=0;B<C.length;B++)for(dt=f(C[B].data),K=0;K<dt.length;K++)if(!x(dt[K][0]))return!1;return!0}function Re(C){var x=[],B,K;for(B=0;B<C.length;B++){var dt={};for(K in C[B])C[B].hasOwnProperty(K)&&(dt[K]=C[B][K]);x.push(dt)}return x}function Te(C,x,B){var K,dt=C.options,At=C.rawData;for(C.singleSeriesFormat=!e(At)||typeof At[0]!="object"||e(At[0]),C.singleSeriesFormat&&(At=[{name:dt.label,data:At}]),At=Re(At),K=0;K<At.length;K++)At[K].data=f(At[K].data);for(C.xtype=x||(dt.discrete?"string":jt(At,B,dt)),K=0;K<At.length;K++)At[K].data=he(At[K].data,C.xtype);return At}function Xn(C){var x=f(C.rawData),B;for(B=0;B<x.length;B++)x[B]=[c(x[B][0]),u(x[B][1])];return x}function Bn(C,x){if(x==="PieChart"||x==="GeoChart"||x==="Timeline")return C.length===0;for(var B=0;B<C.length;B++)if(C[B].data.length>0)return!1;return!0}function Ia(C){var x=C.element,B=document.createElement("a"),K=C.options.download;K===!0?K={}:typeof K=="string"&&(K={filename:K}),B.download=K.filename||"chart.png",B.style.position="absolute",B.style.top="20px",B.style.right="20px",B.style.zIndex=1e3,B.style.lineHeight="20px",B.target="_blank";var dt=document.createElement("img");dt.alt="Download",dt.style.border="none",dt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",B.appendChild(dt),x.style.position="relative",C.__downloadAttached=!0,C.__enterEvent=ds(x,"mouseover",function(At){var Zt=At.relatedTarget;(!Zt||Zt!==this&&!$s(this,Zt))&&C.options.download&&(B.href=C.toImage(K),x.appendChild(B))}),C.__leaveEvent=ds(x,"mouseout",function(At){var Zt=At.relatedTarget;(!Zt||Zt!==this&&!$s(this,Zt))&&B.parentNode&&B.parentNode.removeChild(B)})}function ds(C,x,B){if(C.addEventListener)return C.addEventListener(x,B,!1),B;var K=function(){return B.call(C,window.event)};return C.attachEvent("on"+x,K),K}function Br(C,x,B){C.removeEventListener?C.removeEventListener(x,B,!1):C.detachEvent("on"+x,B)}function $s(C,x){if(C===x)return!1;for(;x&&x!==C;)x=x.parentNode;return x===C}var Do=[],Na=0,Mh=4;function Th(C,x,B){Do.push([C,x,B]),H()}function H(){if(Na<Mh){var C=Do.shift();C&&(Na++,St(C[0],C[1],C[2]),H())}}function ct(){Na--,H()}function St(C,x,B){wt(C,x,function(K,dt,At){var Zt=typeof At=="string"?At:At.message;B(Zt)})}function wt(C,x,B){var K=window.jQuery||window.Zepto||window.$;if(K&&K.ajax)K.ajax({dataType:"json",url:C,success:x,error:B,complete:ct});else{var dt=new XMLHttpRequest;dt.open("GET",C,!0),dt.setRequestHeader("Content-Type","application/json"),dt.onload=function(){ct(),dt.status===200?x(JSON.parse(dt.responseText),dt.statusText,dt):B(dt,"error",dt.statusText)},dt.send()}}var Pt={},se=[];function te(C,x){document.body.innerText?C.innerText=x:C.textContent=x}function Ht(C,x,B){B||(x="Error Loading Chart: "+x),te(C,x),C.style.color="#ff0000"}function ve(C){try{C.__render()}catch(x){throw Ht(C.element,x.message),x}}function Ue(C,x,B){if(B&&C.options.loading&&(typeof x=="string"||typeof x=="function")&&te(C.element,C.options.loading),typeof x=="string")Th(x,function(K){C.rawData=K,ve(C)},function(K){Ht(C.element,K)});else if(typeof x=="function")try{x(function(K){C.rawData=K,ve(C)},function(K){Ht(C.element,K,!0)})}catch(K){Ht(C.element,K,!0)}else C.rawData=x,ve(C)}function Ve(C){if(C){if(C.product==="Highcharts")return k;if(C.charts)return Vt;if(i(C))return Rt}throw new Error("Unknown adapter")}function Ne(C){var x=Ve(C),B=new x(C);se.indexOf(B)===-1&&se.push(B)}function gn(){"Chart"in window&&Ne(window.Chart),"Highcharts"in window&&Ne(window.Highcharts),window.google&&window.google.charts&&Ne(window.google)}function zr(C,x){if(Bn(x.data,C)){var B=x.options.empty||x.options.messages&&x.options.messages.empty||"No data";te(x.element,B)}else ps(C,x),x.options.download&&!x.__downloadAttached&&x.adapter==="chartjs"&&Ia(x)}function ps(C,x){var B,K,dt,At;for(dt="render"+C,At=x.options.adapter,gn(),B=0;B<se.length;B++)if(K=se[B],(!At||At===K.name)&&i(K[dt]))return x.adapter=K.name,x.__adapterObject=K,K[dt](x);throw se.length>0?new Error("No charting library found for "+C):new Error("No charting libraries found - be sure to include one before your charts")}var qe=function(x,B,K){var dt;if(typeof x=="string"&&(dt=x,x=document.getElementById(x),!x))throw new Error("No element with id "+dt);this.element=x,this.options=o(pn.options,K||{}),this.dataSource=B,pn.charts[x.id]=this,Ue(this,B,!0),this.options.refresh&&this.startRefresh()};qe.prototype.getElement=function(){return this.element},qe.prototype.getDataSource=function(){return this.dataSource},qe.prototype.getData=function(){return this.data},qe.prototype.getOptions=function(){return this.options},qe.prototype.getChartObject=function(){return this.chart},qe.prototype.getAdapter=function(){return this.adapter},qe.prototype.updateData=function(x,B){this.dataSource=x,B&&this.__updateOptions(B),Ue(this,x,!0)},qe.prototype.setOptions=function(x){this.__updateOptions(x),this.redraw()},qe.prototype.redraw=function(){Ue(this,this.rawData)},qe.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var x=this.dataSource.indexOf("?")===-1?"?":"&",B=this.dataSource+x+"_="+new Date().getTime();Ue(this,B)}else typeof this.dataSource=="function"&&Ue(this,this.dataSource)},qe.prototype.startRefresh=function(){var x=this,B=this.options.refresh;if(B&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(B)this.intervalId=setInterval(function(){x.refreshData()},B*1e3);else throw new Error("No refresh interval")},qe.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},qe.prototype.toImage=function(x){if(this.adapter==="chartjs")if(x&&x.background&&x.background!=="transparent"){var B=this.chart.canvas,K=this.chart.ctx,dt=document.createElement("canvas"),At=dt.getContext("2d");return dt.width=K.canvas.width,dt.height=K.canvas.height,At.fillStyle=x.background,At.fillRect(0,0,dt.width,dt.height),At.drawImage(B,0,0),dt.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")},qe.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&Br(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&Br(this.element,"mouseout",this.__leaveEvent)},qe.prototype.__updateOptions=function(x){var B=x.refresh&&x.refresh!==this.options.refresh;this.options=o(pn.options,x),B&&(this.stopRefresh(),this.startRefresh())},qe.prototype.__render=function(){this.data=this.__processData(),zr(this.__chartName(),this)},qe.prototype.__config=function(){return Pt};var bi=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Te(this)},x.prototype.__chartName=function(){return"LineChart"},x}(qe),Be=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Xn(this)},x.prototype.__chartName=function(){return"PieChart"},x}(qe),sr=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Te(this,null,!0)},x.prototype.__chartName=function(){return"ColumnChart"},x}(qe),xn=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Te(this,null,!0)},x.prototype.__chartName=function(){return"BarChart"},x}(qe),Ii=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Te(this)},x.prototype.__chartName=function(){return"AreaChart"},x}(qe),Ki=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Xn(this)},x.prototype.__chartName=function(){return"GeoChart"},x}(qe),Ni=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Te(this,"number")},x.prototype.__chartName=function(){return"ScatterChart"},x}(qe),ka=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){return Te(this,"bubble")},x.prototype.__chartName=function(){return"BubbleChart"},x}(qe),zn=function(C){function x(){C.apply(this,arguments)}return C&&(x.__proto__=C),x.prototype=Object.create(C&&C.prototype),x.prototype.constructor=x,x.prototype.__processData=function(){var K,dt=this.rawData;for(K=0;K<dt.length;K++)dt[K][1]=h(dt[K][1]),dt[K][2]=h(dt[K][2]);return dt},x.prototype.__chartName=function(){return"Timeline"},x}(qe),pn={LineChart:bi,PieChart:Be,ColumnChart:sr,BarChart:xn,AreaChart:Ii,GeoChart:Ki,ScatterChart:Ni,BubbleChart:ka,Timeline:zn,charts:{},configure:function(C){for(var x in C)C.hasOwnProperty(x)&&(Pt[x]=C[x])},setDefaultOptions:function(C){pn.options=C},eachChart:function(C){for(var x in pn.charts)pn.charts.hasOwnProperty(x)&&C(pn.charts[x])},destroyAll:function(){for(var C in pn.charts)pn.charts.hasOwnProperty(C)&&(pn.charts[C].destroy(),delete pn.charts[C])},config:Pt,options:{},adapters:se,addAdapter:Ne,use:function(C){return Ne(C),pn}};return typeof window<"u"&&!window.Chartkick&&(window.Chartkick=pn,document.addEventListener("turbolinks:before-render",function(){Pt.autoDestroy!==!1&&pn.destroyAll()}),document.addEventListener("turbo:before-render",function(){Pt.autoDestroy!==!1&&pn.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0)),pn.default=pn,pn})})(p3);const fr=p3.exports;/*!
 * Vue Chartkick
 * Create beautiful JavaScript charts with one line of Vue
 * https://github.com/ankane/vue-chartkick
 * v1.1.0
 * MIT License
 */var Sq=1,$o=function(n,t,e){var i=["adapter","bytes","code","colors","curve","dataset","decimal","discrete","donut","download","empty","label","legend","library","loading","max","messages","min","points","precision","prefix","refresh","round","stacked","suffix","thousands","title","xmax","xmin","xtitle","ytitle","zeros"];n.component(t,{props:["data","id","width","height"].concat(i),render:function(){var r=this.chartOptions.loading!==void 0?this.chartOptions.loading:"Loading...";if(typeof r!="string")throw new Error("loading must be a string");return cS("div",{id:this.chartId,style:this.chartStyle},[r])},data:function(){return{chartId:null}},computed:{chartStyle:function(){return this.data,this.chartOptions,{height:this.height||"300px",lineHeight:this.height||"300px",width:this.width||"100%",textAlign:"center",color:"#999",fontSize:"14px",fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif"}},chartOptions:function(){for(var r={},s=i,o=0;o<s.length;o++){var a=s[o];this[a]!==void 0&&(r[a]=this[a])}return r}},created:function(){this.chartId=this.chartId||this.id||"chart-"+Sq++},mounted:function(){this.updateChart()},updated:function(){this.updateChart()},beforeUnmount:function(){this.chart&&this.chart.destroy()},methods:{updateChart:function(){this.data!==null?this.chart?this.chart.updateData(this.data,this.chartOptions):this.chart=new e(this.chartId,this.data,this.chartOptions):this.chart&&(this.chart.destroy(),this.chart=null,this.$el.innerText="Loading...")}}})};fr.install=function(n,t){t&&t.adapter&&fr.addAdapter(t.adapter),$o(n,"line-chart",fr.LineChart),$o(n,"pie-chart",fr.PieChart),$o(n,"column-chart",fr.ColumnChart),$o(n,"bar-chart",fr.BarChart),$o(n,"area-chart",fr.AreaChart),$o(n,"scatter-chart",fr.ScatterChart),$o(n,"geo-chart",fr.GeoChart),$o(n,"timeline",fr.Timeline)};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Ys(){}const Mq=function(){let n=0;return function(){return n++}}();function Je(n){return n===null||typeof n>"u"}function _n(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function je(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const Hn=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function Tr(n,t){return Hn(n)?n:t}function Ie(n,t){return typeof n>"u"?t:n}const Tq=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/t,m3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function yn(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ln(n,t,e,i){let r,s,o;if(_n(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(je(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function py(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function my(n){if(_n(n))return n.map(my);if(je(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=my(n[e[r]]);return t}return n}function g3(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Aq(n,t,e,i){if(!g3(n))return;const r=t[n],s=e[n];je(r)&&je(s)?dd(r,s,i):t[n]=my(s)}function dd(n,t,e){const i=_n(t)?t:[t],r=i.length;if(!je(n))return n;e=e||{};const s=e.merger||Aq;for(let o=0;o<r;++o){if(t=i[o],!je(t))continue;const a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)s(a[l],n,t,e)}return n}function Nf(n,t){return dd(n,t,{merger:Cq})}function Cq(n,t,e){if(!g3(n))return;const i=t[n],r=e[n];je(i)&&je(r)?Nf(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=my(r))}const _O={"":n=>n,x:n=>n.x,y:n=>n.y};function ya(n,t){return(_O[t]||(_O[t]=Oq(t)))(n)}function Oq(n){const t=Pq(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Pq(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function dM(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Lr=n=>typeof n<"u",_a=n=>typeof n=="function",vO=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Dq(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Dn=Math.PI,fn=2*Dn,Rq=fn+Dn,gy=Number.POSITIVE_INFINITY,Lq=Dn/180,kn=Dn/2,qh=Dn/4,bO=Dn*2/3,Cr=Math.log10,Is=Math.sign;function xO(n){const t=Math.round(n);n=kf(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Cr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Iq(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function zu(n){return!isNaN(parseFloat(n))&&isFinite(n)}function kf(n,t,e){return Math.abs(n-t)<e}function Nq(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function y3(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Zr(n){return n*(Dn/180)}function pM(n){return n*(180/Dn)}function wO(n){if(!Hn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function _3(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*Dn&&(s+=fn),{angle:s,distance:r}}function Jx(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function kq(n,t){return(n-t+Rq)%fn-Dn}function dr(n){return(n%fn+fn)%fn}function pd(n,t,e,i){const r=dr(n),s=dr(t),o=dr(e),a=dr(s-r),l=dr(o-r),c=dr(r-s),u=dr(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function ci(n,t,e){return Math.max(t,Math.min(e,n))}function Fq(n){return ci(n,-32768,32767)}function uo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function mM(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const ho=(n,t,e,i)=>mM(n,e,i?r=>n[r][t]<=e:r=>n[r][t]<e),Bq=(n,t,e)=>mM(n,e,i=>n[i][t]>=e);function zq(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const v3=["push","pop","shift","splice","unshift"];function Uq(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),v3.forEach(e=>{const i="_onData"+dM(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function EO(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(v3.forEach(s=>{delete n[s]}),delete n._chartjs)}function b3(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const x3=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function w3(n,t,e){const i=e||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=i(o),r||(r=!0,x3.call(window,()=>{r=!1,n.apply(t,s)}))}}function Vq(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const gM=n=>n==="start"?"left":n==="end"?"right":"center",Si=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Hq=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function E3(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=ci(Math.min(ho(a,o.axis,c).lo,e?i:ho(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?s=ci(Math.max(ho(a,o.axis,u,!0).hi+1,e?0:ho(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function S3(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Wp=n=>n===0||n===1,SO=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*fn/e)),MO=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*fn/e)+1,Ff={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*kn)+1,easeOutSine:n=>Math.sin(n*kn),easeInOutSine:n=>-.5*(Math.cos(Dn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wp(n)?n:SO(n,.075,.3),easeOutElastic:n=>Wp(n)?n:MO(n,.075,.3),easeInOutElastic(n){return Wp(n)?n:n<.5?.5*SO(n*2,.1125,.45):.5+.5*MO(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ff.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ff.easeInBounce(n*2)*.5:Ff.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Gd(n){return n+.5|0}const ra=(n,t,e)=>Math.max(Math.min(n,e),t);function bf(n){return ra(Gd(n*2.55),0,255)}function ca(n){return ra(Gd(n*255),0,255)}function oo(n){return ra(Gd(n/2.55)/100,0,1)}function TO(n){return ra(Gd(n*100),0,100)}const wr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zx=[..."0123456789ABCDEF"],$q=n=>Zx[n&15],Wq=n=>Zx[(n&240)>>4]+Zx[n&15],Gp=n=>(n&240)>>4===(n&15),Gq=n=>Gp(n.r)&&Gp(n.g)&&Gp(n.b)&&Gp(n.a);function jq(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&wr[n[1]]*17,g:255&wr[n[2]]*17,b:255&wr[n[3]]*17,a:t===5?wr[n[4]]*17:255}:(t===7||t===9)&&(e={r:wr[n[1]]<<4|wr[n[2]],g:wr[n[3]]<<4|wr[n[4]],b:wr[n[5]]<<4|wr[n[6]],a:t===9?wr[n[7]]<<4|wr[n[8]]:255})),e}const qq=(n,t)=>n<255?t(n):"";function Yq(n){var t=Gq(n)?$q:Wq;return n?"#"+t(n.r)+t(n.g)+t(n.b)+qq(n.a,t):void 0}const Xq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M3(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Kq(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Qq(n,t,e){const i=M3(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Jq(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function yM(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Jq(e,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function _M(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ca)}function vM(n,t,e){return _M(M3,n,t,e)}function Zq(n,t,e){return _M(Qq,n,t,e)}function t9(n,t,e){return _M(Kq,n,t,e)}function T3(n){return(n%360+360)%360}function e9(n){const t=Xq.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?bf(+t[5]):ca(+t[5]));const r=T3(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Zq(r,s,o):t[1]==="hsv"?i=t9(r,s,o):i=vM(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function n9(n,t){var e=yM(n);e[0]=T3(e[0]+t),e=vM(e),n.r=e[0],n.g=e[1],n.b=e[2]}function i9(n){if(!n)return;const t=yM(n),e=t[0],i=TO(t[1]),r=TO(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${oo(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const AO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},CO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function r9(){const n={},t=Object.keys(CO),e=Object.keys(AO);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,AO[s]);s=parseInt(CO[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let jp;function s9(n){jp||(jp=r9(),jp.transparent=[0,0,0,0]);const t=jp[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const o9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function a9(n){const t=o9.exec(n);let e=255,i,r,s;if(!!t){if(t[7]!==i){const o=+t[7];e=t[8]?bf(o):ra(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?bf(i):ra(i,0,255)),r=255&(t[4]?bf(r):ra(r,0,255)),s=255&(t[6]?bf(s):ra(s,0,255)),{r:i,g:r,b:s,a:e}}}function l9(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${oo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const $b=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Dc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function c9(n,t,e){const i=Dc(oo(n.r)),r=Dc(oo(n.g)),s=Dc(oo(n.b));return{r:ca($b(i+e*(Dc(oo(t.r))-i))),g:ca($b(r+e*(Dc(oo(t.g))-r))),b:ca($b(s+e*(Dc(oo(t.b))-s))),a:n.a+e*(t.a-n.a)}}function qp(n,t,e){if(n){let i=yM(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=vM(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function A3(n,t){return n&&Object.assign(t||{},n)}function OO(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ca(n[3]))):(t=A3(n,{r:0,g:0,b:0,a:1}),t.a=ca(t.a)),t}function u9(n){return n.charAt(0)==="r"?a9(n):e9(n)}class yy{constructor(t){if(t instanceof yy)return t;const e=typeof t;let i;e==="object"?i=OO(t):e==="string"&&(i=jq(t)||s9(t)||u9(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=A3(this._rgb);return t&&(t.a=oo(t.a)),t}set rgb(t){this._rgb=OO(t)}rgbString(){return this._valid?l9(this._rgb):void 0}hexString(){return this._valid?Yq(this._rgb):void 0}hslString(){return this._valid?i9(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=c9(this._rgb,t._rgb,e)),this}clone(){return new yy(this.rgb)}alpha(t){return this._rgb.a=ca(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Gd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qp(this._rgb,2,t),this}darken(t){return qp(this._rgb,2,-t),this}saturate(t){return qp(this._rgb,1,t),this}desaturate(t){return qp(this._rgb,1,-t),this}rotate(t){return n9(this._rgb,t),this}}function C3(n){return new yy(n)}function O3(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function PO(n){return O3(n)?n:C3(n)}function Wb(n){return O3(n)?n:C3(n).saturate(.5).darken(.1).hexString()}const Ul=Object.create(null),tw=Object.create(null);function Bf(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function Gb(n,t,e){return typeof t=="string"?dd(Bf(n,t),e):dd(Bf(n,""),t)}class h9{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>Wb(i.backgroundColor),this.hoverBorderColor=(e,i)=>Wb(i.borderColor),this.hoverColor=(e,i)=>Wb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return Gb(this,t,e)}get(t){return Bf(this,t)}describe(t,e){return Gb(tw,t,e)}override(t,e){return Gb(Ul,t,e)}route(t,e,i,r){const s=Bf(this,t),o=Bf(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[r];return je(l)?Object.assign({},c,l):Ie(l,c)},set(l){this[a]=l}}})}}var Ye=new h9({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function f9(n){return!n||Je(n.size)||Je(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function _y(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function d9(n,t,e,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=e[l],h!=null&&_n(h)!==!0)o=_y(n,r,s,o,h);else if(_n(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!_n(f)&&(o=_y(n,r,s,o,f));n.restore();const p=s.length/2;if(p>e.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function rl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function DO(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function ew(n,t,e,i){P3(n,t,e,i,null)}function P3(n,t,e,i,r){let s,o,a,l,c,u;const h=t.pointStyle,f=t.rotation,p=t.radius;let m=(f||0)*Lq;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(m),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),h){default:r?n.ellipse(e,i,r/2,p,0,0,fn):n.arc(e,i,p,0,fn),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(m)*p,i-Math.cos(m)*p),m+=bO,n.lineTo(e+Math.sin(m)*p,i-Math.cos(m)*p),m+=bO,n.lineTo(e+Math.sin(m)*p,i-Math.cos(m)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+qh)*l,a=Math.sin(m+qh)*l,n.arc(e-o,i-a,c,m-Dn,m-kn),n.arc(e+a,i-o,c,m-kn,m),n.arc(e+o,i+a,c,m,m+kn),n.arc(e-a,i+o,c,m+kn,m+Dn),n.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*p,u=r?r/2:l,n.rect(e-u,i-l,2*u,2*l);break}m+=qh;case"rectRot":o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+a,i-o),n.lineTo(e+o,i+a),n.lineTo(e-a,i+o),n.closePath();break;case"crossRot":m+=qh;case"cross":o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"star":o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o),m+=qh,o=Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"line":o=r?r/2:Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(m)*p,i+Math.sin(m)*p);break}n.fill(),t.borderWidth>0&&n.stroke()}}function md(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function av(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function lv(n){n.restore()}function p9(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function m9(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Vl(n,t,e,i,r,s={}){const o=_n(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,g9(n,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Je(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,e,i,s.maxWidth)),n.fillText(c,e,i,s.maxWidth),y9(n,e,i,c,s),i+=r.lineHeight;n.restore()}function g9(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Je(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function y9(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,c=e+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function gd(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,-kn,Dn,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Dn,kn,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,kn,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-kn,!0),n.lineTo(e+o.topLeft,i)}const _9=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),v9=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function b9(n,t){const e=(""+n).match(_9);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const x9=n=>+n||0;function bM(n,t){const e={},i=je(t),r=i?Object.keys(t):t,s=je(n)?i?o=>Ie(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=x9(s(o));return e}function D3(n){return bM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Pl(n){return bM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ri(n){const t=D3(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jn(n,t){n=n||{},t=t||Ye.font;let e=Ie(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ie(n.style,t.style);i&&!(""+i).match(v9)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Ie(n.family,t.family),lineHeight:b9(Ie(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ie(n.weight,t.weight),string:""};return r.string=f9(r),r}function xf(n,t,e,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&_n(a)&&(a=a[e%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function w9(n,t,e){const{min:i,max:r}=n,s=m3(t,(r-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Aa(n,t){return Object.assign(Object.create(n),t)}function xM(n,t=[""],e=n,i,r=()=>n[0]){Lr(i)||(i=N3("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:o=>xM([o,...n],t,e,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete n[0][a],!0},get(o,a){return L3(o,a,()=>P9(a,t,n,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,a){return LO(o).includes(a)},ownKeys(o){return LO(o)},set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function Uu(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:R3(n,i),setContext:s=>Uu(n,s,e,i),override:s=>Uu(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return L3(s,o,()=>S9(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function R3(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:_a(e)?e:()=>e,isIndexable:_a(i)?i:()=>i}}const E9=(n,t)=>n?n+dM(t):t,wM=(n,t)=>je(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function L3(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function S9(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let a=i[t];return _a(a)&&o.isScriptable(t)&&(a=M9(t,a,n,e)),_n(a)&&a.length&&(a=T9(t,a,n,o.isIndexable)),wM(t,a)&&(a=Uu(a,r,s&&s[t],o)),a}function M9(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),t=t(s,o||i),a.delete(n),wM(n,t)&&(t=EM(r._scopes,r,n,t)),t}function T9(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(Lr(s.index)&&i(n))t=t[s.index%t.length];else if(je(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=EM(c,r,n,u);t.push(Uu(h,s,o&&o[n],a))}}return t}function I3(n,t,e){return _a(n)?n(t,e):n}const A9=(n,t)=>n===!0?t:typeof n=="string"?ya(t,n):void 0;function C9(n,t,e,i,r){for(const s of t){const o=A9(e,s);if(o){n.add(o);const a=I3(o._fallback,e,r);if(Lr(a)&&a!==e&&a!==i)return a}else if(o===!1&&Lr(i)&&e!==i)return null}return!1}function EM(n,t,e,i){const r=t._rootScopes,s=I3(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let l=RO(a,o,e,s||e,i);return l===null||Lr(s)&&s!==e&&(l=RO(a,o,s,l,i),l===null)?!1:xM(Array.from(a),[""],r,s,()=>O9(t,e,i))}function RO(n,t,e,i,r){for(;e;)e=C9(n,t,e,i,r);return e}function O9(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return _n(r)&&je(e)?e:r}function P9(n,t,e,i){let r;for(const s of t)if(r=N3(E9(s,n),e),Lr(r))return wM(n,r)?EM(e,i,n,r):r}function N3(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Lr(i))return i}}function LO(n){let t=n._keys;return t||(t=n._keys=D9(n._scopes)),t}function D9(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function k3(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+e,u=t[c],o[a]={r:r.parse(ya(u,s),c)};return o}const R9=Number.EPSILON||1e-14,Vu=(n,t)=>t<n.length&&!n[t].skip&&n[t],F3=n=>n==="x"?"y":"x";function L9(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,a=Jx(s,r),l=Jx(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function I9(n,t,e){const i=n.length;let r,s,o,a,l,c=Vu(n,0);for(let u=0;u<i-1;++u)if(l=c,c=Vu(n,u+1),!(!l||!c)){if(kf(t[u],0,R9)){e[u]=e[u+1]=0;continue}r=e[u]/t[u],s=e[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=r*o*t[u],e[u+1]=s*o*t[u])}}function N9(n,t,e="x"){const i=F3(e),r=n.length;let s,o,a,l=Vu(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Vu(n,c+1),!a)continue;const u=a[e],h=a[i];o&&(s=(u-o[e])/3,a[`cp1${e}`]=u-s,a[`cp1${i}`]=h-s*t[c]),l&&(s=(l[e]-u)/3,a[`cp2${e}`]=u+s,a[`cp2${i}`]=h+s*t[c])}}function k9(n,t="x"){const e=F3(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Vu(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=Vu(n,o+1),!!l){if(c){const u=c[t]-l[t];r[o]=u!==0?(c[e]-l[e])/u:0}s[o]=a?c?Is(r[o-1])!==Is(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}I9(n,r,s),N9(n,s,t)}function Yp(n,t,e){return Math.max(Math.min(n,e),t)}function F9(n,t){let e,i,r,s,o,a=md(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=a,a=e<i-1&&md(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Yp(r.cp1x,t.left,t.right),r.cp1y=Yp(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Yp(r.cp2x,t.left,t.right),r.cp2y=Yp(r.cp2y,t.top,t.bottom)))}function B9(n,t,e,i,r){let s,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")k9(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=L9(c,a,n[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&F9(n,e)}function B3(){return typeof window<"u"&&typeof document<"u"}function SM(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function vy(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const cv=n=>window.getComputedStyle(n,null);function z9(n,t){return cv(n).getPropertyValue(t)}const U9=["top","right","bottom","left"];function Dl(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=U9[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const V9=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function H9(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(V9(r,s,n.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function hl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=cv(e),s=r.boxSizing==="border-box",o=Dl(r,"padding"),a=Dl(r,"border","width"),{x:l,y:c,box:u}=H9(n,e),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=t;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/p*e.width/i),y:Math.round((c-f)/m*e.height/i)}}function $9(n,t,e){let i,r;if(t===void 0||e===void 0){const s=SM(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),a=cv(s),l=Dl(a,"border","width"),c=Dl(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=vy(a.maxWidth,s,"clientWidth"),r=vy(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||gy,maxHeight:r||gy}}const jb=n=>Math.round(n*10)/10;function W9(n,t,e,i){const r=cv(n),s=Dl(r,"margin"),o=vy(r.maxWidth,n,"clientWidth")||gy,a=vy(r.maxHeight,n,"clientHeight")||gy,l=$9(n,t,e);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=Dl(r,"border","width"),f=Dl(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=jb(Math.min(c,o,l.maxWidth)),u=jb(Math.min(u,a,l.maxHeight)),c&&!u&&(u=jb(c/2)),{width:c,height:u}}function IO(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const G9=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function NO(n,t){const e=z9(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function fl(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function j9(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function q9(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=fl(n,r,e),a=fl(r,s,e),l=fl(s,t,e),c=fl(o,a,e),u=fl(a,l,e);return fl(c,u,e)}const kO=new Map;function Y9(n,t){t=t||{};const e=n+JSON.stringify(t);let i=kO.get(e);return i||(i=new Intl.NumberFormat(n,t),kO.set(e,i)),i}function jd(n,t,e){return Y9(t,e).format(n)}const X9=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},K9=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function wu(n,t,e){return n?X9(t,e):K9()}function z3(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function U3(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function V3(n){return n==="angle"?{between:pd,compare:kq,normalize:dr}:{between:uo,compare:(t,e)=>t-e,normalize:t=>t}}function FO({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function Q9(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:a}=V3(i),l=t.length;let{start:c,end:u,loop:h}=n,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(t[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function H3(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:a,between:l,normalize:c}=V3(i),{start:u,end:h,loop:f,style:p}=Q9(n,t,e),m=[];let g=!1,y=null,v,w,M;const E=()=>l(r,M,v)&&a(r,M)!==0,T=()=>a(s,v)===0||l(s,M,v),D=()=>g||E(),I=()=>!g||T();for(let G=u,j=u;G<=h;++G)w=t[G%o],!w.skip&&(v=c(w[i]),v!==M&&(g=l(v,r,s),y===null&&D()&&(y=a(v,r)===0?G:j),y!==null&&I()&&(m.push(FO({start:y,end:G,loop:f,count:o,style:p})),y=null),j=G,M=v));return y!==null&&m.push(FO({start:y,end:h,loop:f,count:o,style:p})),m}function $3(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=H3(i[r],n.points,t);s.length&&e.push(...s)}return e}function J9(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function Z9(n,t,e,i){const r=n.length,s=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function tY(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:a}=J9(e,r,s,i);if(i===!0)return BO(n,[{start:o,end:a,loop:s}],e,t);const l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return BO(n,Z9(e,o,l,c),e,t)}function BO(n,t,e,i){return!i||!i.setContext||!e?t:eY(n,t,e,i)}function eY(n,t,e,i){const r=n._chart.getContext(),s=zO(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=s,h=t[0].start,f=h;function p(m,g,y,v){const w=a?-1:1;if(m!==g){for(m+=l;e[m%l].skip;)m-=w;for(;e[g%l].skip;)g+=w;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:y,style:v}),u=v,h=g%l)}}for(const m of t){h=a?h:m.start;let g=e[h%l],y;for(f=h+1;f<=m.end;f++){const v=e[f%l];y=zO(i.setContext(Aa(r,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),nY(y,u)&&p(h,f-1,m.loop,u),g=v,u=y}h<f-1&&p(h,f-1,m.loop,u)}return c}function zO(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function nY(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class iY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=x3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var eo=new iY;const UO="transparent",rY={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=PO(n||UO),r=i.valid&&PO(t||UO);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class sY{constructor(t,e,i,r){const s=e[i];r=xf([t.to,r,s,t.from]);const o=xf([t.from,s,r]);this._active=!0,this._fn=t.fn||rY[t.type||typeof o],this._easing=Ff[t.easing]||Ff.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=xf([t.to,e,r,t.from]),this._from=xf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}const oY=["x","y","borderWidth","radius","tension"],aY=["color","borderColor","backgroundColor"];Ye.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const lY=Object.keys(Ye.animation);Ye.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});Ye.set("animations",{colors:{type:"color",properties:aY},numbers:{type:"number",properties:oY}});Ye.describe("animations",{_fallback:"animation"});Ye.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class W3{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!je(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!je(r))return;const s={};for(const o of lY)s[o]=r[o];(_n(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!e.has(o))&&e.set(o,s)})})}_animateOptions(t,e){const i=e.options,r=uY(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&cY(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,e));continue}const u=e[c];let h=s[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}s[c]=h=new sY(f,t,c,u),r.push(h)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return eo.add(this._chart,i),!0}}function cY(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function uY(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function VO(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function hY(n,t,e){if(e===!1)return!1;const i=VO(n,e),r=VO(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function fY(n){let t,e,i,r;return je(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function G3(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function HO(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(i.all)continue;break}c=n.values[l],Hn(c)&&(s||t===0||Is(t)===Is(c))&&(t+=c)}return t}}function dY(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}function $O(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function pY(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function mY(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function gY(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function WO(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function GO(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=pY(s,o,i),h=t.length;let f;for(let p=0;p<h;++p){const m=t[p],{[l]:g,[c]:y}=m,v=m._stacks||(m._stacks={});f=v[c]=gY(r,u,g),f[a]=y,f._top=WO(f,o,!0,i.type),f._bottom=WO(f,o,!1,i.type)}}function qb(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function yY(n,t){return Aa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function _Y(n,t,e){return Aa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Yh(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(!!i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e]}}}const Yb=n=>n==="reset"||n==="none",jO=(n,t)=>t?n:Object.assign({},n),vY=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:G3(e,!0),values:null};class ls{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$O(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Yh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,s=e.xAxisID=Ie(i.xAxisID,qb(t,"x")),o=e.yAxisID=Ie(i.yAxisID,qb(t,"y")),a=e.rAxisID=Ie(i.rAxisID,qb(t,"r")),l=e.indexAxis,c=e.iAxisID=r(l,s,o,a),u=e.vAxisID=r(l,o,s,a);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&EO(this._data,this),t._stacked&&Yh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(je(e))this._data=dY(e);else if(i!==e){if(i){EO(i,this);const r=this._cachedMeta;Yh(r),r._parsed=[]}e&&Object.isExtensible(e)&&Uq(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=$O(e.vScale,e),e.stack!==i.stack&&(r=!0,Yh(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&GO(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&e===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{_n(r[t])?f=this.parseArrayData(i,r,t,e):je(r[t])?f=this.parseObjectData(i,r,t,e):f=this.parsePrimitiveData(i,r,t,e);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<e;++u)i._parsed[u+t]=h=f[u],l&&(p()&&(l=!1),c=h);i._sorted=l}o&&GO(this,f)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let f,p,m;for(f=0,p=r;f<p;++f)m=f+i,h[f]={[a]:u||s.parse(c[m],m),[l]:o.parse(e[m],m)};return h}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=e[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,f,p;for(u=0,h=r;u<h;++u)f=u+i,p=e[f],c[u]={x:s.parse(ya(p,a),f),y:o.parse(ya(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],a={keys:G3(r,!0),values:e._stacks[t.axis]};return HO(a,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const a=r&&i._stacks[e.axis];r&&a&&(r.values=a,o=HO(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=vY(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=mY(a);let f,p;function m(){p=r[f];const g=p[a.axis];return!Hn(p[t.axis])||u>g||h<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],Hn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=fY(Ie(this.options.clip,hY(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=_Y(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=yY(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,a=s[o],l=this.enableOptionSharing&&Lr(i);if(a)return jO(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ye.elements[t]),m=()=>this.getContext(i,r),g=c.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(jO(g,l))),g}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,e),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,e))}const c=new W3(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yb(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){Yb(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Yb(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Yh(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ls.defaults={};ls.prototype.datasetElementType=null;ls.prototype.dataElementType=null;function bY(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=b3(i.sort((r,s)=>r-s))}return n._cache.$bar}function xY(n){const t=n.iScale,e=bY(t,n.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Lr(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function wY(n,t,e,i){const r=e.barThickness;let s,o;return Je(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function EY(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}function SY(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function j3(n,t,e,i){return _n(n)?SY(n,t,e,i):t[e.axis]=e.parse(n,i),t}function qO(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,f;for(c=e,u=e+i;c<u;++c)f=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(j3(f,h,s,c));return l}function Xb(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function MY(n,t,e){return n!==0?Is(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function TY(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function AY(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=TY(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=c:(e._bottom||0)===i?r=u:(s[YO(u,o,a,l)]=!0,r=c)),s[YO(r,o,a,l)]=!0,n.borderSkipped=s}function YO(n,t,e,i){return i?(n=CY(n,t,e),n=XO(n,e,t)):n=XO(n,t,e),n}function CY(n,t,e){return n===t?e:n===e?t:n}function XO(n,t,e){return n==="start"?t:n==="end"?e:n}function OY(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class uv extends ls{parsePrimitiveData(t,e,i,r){return qO(t,e,i,r)}parseArrayData(t,e,i,r){return qO(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,m,g;for(f=i,p=i+r;f<p;++f)g=e[f],m={},m[s.axis]=s.parse(ya(g,c),f),h.push(j3(ya(g,u),m,o,f));return h}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,a=Xb(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,r);for(let p=e;p<e+i;p++){const m=this.getParsed(p),g=s||Je(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),v=(m._stacks||{})[a.axis],w={horizontal:c,base:g.base,enableBorderRadius:!v||Xb(m._custom)||o===v._top||o===v._bottom,x:c?g.head:y.center,y:c?y.center:g.head,height:c?y.size:Math.abs(g.size),width:c?Math.abs(g.size):y.size};f&&(w.options=h||this.resolveDataElementOptions(p,t[p].active?"active":r));const M=w.options||t[p].options;AY(w,M,v,o),OY(w,M,u.ratio),this.updateElement(t[p],p,w,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(e),u=c&&c[l.vScale.axis];if(Je(u)||isNaN(u))return!0};for(const l of r)if(!(e!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||xY(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=Xb(l);let u=a[e.axis],h=0,f=i?this.applyStack(e,a,i):u,p,m;f!==u&&(h=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&Is(u)!==Is(l.barEnd)&&(h=0),h+=u);const g=!Je(r)&&!c?r:h;let y=e.getPixelForValue(g);if(this.chart.getDataVisibility(t)?p=e.getPixelForValue(h+f):p=y,m=p-y,Math.abs(m)<s){m=MY(m,e,o)*s,u===o&&(y-=m/2);const v=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),M=Math.min(v,w),E=Math.max(v,w);y=Math.max(Math.min(y,E),M),p=y+m}if(y===e.getPixelForValue(o)){const v=Is(m)*e.getLineWidthForValue(o)/2;y+=v,m-=v}return{size:m,base:y,head:p,center:p+m/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Ie(r.maxBarThickness,1/0);let a,l;if(e.grouped){const c=s?this._getStackCount(t):e.stackCount,u=r.barThickness==="flex"?EY(t,e,r,c):wY(t,e,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&i[s].draw(this._ctx)}}uv.id="bar";uv.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};uv.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class hv extends ls{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let o=0;o<s.length;o++){const a=e[i+o];s[o]._custom=Ie(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let o=0;o<s.length;o++){const a=e[i+o];s[o]._custom=Ie(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:e.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,r),u=o.axis,h=a.axis;for(let f=e;f<e+i;f++){const p=t[f],m=!s&&this.getParsed(f),g={},y=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),v=g[h]=s?a.getBasePixel():a.getPixelForValue(m[h]);g.skip=isNaN(y)||isNaN(v),c&&(g.options=l||this.resolveDataElementOptions(f,p.active?"active":r),s&&(g.options.radius=0)),this.updateElement(p,f,g,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ie(i&&i._custom,s),r}}hv.id="bubble";hv.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};hv.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function PY(n,t,e){let i=1,r=1,s=0,o=0;if(t<fn){const a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(M,E,T)=>pd(M,a,l,!0)?1:Math.max(E,E*e,T,T*e),m=(M,E,T)=>pd(M,a,l,!0)?-1:Math.min(E,E*e,T,T*e),g=p(0,c,h),y=p(kn,u,f),v=m(Dn,c,h),w=m(Dn+kn,u,f);i=(g-v)/2,r=(y-w)/2,s=-(g+v)/2,o=-(y+w)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class fh extends ls{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(je(i[t])){const{key:l="value"}=this._parsing;s=c=>+ya(i[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Zr(this.options.rotation-90)}_getCircumference(){return Zr(this.options.circumference)}_getRotationExtents(){let t=fn,e=-fn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Tq(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=PY(h,u,l),y=(i.width-o)/f,v=(i.height-o)/p,w=Math.max(Math.min(y,v)/2,0),M=m3(this.options.radius,w),E=Math.max(M*l,0),T=(M-E)/this._getVisibleDatasetWeightTotal();this.offsetX=m*M,this.offsetY=g*M,r.total=this.calculateTotal(),this.outerRadius=M-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/fn)}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,r);let v=this._getRotation(),w;for(w=0;w<e;++w)v+=this._circumference(w,s);for(w=e;w<e+i;++w){const M=this._circumference(w,s),E=t[w],T={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+M,circumference:M,outerRadius:m,innerRadius:p};y&&(T.options=g||this.resolveDataElementOptions(w,E.active?"active":r)),v+=M,this.updateElement(E,w,T,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?fn*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=jd(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ie(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}fh.id="doughnut";fh.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};fh.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};fh.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,r)=>{const o=n.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(r),index:r}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let t=n.label;const e=": "+n.formattedValue;return _n(t)?(t=t.slice(),t[0]+=e):t+=e,t}}}}};class fv extends ls{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=E3(e,r,o);this._drawStart=a,this._drawCount=l,S3(e)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r),f=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,y=zu(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none";let w=e>0&&this.getParsed(e-1);for(let M=e;M<e+i;++M){const E=t[M],T=this.getParsed(M),D=v?E:{},I=Je(T[p]),G=D[f]=o.getPixelForValue(T[f],M),j=D[p]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],M);D.skip=isNaN(G)||isNaN(j)||I,D.stop=M>0&&Math.abs(T[f]-w[f])>y,g&&(D.parsed=T,D.raw=c.data[M]),h&&(D.options=u||this.resolveDataElementOptions(M,E.active?"active":r)),v||this.updateElement(E,M,D,r),w=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}fv.id="line";fv.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};fv.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class dv extends ls{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=jd(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return k3.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Dn;let p=f,m;const g=360/this.countVisibleElements();for(m=0;m<e;++m)p+=this._computeAngle(m,r,g);for(m=e;m<e+i;m++){const y=t[m];let v=p,w=p+this._computeAngle(m,r,g),M=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=w,s&&(l.animateScale&&(M=0),l.animateRotate&&(v=w=f));const E={x:u,y:h,innerRadius:0,outerRadius:M,startAngle:v,endAngle:w,options:this.resolveDataElementOptions(m,y.active?"active":r)};this.updateElement(y,m,E,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Zr(this.resolveDataElementOptions(t,e).angle||i):0}}dv.id="polarArea";dv.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};dv.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,r)=>{const o=n.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(r),index:r}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class MM extends fh{}MM.id="pie";MM.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class pv extends ls{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return k3.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=e;a<e+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,f=o?s.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,r)}}}pv.id="radar";pv.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};pv.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class cs{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return zu(this.x)&&zu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}cs.defaults={};cs.defaultRoutes=void 0;const q3={values(n){return _n(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=DY(n,e)}const o=Cr(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),jd(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";const i=n/Math.pow(10,Math.floor(Cr(n)));return i===1||i===2||i===5?q3.numeric.call(this,n,t,e):""}};function DY(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var mv={formatters:q3};Ye.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Ye.route("scale.ticks","color","","color");Ye.route("scale.grid","color","","borderColor");Ye.route("scale.grid","borderColor","","borderColor");Ye.route("scale.title","color","","color");Ye.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});Ye.describe("scales",{_fallback:"scale"});Ye.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function RY(n,t){const e=n.options.ticks,i=e.maxTicksLimit||LY(n),r=e.major.enabled?NY(t):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return kY(t,l,r,s/i),l;const c=IY(r,t,i);if(s>0){let u,h;const f=s>1?Math.round((a-o)/(s-1)):null;for(Xp(t,l,c,Je(f)?0:o-f,o),u=0,h=s-1;u<h;u++)Xp(t,l,c,r[u],r[u+1]);return Xp(t,l,c,a,Je(f)?t.length:a+f),l}return Xp(t,l,c),l}function LY(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function IY(n,t,e){const i=FY(n),r=t.length/e;if(!i)return Math.max(r,1);const s=Iq(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function NY(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function kY(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function Xp(n,t,e,i,r){const s=Ie(i,0),o=Math.min(Ie(r,n.length),n.length);let a=0,l,c,u;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),u=s;u<0;)a++,u=Math.round(s+a*e);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(s+a*e))}function FY(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const BY=n=>n==="left"?"right":n==="right"?"left":n,KO=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e;function QO(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function zY(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),c;if(!(e&&(i===1?c=Math.max(l-s,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function UY(n,t){ln(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Xh(n){return n.drawTicks?n.tickLength:0}function JO(n,t){if(!n.display)return 0;const e=Jn(n.font,t),i=Ri(n.padding);return(_n(n.text)?n.text.length:1)*e.lineHeight+i.height}function VY(n,t){return Aa(n,{scale:t,type:"scale"})}function HY(n,t,e){return Aa(n,{tick:e,index:t,type:"tick"})}function $Y(n,t,e){let i=gM(n);return(e&&t!=="right"||!e&&t==="right")&&(i=BY(i)),i}function WY(n,t,e,i){const{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,f,p,m;const g=o-r,y=a-s;if(n.isHorizontal()){if(p=Si(i,s,a),je(e)){const v=Object.keys(e)[0],w=e[v];m=u[v].getPixelForValue(w)+g-t}else e==="center"?m=(c.bottom+c.top)/2+g-t:m=KO(n,e,t);f=a-s}else{if(je(e)){const v=Object.keys(e)[0],w=e[v];p=u[v].getPixelForValue(w)-y+t}else e==="center"?p=(c.left+c.right)/2-y+t:p=KO(n,e,t);m=Si(i,o,r),h=e==="left"?-kn:kn}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class Zl extends cs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Tr(t,Number.POSITIVE_INFINITY),e=Tr(e,Number.NEGATIVE_INFINITY),i=Tr(i,Number.POSITIVE_INFINITY),r=Tr(r,Number.NEGATIVE_INFINITY),{min:Tr(t,i),max:Tr(e,r),minDefined:Hn(t),maxDefined:Hn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Tr(e,Tr(i,e)),max:Tr(i,Tr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=w9(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?QO(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=RY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yn(this.options.afterUpdate,[this])}beforeSetDimensions(){yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),yn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=yn(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=ci(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(t.offset?.5:1)),l=this.maxHeight-Xh(t.grid)-e.padding-JO(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=pM(Math.min(Math.asin(ci((u.highest.height+6)/a,-1,1)),Math.asin(ci(l/c,-1,1))-Math.asin(ci(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=JO(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Xh(s)+l):(t.height=this.maxHeight,t.width=Xh(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,m=Zr(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(a){const v=i.mirror?0:y*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=i.mirror?0:g*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,u,y,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=r*t.width,p=i*e.height):(f=i*t.height,p=r*e.width):s==="start"?p=e.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,p=e.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=e.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=e.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Je(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=QO(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,c,u,h,f,p,m,g,y,v,w,M;for(c=0;c<e;++c){if(f=t[c].label,p=this._resolveTickFontOptions(c),i.font=m=p.string,g=r[m]=r[m]||{data:{},gc:[]},y=p.lineHeight,v=w=0,!Je(f)&&!_n(f))v=_y(i,g.data,g.gc,v,f),w=y;else if(_n(f))for(u=0,h=f.length;u<h;++u)M=f[u],!Je(M)&&!_n(M)&&(v=_y(i,g.data,g.gc,v,M),w+=y);s.push(v),o.push(w),a=Math.max(v,a),l=Math.max(w,l)}UY(r,e);const E=s.indexOf(a),T=o.indexOf(l),D=I=>({width:s[I]||0,height:o[I]||0});return{first:D(0),last:D(e-1),widest:D(E),highest:D(T),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Fq(this._alignToPixels?rl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=HY(this.getContext(),t,i))}return this.$context||(this.$context=VY(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zr(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=Xh(s),f=[],p=s.setContext(this.getContext()),m=p.drawBorder?p.borderWidth:0,g=m/2,y=function(P){return rl(i,P,m)};let v,w,M,E,T,D,I,G,j,V,A,F;if(o==="top")v=y(this.bottom),D=this.bottom-h,G=v-g,V=y(t.top)+g,F=t.bottom;else if(o==="bottom")v=y(this.top),V=t.top,F=y(t.bottom)-g,D=v+g,G=this.top+h;else if(o==="left")v=y(this.right),T=this.right-h,I=v-g,j=y(t.left)+g,A=t.right;else if(o==="right")v=y(this.left),j=t.left,A=y(t.right)-g,T=v+g,I=this.left+h;else if(e==="x"){if(o==="center")v=y((t.top+t.bottom)/2+.5);else if(je(o)){const P=Object.keys(o)[0],W=o[P];v=y(this.chart.scales[P].getPixelForValue(W))}V=t.top,F=t.bottom,D=v+g,G=D+h}else if(e==="y"){if(o==="center")v=y((t.left+t.right)/2);else if(je(o)){const P=Object.keys(o)[0],W=o[P];v=y(this.chart.scales[P].getPixelForValue(W))}T=v-g,I=T-h,j=t.left,A=t.right}const nt=Ie(r.ticks.maxTicksLimit,u),q=Math.max(1,Math.ceil(u/nt));for(w=0;w<u;w+=q){const P=s.setContext(this.getContext(w)),W=P.lineWidth,Z=P.color,U=P.borderDash||[],Q=P.borderDashOffset,ut=P.tickWidth,vt=P.tickColor,at=P.tickBorderDash||[],Ct=P.tickBorderDashOffset;M=zY(this,w,a),M!==void 0&&(E=rl(i,M,W),l?T=I=j=A=E:D=G=V=F=E,f.push({tx1:T,ty1:D,tx2:I,ty2:G,x1:j,y1:V,x2:A,y2:F,width:W,color:Z,borderDash:U,borderDashOffset:Q,tickWidth:ut,tickColor:vt,tickBorderDash:at,tickBorderDashOffset:Ct}))}return this._ticksLength=u,this._borderValue=v,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=Xh(i.grid),p=f+u,m=h?-u:p,g=-Zr(this.labelRotation),y=[];let v,w,M,E,T,D,I,G,j,V,A,F,nt="middle";if(r==="top")D=this.bottom-m,I=this._getXAxisLabelAlignment();else if(r==="bottom")D=this.top+m,I=this._getXAxisLabelAlignment();else if(r==="left"){const P=this._getYAxisLabelAlignment(f);I=P.textAlign,T=P.x}else if(r==="right"){const P=this._getYAxisLabelAlignment(f);I=P.textAlign,T=P.x}else if(e==="x"){if(r==="center")D=(t.top+t.bottom)/2+p;else if(je(r)){const P=Object.keys(r)[0],W=r[P];D=this.chart.scales[P].getPixelForValue(W)+p}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")T=(t.left+t.right)/2-p;else if(je(r)){const P=Object.keys(r)[0],W=r[P];T=this.chart.scales[P].getPixelForValue(W)}I=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?nt="top":l==="end"&&(nt="bottom"));const q=this._getLabelSizes();for(v=0,w=a.length;v<w;++v){M=a[v],E=M.label;const P=s.setContext(this.getContext(v));G=this.getPixelForTick(v)+s.labelOffset,j=this._resolveTickFontOptions(v),V=j.lineHeight,A=_n(E)?E.length:1;const W=A/2,Z=P.color,U=P.textStrokeColor,Q=P.textStrokeWidth;let ut=I;o?(T=G,I==="inner"&&(v===w-1?ut=this.options.reverse?"left":"right":v===0?ut=this.options.reverse?"right":"left":ut="center"),r==="top"?c==="near"||g!==0?F=-A*V+V/2:c==="center"?F=-q.highest.height/2-W*V+V:F=-q.highest.height+V/2:c==="near"||g!==0?F=V/2:c==="center"?F=q.highest.height/2-W*V:F=q.highest.height-A*V,h&&(F*=-1)):(D=G,F=(1-A)*V/2);let vt;if(P.showLabelBackdrop){const at=Ri(P.backdropPadding),Ct=q.heights[v],Lt=q.widths[v];let et=D+F-at.top,Y=T-at.left;switch(nt){case"middle":et-=Ct/2;break;case"bottom":et-=Ct;break}switch(I){case"center":Y-=Lt/2;break;case"right":Y-=Lt;break}vt={left:Y,top:et,width:Lt+at.width,height:Ct+at.height,color:P.backdropColor}}y.push({rotation:g,label:E,font:j,color:Z,strokeColor:U,strokeWidth:Q,textOffset:F,textAlign:ut,textBaseline:nt,translation:[T,D],backdrop:vt})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return e==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=rl(t,this.left,s)-s/2,c=rl(t,this.right,o)+o/2,u=h=a):(u=rl(t,this.top,s)-s/2,h=rl(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&av(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;Vl(i,u,0,h,c,l)}r&&lv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Jn(i.font),o=Ri(i.padding),a=i.align;let l=s.lineHeight/2;e==="bottom"||e==="center"||je(e)?(l+=o.bottom,_n(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=WY(this,l,e,a);Vl(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:$Y(a,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ie(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Zl.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Jn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Kp{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;qY(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,GY(t,o,i),this.override&&Ye.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ye[r]&&(delete Ye[r][i],this.override&&delete Ul[i])}}function GY(n,t,e){const i=dd(Object.create(null),[e?Ye.get(e):{},Ye.get(t),n.defaults]);Ye.set(t,i),n.defaultRoutes&&jY(t,n.defaultRoutes),n.descriptors&&Ye.describe(t,n.descriptors)}function jY(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");Ye.route(s,r,l,a)})}function qY(n){return"id"in n&&"defaults"in n}class YY{constructor(){this.controllers=new Kp(ls,"datasets",!0),this.elements=new Kp(cs,"elements"),this.plugins=new Kp(Object,"plugins"),this.scales=new Kp(Zl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):ln(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const r=dM(t);yn(i["before"+r],[],i),e[t](i),yn(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Rs=new YY;class gv extends ls{update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:o}=E3(e,i,r);if(this._drawStart=s,this._drawCount=o,S3(e)&&(s=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},t)}this.updateElements(i,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Rs.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(e,r),h=this.getSharedOptions(u),f=this.includeOptions(r,h),p=o.axis,m=a.axis,{spanGaps:g,segment:y}=this.options,v=zu(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||r==="none";let M=e>0&&this.getParsed(e-1);for(let E=e;E<e+i;++E){const T=t[E],D=this.getParsed(E),I=w?T:{},G=Je(D[m]),j=I[p]=o.getPixelForValue(D[p],E),V=I[m]=s||G?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[m],E);I.skip=isNaN(j)||isNaN(V)||G,I.stop=E>0&&Math.abs(D[p]-M[p])>v,y&&(I.parsed=D,I.raw=c.data[E]),f&&(I.options=h||this.resolveDataElementOptions(E,T.active?"active":r)),w||this.updateElement(T,E,I,r),M=D}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,o)/2}}gv.id="scatter";gv.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};gv.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var XY=Object.freeze({__proto__:null,BarController:uv,BubbleController:hv,DoughnutController:fh,LineController:fv,PolarAreaController:dv,PieController:MM,RadarController:pv,ScatterController:gv});function sl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class nw{constructor(t){this.options=t||{}}init(t){}formats(){return sl()}parse(t,e){return sl()}format(t,e){return sl()}add(t,e,i){return sl()}diff(t,e,i){return sl()}startOf(t,e,i){return sl()}endOf(t,e){return sl()}}nw.override=function(n){Object.assign(nw.prototype,n)};var Y3={_date:nw};function KY(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?Bq:ho;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(s,t,e-u),f=l(s,t,e+u);return{lo:h.lo,hi:f.hi}}}}else return l(s,t,e)}return{lo:0,hi:s.length-1}}function qd(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=KY(s[a],t,o,r);for(let p=h;p<=f;++p){const m=u[p];m.skip||i(m,c,p)}}}function QY(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Kb(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||qd(n,e,t,function(a,l,c){!r&&!md(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function JY(n,t,e,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=_3(o,{x:t.x,y:t.y});pd(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return qd(n,e,t,s),r}function ZY(n,t,e,i,r,s){let o=[];const a=QY(e);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(t.x,t.y,r);if(i&&!p)return;const m=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(m))&&!p)return;const y=a(t,m);y<l?(o=[{element:u,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:f})}return qd(n,e,t,c),o}function Qb(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?JY(n,t,e,r):ZY(n,t,e,i,r,s)}function ZO(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return qd(n,e,t,(l,c,u)=>{l[o](t[e],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var t7={evaluateInteractionItems:qd,modes:{index(n,t,e,i){const r=hl(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Kb(n,r,s,i,o):Qb(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,i){const r=hl(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?Kb(n,r,s,i,o):Qb(n,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,i){const r=hl(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return Kb(n,r,s,i,o)},nearest(n,t,e,i){const r=hl(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return Qb(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=hl(t,n);return ZO(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=hl(t,n);return ZO(n,r,"y",e.intersect,i)}}};const X3=["left","top","right","bottom"];function Kh(n,t){return n.filter(e=>e.pos===t)}function tP(n,t){return n.filter(e=>X3.indexOf(e.pos)===-1&&e.box.axis===t)}function Qh(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function e7(n){const t=[];let e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function n7(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!X3.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function i7(n,t){const e=n7(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&t.availableHeight)}return e}function r7(n){const t=e7(n),e=Qh(t.filter(c=>c.box.fullSize),!0),i=Qh(Kh(t,"left"),!0),r=Qh(Kh(t,"right")),s=Qh(Kh(t,"top"),!0),o=Qh(Kh(t,"bottom")),a=tP(t,"x"),l=tP(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Kh(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function eP(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function K3(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function s7(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!je(r)){e.size&&(n[r]-=e.size);const h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,n[r]+=e.size}s.getPadding&&K3(o,s.getPadding());const a=Math.max(0,t.outerWidth-eP(o,n,"left","right")),l=Math.max(0,t.outerHeight-eP(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function o7(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function a7(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function wf(n,t,e,i){const r=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,a7(a.horizontal,t));const{same:h,other:f}=s7(t,e,a,i);c|=h&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&wf(r,t,e,i)||u}function Qp(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function nP(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;Lr(c.start)&&(o=c.start),l.fullSize?Qp(l,r.left,o,e.outerWidth-r.right-r.left,f):Qp(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;Lr(c.start)&&(s=c.start),l.fullSize?Qp(l,s,r.top,f,e.outerHeight-r.bottom-r.top):Qp(l,s,t.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}Ye.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ci={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Ri(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=r7(n.boxes),l=a.vertical,c=a.horizontal;ln(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);K3(f,Ri(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),m=i7(l.concat(c),h);wf(a.fullSize,p,h,m),wf(l,p,h,m),wf(c,p,h,m)&&wf(l,p,h,m),o7(p),nP(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,nP(a.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ln(a.chartArea,g=>{const y=g.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Q3{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class l7 extends Q3{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const eg="$chartjs",c7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iP=n=>n===null||n==="";function u7(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[eg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",iP(r)){const s=NO(n,"width");s!==void 0&&(n.width=s)}if(iP(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=NO(n,"height");s!==void 0&&(n.height=s)}return n}const J3=G9?{passive:!0}:!1;function h7(n,t,e){n.addEventListener(t,e,J3)}function f7(n,t,e){n.canvas.removeEventListener(t,e,J3)}function d7(n,t){const e=c7[n.type]||n.type,{x:i,y:r}=hl(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function by(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function p7(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||by(a.addedNodes,i),o=o&&!by(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function m7(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||by(a.removedNodes,i),o=o&&!by(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const yd=new Map;let rP=0;function Z3(){const n=window.devicePixelRatio;n!==rP&&(rP=n,yd.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function g7(n,t){yd.size||window.addEventListener("resize",Z3),yd.set(n,t)}function y7(n){yd.delete(n),yd.size||window.removeEventListener("resize",Z3)}function _7(n,t,e){const i=n.canvas,r=i&&SM(i);if(!r)return;const s=w3((a,l)=>{const c=r.clientWidth;e(a,l),c<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),g7(n,s),o}function Jb(n,t,e){e&&e.disconnect(),t==="resize"&&y7(n)}function v7(n,t,e){const i=n.canvas,r=w3(s=>{n.ctx!==null&&e(d7(s,n))},n,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return h7(i,t,r),r}class b7 extends Q3{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(u7(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[eg])return!1;const i=e[eg].initial;["height","width"].forEach(s=>{const o=i[s];Je(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[eg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:p7,detach:m7,resize:_7}[e]||v7;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Jb,detach:Jb,resize:Jb}[e]||f7)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return W9(t,e,i,r)}isAttached(t){const e=SM(t);return!!(e&&e.isConnected)}}function x7(n){return!B3()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?l7:b7}class w7{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[e,r,s.options];if(yn(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ie(i.options&&i.options.plugins,{}),s=E7(i);return r===!1&&!e?[]:M7(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function E7(n){const t={},e=[],i=Object.keys(Rs.plugins.items);for(let s=0;s<i.length;s++)e.push(Rs.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function S7(n,t){return!t&&n===!1?null:n===!0?{}:n}function M7(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const a of t){const l=a.id,c=S7(i[l],r);c!==null&&s.push({plugin:a,options:T7(n.config,{plugin:a,local:e[l]},c,o)})}return s}function T7(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iw(n,t){const e=Ye.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function A7(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function C7(n,t){return n===t?"_index_":"_value_"}function O7(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function rw(n,t){return n==="x"||n==="y"?n:t.axis||O7(t.position)||n.charAt(0).toLowerCase()}function P7(n,t){const e=Ul[n.type]||{scales:{}},i=t.scales||{},r=iw(n.type,t),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!je(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=rw(a,l),u=C7(c,r),h=e.scales||{};s[c]=s[c]||a,o[a]=Nf(Object.create(null),[{axis:c},l,h[c],h[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||iw(l,t),h=(Ul[l]||{}).scales||{};Object.keys(h).forEach(f=>{const p=A7(f,c),m=a[p+"AxisID"]||s[p]||p;o[m]=o[m]||Object.create(null),Nf(o[m],[{axis:p},i[m],h[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];Nf(l,[Ye.scales[l.type],Ye.scale])}),o}function tF(n){const t=n.options||(n.options={});t.plugins=Ie(t.plugins,{}),t.scales=P7(n,t)}function eF(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function D7(n){return n=n||{},n.data=eF(n.data),tF(n),n}const sP=new Map,nF=new Set;function Jp(n,t){let e=sP.get(n);return e||(e=t(),sP.set(n,e),nF.add(e)),e}const Jh=(n,t,e)=>{const i=ya(t,e);i!==void 0&&n.add(i)};class R7{constructor(t){this._config=D7(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=eF(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),tF(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jp(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jp(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jp(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(h=>Jh(l,t,h))),u.forEach(h=>Jh(l,r,h)),u.forEach(h=>Jh(l,Ul[s]||{},h)),u.forEach(h=>Jh(l,Ye,h)),u.forEach(h=>Jh(l,tw,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),nF.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ul[e]||{},Ye.datasets[e]||{},{type:e},Ye,tw]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=oP(this._resolverCache,t,r);let l=o;if(I7(o,e)){s.$shared=!1,i=_a(i)?i():i;const c=this.createResolver(t,i,a);l=Uu(o,i,c)}for(const c of e)s[c]=l[c];return s}createResolver(t,e,i=[""],r){const{resolver:s}=oP(this._resolverCache,t,i);return je(e)?Uu(s,e,void 0,r):s}}function oP(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:xM(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const L7=n=>je(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||_a(n[e]),!1);function I7(n,t){const{isScriptable:e,isIndexable:i}=R3(n);for(const r of t){const s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(_a(a)||L7(a))||o&&_n(a))return!0}return!1}var N7="3.9.1";const k7=["top","bottom","left","right","chartArea"];function aP(n,t){return n==="top"||n==="bottom"||k7.indexOf(n)===-1&&t==="x"}function lP(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function cP(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),yn(e&&e.onComplete,[n],t)}function F7(n){const t=n.chart,e=t.options.animation;yn(e&&e.onProgress,[n],t)}function iF(n){return B3()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const xy={},rF=n=>{const t=iF(n);return Object.values(xy).filter(e=>e.canvas===t).pop()};function B7(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function z7(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class yv{constructor(t,e){const i=this.config=new R7(e),r=iF(t),s=rF(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||x7(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Mq(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new w7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vq(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],xy[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}eo.listen(this,"complete",cP),eo.listen(this,"progress",F7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Je(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():IO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DO(this.canvas,this.ctx),this}stop(){return eo.stop(this),this}resize(t,e){eo.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,IO(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),yn(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ln(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=rw(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ln(s,o=>{const a=o.options,l=a.id,c=rw(l,a),u=Ie(a.type,o.dtype);(a.position===void 0||aP(a.position,c)!==aP(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Rs.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),ln(r,(o,a)=>{o||delete i[a]}),ln(i,o=>{Ci.configure(this,o,o.options),Ci.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(lP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||iw(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Rs.getController(a),{datasetElementType:c,dataElementType:u}=Ye.datasets[a];Object.assign(l.prototype,{dataElementType:Rs.getElement(u),datasetElementType:c&&Rs.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ln(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ln(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(lP("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ln(this.scales,t=>{Ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!vO(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;B7(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!vO(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ci.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ln(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,_a(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(eo.has(this)?this.attached&&!eo.running(this)&&eo.start(this):(this.draw(),cP({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&av(e,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&lv(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return md(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=t7.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Aa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Lr(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),eo.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),DO(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete xy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ln(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){ln(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ln(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,a,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!py(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(e,t),a=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,a=this._getActiveElements(t,r,i,o),l=Dq(t),c=z7(t,this._lastEvent,i,l);i&&(this._lastEvent=null,yn(s.onHover,[t,a,this],this),l&&yn(s.onClick,[t,a,this],this));const u=!py(a,r);return(u||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=c,u}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}const uP=()=>ln(yv.instances,n=>n._plugins.invalidate()),Wo=!0;Object.defineProperties(yv,{defaults:{enumerable:Wo,value:Ye},instances:{enumerable:Wo,value:xy},overrides:{enumerable:Wo,value:Ul},registry:{enumerable:Wo,value:Rs},version:{enumerable:Wo,value:N7},getChart:{enumerable:Wo,value:rF},register:{enumerable:Wo,value:(...n)=>{Rs.add(...n),uP()}},unregister:{enumerable:Wo,value:(...n)=>{Rs.remove(...n),uP()}}});function sF(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;n.beginPath(),n.arc(s,o,a,i-c,e+c),l>r?(c=r/l,n.arc(s,o,l,e+c,i-c,!0)):n.arc(s,o,r,e+kn,i-kn),n.closePath(),n.clip()}function U7(n){return bM(n,["outerStart","outerEnd","innerStart","innerEnd"])}function V7(n,t,e,i){const r=U7(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),a=l=>{const c=(e-Math.min(s,l))*i/2;return ci(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:ci(r.innerStart,0,o),innerEnd:ci(r.innerEnd,0,o)}}function Rc(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function sw(n,t,e,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+e-c,0),f=u>0?u+i+e+c:0;let p=0;const m=r-l;if(i){const P=u>0?u-i:0,W=h>0?h-i:0,Z=(P+W)/2,U=Z!==0?m*Z/(Z+i):m;p=(m-U)/2}const g=Math.max(.001,m*h-e/Dn)/h,y=(m-g)/2,v=l+y+p,w=r-y-p,{outerStart:M,outerEnd:E,innerStart:T,innerEnd:D}=V7(t,f,h,w-v),I=h-M,G=h-E,j=v+M/I,V=w-E/G,A=f+T,F=f+D,nt=v+T/A,q=w-D/F;if(n.beginPath(),s){if(n.arc(o,a,h,j,V),E>0){const Z=Rc(G,V,o,a);n.arc(Z.x,Z.y,E,V,w+kn)}const P=Rc(F,w,o,a);if(n.lineTo(P.x,P.y),D>0){const Z=Rc(F,q,o,a);n.arc(Z.x,Z.y,D,w+kn,q+Math.PI)}if(n.arc(o,a,f,w-D/f,v+T/f,!0),T>0){const Z=Rc(A,nt,o,a);n.arc(Z.x,Z.y,T,nt+Math.PI,v-kn)}const W=Rc(I,v,o,a);if(n.lineTo(W.x,W.y),M>0){const Z=Rc(I,j,o,a);n.arc(Z.x,Z.y,M,v-kn,j)}}else{n.moveTo(o,a);const P=Math.cos(j)*h+o,W=Math.sin(j)*h+a;n.lineTo(P,W);const Z=Math.cos(V)*h+o,U=Math.sin(V)*h+a;n.lineTo(Z,U)}n.closePath()}function H7(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){sw(n,t,e,i,o+fn,r);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+a%fn,a%fn===0&&(l+=fn))}return sw(n,t,e,i,l,r),n.fill(),l}function $7(n,t,e){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let u;for(e&&sF(n,t,s+fn),n.beginPath(),n.arc(i,r,c,s+fn,s,!0),u=0;u<a;++u)n.stroke();for(n.beginPath(),n.arc(i,r,l,s,s+fn),u=0;u<a;++u)n.stroke()}function W7(n,t,e,i,r,s){const{options:o}=t,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";!a||(c?(n.lineWidth=a*2,n.lineJoin=l||"round"):(n.lineWidth=a,n.lineJoin=l||"bevel"),t.fullCircles&&$7(n,t,c),c&&sF(n,t,r),sw(n,t,e,i,r,s),n.stroke())}class _v extends cs{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=_3(r,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,m=Ie(h,l-a)>=fn||pd(s,a,l),g=uo(o,c+f,u+f);return m&&g}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,u=(r+s)/2,h=(o+a+c+l)/2;return{x:e+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>fn?Math.floor(i/fn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=Dn&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const l=H7(t,this,a,s,o);W7(t,this,a,s,l,o),t.restore()}}_v.id="arc";_v.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};_v.defaultRoutes={backgroundColor:"backgroundColor"};function oF(n,t,e=t){n.lineCap=Ie(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ie(e.borderDash,t.borderDash)),n.lineDashOffset=Ie(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ie(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ie(e.borderWidth,t.borderWidth),n.strokeStyle=Ie(e.borderColor,t.borderColor)}function G7(n,t,e){n.lineTo(e.x,e.y)}function j7(n){return n.stepped?p9:n.tension||n.cubicInterpolationMode==="monotone"?m9:G7}function aF(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function q7(n,t,e,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=aF(r,e,i),u=j7(s);let{move:h=!0,reverse:f}=i||{},p,m,g;for(p=0;p<=c;++p)m=r[(a+(f?c-p:p))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):u(n,g,m,f,s.stepped),g=m);return l&&(m=r[(a+(f?c:0))%o],u(n,g,m,f,s.stepped)),!!l}function Y7(n,t,e,i){const r=t.points,{count:s,start:o,ilen:a}=aF(r,e,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,p,m,g,y,v;const w=E=>(o+(c?a-E:E))%s,M=()=>{g!==y&&(n.lineTo(u,y),n.lineTo(u,g),n.lineTo(u,v))};for(l&&(p=r[w(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[w(f)],p.skip)continue;const E=p.x,T=p.y,D=E|0;D===m?(T<g?g=T:T>y&&(y=T),u=(h*u+E)/++h):(M(),n.lineTo(E,T),m=D,h=0,g=y=T),v=T}M()}function ow(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Y7:q7}function X7(n){return n.stepped?j9:n.tension||n.cubicInterpolationMode==="monotone"?q9:fl}function K7(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),oF(n,t.options),n.stroke(r)}function Q7(n,t,e,i){const{segments:r,options:s}=t,o=ow(t);for(const a of r)oF(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const J7=typeof Path2D=="function";function Z7(n,t,e,i){J7&&!t.options.segment?K7(n,t,e,i):Q7(n,t,e,i)}class Ca extends cs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;B9(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tY(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=$3(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],l=X7(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=s[h],m=s[f];if(p===m){a.push(p);continue}const g=Math.abs((r-p[e])/(m[e]-p[e])),y=l(p,m,g,i.stepped);y[e]=t[e],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,e,i){return ow(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=ow(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of r)o&=s(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Z7(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ca.id="line";Ca.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Ca.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Ca.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function hP(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class vv extends cs{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return hP(this,t,"x",e)}inYRange(t,e){return hP(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!md(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,ew(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}vv.id="point";vv.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};vv.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function lF(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(e,r),l=Math.max(e,r),c=i-h,u=i+h):(h=s/2,a=e-h,l=e+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function sa(n,t,e,i){return n?0:ci(t,e,i)}function tX(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=D3(i);return{t:sa(r.top,s.top,0,e),r:sa(r.right,s.right,0,t),b:sa(r.bottom,s.bottom,0,e),l:sa(r.left,s.left,0,t)}}function eX(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Pl(r),o=Math.min(t,e),a=n.borderSkipped,l=i||je(r);return{topLeft:sa(!l||a.top||a.left,s.topLeft,0,o),topRight:sa(!l||a.top||a.right,s.topRight,0,o),bottomLeft:sa(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:sa(!l||a.bottom||a.right,s.bottomRight,0,o)}}function nX(n){const t=lF(n),e=t.right-t.left,i=t.bottom-t.top,r=tX(n,e/2,i/2),s=eX(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Zb(n,t,e,i){const r=t===null,s=e===null,a=n&&!(r&&s)&&lF(n,i);return a&&(r||uo(t,a.left,a.right))&&(s||uo(e,a.top,a.bottom))}function iX(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function rX(n,t){n.rect(t.x,t.y,t.w,t.h)}function t0(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class bv extends cs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=nX(this),a=iX(o.radius)?gd:rX;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,t0(o,e,s)),t.clip(),a(t,t0(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,t0(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Zb(this,t,e,i)}inXRange(t,e){return Zb(this,t,null,e)}inYRange(t,e){return Zb(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}bv.id="bar";bv.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};bv.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var sX=Object.freeze({__proto__:null,ArcElement:_v,LineElement:Ca,PointElement:vv,BarElement:bv});function oX(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(s-2);let l=0;const c=t+e-1;let u=t,h,f,p,m,g;for(o[l++]=n[u],h=0;h<s-2;h++){let y=0,v=0,w;const M=Math.floor((h+1)*a)+1+t,E=Math.min(Math.floor((h+2)*a)+1,e)+t,T=E-M;for(w=M;w<E;w++)y+=n[w].x,v+=n[w].y;y/=T,v/=T;const D=Math.floor(h*a)+1+t,I=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:G,y:j}=n[u];for(p=m=-1,w=D;w<I;w++)m=.5*Math.abs((G-y)*(n[w].y-j)-(G-n[w].x)*(v-j)),m>p&&(p=m,f=n[w],g=w);o[l++]=f,u=g}return o[l++]=n[c],o}function aX(n,t,e,i){let r=0,s=0,o,a,l,c,u,h,f,p,m,g;const y=[],v=t+e-1,w=n[t].x,E=n[v].x-w;for(o=t;o<t+e;++o){a=n[o],l=(a.x-w)/E*i,c=a.y;const T=l|0;if(T===u)c<m?(m=c,h=o):c>g&&(g=c,f=o),r=(s*r+a.x)/++s;else{const D=o-1;if(!Je(h)&&!Je(f)){const I=Math.min(h,f),G=Math.max(h,f);I!==p&&I!==D&&y.push({...n[I],x:r}),G!==p&&G!==D&&y.push({...n[G],x:r})}o>0&&D!==p&&y.push(n[D]),y.push(a),u=T,s=0,m=g=c,h=f=p=o}}return y}function cF(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function fP(n){n.data.datasets.forEach(t=>{cF(t)})}function lX(n,t){const e=t.length;let i=0,r;const{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=ci(ho(t,s.axis,o).lo,0,e-1)),c?r=ci(ho(t,s.axis,a).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var cX={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){fP(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(s),c=o||r.data;if(xf([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=lX(l,c);const p=e.threshold||4*i;if(f<=p){cF(r);return}Je(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(e.algorithm){case"lttb":m=oX(c,h,f,i,e);break;case"min-max":m=aX(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=m})},destroy(n){fP(n)}};function uX(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=TM(l,c,r);const u=aw(e,r[l],r[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=$3(t,u);for(const f of h){const p=aw(e,s[f.start],s[f.end],f.loop),m=H3(a,r,p);for(const g of m)o.push({source:g,target:f,start:{[e]:dP(u,p,"start",Math.max)},end:{[e]:dP(u,p,"end",Math.min)}})}}return o}function aw(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=dr(r),s=dr(s)),{property:n,start:r,end:s}}function hX(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=TM(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):e!==null&&(s.push({x:e,y:l.y}),s.push({x:e,y:c.y}))}),s}function TM(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function dP(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function uF(n,t){let e=[],i=!1;return _n(n)?(i=!0,e=n):e=hX(n,t),e.length?new Ca({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function pP(n){return n&&n.fill!==!1}function fX(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Hn(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function dX(n,t,e){const i=yX(n);if(je(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Hn(r)&&Math.floor(r)===r?pX(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function pX(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function mX(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:je(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function gX(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:je(n)?i=n.value:i=t.getBaseValue(),i}function yX(n){const t=n.options,e=t.fill;let i=Ie(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function _X(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,a=vX(t,e);a.push(uF({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)bX(r,o[u],a)}return new Ca({points:r,options:{}})}function vX(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function bX(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:a,point:l}=xX(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function xX(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][e],f=o[u.end][e];if(uo(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:i}}class hF{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return e=e||{start:0,end:fn},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function wX(n){const{chart:t,fill:e,line:i}=n;if(Hn(e))return EX(t,e);if(e==="stack")return _X(n);if(e==="shape")return!0;const r=SX(n);return r instanceof hF?r:uF(r,i)}function EX(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function SX(n){return(n.scale||{}).getPointPositionForValue?TX(n):MX(n)}function MX(n){const{scale:t={},fill:e}=n,i=mX(e,t);if(Hn(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function TX(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=gX(e,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new hF({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function e0(n,t,e){const i=wX(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(av(n,e),AX(n,{line:r,target:i,above:u,below:h,area:e,scale:s,axis:o}),lv(n))}function AX(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&s!==r&&(mP(n,i,o.top),gP(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore(),n.save(),mP(n,i,o.bottom)),gP(n,{line:e,target:i,color:s,scale:a,property:l}),n.restore()}function mP(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[TM(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function gP(n,t){const{line:e,target:i,property:r,color:s,scale:o}=t,a=uX(e,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=s}={}}=l,p=i!==!0;n.save(),n.fillStyle=f,CX(n,o,p&&aw(r,u,h)),n.beginPath();const m=!!e.pathSegment(n,l);let g;if(p){m?n.closePath():yP(n,i,h,r);const y=!!i.pathSegment(n,c,{move:m,reverse:!0});g=m&&y,g||yP(n,i,u,r)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function CX(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=e||{};s==="x"&&(n.beginPath(),n.rect(o,i,a-o,r-i),n.clip())}function yP(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var OX={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ca&&(l={visible:n.isDatasetVisible(o),index:o,fill:dX(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=fX(r,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;!a||(a.line.updateControlPoints(s,a.axis),i&&a.fill&&e0(n.ctx,a,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;pP(s)&&e0(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!pP(i)||e.drawTime!=="beforeDatasetDraw"||e0(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _P=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},PX=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class vP extends cs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=yn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Jn(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=_P(i,s);let c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,g)=>{const y=i+e/2+s.measureText(m.text).width;(g===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:y,height:r},c[c.length-1]+=y+a}),h}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((y,v)=>{const w=i+e/2+s.measureText(y.text).width;v>0&&p+r+2*a>u&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[v]={left:m,top:p,col:g,width:w,height:r},f=Math.max(f,w),p+=r+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=wu(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Si(i,this.left+r,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Si(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Si(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Si(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;av(t,this),this._draw(),lv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Ye.color,l=wu(t.rtl,this.left,this.width),c=Jn(o.font),{color:u,padding:h}=o,f=c.size,p=f/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:v}=_P(o,f),w=function(I,G,j){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const V=Ie(j.lineWidth,1);if(r.fillStyle=Ie(j.fillStyle,a),r.lineCap=Ie(j.lineCap,"butt"),r.lineDashOffset=Ie(j.lineDashOffset,0),r.lineJoin=Ie(j.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=Ie(j.strokeStyle,a),r.setLineDash(Ie(j.lineDash,[])),o.usePointStyle){const A={radius:y*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:V},F=l.xPlus(I,g/2),nt=G+p;P3(r,A,F,nt,o.pointStyleWidth&&g)}else{const A=G+Math.max((f-y)/2,0),F=l.leftForLtr(I,g),nt=Pl(j.borderRadius);r.beginPath(),Object.values(nt).some(q=>q!==0)?gd(r,{x:F,y:A,w:g,h:y,radius:nt}):r.rect(F,A,g,y),r.fill(),V!==0&&r.stroke()}r.restore()},M=function(I,G,j){Vl(r,j.text,I,G+v/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},E=this.isHorizontal(),T=this._computeTitleHeight();E?m={x:Si(s,this.left+h,this.right-i[0]),y:this.top+h+T,line:0}:m={x:this.left+h,y:Si(s,this.top+T+h,this.bottom-e[0].height),line:0},z3(this.ctx,t.textDirection);const D=v+h;this.legendItems.forEach((I,G)=>{r.strokeStyle=I.fontColor||u,r.fillStyle=I.fontColor||u;const j=r.measureText(I.text).width,V=l.textAlign(I.textAlign||(I.textAlign=o.textAlign)),A=g+p+j;let F=m.x,nt=m.y;l.setWidth(this.width),E?G>0&&F+A+h>this.right&&(nt=m.y+=D,m.line++,F=m.x=Si(s,this.left+h,this.right-i[m.line])):G>0&&nt+D>this.bottom&&(F=m.x=F+e[m.line].width+h,m.line++,nt=m.y=Si(s,this.top+T+h,this.bottom-e[m.line].height));const q=l.x(F);w(q,nt,I),F=Hq(V,F+g+p,E?F+A:this.right,t.rtl),M(l.x(F),nt,I),E?m.x+=A+h:m.y+=D}),U3(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Jn(e.font),r=Ri(e.padding);if(!e.display)return;const s=wu(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,c=r.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Si(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=c+Si(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=Si(a,h,h+f);o.textAlign=s.textAlign(gM(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Vl(o,e.text,p,u,i)}_computeTitleHeight(){const t=this.options.title,e=Jn(t.font),i=Ri(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(uo(t,this.left,this.right)&&uo(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],uo(t,r.left,r.left+r.width)&&uo(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!DX(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=PX(r,i);r&&!s&&yn(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&yn(e.onHover,[t,i,this],this)}else i&&yn(e.onClick,[t,i,this],this)}}function DX(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var RX={id:"legend",_element:vP,start(n,t,e){const i=n.legend=new vP({ctx:n.ctx,options:e,chart:n});Ci.configure(n,i,e),Ci.addBox(n,i)},stop(n){Ci.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ci.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(e?0:void 0),l=Ri(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class AM extends cs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=_n(i.text)?i.text.length:1;this._padding=Ri(i.padding);const s=r*Jn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Si(a,i,s),h=e+t,c=s-i):(o.position==="left"?(u=i+t,h=Si(a,r,e),l=Dn*-.5):(u=s-t,h=Si(a,e,r),l=Dn*.5),c=r-e),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Jn(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Vl(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:gM(e.align),textBaseline:"middle",translation:[o,a]})}}function LX(n,t){const e=new AM({ctx:n.ctx,options:t,chart:n});Ci.configure(n,e,t),Ci.addBox(n,e),n.titleBlock=e}var IX={id:"title",_element:AM,start(n,t,e){LX(n,e)},stop(n){const t=n.titleBlock;Ci.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ci.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zp=new WeakMap;var NX={id:"subtitle",start(n,t,e){const i=new AM({ctx:n.ctx,options:e,chart:n});Ci.configure(n,i,e),Ci.addBox(n,i),Zp.set(n,i)},stop(n){Ci.removeBox(n,Zp.get(n)),Zp.delete(n)},beforeUpdate(n,t,e){const i=Zp.get(n);Ci.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zf={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Jx(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Ms(n,t){return t&&(_n(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function no(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function kX(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function bP(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=Jn(t.bodyFont),c=Jn(t.titleFont),u=Jn(t.footerFont),h=s.length,f=r.length,p=i.length,m=Ri(t.padding);let g=m.height,y=0,v=i.reduce((E,T)=>E+T.before.length+T.lines.length+T.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const E=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*E+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let w=0;const M=function(E){y=Math.max(y,e.measureText(E).width+w)};return e.save(),e.font=c.string,ln(n.title,M),e.font=l.string,ln(n.beforeBody.concat(n.afterBody),M),w=t.displayColors?o+2+t.boxPadding:0,ln(i,E=>{ln(E.before,M),ln(E.lines,M),ln(E.after,M)}),w=0,e.font=u.string,ln(n.footer,M),e.restore(),y+=m.width,{width:y,height:g}}function FX(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function BX(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function zX(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),BX(c,n,t,e)&&(c="center"),c}function xP(n,t,e){const i=e.yAlign||t.yAlign||FX(n,e);return{xAlign:e.xAlign||t.xAlign||zX(n,t,e,i),yAlign:i}}function UX(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function VX(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function wP(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=r+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Pl(o);let m=UX(t,a);const g=VX(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+r:a==="right"&&(m+=Math.max(h,p)+r),{x:ci(m,0,i.width-t.width),y:ci(g,0,i.height-t.height)}}function tm(n,t,e){const i=Ri(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function EP(n){return Ms([],no(n))}function HX(n,t,e){return Aa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function SP(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}class lw extends cs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new W3(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=HX(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=i.beforeTitle.apply(this,[t]),s=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let a=[];return a=Ms(a,no(r)),a=Ms(a,no(s)),a=Ms(a,no(o)),a}getBeforeBody(t,e){return EP(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:i}=e,r=[];return ln(t,s=>{const o={before:[],lines:[],after:[]},a=SP(i,s);Ms(o.before,no(a.beforeLabel.call(this,s))),Ms(o.lines,a.label.call(this,s)),Ms(o.after,no(a.afterLabel.call(this,s))),r.push(o)}),r}getAfterBody(t,e){return EP(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:i}=e,r=i.beforeFooter.apply(this,[t]),s=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let a=[];return a=Ms(a,no(r)),a=Ms(a,no(s)),a=Ms(a,no(o)),a}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(kX(this.chart,e[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),ln(a,u=>{const h=SP(t.callbacks,u);r.push(h.labelColor.call(this,u)),s.push(h.labelPointStyle.call(this,u)),o.push(h.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=zf[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=bP(this,i),c=Object.assign({},a,l),u=xP(this.chart,i,c),h=wP(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Pl(a),{x:f,y:p}=t,{width:m,height:g}=e;let y,v,w,M,E,T;return s==="center"?(E=p+g/2,r==="left"?(y=f,v=y-o,M=E+o,T=E-o):(y=f+m,v=y+o,M=E-o,T=E+o),w=y):(r==="left"?v=f+Math.max(l,u)+o:r==="right"?v=f+m-Math.max(c,h)-o:v=this.caretX,s==="top"?(M=p,E=M-o,y=v-o,w=v+o):(M=p+g,E=M+o,y=v+o,w=v-o),T=M),{x1:y,x2:v,x3:w,y1:M,y2:E,y3:T}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=wu(i.rtl,this.x,this.width);for(t.x=tm(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=Jn(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<s;++l)e.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=s,h=Jn(s.bodyFont),f=tm(this,"left",s),p=r.x(f),m=l<h.lineHeight?(h.lineHeight-l)/2:0,g=e.y+m;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(p,c)+c/2,w=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ew(t,y,v,w),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ew(t,y,v,w)}else{t.lineWidth=je(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(p,c-u),v=r.leftForLtr(r.xPlus(p,1),c-u-2),w=Pl(o.borderRadius);Object.values(w).some(M=>M!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,gd(t,{x:y,y:g,w:c,h:l,radius:w}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),gd(t,{x:v,y:g+1,w:c-2,h:l-2,radius:w}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,g,c,l),t.strokeRect(y,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(v,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Jn(i.bodyFont);let f=h.lineHeight,p=0;const m=wu(i.rtl,this.x,this.width),g=function(G){e.fillText(G,m.x(t.x+p),t.y+f/2),t.y+=f+s},y=m.textAlign(o);let v,w,M,E,T,D,I;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=tm(this,y,i),e.fillStyle=i.bodyColor,ln(this.beforeBody,g),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,D=r.length;E<D;++E){for(v=r[E],w=this.labelTextColors[E],e.fillStyle=w,ln(v.before,g),M=v.lines,a&&M.length&&(this._drawColorBox(e,t,E,m,i),f=Math.max(h.lineHeight,l)),T=0,I=M.length;T<I;++T)g(M[T]),f=h.lineHeight;ln(v.after,g)}p=0,f=h.lineHeight,ln(this.afterBody,g),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,a;if(s){const l=wu(i.rtl,this.x,this.width);for(t.x=tm(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=Jn(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<s;++a)e.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=Pl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+h,l),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(a+c-f,l),e.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(a+c,l+u-m),e.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(a+p,l+u),e.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(a,l+h),e.quadraticCurveTo(a,l,a+h,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=zf[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=bP(this,t),l=Object.assign({},o,this._size),c=xP(e,t,l),u=wP(t,l,c,e);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ri(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),z3(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),U3(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!py(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),a=this._positionChanged(o,t),l=e||!py(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=zf[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}lw.positioners=zf;var $X={id:"tooltip",_element:lw,positioners:zf,afterInit(n,t,e){e&&(n.tooltip=new lw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",e)===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ys,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ys,beforeBody:Ys,beforeLabel:Ys,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Je(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ys,afterBody:Ys,beforeFooter:Ys,footer:Ys,afterFooter:Ys}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},WX=Object.freeze({__proto__:null,Decimation:cX,Filler:OX,Legend:RX,SubTitle:NX,Title:IX,Tooltip:$X});const GX=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function jX(n,t,e,i){const r=n.indexOf(t);if(r===-1)return GX(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const qX=(n,t)=>n===null?null:ci(Math.round(n),0,t);class wy extends Zl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Je(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:jX(i,t,Ie(e,t),this._addedLabels),qX(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}wy.id="category";wy.defaults={ticks:{callback:wy.prototype.getLabelForValue}};function YX(n,t){const e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=s||1,m=u-1,{min:g,max:y}=t,v=!Je(o),w=!Je(a),M=!Je(c),E=(y-g)/(h+1);let T=xO((y-g)/m/p)*p,D,I,G,j;if(T<1e-14&&!v&&!w)return[{value:g},{value:y}];j=Math.ceil(y/T)-Math.floor(g/T),j>m&&(T=xO(j*T/m/p)*p),Je(l)||(D=Math.pow(10,l),T=Math.ceil(T*D)/D),r==="ticks"?(I=Math.floor(g/T)*T,G=Math.ceil(y/T)*T):(I=g,G=y),v&&w&&s&&Nq((a-o)/s,T/1e3)?(j=Math.round(Math.min((a-o)/T,u)),T=(a-o)/j,I=o,G=a):M?(I=v?o:I,G=w?a:G,j=c-1,T=(G-I)/j):(j=(G-I)/T,kf(j,Math.round(j),T/1e3)?j=Math.round(j):j=Math.ceil(j));const V=Math.max(wO(T),wO(I));D=Math.pow(10,Je(l)?V:l),I=Math.round(I*D)/D,G=Math.round(G*D)/D;let A=0;for(v&&(f&&I!==o?(e.push({value:o}),I<o&&A++,kf(Math.round((I+A*T)*D)/D,o,MP(o,E,n))&&A++):I<o&&A++);A<j;++A)e.push({value:Math.round((I+A*T)*D)/D});return w&&f&&G!==a?e.length&&kf(e[e.length-1].value,a,MP(a,E,n))?e[e.length-1].value=a:e.push({value:a}):(!w||G===a)&&e.push({value:G}),e}function MP(n,t,{horizontal:e,minRotation:i}){const r=Zr(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class Ey extends Zl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Je(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=e?r:l,a=l=>s=i?s:l;if(t){const l=Is(r),c=Is(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=YX(r,s);return t.bounds==="ticks"&&y3(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return jd(t,this.chart.options.locale,this.options.ticks.format)}}class CM extends Ey{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Hn(t)?t:0,this.max=Hn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Zr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}CM.id="linear";CM.defaults={ticks:{callback:mv.formatters.numeric}};function TP(n){return n/Math.pow(10,Math.floor(Cr(n)))===1}function XX(n,t){const e=Math.floor(Cr(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let s=Tr(n.min,Math.pow(10,Math.floor(Cr(t.min)))),o=Math.floor(Cr(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do r.push({value:s,major:TP(s)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l;while(o<e||o===e&&a<i);const c=Tr(n.max,s);return r.push({value:c,major:TP(s)}),r}class OM extends Zl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Ey.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Hn(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Hn(t)?Math.max(0,t):null,this.max=Hn(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,o=l=>r=e?r:l,a=(l,c)=>Math.pow(10,Math.floor(Cr(l))+c);i===r&&(i<=0?(s(1),o(10)):(s(a(i,-1)),o(a(r,1)))),i<=0&&s(a(r,-1)),r<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&s(a(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=XX(e,this);return t.bounds==="ticks"&&y3(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":jd(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Cr(t),this._valueRange=Cr(this.max)-Cr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Cr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}OM.id="logarithmic";OM.defaults={ticks:{callback:mv.formatters.logarithmic,major:{enabled:!0}}};function cw(n){const t=n.ticks;if(t.display&&n.display){const e=Ri(t.backdropPadding);return Ie(t.font&&t.font.size,Ye.font.size)+e.height}return 0}function KX(n,t,e){return e=_n(e)?e:[e],{w:d9(n,t.string,e),h:e.length*t.lineHeight}}function AP(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function QX(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Dn/s:0;for(let l=0;l<s;l++){const c=o.setContext(n.getPointLabelContext(l));r[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+r[l],a),h=Jn(c.font),f=KX(n.ctx,h,n._pointLabels[l]);i[l]=f;const p=dr(n.getIndexAngle(l)+a),m=Math.round(pM(p)),g=AP(m,u.x,f.w,0,180),y=AP(m,u.y,f.h,90,270);JX(e,t,p,g,y)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=ZX(n,i,r)}function JX(n,t,e,i,r){const s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function ZX(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,o=cw(s)/2,a=n.drawingArea,l=s.pointLabels.centerPointLabels?Dn/r:0;for(let c=0;c<r;c++){const u=n.getPointPosition(c,a+o+e[c],l),h=Math.round(pM(dr(u.angle+kn))),f=t[c],p=nK(u.y,f.h,h),m=tK(h),g=eK(u.x,f.w,m);i.push({x:u.x,y:p,textAlign:m,left:g,top:p,right:g+f.w,bottom:p+f.h})}return i}function tK(n){return n===0||n===180?"center":n<180?"left":"right"}function eK(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function nK(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function iK(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),o=Jn(s.font),{x:a,y:l,textAlign:c,left:u,top:h,right:f,bottom:p}=n._pointLabelItems[r],{backdropColor:m}=s;if(!Je(m)){const g=Pl(s.borderRadius),y=Ri(s.backdropPadding);e.fillStyle=m;const v=u-y.left,w=h-y.top,M=f-u+y.width,E=p-h+y.height;Object.values(g).some(T=>T!==0)?(e.beginPath(),gd(e,{x:v,y:w,w:M,h:E,radius:g}),e.fill()):e.fillRect(v,w,M,E)}Vl(e,n._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function fF(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,fn);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function rK(n,t,e,i){const r=n.ctx,s=t.circular,{color:o,lineWidth:a}=t;!s&&!i||!o||!a||e<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),fF(n,e,s,i),r.closePath(),r.stroke(),r.restore())}function sK(n,t,e){return Aa(n,{label:e,index:t,type:"pointLabel"})}class Yd extends Ey{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ri(cw(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Hn(t)&&!isNaN(t)?t:0,this.max=Hn(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cw(this.options))}generateTickLabels(t){Ey.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=yn(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?QX(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=fn/(this._pointLabels.length||1),i=this.options.startAngle||0;return dr(t*e+Zr(i))}getDistanceFromCenterForValue(t){if(Je(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Je(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return sK(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-kn+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),fF(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&iK(this,s),r.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const h=r.setContext(this.getContext(u-1));rK(this,h,a,s)}}),i.display){for(t.save(),o=s-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),u=Jn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Ri(c.backdropPadding);t.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Vl(t,a.label,0,-s,u,{color:c.color})}),t.restore()}drawTitle(){}}Yd.id="radialLinear";Yd.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};Yd.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Yd.descriptors={angleLines:{_fallback:"grid"}};const xv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(xv);function oK(n,t){return n-t}function CP(n,t){if(Je(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Hn(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(zu(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function OP(n,t,e,i){const r=ir.length;for(let s=ir.indexOf(n);s<r-1;++s){const o=xv[ir[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return ir[s]}return ir[r-1]}function aK(n,t,e,i,r){for(let s=ir.length-1;s>=ir.indexOf(e);s--){const o=ir[s];if(xv[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return ir[e?ir.indexOf(e):0]}function lK(n){for(let t=ir.indexOf(n)+1,e=ir.length;t<e;++t)if(xv[ir[t]].common)return ir[t]}function PP(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=mM(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function cK(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function DP(n,t,e){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!e?i:cK(n,i,r,e)}class Xd extends Zl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const i=t.time||(t.time={}),r=this._adapter=new Y3._date(t.adapters.date);r.init(e),Nf(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:CP(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Hn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Hn(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=zq(r,s,o);return this._unit=e.unit||(i.autoSkip?OP(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):aK(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:lK(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),DP(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=ci(e,0,o),i=ci(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||OP(s.minUnit,e,i,this._getLabelCapacity(e)),a=Ie(s.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=zu(l)||l===!0,u={};let h=e,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,a,o),p++)PP(u,f,m);return(f===i||r.bounds==="ticks"||p===1)&&PP(u,f,m),Object.keys(u).sort((g,y)=>g-y).map(g=>+g)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=i[e],f=l&&u&&h&&h.major,p=this._adapter.format(t,r||(f?u:c)),m=s.ticks.callback;return m?yn(m,[p,e,i],this):p}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Zr(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,DP(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(CP(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return b3(t.sort(oK))}}Xd.id="time";Xd.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function em(n,t,e){let i=0,r=n.length-1,s,o,a,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ho(n,"pos",t)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ho(n,"time",t)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class PM extends Xd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=em(e,this.min),this._tableRange=em(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(em(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return em(this._table,i*this._tableRange+this._minPos,!0)}}PM.id="timeseries";PM.defaults=Xd.defaults;var uK=Object.freeze({__proto__:null,CategoryScale:wy,LinearScale:CM,LogarithmicScale:OM,RadialLinearScale:Yd,TimeScale:Xd,TimeSeriesScale:PM});const hK=[XY,sX,WX,uK];yv.register(...hK);function Mn(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ie(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function ng(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ng=function(e){return typeof e}:ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(n)}function de(n){ie(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||ng(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function dF(n,t){ie(2,arguments);var e=de(n),i=Mn(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function DM(n,t){ie(2,arguments);var e=de(n),i=Mn(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+i+1,0);var o=s.getDate();return r>=o?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function Kd(n,t){ie(2,arguments);var e=de(n).getTime(),i=Mn(t);return new Date(e+i)}var fK=36e5;function dK(n,t){ie(2,arguments);var e=Mn(t);return Kd(n,e*fK)}var pK={};function Oa(){return pK}function RP(n,t){var e,i,r,s,o,a,l,c;ie(1,arguments);var u=Oa(),h=Mn((e=(i=(r=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=de(n),p=f.getDay(),m=(p<h?7:0)+p-h;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function Sy(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function uw(n){ie(1,arguments);var t=de(n);return t.setHours(0,0,0,0),t}var mK=864e5;function gK(n,t){ie(2,arguments);var e=uw(n),i=uw(t),r=e.getTime()-Sy(e),s=i.getTime()-Sy(i);return Math.round((r-s)/mK)}var yK=6e4;function _K(n,t){ie(2,arguments);var e=Mn(t);return Kd(n,e*yK)}function vK(n,t){ie(2,arguments);var e=Mn(t),i=e*3;return DM(n,i)}function bK(n,t){ie(2,arguments);var e=Mn(t);return Kd(n,e*1e3)}function xK(n,t){ie(2,arguments);var e=Mn(t),i=e*7;return dF(n,i)}function wK(n,t){ie(2,arguments);var e=Mn(t);return DM(n,e*12)}function Uf(n,t){ie(2,arguments);var e=de(n),i=de(t),r=e.getTime()-i.getTime();return r<0?-1:r>0?1:r}var wv=6e4,Ev=36e5,EK=1e3;function ig(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ig=function(e){return typeof e}:ig=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(n)}function SK(n){return ie(1,arguments),n instanceof Date||ig(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function pF(n){if(ie(1,arguments),!SK(n)&&typeof n!="number")return!1;var t=de(n);return!isNaN(Number(t))}function MK(n,t){ie(2,arguments);var e=de(n),i=de(t),r=e.getFullYear()-i.getFullYear(),s=e.getMonth()-i.getMonth();return r*12+s}function TK(n,t){ie(2,arguments);var e=de(n),i=de(t);return e.getFullYear()-i.getFullYear()}function LP(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function mF(n,t){ie(2,arguments);var e=de(n),i=de(t),r=LP(e,i),s=Math.abs(gK(e,i));e.setDate(e.getDate()-r*s);var o=Number(LP(e,i)===-r),a=r*(s-o);return a===0?0:a}function Sv(n,t){return ie(2,arguments),de(n).getTime()-de(t).getTime()}var IP={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},AK="trunc";function Qd(n){return n?IP[n]:IP[AK]}function CK(n,t,e){ie(2,arguments);var i=Sv(n,t)/Ev;return Qd(e==null?void 0:e.roundingMethod)(i)}function OK(n,t,e){ie(2,arguments);var i=Sv(n,t)/wv;return Qd(e==null?void 0:e.roundingMethod)(i)}function gF(n){ie(1,arguments);var t=de(n);return t.setHours(23,59,59,999),t}function yF(n){ie(1,arguments);var t=de(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function PK(n){ie(1,arguments);var t=de(n);return gF(t).getTime()===yF(t).getTime()}function _F(n,t){ie(2,arguments);var e=de(n),i=de(t),r=Uf(e,i),s=Math.abs(MK(e,i)),o;if(s<1)o=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-r*s);var a=Uf(e,i)===-r;PK(de(n))&&s===1&&Uf(n,i)===1&&(a=!1),o=r*(s-Number(a))}return o===0?0:o}function DK(n,t,e){ie(2,arguments);var i=_F(n,t)/3;return Qd(e==null?void 0:e.roundingMethod)(i)}function RK(n,t,e){ie(2,arguments);var i=Sv(n,t)/1e3;return Qd(e==null?void 0:e.roundingMethod)(i)}function LK(n,t,e){ie(2,arguments);var i=mF(n,t)/7;return Qd(e==null?void 0:e.roundingMethod)(i)}function IK(n,t){ie(2,arguments);var e=de(n),i=de(t),r=Uf(e,i),s=Math.abs(TK(e,i));e.setFullYear(1584),i.setFullYear(1584);var o=Uf(e,i)===-r,a=r*(s-Number(o));return a===0?0:a}function NK(n){ie(1,arguments);var t=de(n);return t.setSeconds(0,0),t}function kK(n){ie(1,arguments);var t=de(n),e=t.getMonth(),i=e-e%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function FK(n){ie(1,arguments);var t=de(n);return t.setDate(1),t.setHours(0,0,0,0),t}function BK(n){ie(1,arguments);var t=de(n),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function zK(n){ie(1,arguments);var t=de(n),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function UK(n){ie(1,arguments);var t=de(n);return t.setMinutes(59,59,999),t}function VK(n,t){var e,i,r,s,o,a,l,c;ie(1,arguments);var u=Oa(),h=Mn((e=(i=(r=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=de(n),p=f.getDay(),m=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+m),f.setHours(23,59,59,999),f}function HK(n){ie(1,arguments);var t=de(n);return t.setSeconds(59,999),t}function $K(n){ie(1,arguments);var t=de(n),e=t.getMonth(),i=e-e%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function WK(n){ie(1,arguments);var t=de(n);return t.setMilliseconds(999),t}function vF(n,t){ie(2,arguments);var e=Mn(t);return Kd(n,-e)}var GK=864e5;function jK(n){ie(1,arguments);var t=de(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),r=e-i;return Math.floor(r/GK)+1}function Hu(n){ie(1,arguments);var t=1,e=de(n),i=e.getUTCDay(),r=(i<t?7:0)+i-t;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function bF(n){ie(1,arguments);var t=de(n),e=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=Hu(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=Hu(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function qK(n){ie(1,arguments);var t=bF(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var i=Hu(e);return i}var YK=6048e5;function xF(n){ie(1,arguments);var t=de(n),e=Hu(t).getTime()-qK(t).getTime();return Math.round(e/YK)+1}function Hl(n,t){var e,i,r,s,o,a,l,c;ie(1,arguments);var u=Oa(),h=Mn((e=(i=(r=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=de(n),p=f.getUTCDay(),m=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function RM(n,t){var e,i,r,s,o,a,l,c;ie(1,arguments);var u=de(n),h=u.getUTCFullYear(),f=Oa(),p=Mn((e=(i=(r=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&i!==void 0?i:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,p),m.setUTCHours(0,0,0,0);var g=Hl(m,t),y=new Date(0);y.setUTCFullYear(h,0,p),y.setUTCHours(0,0,0,0);var v=Hl(y,t);return u.getTime()>=g.getTime()?h+1:u.getTime()>=v.getTime()?h:h-1}function XK(n,t){var e,i,r,s,o,a,l,c;ie(1,arguments);var u=Oa(),h=Mn((e=(i=(r=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1),f=RM(n,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var m=Hl(p,t);return m}var KK=6048e5;function wF(n,t){ie(1,arguments);var e=de(n),i=Hl(e,t).getTime()-XK(e,t).getTime();return Math.round(i/KK)+1}function sn(n,t){for(var e=n<0?"-":"",i=Math.abs(n).toString();i.length<t;)i="0"+i;return e+i}var QK={y:function(t,e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return sn(e==="yy"?r%100:r,e.length)},M:function(t,e){var i=t.getUTCMonth();return e==="M"?String(i+1):sn(i+1,2)},d:function(t,e){return sn(t.getUTCDate(),e.length)},a:function(t,e){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(t,e){return sn(t.getUTCHours()%12||12,e.length)},H:function(t,e){return sn(t.getUTCHours(),e.length)},m:function(t,e){return sn(t.getUTCMinutes(),e.length)},s:function(t,e){return sn(t.getUTCSeconds(),e.length)},S:function(t,e){var i=e.length,r=t.getUTCMilliseconds(),s=Math.floor(r*Math.pow(10,i-3));return sn(s,e.length)}};const Go=QK;var Lc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JK={G:function(t,e,i){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})}},y:function(t,e,i){if(e==="yo"){var r=t.getUTCFullYear(),s=r>0?r:1-r;return i.ordinalNumber(s,{unit:"year"})}return Go.y(t,e)},Y:function(t,e,i,r){var s=RM(t,r),o=s>0?s:1-s;if(e==="YY"){var a=o%100;return sn(a,2)}return e==="Yo"?i.ordinalNumber(o,{unit:"year"}):sn(o,e.length)},R:function(t,e){var i=bF(t);return sn(i,e.length)},u:function(t,e){var i=t.getUTCFullYear();return sn(i,e.length)},Q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return sn(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return sn(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,i){var r=t.getUTCMonth();switch(e){case"M":case"MM":return Go.M(t,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,i){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return sn(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,i,r){var s=wF(t,r);return e==="wo"?i.ordinalNumber(s,{unit:"week"}):sn(s,e.length)},I:function(t,e,i){var r=xF(t);return e==="Io"?i.ordinalNumber(r,{unit:"week"}):sn(r,e.length)},d:function(t,e,i){return e==="do"?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):Go.d(t,e)},D:function(t,e,i){var r=jK(t);return e==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):sn(r,e.length)},E:function(t,e,i){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,i,r){var s=t.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return sn(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,i,r){var s=t.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return sn(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,i){var r=t.getUTCDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return sn(s,e.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});case"iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,i){var r=t.getUTCHours(),s=r/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,i){var r=t.getUTCHours(),s;switch(r===12?s=Lc.noon:r===0?s=Lc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,i){var r=t.getUTCHours(),s;switch(r>=17?s=Lc.evening:r>=12?s=Lc.afternoon:r>=4?s=Lc.morning:s=Lc.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,i){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return Go.h(t,e)},H:function(t,e,i){return e==="Ho"?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Go.H(t,e)},K:function(t,e,i){var r=t.getUTCHours()%12;return e==="Ko"?i.ordinalNumber(r,{unit:"hour"}):sn(r,e.length)},k:function(t,e,i){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?i.ordinalNumber(r,{unit:"hour"}):sn(r,e.length)},m:function(t,e,i){return e==="mo"?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Go.m(t,e)},s:function(t,e,i){return e==="so"?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Go.s(t,e)},S:function(t,e){return Go.S(t,e)},X:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return kP(o);case"XXXX":case"XX":return dl(o);case"XXXXX":case"XXX":default:return dl(o,":")}},x:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"x":return kP(o);case"xxxx":case"xx":return dl(o);case"xxxxx":case"xxx":default:return dl(o,":")}},O:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+NP(o,":");case"OOOO":default:return"GMT"+dl(o,":")}},z:function(t,e,i,r){var s=r._originalDate||t,o=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+NP(o,":");case"zzzz":default:return"GMT"+dl(o,":")}},t:function(t,e,i,r){var s=r._originalDate||t,o=Math.floor(s.getTime()/1e3);return sn(o,e.length)},T:function(t,e,i,r){var s=r._originalDate||t,o=s.getTime();return sn(o,e.length)}};function NP(n,t){var e=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=i%60;if(s===0)return e+String(r);var o=t||"";return e+String(r)+o+sn(s,2)}function kP(n,t){if(n%60===0){var e=n>0?"-":"+";return e+sn(Math.abs(n)/60,2)}return dl(n,t)}function dl(n,t){var e=t||"",i=n>0?"-":"+",r=Math.abs(n),s=sn(Math.floor(r/60),2),o=sn(r%60,2);return i+s+e+o}const ZK=JK;var FP=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EF=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tQ=function(t,e){var i=t.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return FP(t,e);var o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",FP(r,e)).replace("{{time}}",EF(s,e))},eQ={p:EF,P:tQ};const hw=eQ;var nQ=["D","DD"],iQ=["YY","YYYY"];function SF(n){return nQ.indexOf(n)!==-1}function MF(n){return iQ.indexOf(n)!==-1}function My(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sQ=function(t,e,i){var r,s=rQ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};const oQ=sQ;function n0(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,i=n.formats[e]||n.formats[n.defaultWidth];return i}}var aQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uQ={date:n0({formats:aQ,defaultWidth:"full"}),time:n0({formats:lQ,defaultWidth:"full"}),dateTime:n0({formats:cQ,defaultWidth:"full"})};const hQ=uQ;var fQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dQ=function(t,e,i,r){return fQ[t]};const pQ=dQ;function Zh(n){return function(t,e){var i=e!=null&&e.context?String(e.context):"standalone",r;if(i==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,o=e!=null&&e.width?String(e.width):s;r=n.formattingValues[o]||n.formattingValues[s]}else{var a=n.defaultWidth,l=e!=null&&e.width?String(e.width):n.defaultWidth;r=n.values[l]||n.values[a]}var c=n.argumentCallback?n.argumentCallback(t):t;return r[c]}}var mQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_Q={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xQ=function(t,e){var i=Number(t),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},wQ={ordinalNumber:xQ,era:Zh({values:mQ,defaultWidth:"wide"}),quarter:Zh({values:gQ,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Zh({values:yQ,defaultWidth:"wide"}),day:Zh({values:_Q,defaultWidth:"wide"}),dayPeriod:Zh({values:vQ,defaultWidth:"wide",formattingValues:bQ,defaultFormattingWidth:"wide"})};const EQ=wQ;function tf(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],s=t.match(r);if(!s)return null;var o=s[0],a=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?MQ(a,function(h){return h.test(o)}):SQ(a,function(h){return h.test(o)}),c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function SQ(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function MQ(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function TQ(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(n.matchPattern);if(!i)return null;var r=i[0],s=t.match(n.parsePattern);if(!s)return null;var o=n.valueCallback?n.valueCallback(s[0]):s[0];o=e.valueCallback?e.valueCallback(o):o;var a=t.slice(r.length);return{value:o,rest:a}}}var AQ=/^(\d+)(th|st|nd|rd)?/i,CQ=/\d+/i,OQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PQ={any:[/^b/i,/^(a|c)/i]},DQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RQ={any:[/1/i,/2/i,/3/i,/4/i]},LQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zQ={ordinalNumber:TQ({matchPattern:AQ,parsePattern:CQ,valueCallback:function(t){return parseInt(t,10)}}),era:tf({matchPatterns:OQ,defaultMatchWidth:"wide",parsePatterns:PQ,defaultParseWidth:"any"}),quarter:tf({matchPatterns:DQ,defaultMatchWidth:"wide",parsePatterns:RQ,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:tf({matchPatterns:LQ,defaultMatchWidth:"wide",parsePatterns:IQ,defaultParseWidth:"any"}),day:tf({matchPatterns:NQ,defaultMatchWidth:"wide",parsePatterns:kQ,defaultParseWidth:"any"}),dayPeriod:tf({matchPatterns:FQ,defaultMatchWidth:"any",parsePatterns:BQ,defaultParseWidth:"any"})};const UQ=zQ;var VQ={code:"en-US",formatDistance:oQ,formatLong:hQ,formatRelative:pQ,localize:EQ,match:UQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const TF=VQ;var HQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$Q=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WQ=/^'([^]*?)'?$/,GQ=/''/g,jQ=/[a-zA-Z]/;function qQ(n,t,e){var i,r,s,o,a,l,c,u,h,f,p,m,g,y,v,w,M,E;ie(2,arguments);var T=String(t),D=Oa(),I=(i=(r=e==null?void 0:e.locale)!==null&&r!==void 0?r:D.locale)!==null&&i!==void 0?i:TF,G=Mn((s=(o=(a=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(c=e.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:D.firstWeekContainsDate)!==null&&o!==void 0?o:(h=D.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(G>=1&&G<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Mn((p=(m=(g=(y=e==null?void 0:e.weekStartsOn)!==null&&y!==void 0?y:e==null||(v=e.locale)===null||v===void 0||(w=v.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&g!==void 0?g:D.weekStartsOn)!==null&&m!==void 0?m:(M=D.locale)===null||M===void 0||(E=M.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var V=de(n);if(!pF(V))throw new RangeError("Invalid time value");var A=Sy(V),F=vF(V,A),nt={firstWeekContainsDate:G,weekStartsOn:j,locale:I,_originalDate:V},q=T.match($Q).map(function(P){var W=P[0];if(W==="p"||W==="P"){var Z=hw[W];return Z(P,I.formatLong)}return P}).join("").match(HQ).map(function(P){if(P==="''")return"'";var W=P[0];if(W==="'")return YQ(P);var Z=ZK[W];if(Z)return!(e!=null&&e.useAdditionalWeekYearTokens)&&MF(P)&&My(P,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&SF(P)&&My(P,t,String(n)),Z(F,P,I.localize,nt);if(W.match(jQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return P}).join("");return q}function YQ(n){var t=n.match(WQ);return t?t[1].replace(GQ,"'"):n}function XQ(n,t){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function rg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rg=function(e){return typeof e}:rg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(n)}function AF(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&fw(n,t)}function fw(n,t){return fw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},fw(n,t)}function CF(n){var t=QQ();return function(){var i=Ty(n),r;if(t){var s=Ty(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return KQ(this,r)}}function KQ(n,t){return t&&(rg(t)==="object"||typeof t=="function")?t:dw(n)}function dw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ty(n){return Ty=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ty(n)}function LM(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function IM(n,t,e){return t&&BP(n.prototype,t),e&&BP(n,e),n}function pw(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var JQ=10,OF=function(){function n(){LM(this,n),pw(this,"subPriority",0)}return IM(n,[{key:"validate",value:function(e,i){return!0}}]),n}(),ZQ=function(n){AF(e,n);var t=CF(e);function e(i,r,s,o,a){var l;return LM(this,e),l=t.call(this),l.value=i,l.validateValue=r,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return IM(e,[{key:"validate",value:function(r,s){return this.validateValue(r,this.value,s)}},{key:"set",value:function(r,s,o){return this.setValue(r,s,this.value,o)}}]),e}(OF),tJ=function(n){AF(e,n);var t=CF(e);function e(){var i;LM(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),pw(dw(i),"priority",JQ),pw(dw(i),"subPriority",-1),i}return IM(e,[{key:"set",value:function(r,s){if(s.timestampIsSet)return r;var o=new Date(0);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}}]),e}(OF);function eJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function zP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function nJ(n,t,e){return t&&zP(n.prototype,t),e&&zP(n,e),n}var en=function(){function n(){eJ(this,n)}return nJ(n,[{key:"run",value:function(e,i,r,s){var o=this.parse(e,i,r,s);return o?{setter:new ZQ(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,i,r){return!0}}]),n}();function sg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sg=function(e){return typeof e}:sg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(n)}function iJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function UP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function rJ(n,t,e){return t&&UP(n.prototype,t),e&&UP(n,e),n}function sJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&mw(n,t)}function mw(n,t){return mw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},mw(n,t)}function oJ(n){var t=lJ();return function(){var i=Ay(n),r;if(t){var s=Ay(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return aJ(this,r)}}function aJ(n,t){return t&&(sg(t)==="object"||typeof t=="function")?t:gw(n)}function gw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ay(n){return Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ay(n)}function VP(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var cJ=function(n){sJ(e,n);var t=oJ(e);function e(){var i;iJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),VP(gw(i),"priority",140),VP(gw(i),"incompatibleTokens",["R","u","t","T"]),i}return rJ(e,[{key:"parse",value:function(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}},{key:"set",value:function(r,s,o){return s.era=o,r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(en),Un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ps={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vn(n,t){return n&&{value:t(n.value),rest:n.rest}}function In(n,t){var e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Ds(n,t){var e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var i=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:i*(r*Ev+s*wv+o*EK),rest:t.slice(e[0].length)}}function PF(n){return In(Un.anyDigitsSigned,n)}function Fn(n,t){switch(n){case 1:return In(Un.singleDigit,t);case 2:return In(Un.twoDigits,t);case 3:return In(Un.threeDigits,t);case 4:return In(Un.fourDigits,t);default:return In(new RegExp("^\\d{1,"+n+"}"),t)}}function Cy(n,t){switch(n){case 1:return In(Un.singleDigitSigned,t);case 2:return In(Un.twoDigitsSigned,t);case 3:return In(Un.threeDigitsSigned,t);case 4:return In(Un.fourDigitsSigned,t);default:return In(new RegExp("^-?\\d{1,"+n+"}"),t)}}function NM(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function DF(n,t){var e=t>0,i=e?t:1-t,r;if(i<=50)r=n||100;else{var s=i+50,o=Math.floor(s/100)*100,a=n>=s%100;r=n+o-(a?100:0)}return e?r:1-r}function RF(n){return n%400===0||n%4===0&&n%100!==0}function og(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(e){return typeof e}:og=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(n)}function uJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function HP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function hJ(n,t,e){return t&&HP(n.prototype,t),e&&HP(n,e),n}function fJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&yw(n,t)}function yw(n,t){return yw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},yw(n,t)}function dJ(n){var t=mJ();return function(){var i=Oy(n),r;if(t){var s=Oy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return pJ(this,r)}}function pJ(n,t){return t&&(og(t)==="object"||typeof t=="function")?t:_w(n)}function _w(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function mJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oy(n){return Oy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oy(n)}function $P(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var gJ=function(n){fJ(e,n);var t=dJ(e);function e(){var i;uJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),$P(_w(i),"priority",130),$P(_w(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return hJ(e,[{key:"parse",value:function(r,s,o){var a=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Vn(Fn(4,r),a);case"yo":return Vn(o.ordinalNumber(r,{unit:"year"}),a);default:return Vn(Fn(s.length,r),a)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,o){var a=r.getUTCFullYear();if(o.isTwoDigitYear){var l=DF(o.year,a);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(en);function ag(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ag=function(e){return typeof e}:ag=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(n)}function yJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function WP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _J(n,t,e){return t&&WP(n.prototype,t),e&&WP(n,e),n}function vJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&vw(n,t)}function vw(n,t){return vw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},vw(n,t)}function bJ(n){var t=wJ();return function(){var i=Py(n),r;if(t){var s=Py(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return xJ(this,r)}}function xJ(n,t){return t&&(ag(t)==="object"||typeof t=="function")?t:bw(n)}function bw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Py(n){return Py=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(n)}function GP(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var EJ=function(n){vJ(e,n);var t=bJ(e);function e(){var i;yJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),GP(bw(i),"priority",130),GP(bw(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return _J(e,[{key:"parse",value:function(r,s,o){var a=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Vn(Fn(4,r),a);case"Yo":return Vn(o.ordinalNumber(r,{unit:"year"}),a);default:return Vn(Fn(s.length,r),a)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,o,a){var l=RM(r,a);if(o.isTwoDigitYear){var c=DF(o.year,l);return r.setUTCFullYear(c,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Hl(r,a)}var u=!("era"in s)||s.era===1?o.year:1-o.year;return r.setUTCFullYear(u,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Hl(r,a)}}]),e}(en);function lg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lg=function(e){return typeof e}:lg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(n)}function SJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function jP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function MJ(n,t,e){return t&&jP(n.prototype,t),e&&jP(n,e),n}function TJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&xw(n,t)}function xw(n,t){return xw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},xw(n,t)}function AJ(n){var t=OJ();return function(){var i=Dy(n),r;if(t){var s=Dy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return CJ(this,r)}}function CJ(n,t){return t&&(lg(t)==="object"||typeof t=="function")?t:ww(n)}function ww(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function OJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dy(n){return Dy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dy(n)}function qP(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var PJ=function(n){TJ(e,n);var t=AJ(e);function e(){var i;SJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),qP(ww(i),"priority",130),qP(ww(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return MJ(e,[{key:"parse",value:function(r,s){return Cy(s==="R"?4:s.length,r)}},{key:"set",value:function(r,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Hu(a)}}]),e}(en);function cg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(e){return typeof e}:cg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(n)}function DJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function YP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function RJ(n,t,e){return t&&YP(n.prototype,t),e&&YP(n,e),n}function LJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Ew(n,t)}function Ew(n,t){return Ew=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ew(n,t)}function IJ(n){var t=kJ();return function(){var i=Ry(n),r;if(t){var s=Ry(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return NJ(this,r)}}function NJ(n,t){return t&&(cg(t)==="object"||typeof t=="function")?t:Sw(n)}function Sw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ry(n){return Ry=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ry(n)}function XP(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var FJ=function(n){LJ(e,n);var t=IJ(e);function e(){var i;DJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),XP(Sw(i),"priority",130),XP(Sw(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return RJ(e,[{key:"parse",value:function(r,s){return Cy(s==="u"?4:s.length,r)}},{key:"set",value:function(r,s,o){return r.setUTCFullYear(o,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(en);function ug(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ug=function(e){return typeof e}:ug=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(n)}function BJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function KP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function zJ(n,t,e){return t&&KP(n.prototype,t),e&&KP(n,e),n}function UJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Mw(n,t)}function Mw(n,t){return Mw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Mw(n,t)}function VJ(n){var t=$J();return function(){var i=Ly(n),r;if(t){var s=Ly(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return HJ(this,r)}}function HJ(n,t){return t&&(ug(t)==="object"||typeof t=="function")?t:Tw(n)}function Tw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ly(n){return Ly=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ly(n)}function QP(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var WJ=function(n){UJ(e,n);var t=VJ(e);function e(){var i;BJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),QP(Tw(i),"priority",120),QP(Tw(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return zJ(e,[{key:"parse",value:function(r,s,o){switch(s){case"Q":case"QQ":return Fn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(en);function hg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hg=function(e){return typeof e}:hg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(n)}function GJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function JP(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function jJ(n,t,e){return t&&JP(n.prototype,t),e&&JP(n,e),n}function qJ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Aw(n,t)}function Aw(n,t){return Aw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Aw(n,t)}function YJ(n){var t=KJ();return function(){var i=Iy(n),r;if(t){var s=Iy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return XJ(this,r)}}function XJ(n,t){return t&&(hg(t)==="object"||typeof t=="function")?t:Cw(n)}function Cw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iy(n){return Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Iy(n)}function ZP(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var QJ=function(n){qJ(e,n);var t=YJ(e);function e(){var i;GJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ZP(Cw(i),"priority",120),ZP(Cw(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return jJ(e,[{key:"parse",value:function(r,s,o){switch(s){case"q":case"qq":return Fn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,o){return r.setUTCMonth((o-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(en);function fg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fg=function(e){return typeof e}:fg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(n)}function JJ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function tD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function ZJ(n,t,e){return t&&tD(n.prototype,t),e&&tD(n,e),n}function tZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Ow(n,t)}function Ow(n,t){return Ow=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ow(n,t)}function eZ(n){var t=iZ();return function(){var i=Ny(n),r;if(t){var s=Ny(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return nZ(this,r)}}function nZ(n,t){return t&&(fg(t)==="object"||typeof t=="function")?t:Pw(n)}function Pw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ny(n){return Ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ny(n)}function eD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var rZ=function(n){tZ(e,n);var t=eZ(e);function e(){var i;JJ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),eD(Pw(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),eD(Pw(i),"priority",110),i}return ZJ(e,[{key:"parse",value:function(r,s,o){var a=function(c){return c-1};switch(s){case"M":return Vn(In(Un.month,r),a);case"MM":return Vn(Fn(2,r),a);case"Mo":return Vn(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),e}(en);function dg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dg=function(e){return typeof e}:dg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(n)}function sZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function nD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function oZ(n,t,e){return t&&nD(n.prototype,t),e&&nD(n,e),n}function aZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Dw(n,t)}function Dw(n,t){return Dw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Dw(n,t)}function lZ(n){var t=uZ();return function(){var i=ky(n),r;if(t){var s=ky(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return cZ(this,r)}}function cZ(n,t){return t&&(dg(t)==="object"||typeof t=="function")?t:Rw(n)}function Rw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ky(n){return ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ky(n)}function iD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var hZ=function(n){aZ(e,n);var t=lZ(e);function e(){var i;sZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),iD(Rw(i),"priority",110),iD(Rw(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return oZ(e,[{key:"parse",value:function(r,s,o){var a=function(c){return c-1};switch(s){case"L":return Vn(In(Un.month,r),a);case"LL":return Vn(Fn(2,r),a);case"Lo":return Vn(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){return r.setUTCMonth(o,1),r.setUTCHours(0,0,0,0),r}}]),e}(en);function fZ(n,t,e){ie(2,arguments);var i=de(n),r=Mn(t),s=wF(i,e)-r;return i.setUTCDate(i.getUTCDate()-s*7),i}function pg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pg=function(e){return typeof e}:pg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(n)}function dZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function rD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function pZ(n,t,e){return t&&rD(n.prototype,t),e&&rD(n,e),n}function mZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Lw(n,t)}function Lw(n,t){return Lw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Lw(n,t)}function gZ(n){var t=_Z();return function(){var i=Fy(n),r;if(t){var s=Fy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return yZ(this,r)}}function yZ(n,t){return t&&(pg(t)==="object"||typeof t=="function")?t:Iw(n)}function Iw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fy(n){return Fy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fy(n)}function sD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var vZ=function(n){mZ(e,n);var t=gZ(e);function e(){var i;dZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),sD(Iw(i),"priority",100),sD(Iw(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return pZ(e,[{key:"parse",value:function(r,s,o){switch(s){case"w":return In(Un.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,o,a){return Hl(fZ(r,o,a),a)}}]),e}(en);function bZ(n,t){ie(2,arguments);var e=de(n),i=Mn(t),r=xF(e)-i;return e.setUTCDate(e.getUTCDate()-r*7),e}function mg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mg=function(e){return typeof e}:mg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(n)}function xZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function oD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function wZ(n,t,e){return t&&oD(n.prototype,t),e&&oD(n,e),n}function EZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Nw(n,t)}function Nw(n,t){return Nw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Nw(n,t)}function SZ(n){var t=TZ();return function(){var i=By(n),r;if(t){var s=By(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return MZ(this,r)}}function MZ(n,t){return t&&(mg(t)==="object"||typeof t=="function")?t:kw(n)}function kw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function By(n){return By=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},By(n)}function aD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var AZ=function(n){EZ(e,n);var t=SZ(e);function e(){var i;xZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),aD(kw(i),"priority",100),aD(kw(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return wZ(e,[{key:"parse",value:function(r,s,o){switch(s){case"I":return In(Un.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,o){return Hu(bZ(r,o))}}]),e}(en);function gg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gg=function(e){return typeof e}:gg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(n)}function CZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function lD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function OZ(n,t,e){return t&&lD(n.prototype,t),e&&lD(n,e),n}function PZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Fw(n,t)}function Fw(n,t){return Fw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Fw(n,t)}function DZ(n){var t=LZ();return function(){var i=zy(n),r;if(t){var s=zy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return RZ(this,r)}}function RZ(n,t){return t&&(gg(t)==="object"||typeof t=="function")?t:yg(n)}function yg(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zy(n){return zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zy(n)}function i0(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var IZ=[31,28,31,30,31,30,31,31,30,31,30,31],NZ=[31,29,31,30,31,30,31,31,30,31,30,31],kZ=function(n){PZ(e,n);var t=DZ(e);function e(){var i;CZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),i0(yg(i),"priority",90),i0(yg(i),"subPriority",1),i0(yg(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return OZ(e,[{key:"parse",value:function(r,s,o){switch(s){case"d":return In(Un.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){var o=r.getUTCFullYear(),a=RF(o),l=r.getUTCMonth();return a?s>=1&&s<=NZ[l]:s>=1&&s<=IZ[l]}},{key:"set",value:function(r,s,o){return r.setUTCDate(o),r.setUTCHours(0,0,0,0),r}}]),e}(en);function _g(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_g=function(e){return typeof e}:_g=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(n)}function FZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function cD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function BZ(n,t,e){return t&&cD(n.prototype,t),e&&cD(n,e),n}function zZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Bw(n,t)}function Bw(n,t){return Bw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Bw(n,t)}function UZ(n){var t=HZ();return function(){var i=Uy(n),r;if(t){var s=Uy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return VZ(this,r)}}function VZ(n,t){return t&&(_g(t)==="object"||typeof t=="function")?t:vg(n)}function vg(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function HZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uy(n){return Uy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uy(n)}function r0(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var $Z=function(n){zZ(e,n);var t=UZ(e);function e(){var i;FZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),r0(vg(i),"priority",90),r0(vg(i),"subpriority",1),r0(vg(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return BZ(e,[{key:"parse",value:function(r,s,o){switch(s){case"D":case"DD":return In(Un.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){var o=r.getUTCFullYear(),a=RF(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(r,s,o){return r.setUTCMonth(0,o),r.setUTCHours(0,0,0,0),r}}]),e}(en);function kM(n,t,e){var i,r,s,o,a,l,c,u;ie(2,arguments);var h=Oa(),f=Mn((i=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=de(n),m=Mn(t),g=p.getUTCDay(),y=m%7,v=(y+7)%7,w=(v<f?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+w),p}function bg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bg=function(e){return typeof e}:bg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(n)}function WZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function uD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function GZ(n,t,e){return t&&uD(n.prototype,t),e&&uD(n,e),n}function jZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&zw(n,t)}function zw(n,t){return zw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},zw(n,t)}function qZ(n){var t=XZ();return function(){var i=Vy(n),r;if(t){var s=Vy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return YZ(this,r)}}function YZ(n,t){return t&&(bg(t)==="object"||typeof t=="function")?t:Uw(n)}function Uw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function XZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vy(n){return Vy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vy(n)}function hD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var KZ=function(n){jZ(e,n);var t=qZ(e);function e(){var i;WZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),hD(Uw(i),"priority",90),hD(Uw(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return GZ(e,[{key:"parse",value:function(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=kM(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(en);function xg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xg=function(e){return typeof e}:xg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(n)}function QZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function fD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function JZ(n,t,e){return t&&fD(n.prototype,t),e&&fD(n,e),n}function ZZ(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Vw(n,t)}function Vw(n,t){return Vw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Vw(n,t)}function ttt(n){var t=ntt();return function(){var i=Hy(n),r;if(t){var s=Hy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ett(this,r)}}function ett(n,t){return t&&(xg(t)==="object"||typeof t=="function")?t:Hw(n)}function Hw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ntt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hy(n){return Hy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hy(n)}function dD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var itt=function(n){ZZ(e,n);var t=ttt(e);function e(){var i;QZ(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),dD(Hw(i),"priority",90),dD(Hw(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return JZ(e,[{key:"parse",value:function(r,s,o,a){var l=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Vn(Fn(s.length,r),l);case"eo":return Vn(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=kM(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(en);function wg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wg=function(e){return typeof e}:wg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(n)}function rtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function pD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function stt(n,t,e){return t&&pD(n.prototype,t),e&&pD(n,e),n}function ott(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&$w(n,t)}function $w(n,t){return $w=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},$w(n,t)}function att(n){var t=ctt();return function(){var i=$y(n),r;if(t){var s=$y(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ltt(this,r)}}function ltt(n,t){return t&&(wg(t)==="object"||typeof t=="function")?t:Ww(n)}function Ww(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ctt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $y(n){return $y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$y(n)}function mD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var utt=function(n){ott(e,n);var t=att(e);function e(){var i;rtt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),mD(Ww(i),"priority",90),mD(Ww(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return stt(e,[{key:"parse",value:function(r,s,o,a){var l=function(u){var h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Vn(Fn(s.length,r),l);case"co":return Vn(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,o,a){return r=kM(r,o,a),r.setUTCHours(0,0,0,0),r}}]),e}(en);function htt(n,t){ie(2,arguments);var e=Mn(t);e%7===0&&(e=e-7);var i=1,r=de(n),s=r.getUTCDay(),o=e%7,a=(o+7)%7,l=(a<i?7:0)+e-s;return r.setUTCDate(r.getUTCDate()+l),r}function Eg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eg=function(e){return typeof e}:Eg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(n)}function ftt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function gD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function dtt(n,t,e){return t&&gD(n.prototype,t),e&&gD(n,e),n}function ptt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Gw(n,t)}function Gw(n,t){return Gw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Gw(n,t)}function mtt(n){var t=ytt();return function(){var i=Wy(n),r;if(t){var s=Wy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return gtt(this,r)}}function gtt(n,t){return t&&(Eg(t)==="object"||typeof t=="function")?t:jw(n)}function jw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ytt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wy(n){return Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wy(n)}function yD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var _tt=function(n){ptt(e,n);var t=mtt(e);function e(){var i;ftt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),yD(jw(i),"priority",90),yD(jw(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return dtt(e,[{key:"parse",value:function(r,s,o){var a=function(c){return c===0?7:c};switch(s){case"i":case"ii":return Fn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Vn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Vn(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Vn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Vn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(r,s){return s>=1&&s<=7}},{key:"set",value:function(r,s,o){return r=htt(r,o),r.setUTCHours(0,0,0,0),r}}]),e}(en);function Sg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sg=function(e){return typeof e}:Sg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(n)}function vtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _D(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function btt(n,t,e){return t&&_D(n.prototype,t),e&&_D(n,e),n}function xtt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&qw(n,t)}function qw(n,t){return qw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},qw(n,t)}function wtt(n){var t=Stt();return function(){var i=Gy(n),r;if(t){var s=Gy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Ett(this,r)}}function Ett(n,t){return t&&(Sg(t)==="object"||typeof t=="function")?t:Yw(n)}function Yw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Stt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gy(n){return Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gy(n)}function vD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Mtt=function(n){xtt(e,n);var t=wtt(e);function e(){var i;vtt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),vD(Yw(i),"priority",80),vD(Yw(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return btt(e,[{key:"parse",value:function(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(NM(o),0,0,0),r}}]),e}(en);function Mg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mg=function(e){return typeof e}:Mg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(n)}function Ttt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function bD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Att(n,t,e){return t&&bD(n.prototype,t),e&&bD(n,e),n}function Ctt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Xw(n,t)}function Xw(n,t){return Xw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Xw(n,t)}function Ott(n){var t=Dtt();return function(){var i=jy(n),r;if(t){var s=jy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Ptt(this,r)}}function Ptt(n,t){return t&&(Mg(t)==="object"||typeof t=="function")?t:Kw(n)}function Kw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Dtt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jy(n){return jy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jy(n)}function xD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Rtt=function(n){Ctt(e,n);var t=Ott(e);function e(){var i;Ttt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),xD(Kw(i),"priority",80),xD(Kw(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return Att(e,[{key:"parse",value:function(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(NM(o),0,0,0),r}}]),e}(en);function Tg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tg=function(e){return typeof e}:Tg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(n)}function Ltt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Itt(n,t,e){return t&&wD(n.prototype,t),e&&wD(n,e),n}function Ntt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Qw(n,t)}function Qw(n,t){return Qw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Qw(n,t)}function ktt(n){var t=Btt();return function(){var i=qy(n),r;if(t){var s=qy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Ftt(this,r)}}function Ftt(n,t){return t&&(Tg(t)==="object"||typeof t=="function")?t:Jw(n)}function Jw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Btt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qy(n){return qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qy(n)}function ED(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ztt=function(n){Ntt(e,n);var t=ktt(e);function e(){var i;Ltt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ED(Jw(i),"priority",80),ED(Jw(i),"incompatibleTokens",["a","b","t","T"]),i}return Itt(e,[{key:"parse",value:function(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,o){return r.setUTCHours(NM(o),0,0,0),r}}]),e}(en);function Ag(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ag=function(e){return typeof e}:Ag=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(n)}function Utt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function SD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Vtt(n,t,e){return t&&SD(n.prototype,t),e&&SD(n,e),n}function Htt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Zw(n,t)}function Zw(n,t){return Zw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Zw(n,t)}function $tt(n){var t=Gtt();return function(){var i=Yy(n),r;if(t){var s=Yy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Wtt(this,r)}}function Wtt(n,t){return t&&(Ag(t)==="object"||typeof t=="function")?t:tE(n)}function tE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gtt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yy(n){return Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(n)}function MD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var jtt=function(n){Htt(e,n);var t=$tt(e);function e(){var i;Utt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),MD(tE(i),"priority",70),MD(tE(i),"incompatibleTokens",["H","K","k","t","T"]),i}return Vtt(e,[{key:"parse",value:function(r,s,o){switch(s){case"h":return In(Un.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=12}},{key:"set",value:function(r,s,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):!a&&o===12?r.setUTCHours(0,0,0,0):r.setUTCHours(o,0,0,0),r}}]),e}(en);function Cg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cg=function(e){return typeof e}:Cg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(n)}function qtt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Ytt(n,t,e){return t&&TD(n.prototype,t),e&&TD(n,e),n}function Xtt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&eE(n,t)}function eE(n,t){return eE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},eE(n,t)}function Ktt(n){var t=Jtt();return function(){var i=Xy(n),r;if(t){var s=Xy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Qtt(this,r)}}function Qtt(n,t){return t&&(Cg(t)==="object"||typeof t=="function")?t:nE(n)}function nE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jtt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xy(n){return Xy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xy(n)}function AD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Ztt=function(n){Xtt(e,n);var t=Ktt(e);function e(){var i;qtt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),AD(nE(i),"priority",70),AD(nE(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return Ytt(e,[{key:"parse",value:function(r,s,o){switch(s){case"H":return In(Un.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=23}},{key:"set",value:function(r,s,o){return r.setUTCHours(o,0,0,0),r}}]),e}(en);function Og(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Og=function(e){return typeof e}:Og=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(n)}function tet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function eet(n,t,e){return t&&CD(n.prototype,t),e&&CD(n,e),n}function net(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&iE(n,t)}function iE(n,t){return iE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},iE(n,t)}function iet(n){var t=set();return function(){var i=Ky(n),r;if(t){var s=Ky(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ret(this,r)}}function ret(n,t){return t&&(Og(t)==="object"||typeof t=="function")?t:rE(n)}function rE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function set(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ky(n){return Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ky(n)}function OD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var oet=function(n){net(e,n);var t=iet(e);function e(){var i;tet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),OD(rE(i),"priority",70),OD(rE(i),"incompatibleTokens",["h","H","k","t","T"]),i}return eet(e,[{key:"parse",value:function(r,s,o){switch(s){case"K":return In(Un.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,o){var a=r.getUTCHours()>=12;return a&&o<12?r.setUTCHours(o+12,0,0,0):r.setUTCHours(o,0,0,0),r}}]),e}(en);function Pg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pg=function(e){return typeof e}:Pg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(n)}function aet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function PD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function cet(n,t,e){return t&&PD(n.prototype,t),e&&PD(n,e),n}function uet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&sE(n,t)}function sE(n,t){return sE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},sE(n,t)}function het(n){var t=det();return function(){var i=Qy(n),r;if(t){var s=Qy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return fet(this,r)}}function fet(n,t){return t&&(Pg(t)==="object"||typeof t=="function")?t:oE(n)}function oE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function det(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qy(n){return Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qy(n)}function DD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var pet=function(n){uet(e,n);var t=het(e);function e(){var i;aet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),DD(oE(i),"priority",70),DD(oE(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return cet(e,[{key:"parse",value:function(r,s,o){switch(s){case"k":return In(Un.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=24}},{key:"set",value:function(r,s,o){var a=o<=24?o%24:o;return r.setUTCHours(a,0,0,0),r}}]),e}(en);function Dg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(e){return typeof e}:Dg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(n)}function met(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function RD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function get(n,t,e){return t&&RD(n.prototype,t),e&&RD(n,e),n}function yet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&aE(n,t)}function aE(n,t){return aE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},aE(n,t)}function _et(n){var t=bet();return function(){var i=Jy(n),r;if(t){var s=Jy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return vet(this,r)}}function vet(n,t){return t&&(Dg(t)==="object"||typeof t=="function")?t:lE(n)}function lE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jy(n){return Jy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jy(n)}function LD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var xet=function(n){yet(e,n);var t=_et(e);function e(){var i;met(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),LD(lE(i),"priority",60),LD(lE(i),"incompatibleTokens",["t","T"]),i}return get(e,[{key:"parse",value:function(r,s,o){switch(s){case"m":return In(Un.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,o){return r.setUTCMinutes(o,0,0),r}}]),e}(en);function Rg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rg=function(e){return typeof e}:Rg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(n)}function wet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ID(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Eet(n,t,e){return t&&ID(n.prototype,t),e&&ID(n,e),n}function Met(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&cE(n,t)}function cE(n,t){return cE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},cE(n,t)}function Tet(n){var t=Cet();return function(){var i=Zy(n),r;if(t){var s=Zy(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Aet(this,r)}}function Aet(n,t){return t&&(Rg(t)==="object"||typeof t=="function")?t:uE(n)}function uE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zy(n){return Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zy(n)}function ND(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Oet=function(n){Met(e,n);var t=Tet(e);function e(){var i;wet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),ND(uE(i),"priority",50),ND(uE(i),"incompatibleTokens",["t","T"]),i}return Eet(e,[{key:"parse",value:function(r,s,o){switch(s){case"s":return In(Un.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return Fn(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,o){return r.setUTCSeconds(o,0),r}}]),e}(en);function Lg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lg=function(e){return typeof e}:Lg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(n)}function Pet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function kD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Det(n,t,e){return t&&kD(n.prototype,t),e&&kD(n,e),n}function Ret(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&hE(n,t)}function hE(n,t){return hE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},hE(n,t)}function Let(n){var t=Net();return function(){var i=t_(n),r;if(t){var s=t_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Iet(this,r)}}function Iet(n,t){return t&&(Lg(t)==="object"||typeof t=="function")?t:fE(n)}function fE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Net(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t_(n){return t_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t_(n)}function FD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ket=function(n){Ret(e,n);var t=Let(e);function e(){var i;Pet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),FD(fE(i),"priority",30),FD(fE(i),"incompatibleTokens",["t","T"]),i}return Det(e,[{key:"parse",value:function(r,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Vn(Fn(s.length,r),o)}},{key:"set",value:function(r,s,o){return r.setUTCMilliseconds(o),r}}]),e}(en);function Ig(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ig=function(e){return typeof e}:Ig=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(n)}function Fet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Bet(n,t,e){return t&&BD(n.prototype,t),e&&BD(n,e),n}function zet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&dE(n,t)}function dE(n,t){return dE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},dE(n,t)}function Uet(n){var t=Het();return function(){var i=e_(n),r;if(t){var s=e_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Vet(this,r)}}function Vet(n,t){return t&&(Ig(t)==="object"||typeof t=="function")?t:pE(n)}function pE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Het(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e_(n){return e_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e_(n)}function zD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var $et=function(n){zet(e,n);var t=Uet(e);function e(){var i;Fet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),zD(pE(i),"priority",10),zD(pE(i),"incompatibleTokens",["t","T","x"]),i}return Bet(e,[{key:"parse",value:function(r,s){switch(s){case"X":return Ds(Ps.basicOptionalMinutes,r);case"XX":return Ds(Ps.basic,r);case"XXXX":return Ds(Ps.basicOptionalSeconds,r);case"XXXXX":return Ds(Ps.extendedOptionalSeconds,r);case"XXX":default:return Ds(Ps.extended,r)}}},{key:"set",value:function(r,s,o){return s.timestampIsSet?r:new Date(r.getTime()-o)}}]),e}(en);function Ng(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ng=function(e){return typeof e}:Ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(n)}function Wet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function UD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Get(n,t,e){return t&&UD(n.prototype,t),e&&UD(n,e),n}function jet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&mE(n,t)}function mE(n,t){return mE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},mE(n,t)}function qet(n){var t=Xet();return function(){var i=n_(n),r;if(t){var s=n_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Yet(this,r)}}function Yet(n,t){return t&&(Ng(t)==="object"||typeof t=="function")?t:gE(n)}function gE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Xet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n_(n){return n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n_(n)}function VD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Ket=function(n){jet(e,n);var t=qet(e);function e(){var i;Wet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),VD(gE(i),"priority",10),VD(gE(i),"incompatibleTokens",["t","T","X"]),i}return Get(e,[{key:"parse",value:function(r,s){switch(s){case"x":return Ds(Ps.basicOptionalMinutes,r);case"xx":return Ds(Ps.basic,r);case"xxxx":return Ds(Ps.basicOptionalSeconds,r);case"xxxxx":return Ds(Ps.extendedOptionalSeconds,r);case"xxx":default:return Ds(Ps.extended,r)}}},{key:"set",value:function(r,s,o){return s.timestampIsSet?r:new Date(r.getTime()-o)}}]),e}(en);function kg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kg=function(e){return typeof e}:kg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(n)}function Qet(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function HD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Jet(n,t,e){return t&&HD(n.prototype,t),e&&HD(n,e),n}function Zet(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&yE(n,t)}function yE(n,t){return yE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},yE(n,t)}function tnt(n){var t=nnt();return function(){var i=i_(n),r;if(t){var s=i_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return ent(this,r)}}function ent(n,t){return t&&(kg(t)==="object"||typeof t=="function")?t:_E(n)}function _E(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i_(n){return i_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i_(n)}function $D(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var int=function(n){Zet(e,n);var t=tnt(e);function e(){var i;Qet(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),$D(_E(i),"priority",40),$D(_E(i),"incompatibleTokens","*"),i}return Jet(e,[{key:"parse",value:function(r){return PF(r)}},{key:"set",value:function(r,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),e}(en);function Fg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fg=function(e){return typeof e}:Fg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(n)}function rnt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function WD(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function snt(n,t,e){return t&&WD(n.prototype,t),e&&WD(n,e),n}function ont(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&vE(n,t)}function vE(n,t){return vE=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},vE(n,t)}function ant(n){var t=cnt();return function(){var i=r_(n),r;if(t){var s=r_(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return lnt(this,r)}}function lnt(n,t){return t&&(Fg(t)==="object"||typeof t=="function")?t:bE(n)}function bE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r_(n){return r_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r_(n)}function GD(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var unt=function(n){ont(e,n);var t=ant(e);function e(){var i;rnt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),GD(bE(i),"priority",20),GD(bE(i),"incompatibleTokens","*"),i}return snt(e,[{key:"parse",value:function(r){return PF(r)}},{key:"set",value:function(r,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),e}(en),hnt={G:new cJ,y:new gJ,Y:new EJ,R:new PJ,u:new FJ,Q:new WJ,q:new QJ,M:new rZ,L:new hZ,w:new vZ,I:new AZ,d:new kZ,D:new $Z,E:new KZ,e:new itt,c:new utt,i:new _tt,a:new Mtt,b:new Rtt,B:new ztt,h:new jtt,H:new Ztt,K:new oet,k:new pet,m:new xet,s:new Oet,S:new ket,X:new $et,x:new Ket,t:new int,T:new unt};function Bg(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bg=function(e){return typeof e}:Bg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(n)}function jD(n,t){var e;if(typeof Symbol>"u"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=fnt(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=n[Symbol.iterator]()},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function fnt(n,t){if(!!n){if(typeof n=="string")return qD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return qD(n,t)}}function qD(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var dnt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pnt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mnt=/^'([^]*?)'?$/,gnt=/''/g,ynt=/\S/,_nt=/[a-zA-Z]/;function vnt(n,t,e,i){var r,s,o,a,l,c,u,h,f,p,m,g,y,v,w,M,E,T;ie(3,arguments);var D=String(n),I=String(t),G=Oa(),j=(r=(s=i==null?void 0:i.locale)!==null&&s!==void 0?s:G.locale)!==null&&r!==void 0?r:TF;if(!j.match)throw new RangeError("locale must contain match property");var V=Mn((o=(a=(l=(c=i==null?void 0:i.firstWeekContainsDate)!==null&&c!==void 0?c:i==null||(u=i.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:G.firstWeekContainsDate)!==null&&a!==void 0?a:(f=G.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Mn((m=(g=(y=(v=i==null?void 0:i.weekStartsOn)!==null&&v!==void 0?v:i==null||(w=i.locale)===null||w===void 0||(M=w.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&y!==void 0?y:G.weekStartsOn)!==null&&g!==void 0?g:(E=G.locale)===null||E===void 0||(T=E.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return D===""?de(e):new Date(NaN);var F={firstWeekContainsDate:V,weekStartsOn:A,locale:j},nt=[new tJ],q=I.match(pnt).map(function(lt){var Mt=lt[0];if(Mt in hw){var xt=hw[Mt];return xt(lt,j.formatLong)}return lt}).join("").match(dnt),P=[],W=jD(q),Z;try{var U=function(){var Mt=Z.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&MF(Mt)&&My(Mt,I,n),!(i!=null&&i.useAdditionalDayOfYearTokens)&&SF(Mt)&&My(Mt,I,n);var xt=Mt[0],Rt=hnt[xt];if(Rt){var O=Rt.incompatibleTokens;if(Array.isArray(O)){var N=P.find(function(X){return O.includes(X.token)||X.token===xt});if(N)throw new RangeError("The format string mustn't contain `".concat(N.fullToken,"` and `").concat(Mt,"` at the same time"))}else if(Rt.incompatibleTokens==="*"&&P.length>0)throw new RangeError("The format string mustn't contain `".concat(Mt,"` and any other token at the same time"));P.push({token:xt,fullToken:Mt});var $=Rt.run(D,Mt,j.match,F);if(!$)return{v:new Date(NaN)};nt.push($.setter),D=$.rest}else{if(xt.match(_nt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xt+"`");if(Mt==="''"?Mt="'":xt==="'"&&(Mt=bnt(Mt)),D.indexOf(Mt)===0)D=D.slice(Mt.length);else return{v:new Date(NaN)}}};for(W.s();!(Z=W.n()).done;){var Q=U();if(Bg(Q)==="object")return Q.v}}catch(lt){W.e(lt)}finally{W.f()}if(D.length>0&&ynt.test(D))return new Date(NaN);var ut=nt.map(function(lt){return lt.priority}).sort(function(lt,Mt){return Mt-lt}).filter(function(lt,Mt,xt){return xt.indexOf(lt)===Mt}).map(function(lt){return nt.filter(function(Mt){return Mt.priority===lt}).sort(function(Mt,xt){return xt.subPriority-Mt.subPriority})}).map(function(lt){return lt[0]}),vt=de(e);if(isNaN(vt.getTime()))return new Date(NaN);var at=vF(vt,Sy(vt)),Ct={},Lt=jD(ut),et;try{for(Lt.s();!(et=Lt.n()).done;){var Y=et.value;if(!Y.validate(at,F))return new Date(NaN);var Et=Y.set(at,Ct,F);Array.isArray(Et)?(at=Et[0],XQ(Ct,Et[1])):at=Et}}catch(lt){Lt.e(lt)}finally{Lt.f()}return at}function bnt(n){return n.match(mnt)[1].replace(gnt,"'")}function xnt(n){ie(1,arguments);var t=de(n);return t.setMinutes(0,0,0),t}function wnt(n){ie(1,arguments);var t=de(n);return t.setMilliseconds(0),t}function Ent(n,t){var e;ie(1,arguments);var i=Mn((e=t==null?void 0:t.additionalDigits)!==null&&e!==void 0?e:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=Ant(n),s;if(r.date){var o=Cnt(r.date,i);s=Ont(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(r.time&&(l=Pnt(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=Dnt(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+l+c)}var nm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Snt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mnt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Tnt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ant(n){var t={},e=n.split(nm.dateTimeDelimiter),i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],nm.timeZoneDelimiter.test(t.date)&&(t.date=n.split(nm.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){var r=nm.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function Cnt(n,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function Ont(n,t){if(t===null)return new Date(NaN);var e=n.match(Snt);if(!e)return new Date(NaN);var i=!!e[4],r=ef(e[1]),s=ef(e[2])-1,o=ef(e[3]),a=ef(e[4]),l=ef(e[5])-1;if(i)return knt(t,a,l)?Rnt(t,a,l):new Date(NaN);var c=new Date(0);return!Int(t,s,o)||!Nnt(t,r)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(r,o)),c)}function ef(n){return n?parseInt(n):1}function Pnt(n){var t=n.match(Mnt);if(!t)return NaN;var e=s0(t[1]),i=s0(t[2]),r=s0(t[3]);return Fnt(e,i,r)?e*Ev+i*wv+r*1e3:NaN}function s0(n){return n&&parseFloat(n.replace(",","."))||0}function Dnt(n){if(n==="Z")return 0;var t=n.match(Tnt);if(!t)return 0;var e=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return Bnt(i,r)?e*(i*Ev+r*wv):NaN}function Rnt(n,t,e){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(t-1)*7+e+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var Lnt=[31,null,31,30,31,30,31,31,30,31,30,31];function LF(n){return n%400===0||n%4===0&&n%100!==0}function Int(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(Lnt[t]||(LF(n)?29:28))}function Nnt(n,t){return t>=1&&t<=(LF(n)?366:365)}function knt(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function Fnt(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function Bnt(n,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v2.0.0
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const znt={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Y3._date.override({_id:"date-fns",formats:function(){return znt},parse:function(n,t){if(n===null||typeof n>"u")return null;const e=typeof n;return e==="number"||n instanceof Date?n=de(n):e==="string"&&(typeof t=="string"?n=vnt(n,t,new Date,this.options):n=Ent(n,this.options)),pF(n)?n.getTime():null},format:function(n,t){return qQ(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return Kd(n,t);case"second":return bK(n,t);case"minute":return _K(n,t);case"hour":return dK(n,t);case"day":return dF(n,t);case"week":return xK(n,t);case"month":return DM(n,t);case"quarter":return vK(n,t);case"year":return wK(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return Sv(n,t);case"second":return RK(n,t);case"minute":return OK(n,t);case"hour":return CK(n,t);case"day":return mF(n,t);case"week":return LK(n,t);case"month":return _F(n,t);case"quarter":return DK(n,t);case"year":return IK(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return wnt(n);case"minute":return NK(n);case"hour":return xnt(n);case"day":return uw(n);case"week":return RP(n);case"isoWeek":return RP(n,{weekStartsOn:+e});case"month":return FK(n);case"quarter":return kK(n);case"year":return zK(n);default:return n}},endOf:function(n,t){switch(t){case"second":return WK(n);case"minute":return HK(n);case"hour":return UK(n);case"day":return gF(n);case"week":return VK(n);case"month":return yF(n);case"quarter":return $K(n);case"year":return BK(n);default:return n}}});fr.use(yv);var Gi="top",yr="bottom",_r="right",ji="left",Mv="auto",dh=[Gi,yr,_r,ji],$l="start",$u="end",IF="clippingParents",FM="viewport",eu="popper",NF="reference",xE=dh.reduce(function(n,t){return n.concat([t+"-"+$l,t+"-"+$u])},[]),BM=[].concat(dh,[Mv]).reduce(function(n,t){return n.concat([t,t+"-"+$l,t+"-"+$u])},[]),kF="beforeRead",FF="read",BF="afterRead",zF="beforeMain",UF="main",VF="afterMain",HF="beforeWrite",$F="write",WF="afterWrite",GF=[kF,FF,BF,zF,UF,VF,HF,$F,WF];function Us(n){return n?(n.nodeName||"").toLowerCase():null}function kr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Wl(n){var t=kr(n).Element;return n instanceof t||n instanceof Element}function Dr(n){var t=kr(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function zM(n){if(typeof ShadowRoot>"u")return!1;var t=kr(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function Unt(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];!Dr(s)||!Us(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Vnt(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Dr(r)||!Us(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const UM={name:"applyStyles",enabled:!0,phase:"write",fn:Unt,effect:Vnt,requires:["computeStyles"]};function Ns(n){return n.split("-")[0]}var Rl=Math.max,s_=Math.min,Wu=Math.round;function wE(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jF(){return!/^((?!chrome|android).)*safari/i.test(wE())}function Gu(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),r=1,s=1;t&&Dr(n)&&(r=n.offsetWidth>0&&Wu(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Wu(i.height)/n.offsetHeight||1);var o=Wl(n)?kr(n):window,a=o.visualViewport,l=!jF()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,h=i.width/r,f=i.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function VM(n){var t=Gu(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function qF(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&zM(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ao(n){return kr(n).getComputedStyle(n)}function Hnt(n){return["table","td","th"].indexOf(Us(n))>=0}function Pa(n){return((Wl(n)?n.ownerDocument:n.document)||window.document).documentElement}function Tv(n){return Us(n)==="html"?n:n.assignedSlot||n.parentNode||(zM(n)?n.host:null)||Pa(n)}function YD(n){return!Dr(n)||Ao(n).position==="fixed"?null:n.offsetParent}function $nt(n){var t=/firefox/i.test(wE()),e=/Trident/i.test(wE());if(e&&Dr(n)){var i=Ao(n);if(i.position==="fixed")return null}var r=Tv(n);for(zM(r)&&(r=r.host);Dr(r)&&["html","body"].indexOf(Us(r))<0;){var s=Ao(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Jd(n){for(var t=kr(n),e=YD(n);e&&Hnt(e)&&Ao(e).position==="static";)e=YD(e);return e&&(Us(e)==="html"||Us(e)==="body"&&Ao(e).position==="static")?t:e||$nt(n)||t}function HM(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Vf(n,t,e){return Rl(n,s_(t,e))}function Wnt(n,t,e){var i=Vf(n,t,e);return i>e?e:i}function YF(){return{top:0,right:0,bottom:0,left:0}}function XF(n){return Object.assign({},YF(),n)}function KF(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var Gnt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,XF(typeof t!="number"?t:KF(t,dh))};function jnt(n){var t,e=n.state,i=n.name,r=n.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Ns(e.placement),l=HM(a),c=[ji,_r].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Gnt(r.padding,e),f=VM(s),p=l==="y"?Gi:ji,m=l==="y"?yr:_r,g=e.rects.reference[u]+e.rects.reference[l]-o[l]-e.rects.popper[u],y=o[l]-e.rects.reference[l],v=Jd(s),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,M=g/2-y/2,E=h[p],T=w-f[u]-h[m],D=w/2-f[u]/2+M,I=Vf(E,D,T),G=l;e.modifiersData[i]=(t={},t[G]=I,t.centerOffset=I-D,t)}}function qnt(n){var t=n.state,e=n.options,i=e.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!qF(t.elements.popper,r)||(t.elements.arrow=r))}const QF={name:"arrow",enabled:!0,phase:"main",fn:jnt,effect:qnt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ju(n){return n.split("-")[1]}var Ynt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xnt(n){var t=n.x,e=n.y,i=window,r=i.devicePixelRatio||1;return{x:Wu(t*r)/r||0,y:Wu(e*r)/r||0}}function XD(n){var t,e=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,h=n.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var v=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),M=ji,E=Gi,T=window;if(c){var D=Jd(e),I="clientHeight",G="clientWidth";if(D===kr(e)&&(D=Pa(e),Ao(D).position!=="static"&&a==="absolute"&&(I="scrollHeight",G="scrollWidth")),D=D,r===Gi||(r===ji||r===_r)&&s===$u){E=yr;var j=h&&D===T&&T.visualViewport?T.visualViewport.height:D[I];g-=j-i.height,g*=l?1:-1}if(r===ji||(r===Gi||r===yr)&&s===$u){M=_r;var V=h&&D===T&&T.visualViewport?T.visualViewport.width:D[G];p-=V-i.width,p*=l?1:-1}}var A=Object.assign({position:a},c&&Ynt),F=u===!0?Xnt({x:p,y:g}):{x:p,y:g};if(p=F.x,g=F.y,l){var nt;return Object.assign({},A,(nt={},nt[E]=w?"0":"",nt[M]=v?"0":"",nt.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",nt))}return Object.assign({},A,(t={},t[E]=w?g+"px":"",t[M]=v?p+"px":"",t.transform="",t))}function Knt(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=i===void 0?!0:i,s=e.adaptive,o=s===void 0?!0:s,a=e.roundOffsets,l=a===void 0?!0:a,c={placement:Ns(t.placement),variation:ju(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,XD(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,XD(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $M={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Knt,data:{}};var im={passive:!0};function Qnt(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=kr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",e.update,im)}),a&&l.addEventListener("resize",e.update,im),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",e.update,im)}),a&&l.removeEventListener("resize",e.update,im)}}const WM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qnt,data:{}};var Jnt={left:"right",right:"left",bottom:"top",top:"bottom"};function zg(n){return n.replace(/left|right|bottom|top/g,function(t){return Jnt[t]})}var Znt={start:"end",end:"start"};function KD(n){return n.replace(/start|end/g,function(t){return Znt[t]})}function GM(n){var t=kr(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function jM(n){return Gu(Pa(n)).left+GM(n).scrollLeft}function tit(n,t){var e=kr(n),i=Pa(n),r=e.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=jF();(c||!c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+jM(n),y:l}}function eit(n){var t,e=Pa(n),i=GM(n),r=(t=n.ownerDocument)==null?void 0:t.body,s=Rl(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Rl(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+jM(n),l=-i.scrollTop;return Ao(r||e).direction==="rtl"&&(a+=Rl(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function qM(n){var t=Ao(n),e=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+i)}function JF(n){return["html","body","#document"].indexOf(Us(n))>=0?n.ownerDocument.body:Dr(n)&&qM(n)?n:JF(Tv(n))}function Hf(n,t){var e;t===void 0&&(t=[]);var i=JF(n),r=i===((e=n.ownerDocument)==null?void 0:e.body),s=kr(i),o=r?[s].concat(s.visualViewport||[],qM(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Hf(Tv(o)))}function EE(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function nit(n,t){var e=Gu(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function QD(n,t,e){return t===FM?EE(tit(n,e)):Wl(t)?nit(t,e):EE(eit(Pa(n)))}function iit(n){var t=Hf(Tv(n)),e=["absolute","fixed"].indexOf(Ao(n).position)>=0,i=e&&Dr(n)?Jd(n):n;return Wl(i)?t.filter(function(r){return Wl(r)&&qF(r,i)&&Us(r)!=="body"}):[]}function rit(n,t,e,i){var r=t==="clippingParents"?iit(n):[].concat(t),s=[].concat(r,[e]),o=s[0],a=s.reduce(function(l,c){var u=QD(n,c,i);return l.top=Rl(u.top,l.top),l.right=s_(u.right,l.right),l.bottom=s_(u.bottom,l.bottom),l.left=Rl(u.left,l.left),l},QD(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ZF(n){var t=n.reference,e=n.element,i=n.placement,r=i?Ns(i):null,s=i?ju(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(r){case Gi:l={x:o,y:t.y-e.height};break;case yr:l={x:o,y:t.y+t.height};break;case _r:l={x:t.x+t.width,y:a};break;case ji:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?HM(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case $l:l[c]=l[c]-(t[u]/2-e[u]/2);break;case $u:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function qu(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=i===void 0?n.placement:i,s=e.strategy,o=s===void 0?n.strategy:s,a=e.boundary,l=a===void 0?IF:a,c=e.rootBoundary,u=c===void 0?FM:c,h=e.elementContext,f=h===void 0?eu:h,p=e.altBoundary,m=p===void 0?!1:p,g=e.padding,y=g===void 0?0:g,v=XF(typeof y!="number"?y:KF(y,dh)),w=f===eu?NF:eu,M=n.rects.popper,E=n.elements[m?w:f],T=rit(Wl(E)?E:E.contextElement||Pa(n.elements.popper),l,u,o),D=Gu(n.elements.reference),I=ZF({reference:D,element:M,strategy:"absolute",placement:r}),G=EE(Object.assign({},M,I)),j=f===eu?G:D,V={top:T.top-j.top+v.top,bottom:j.bottom-T.bottom+v.bottom,left:T.left-j.left+v.left,right:j.right-T.right+v.right},A=n.modifiersData.offset;if(f===eu&&A){var F=A[r];Object.keys(V).forEach(function(nt){var q=[_r,yr].indexOf(nt)>=0?1:-1,P=[Gi,yr].indexOf(nt)>=0?"y":"x";V[nt]+=F[P]*q})}return V}function sit(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?BM:l,u=ju(i),h=u?a?xE:xE.filter(function(m){return ju(m)===u}):dh,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,g){return m[g]=qu(n,{placement:g,boundary:r,rootBoundary:s,padding:o})[Ns(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function oit(n){if(Ns(n)===Mv)return[];var t=zg(n);return[KD(n),t,KD(t)]}function ait(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,c=e.padding,u=e.boundary,h=e.rootBoundary,f=e.altBoundary,p=e.flipVariations,m=p===void 0?!0:p,g=e.allowedAutoPlacements,y=t.options.placement,v=Ns(y),w=v===y,M=l||(w||!m?[zg(y)]:oit(y)),E=[y].concat(M).reduce(function(Lt,et){return Lt.concat(Ns(et)===Mv?sit(t,{placement:et,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:g}):et)},[]),T=t.rects.reference,D=t.rects.popper,I=new Map,G=!0,j=E[0],V=0;V<E.length;V++){var A=E[V],F=Ns(A),nt=ju(A)===$l,q=[Gi,yr].indexOf(F)>=0,P=q?"width":"height",W=qu(t,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Z=q?nt?_r:ji:nt?yr:Gi;T[P]>D[P]&&(Z=zg(Z));var U=zg(Z),Q=[];if(s&&Q.push(W[F]<=0),a&&Q.push(W[Z]<=0,W[U]<=0),Q.every(function(Lt){return Lt})){j=A,G=!1;break}I.set(A,Q)}if(G)for(var ut=m?3:1,vt=function(et){var Y=E.find(function(Et){var lt=I.get(Et);if(lt)return lt.slice(0,et).every(function(Mt){return Mt})});if(Y)return j=Y,"break"},at=ut;at>0;at--){var Ct=vt(at);if(Ct==="break")break}t.placement!==j&&(t.modifiersData[i]._skip=!0,t.placement=j,t.reset=!0)}}const tB={name:"flip",enabled:!0,phase:"main",fn:ait,requiresIfExists:["offset"],data:{_skip:!1}};function JD(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function ZD(n){return[Gi,_r,yr,ji].some(function(t){return n[t]>=0})}function lit(n){var t=n.state,e=n.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=qu(t,{elementContext:"reference"}),a=qu(t,{altBoundary:!0}),l=JD(o,i),c=JD(a,r,s),u=ZD(l),h=ZD(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const eB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lit};function cit(n,t,e){var i=Ns(n),r=[ji,Gi].indexOf(i)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[ji,_r].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function uit(n){var t=n.state,e=n.options,i=n.name,r=e.offset,s=r===void 0?[0,0]:r,o=BM.reduce(function(u,h){return u[h]=cit(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}const nB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uit};function hit(n){var t=n.state,e=n.name;t.modifiersData[e]=ZF({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const YM={name:"popperOffsets",enabled:!0,phase:"read",fn:hit,data:{}};function fit(n){return n==="x"?"y":"x"}function dit(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,s=r===void 0?!0:r,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,h=e.padding,f=e.tether,p=f===void 0?!0:f,m=e.tetherOffset,g=m===void 0?0:m,y=qu(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Ns(t.placement),w=ju(t.placement),M=!w,E=HM(v),T=fit(E),D=t.modifiersData.popperOffsets,I=t.rects.reference,G=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,V=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(!!D){if(s){var nt,q=E==="y"?Gi:ji,P=E==="y"?yr:_r,W=E==="y"?"height":"width",Z=D[E],U=Z+y[q],Q=Z-y[P],ut=p?-G[W]/2:0,vt=w===$l?I[W]:G[W],at=w===$l?-G[W]:-I[W],Ct=t.elements.arrow,Lt=p&&Ct?VM(Ct):{width:0,height:0},et=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:YF(),Y=et[q],Et=et[P],lt=Vf(0,I[W],Lt[W]),Mt=M?I[W]/2-ut-lt-Y-V.mainAxis:vt-lt-Y-V.mainAxis,xt=M?-I[W]/2+ut+lt+Et+V.mainAxis:at+lt+Et+V.mainAxis,Rt=t.elements.arrow&&Jd(t.elements.arrow),O=Rt?E==="y"?Rt.clientTop||0:Rt.clientLeft||0:0,N=(nt=A==null?void 0:A[E])!=null?nt:0,$=Z+Mt-N-O,X=Z+xt-N,rt=Vf(p?s_(U,$):U,Z,p?Rl(Q,X):Q);D[E]=rt,F[E]=rt-Z}if(a){var mt,yt=E==="x"?Gi:ji,ht=E==="x"?yr:_r,Tt=D[T],bt=T==="y"?"height":"width",k=Tt+y[yt],R=Tt-y[ht],st=[Gi,ji].indexOf(v)!==-1,gt=(mt=A==null?void 0:A[T])!=null?mt:0,Ot=st?k:Tt-I[bt]-G[bt]-gt+V.altAxis,Nt=st?Tt+I[bt]+G[bt]-gt-V.altAxis:R,Wt=p&&st?Wnt(Ot,Tt,Nt):Vf(p?Ot:k,Tt,p?Nt:R);D[T]=Wt,F[T]=Wt-Tt}t.modifiersData[i]=F}}const iB={name:"preventOverflow",enabled:!0,phase:"main",fn:dit,requiresIfExists:["offset"]};function pit(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function mit(n){return n===kr(n)||!Dr(n)?GM(n):pit(n)}function git(n){var t=n.getBoundingClientRect(),e=Wu(t.width)/n.offsetWidth||1,i=Wu(t.height)/n.offsetHeight||1;return e!==1||i!==1}function yit(n,t,e){e===void 0&&(e=!1);var i=Dr(t),r=Dr(t)&&git(t),s=Pa(t),o=Gu(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&((Us(t)!=="body"||qM(s))&&(a=mit(t)),Dr(t)?(l=Gu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=jM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function _it(n){var t=new Map,e=new Set,i=[];n.forEach(function(s){t.set(s.name,s)});function r(s){e.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){e.has(s.name)||r(s)}),i}function vit(n){var t=_it(n);return GF.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}function bit(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function xit(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var tR={placement:"bottom",modifiers:[],strategy:"absolute"};function eR(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Av(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,r=t.defaultOptions,s=r===void 0?tR:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},tR,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:Wl(a)?Hf(a):a.contextElement?Hf(a.contextElement):[],popper:Hf(l)};var M=vit(xit([].concat(i,u.options.modifiers)));return u.orderedModifiers=M.filter(function(E){return E.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=u.elements,w=v.reference,M=v.popper;if(!!eR(w,M)){u.rects={reference:yit(w,Jd(M),u.options.strategy==="fixed"),popper:VM(M)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(V){return u.modifiersData[V.name]=Object.assign({},V.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var T=u.orderedModifiers[E],D=T.fn,I=T.options,G=I===void 0?{}:I,j=T.name;typeof D=="function"&&(u=D({state:u,options:G,name:j,instance:p})||u)}}}},update:bit(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){g(),f=!0}};if(!eR(a,l))return p;p.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var v=y.name,w=y.options,M=w===void 0?{}:w,E=y.effect;if(typeof E=="function"){var T=E({state:u,name:v,instance:p,options:M}),D=function(){};h.push(T||D)}})}function g(){h.forEach(function(y){return y()}),h=[]}return p}}var wit=Av(),Eit=[WM,YM,$M,UM],Sit=Av({defaultModifiers:Eit}),Mit=[WM,YM,$M,UM,nB,tB,iB,QF,eB],XM=Av({defaultModifiers:Mit});const rB=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:Av,detectOverflow:qu,createPopperBase:wit,createPopper:XM,createPopperLite:Sit,top:Gi,bottom:yr,right:_r,left:ji,auto:Mv,basePlacements:dh,start:$l,end:$u,clippingParents:IF,viewport:FM,popper:eu,reference:NF,variationPlacements:xE,placements:BM,beforeRead:kF,read:FF,afterRead:BF,beforeMain:zF,main:UF,afterMain:VF,beforeWrite:HF,write:$F,afterWrite:WF,modifierPhases:GF,applyStyles:UM,arrow:QF,computeStyles:$M,eventListeners:WM,flip:tB,hide:eB,offset:nB,popperOffsets:YM,preventOverflow:iB},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Tit=1e6,Ait=1e3,SE="transitionend",Cit=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),Oit=n=>{do n+=Math.floor(Math.random()*Tit);while(document.getElementById(n));return n},sB=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t},oB=n=>{const t=sB(n);return t&&document.querySelector(t)?t:null},go=n=>{const t=sB(n);return t?document.querySelector(t):null},Pit=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),r=Number.parseFloat(e);return!i&&!r?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*Ait)},aB=n=>{n.dispatchEvent(new Event(SE))},yo=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),va=n=>yo(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(n):null,ph=n=>{if(!yo(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return t},ba=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",lB=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?lB(n.parentNode):null},o_=()=>{},Zd=n=>{n.offsetHeight},cB=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,o0=[],Dit=n=>{document.readyState==="loading"?(o0.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of o0)t()}),o0.push(n)):n()},Ir=()=>document.documentElement.dir==="rtl",Fr=n=>{Dit(()=>{const t=cB();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},lo=n=>{typeof n=="function"&&n()},uB=(n,t,e=!0)=>{if(!e){lo(n);return}const i=5,r=Pit(t)+i;let s=!1;const o=({target:a})=>{a===t&&(s=!0,t.removeEventListener(SE,o),lo(n))};t.addEventListener(SE,o),setTimeout(()=>{s||aB(t)},r)},KM=(n,t,e,i)=>{const r=n.length;let s=n.indexOf(t);return s===-1?!e&&i?n[r-1]:n[0]:(s+=e?1:-1,i&&(s=(s+r)%r),n[Math.max(0,Math.min(s,r-1))])},Rit=/[^.]*(?=\..*)\.|.*/,Lit=/\..*/,Iit=/::\d+$/,a0={};let nR=1;const hB={mouseenter:"mouseover",mouseleave:"mouseout"},Nit=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function fB(n,t){return t&&`${t}::${nR++}`||n.uidEvent||nR++}function dB(n){const t=fB(n);return n.uidEvent=t,a0[t]=a0[t]||{},a0[t]}function kit(n,t){return function e(i){return QM(i,{delegateTarget:n}),e.oneOff&&Ft.off(n,i.type,t),t.apply(n,[i])}}function Fit(n,t,e){return function i(r){const s=n.querySelectorAll(t);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return QM(r,{delegateTarget:o}),i.oneOff&&Ft.off(n,r.type,t,e),e.apply(o,[r])}}function pB(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function mB(n,t,e){const i=typeof t=="string",r=i?e:t||e;let s=gB(n);return Nit.has(s)||(s=n),[i,r,s]}function iR(n,t,e,i,r){if(typeof t!="string"||!n)return;let[s,o,a]=mB(t,e,i);t in hB&&(o=(m=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return m.call(this,g)})(o));const l=dB(n),c=l[a]||(l[a]={}),u=pB(c,o,s?e:null);if(u){u.oneOff=u.oneOff&&r;return}const h=fB(o,t.replace(Rit,"")),f=s?Fit(n,e,o):kit(n,o);f.delegationSelector=s?e:null,f.callable=o,f.oneOff=r,f.uidEvent=h,c[h]=f,n.addEventListener(a,f,s)}function ME(n,t,e,i,r){const s=pB(t[e],i,r);!s||(n.removeEventListener(e,s,Boolean(r)),delete t[e][s.uidEvent])}function Bit(n,t,e,i){const r=t[e]||{};for(const s of Object.keys(r))if(s.includes(i)){const o=r[s];ME(n,t,e,o.callable,o.delegationSelector)}}function gB(n){return n=n.replace(Lit,""),hB[n]||n}const Ft={on(n,t,e,i){iR(n,t,e,i,!1)},one(n,t,e,i){iR(n,t,e,i,!0)},off(n,t,e,i){if(typeof t!="string"||!n)return;const[r,s,o]=mB(t,e,i),a=o!==t,l=dB(n),c=l[o]||{},u=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;ME(n,l,o,s,r?e:null);return}if(u)for(const h of Object.keys(l))Bit(n,l,h,t.slice(1));for(const h of Object.keys(c)){const f=h.replace(Iit,"");if(!a||t.includes(f)){const p=c[h];ME(n,l,o,p.callable,p.delegationSelector)}}},trigger(n,t,e){if(typeof t!="string"||!n)return null;const i=cB(),r=gB(t),s=t!==r;let o=null,a=!0,l=!0,c=!1;s&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());let u=new Event(t,{bubbles:a,cancelable:!0});return u=QM(u,e),c&&u.preventDefault(),l&&n.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function QM(n,t){for(const[e,i]of Object.entries(t||{}))try{n[e]=i}catch{Object.defineProperty(n,e,{configurable:!0,get(){return i}})}return n}const jo=new Map,l0={set(n,t,e){jo.has(n)||jo.set(n,new Map);const i=jo.get(n);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,e)},get(n,t){return jo.has(n)&&jo.get(n).get(t)||null},remove(n,t){if(!jo.has(n))return;const e=jo.get(n);e.delete(t),e.size===0&&jo.delete(n)}};function rR(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function c0(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const _o={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${c0(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${c0(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=rR(n.dataset[i])}return t},getDataAttribute(n,t){return rR(n.getAttribute(`data-bs-${c0(t)}`))}};class tp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=yo(e)?_o.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...yo(e)?_o.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const i of Object.keys(e)){const r=e[i],s=t[i],o=yo(s)?"element":Cit(s);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const zit="5.2.2";class us extends tp{constructor(t,e){super(),t=va(t),t&&(this._element=t,this._config=this._getConfig(e),l0.set(this._element,this.constructor.DATA_KEY,this))}dispose(){l0.remove(this._element,this.constructor.DATA_KEY),Ft.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){uB(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return l0.get(va(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return zit}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Cv=(n,t="hide")=>{const e=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;Ft.on(document,e,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),ba(this))return;const s=go(this)||this.closest(`.${i}`);n.getOrCreateInstance(s)[t]()})},Uit="alert",Vit="bs.alert",yB=`.${Vit}`,Hit=`close${yB}`,$it=`closed${yB}`,Wit="fade",Git="show";class Ov extends us{static get NAME(){return Uit}close(){if(Ft.trigger(this._element,Hit).defaultPrevented)return;this._element.classList.remove(Git);const e=this._element.classList.contains(Wit);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Ft.trigger(this._element,$it),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Ov.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Cv(Ov,"close");Fr(Ov);const jit="button",qit="bs.button",Yit=`.${qit}`,Xit=".data-api",Kit="active",sR='[data-bs-toggle="button"]',Qit=`click${Yit}${Xit}`;class Pv extends us{static get NAME(){return jit}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Kit))}static jQueryInterface(t){return this.each(function(){const e=Pv.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}Ft.on(document,Qit,sR,n=>{n.preventDefault();const t=n.target.closest(sR);Pv.getOrCreateInstance(t).toggle()});Fr(Pv);const Fe={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!ba(e)&&ph(e))}},Jit="swipe",mh=".bs.swipe",Zit=`touchstart${mh}`,trt=`touchmove${mh}`,ert=`touchend${mh}`,nrt=`pointerdown${mh}`,irt=`pointerup${mh}`,rrt="touch",srt="pen",ort="pointer-event",art=40,lrt={endCallback:null,leftCallback:null,rightCallback:null},crt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class a_ extends tp{constructor(t,e){super(),this._element=t,!(!t||!a_.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return lrt}static get DefaultType(){return crt}static get NAME(){return Jit}dispose(){Ft.off(this._element,mh)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),lo(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=art)return;const e=t/this._deltaX;this._deltaX=0,e&&lo(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ft.on(this._element,nrt,t=>this._start(t)),Ft.on(this._element,irt,t=>this._end(t)),this._element.classList.add(ort)):(Ft.on(this._element,Zit,t=>this._start(t)),Ft.on(this._element,trt,t=>this._move(t)),Ft.on(this._element,ert,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===srt||t.pointerType===rrt)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const urt="carousel",hrt="bs.carousel",Da=`.${hrt}`,_B=".data-api",frt="ArrowLeft",drt="ArrowRight",prt=500,nf="next",Ic="prev",nu="left",Ug="right",mrt=`slide${Da}`,u0=`slid${Da}`,grt=`keydown${Da}`,yrt=`mouseenter${Da}`,_rt=`mouseleave${Da}`,vrt=`dragstart${Da}`,brt=`load${Da}${_B}`,xrt=`click${Da}${_B}`,vB="carousel",rm="active",wrt="slide",Ert="carousel-item-end",Srt="carousel-item-start",Mrt="carousel-item-next",Trt="carousel-item-prev",bB=".active",xB=".carousel-item",Art=bB+xB,Crt=".carousel-item img",Ort=".carousel-indicators",Prt="[data-bs-slide], [data-bs-slide-to]",Drt='[data-bs-ride="carousel"]',Rrt={[frt]:Ug,[drt]:nu},Lrt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Irt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ep extends us{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Fe.findOne(Ort,this._element),this._addEventListeners(),this._config.ride===vB&&this.cycle()}static get Default(){return Lrt}static get DefaultType(){return Irt}static get NAME(){return urt}next(){this._slide(nf)}nextWhenVisible(){!document.hidden&&ph(this._element)&&this.next()}prev(){this._slide(Ic)}pause(){this._isSliding&&aB(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){Ft.one(this._element,u0,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){Ft.one(this._element,u0,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const r=t>i?nf:Ic;this._slide(r,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ft.on(this._element,grt,t=>this._keydown(t)),this._config.pause==="hover"&&(Ft.on(this._element,yrt,()=>this.pause()),Ft.on(this._element,_rt,()=>this._maybeEnableCycle())),this._config.touch&&a_.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Fe.find(Crt,this._element))Ft.on(i,vrt,r=>r.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(nu)),rightCallback:()=>this._slide(this._directionToOrder(Ug)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),prt+this._config.interval))}};this._swipeHelper=new a_(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Rrt[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Fe.findOne(bB,this._indicatorsElement);e.classList.remove(rm),e.removeAttribute("aria-current");const i=Fe.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(rm),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),r=t===nf,s=e||KM(this._getItems(),i,r,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=p=>Ft.trigger(this._element,p,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(mrt).defaultPrevented||!i||!s)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const u=r?Srt:Ert,h=r?Mrt:Trt;s.classList.add(h),Zd(s),i.classList.add(u),s.classList.add(u);const f=()=>{s.classList.remove(u,h),s.classList.add(rm),i.classList.remove(rm,h,u),this._isSliding=!1,a(u0)};this._queueCallback(f,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(wrt)}_getActive(){return Fe.findOne(Art,this._element)}_getItems(){return Fe.find(xB,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ir()?t===nu?Ic:nf:t===nu?nf:Ic}_orderToDirection(t){return Ir()?t===Ic?nu:Ug:t===Ic?Ug:nu}static jQueryInterface(t){return this.each(function(){const e=ep.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ft.on(document,xrt,Prt,function(n){const t=go(this);if(!t||!t.classList.contains(vB))return;n.preventDefault();const e=ep.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(_o.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});Ft.on(window,brt,()=>{const n=Fe.find(Drt);for(const t of n)ep.getOrCreateInstance(t)});Fr(ep);const Nrt="collapse",krt="bs.collapse",np=`.${krt}`,Frt=".data-api",Brt=`show${np}`,zrt=`shown${np}`,Urt=`hide${np}`,Vrt=`hidden${np}`,Hrt=`click${np}${Frt}`,h0="show",au="collapse",sm="collapsing",$rt="collapsed",Wrt=`:scope .${au} .${au}`,Grt="collapse-horizontal",jrt="width",qrt="height",Yrt=".collapse.show, .collapse.collapsing",TE='[data-bs-toggle="collapse"]',Xrt={parent:null,toggle:!0},Krt={parent:"(null|element)",toggle:"boolean"};class _d extends us{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Fe.find(TE);for(const r of i){const s=oB(r),o=Fe.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xrt}static get DefaultType(){return Krt}static get NAME(){return Nrt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Yrt).filter(a=>a!==this._element).map(a=>_d.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||Ft.trigger(this._element,Brt).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(au),this._element.classList.add(sm),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(sm),this._element.classList.add(au,h0),this._element.style[i]="",Ft.trigger(this._element,zrt)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ft.trigger(this._element,Urt).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Zd(this._element),this._element.classList.add(sm),this._element.classList.remove(au,h0);for(const r of this._triggerArray){const s=go(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(sm),this._element.classList.add(au),Ft.trigger(this._element,Vrt)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(h0)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=va(t.parent),t}_getDimension(){return this._element.classList.contains(Grt)?jrt:qrt}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(TE);for(const e of t){const i=go(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Fe.find(Wrt,this._config.parent);return Fe.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(!!t.length)for(const i of t)i.classList.toggle($rt,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=_d.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Ft.on(document,Hrt,TE,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const t=oB(this),e=Fe.find(t);for(const i of e)_d.getOrCreateInstance(i,{toggle:!1}).toggle()});Fr(_d);const oR="dropdown",Qrt="bs.dropdown",tc=`.${Qrt}`,JM=".data-api",Jrt="Escape",aR="Tab",Zrt="ArrowUp",lR="ArrowDown",tst=2,est=`hide${tc}`,nst=`hidden${tc}`,ist=`show${tc}`,rst=`shown${tc}`,wB=`click${tc}${JM}`,EB=`keydown${tc}${JM}`,sst=`keyup${tc}${JM}`,iu="show",ost="dropup",ast="dropend",lst="dropstart",cst="dropup-center",ust="dropdown-center",wl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',hst=`${wl}.${iu}`,Vg=".dropdown-menu",fst=".navbar",dst=".navbar-nav",pst=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",mst=Ir()?"top-end":"top-start",gst=Ir()?"top-start":"top-end",yst=Ir()?"bottom-end":"bottom-start",_st=Ir()?"bottom-start":"bottom-end",vst=Ir()?"left-start":"right-start",bst=Ir()?"right-start":"left-start",xst="top",wst="bottom",Est={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Sst={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ks extends us{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Fe.next(this._element,Vg)[0]||Fe.prev(this._element,Vg)[0]||Fe.findOne(Vg,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Est}static get DefaultType(){return Sst}static get NAME(){return oR}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ba(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Ft.trigger(this._element,ist,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(dst))for(const i of[].concat(...document.body.children))Ft.on(i,"mouseover",o_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(iu),this._element.classList.add(iu),Ft.trigger(this._element,rst,t)}}hide(){if(ba(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Ft.trigger(this._element,est,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Ft.off(i,"mouseover",o_);this._popper&&this._popper.destroy(),this._menu.classList.remove(iu),this._element.classList.remove(iu),this._element.setAttribute("aria-expanded","false"),_o.removeDataAttribute(this._menu,"popper"),Ft.trigger(this._element,nst,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!yo(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${oR.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof rB>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:yo(this._config.reference)?t=va(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=XM(t,this._menu,e)}_isShown(){return this._menu.classList.contains(iu)}_getPlacement(){const t=this._parent;if(t.classList.contains(ast))return vst;if(t.classList.contains(lst))return bst;if(t.classList.contains(cst))return xst;if(t.classList.contains(ust))return wst;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(ost)?e?gst:mst:e?_st:yst}_detectNavbar(){return this._element.closest(fst)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(_o.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const i=Fe.find(pst,this._menu).filter(r=>ph(r));!i.length||KM(i,e,t===lR,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=ks.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===tst||t.type==="keyup"&&t.key!==aR)return;const e=Fe.find(hst);for(const i of e){const r=ks.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=t.composedPath(),o=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===aR||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===Jrt,r=[Zrt,lR].includes(t.key);if(!r&&!i||e&&!i)return;t.preventDefault();const s=this.matches(wl)?this:Fe.prev(this,wl)[0]||Fe.next(this,wl)[0]||Fe.findOne(wl,t.delegateTarget.parentNode),o=ks.getOrCreateInstance(s);if(r){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}Ft.on(document,EB,wl,ks.dataApiKeydownHandler);Ft.on(document,EB,Vg,ks.dataApiKeydownHandler);Ft.on(document,wB,ks.clearMenus);Ft.on(document,sst,ks.clearMenus);Ft.on(document,wB,wl,function(n){n.preventDefault(),ks.getOrCreateInstance(this).toggle()});Fr(ks);const cR=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uR=".sticky-top",om="padding-right",hR="margin-right";class AE{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,om,e=>e+t),this._setElementAttributes(cR,om,e=>e+t),this._setElementAttributes(uR,hR,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,om),this._resetElementAttributes(cR,om),this._resetElementAttributes(uR,hR)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const r=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&_o.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=r=>{const s=_o.getDataAttribute(r,e);if(s===null){r.style.removeProperty(e);return}_o.removeDataAttribute(r,e),r.style.setProperty(e,s)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(yo(t)){e(t);return}for(const i of Fe.find(t,this._element))e(i)}}const SB="backdrop",Mst="fade",fR="show",dR=`mousedown.bs.${SB}`,Tst={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ast={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class MB extends tp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Tst}static get DefaultType(){return Ast}static get NAME(){return SB}show(t){if(!this._config.isVisible){lo(t);return}this._append();const e=this._getElement();this._config.isAnimated&&Zd(e),e.classList.add(fR),this._emulateAnimation(()=>{lo(t)})}hide(t){if(!this._config.isVisible){lo(t);return}this._getElement().classList.remove(fR),this._emulateAnimation(()=>{this.dispose(),lo(t)})}dispose(){!this._isAppended||(Ft.off(this._element,dR),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Mst),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=va(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Ft.on(t,dR,()=>{lo(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){uB(t,this._getElement(),this._config.isAnimated)}}const Cst="focustrap",Ost="bs.focustrap",l_=`.${Ost}`,Pst=`focusin${l_}`,Dst=`keydown.tab${l_}`,Rst="Tab",Lst="forward",pR="backward",Ist={autofocus:!0,trapElement:null},Nst={autofocus:"boolean",trapElement:"element"};class TB extends tp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ist}static get DefaultType(){return Nst}static get NAME(){return Cst}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ft.off(document,l_),Ft.on(document,Pst,t=>this._handleFocusin(t)),Ft.on(document,Dst,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Ft.off(document,l_))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Fe.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===pR?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===Rst&&(this._lastTabNavDirection=t.shiftKey?pR:Lst)}}const kst="modal",Fst="bs.modal",hs=`.${Fst}`,Bst=".data-api",zst="Escape",Ust=`hide${hs}`,Vst=`hidePrevented${hs}`,AB=`hidden${hs}`,CB=`show${hs}`,Hst=`shown${hs}`,$st=`resize${hs}`,Wst=`click.dismiss${hs}`,Gst=`mousedown.dismiss${hs}`,jst=`keydown.dismiss${hs}`,qst=`click${hs}${Bst}`,mR="modal-open",Yst="fade",gR="show",f0="modal-static",Xst=".modal.show",Kst=".modal-dialog",Qst=".modal-body",Jst='[data-bs-toggle="modal"]',Zst={backdrop:!0,focus:!0,keyboard:!0},tot={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yu extends us{constructor(t,e){super(t,e),this._dialog=Fe.findOne(Kst,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new AE,this._addEventListeners()}static get Default(){return Zst}static get DefaultType(){return tot}static get NAME(){return kst}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ft.trigger(this._element,CB,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(mR),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Ft.trigger(this._element,Ust).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(gR),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])Ft.off(t,hs);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new MB({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new TB({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Fe.findOne(Qst,this._dialog);e&&(e.scrollTop=0),Zd(this._element),this._element.classList.add(gR);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ft.trigger(this._element,Hst,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){Ft.on(this._element,jst,t=>{if(t.key===zst){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),Ft.on(window,$st,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ft.on(this._element,Gst,t=>{Ft.one(this._element,Wst,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(mR),this._resetAdjustments(),this._scrollBar.reset(),Ft.trigger(this._element,AB)})}_isAnimated(){return this._element.classList.contains(Yst)}_triggerBackdropTransition(){if(Ft.trigger(this._element,Vst).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(f0)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(f0),this._queueCallback(()=>{this._element.classList.remove(f0),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const r=Ir()?"paddingLeft":"paddingRight";this._element.style[r]=`${e}px`}if(!i&&t){const r=Ir()?"paddingRight":"paddingLeft";this._element.style[r]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=Yu.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}}Ft.on(document,qst,Jst,function(n){const t=go(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ft.one(t,CB,r=>{r.defaultPrevented||Ft.one(t,AB,()=>{ph(this)&&this.focus()})});const e=Fe.findOne(Xst);e&&Yu.getInstance(e).hide(),Yu.getOrCreateInstance(t).toggle(this)});Cv(Yu);Fr(Yu);const eot="offcanvas",not="bs.offcanvas",Po=`.${not}`,OB=".data-api",iot=`load${Po}${OB}`,rot="Escape",yR="show",_R="showing",vR="hiding",sot="offcanvas-backdrop",PB=".offcanvas.show",oot=`show${Po}`,aot=`shown${Po}`,lot=`hide${Po}`,bR=`hidePrevented${Po}`,DB=`hidden${Po}`,cot=`resize${Po}`,uot=`click${Po}${OB}`,hot=`keydown.dismiss${Po}`,fot='[data-bs-toggle="offcanvas"]',dot={backdrop:!0,keyboard:!0,scroll:!1},pot={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class xa extends us{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return dot}static get DefaultType(){return pot}static get NAME(){return eot}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Ft.trigger(this._element,oot,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new AE().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(_R);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(yR),this._element.classList.remove(_R),Ft.trigger(this._element,aot,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Ft.trigger(this._element,lot).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(vR),this._backdrop.hide();const e=()=>{this._element.classList.remove(yR,vR),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new AE().reset(),Ft.trigger(this._element,DB)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){Ft.trigger(this._element,bR);return}this.hide()},e=Boolean(this._config.backdrop);return new MB({className:sot,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new TB({trapElement:this._element})}_addEventListeners(){Ft.on(this._element,hot,t=>{if(t.key===rot){if(!this._config.keyboard){Ft.trigger(this._element,bR);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const e=xa.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Ft.on(document,uot,fot,function(n){const t=go(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ba(this))return;Ft.one(t,DB,()=>{ph(this)&&this.focus()});const e=Fe.findOne(PB);e&&e!==t&&xa.getInstance(e).hide(),xa.getOrCreateInstance(t).toggle(this)});Ft.on(window,iot,()=>{for(const n of Fe.find(PB))xa.getOrCreateInstance(n).show()});Ft.on(window,cot,()=>{for(const n of Fe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&xa.getOrCreateInstance(n).hide()});Cv(xa);Fr(xa);const mot=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),got=/^aria-[\w-]*$/i,yot=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,_ot=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,vot=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?mot.has(e)?Boolean(yot.test(n.nodeValue)||_ot.test(n.nodeValue)):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},RB={"*":["class","dir","id","lang","role",got],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function bot(n,t,e){if(!n.length)return n;if(e&&typeof e=="function")return e(n);const r=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(t["*"]||[],t[a]||[]);for(const u of l)vot(u,c)||o.removeAttribute(u.nodeName)}return r.body.innerHTML}const xot="TemplateFactory",wot={allowList:RB,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Eot={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Sot={entry:"(string|element|function|null)",selector:"(string|element)"};class Mot extends tp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return wot}static get DefaultType(){return Eot}static get NAME(){return xot}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(t,s,r);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Sot)}_setContent(t,e,i){const r=Fe.findOne(i,t);if(!!r){if(e=this._resolvePossibleFunction(e),!e){r.remove();return}if(yo(e)){this._putElementInTemplate(va(e),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(e);return}r.textContent=e}}_maybeSanitize(t){return this._config.sanitize?bot(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const Tot="tooltip",Aot=new Set(["sanitize","allowList","sanitizeFn"]),d0="fade",Cot="modal",am="show",Oot=".tooltip-inner",xR=`.${Cot}`,wR="hide.bs.modal",rf="hover",p0="focus",Pot="click",Dot="manual",Rot="hide",Lot="hidden",Iot="show",Not="shown",kot="inserted",Fot="click",Bot="focusin",zot="focusout",Uot="mouseenter",Vot="mouseleave",Hot={AUTO:"auto",TOP:"top",RIGHT:Ir()?"left":"right",BOTTOM:"bottom",LEFT:Ir()?"right":"left"},$ot={allowList:RB,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Wot={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class gh extends us{constructor(t,e){if(typeof rB>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $ot}static get DefaultType(){return Wot}static get NAME(){return Tot}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ft.off(this._element.closest(xR),wR,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=Ft.trigger(this._element,this.constructor.eventName(Iot)),i=(lB(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this.tip&&(this.tip.remove(),this.tip=null);const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),Ft.trigger(this._element,this.constructor.eventName(kot))),this._popper?this._popper.update():this._popper=this._createPopper(r),r.classList.add(am),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Ft.on(a,"mouseover",o_);const o=()=>{Ft.trigger(this._element,this.constructor.eventName(Not)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ft.trigger(this._element,this.constructor.eventName(Rot)).defaultPrevented)return;const e=this._getTipElement();if(e.classList.remove(am),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Ft.off(r,"mouseover",o_);this._activeTrigger[Pot]=!1,this._activeTrigger[p0]=!1,this._activeTrigger[rf]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||e.remove(),this._element.removeAttribute("aria-describedby"),Ft.trigger(this._element,this.constructor.eventName(Lot)),this._disposePopper())};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(d0,am),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=Oit(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(d0),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Mot({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Oot]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(d0)}_isShown(){return this.tip&&this.tip.classList.contains(am)}_createPopper(t){const e=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,i=Hot[e.toUpperCase()];return XM(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")Ft.on(this._element,this.constructor.eventName(Fot),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(e!==Dot){const i=e===rf?this.constructor.eventName(Uot):this.constructor.eventName(Bot),r=e===rf?this.constructor.eventName(Vot):this.constructor.eventName(zot);Ft.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?p0:rf]=!0,o._enter()}),Ft.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?p0:rf]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ft.on(this._element.closest(xR),wR,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=_o.getDataAttributes(this._element);for(const i of Object.keys(e))Aot.has(i)&&delete e[i];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:va(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each(function(){const e=gh.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Fr(gh);const Got="popover",jot=".popover-header",qot=".popover-body",Yot={...gh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xot={...gh.DefaultType,content:"(null|string|element|function)"};class ZM extends gh{static get Default(){return Yot}static get DefaultType(){return Xot}static get NAME(){return Got}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[jot]:this._getTitle(),[qot]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=ZM.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Fr(ZM);const Kot="scrollspy",Qot="bs.scrollspy",tT=`.${Qot}`,Jot=".data-api",Zot=`activate${tT}`,ER=`click${tT}`,tat=`load${tT}${Jot}`,eat="dropdown-item",Nc="active",nat='[data-bs-spy="scroll"]',m0="[href]",iat=".nav, .list-group",SR=".nav-link",rat=".nav-item",sat=".list-group-item",oat=`${SR}, ${rat} > ${SR}, ${sat}`,aat=".dropdown",lat=".dropdown-toggle",cat={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},uat={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Dv extends us{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cat}static get DefaultType(){return uat}static get NAME(){return Kot}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=va(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Ft.off(this._config.target,ER),Ft.on(this._config.target,ER,m0,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,r=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(i(o),!r)return;continue}!s&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Fe.find(m0,this._config.target);for(const e of t){if(!e.hash||ba(e))continue;const i=Fe.findOne(e.hash,this._element);ph(i)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Nc),this._activateParents(t),Ft.trigger(this._element,Zot,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(eat)){Fe.findOne(lat,t.closest(aat)).classList.add(Nc);return}for(const e of Fe.parents(t,iat))for(const i of Fe.prev(e,oat))i.classList.add(Nc)}_clearActiveClass(t){t.classList.remove(Nc);const e=Fe.find(`${m0}.${Nc}`,t);for(const i of e)i.classList.remove(Nc)}static jQueryInterface(t){return this.each(function(){const e=Dv.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ft.on(window,tat,()=>{for(const n of Fe.find(nat))Dv.getOrCreateInstance(n)});Fr(Dv);const hat="tab",fat="bs.tab",ec=`.${fat}`,dat=`hide${ec}`,pat=`hidden${ec}`,mat=`show${ec}`,gat=`shown${ec}`,yat=`click${ec}`,_at=`keydown${ec}`,vat=`load${ec}`,bat="ArrowLeft",MR="ArrowRight",xat="ArrowUp",TR="ArrowDown",El="active",AR="fade",g0="show",wat="dropdown",Eat=".dropdown-toggle",Sat=".dropdown-menu",y0=":not(.dropdown-toggle)",Mat='.list-group, .nav, [role="tablist"]',Tat=".nav-item, .list-group-item",Aat=`.nav-link${y0}, .list-group-item${y0}, [role="tab"]${y0}`,LB='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_0=`${Aat}, ${LB}`,Cat=`.${El}[data-bs-toggle="tab"], .${El}[data-bs-toggle="pill"], .${El}[data-bs-toggle="list"]`;class Xu extends us{constructor(t){super(t),this._parent=this._element.closest(Mat),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ft.on(this._element,_at,e=>this._keydown(e)))}static get NAME(){return hat}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?Ft.trigger(e,dat,{relatedTarget:t}):null;Ft.trigger(t,mat,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(El),this._activate(go(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(g0);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ft.trigger(t,gat,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(AR))}_deactivate(t,e){if(!t)return;t.classList.remove(El),t.blur(),this._deactivate(go(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(g0);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ft.trigger(t,pat,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(AR))}_keydown(t){if(![bat,MR,xat,TR].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[MR,TR].includes(t.key),i=KM(this._getChildren().filter(r=>!ba(r)),t.target,e,!0);i&&(i.focus({preventScroll:!0}),Xu.getOrCreateInstance(i).show())}_getChildren(){return Fe.find(_0,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=go(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(wat))return;const r=(s,o)=>{const a=Fe.findOne(s,i);a&&a.classList.toggle(o,e)};r(Eat,El),r(Sat,g0),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(El)}_getInnerElement(t){return t.matches(_0)?t:Fe.findOne(_0,t)}_getOuterElement(t){return t.closest(Tat)||t}static jQueryInterface(t){return this.each(function(){const e=Xu.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ft.on(document,yat,LB,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ba(this)&&Xu.getOrCreateInstance(this).show()});Ft.on(window,vat,()=>{for(const n of Fe.find(Cat))Xu.getOrCreateInstance(n)});Fr(Xu);const Oat="toast",Pat="bs.toast",Ra=`.${Pat}`,Dat=`mouseover${Ra}`,Rat=`mouseout${Ra}`,Lat=`focusin${Ra}`,Iat=`focusout${Ra}`,Nat=`hide${Ra}`,kat=`hidden${Ra}`,Fat=`show${Ra}`,Bat=`shown${Ra}`,zat="fade",CR="hide",lm="show",cm="showing",Uat={animation:"boolean",autohide:"boolean",delay:"number"},Vat={animation:!0,autohide:!0,delay:5e3};class Rv extends us{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Vat}static get DefaultType(){return Uat}static get NAME(){return Oat}show(){if(Ft.trigger(this._element,Fat).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(zat);const e=()=>{this._element.classList.remove(cm),Ft.trigger(this._element,Bat),this._maybeScheduleHide()};this._element.classList.remove(CR),Zd(this._element),this._element.classList.add(lm,cm),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||Ft.trigger(this._element,Nat).defaultPrevented)return;const e=()=>{this._element.classList.add(CR),this._element.classList.remove(cm,lm),Ft.trigger(this._element,kat)};this._element.classList.add(cm),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lm),super.dispose()}isShown(){return this._element.classList.contains(lm)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Ft.on(this._element,Dat,t=>this._onInteraction(t,!0)),Ft.on(this._element,Rat,t=>this._onInteraction(t,!1)),Ft.on(this._element,Lat,t=>this._onInteraction(t,!0)),Ft.on(this._element,Iat,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Rv.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Cv(Rv);Fr(Rv);var Hat={exports:{}};/*!
 * MDB5
 *   Version: FREE 3.11.0
 * 
 * 
 *   Copyright: Material Design for Bootstrap
 *   https://mdbootstrap.com/
 * 
 *   Read the license: https://mdbootstrap.com/general/license/
 * 
 * 
 *   Documentation: https://mdbootstrap.com/docs/standard/
 * 
 *   Support: https://mdbootstrap.com/support/
 * 
 *   Contact: office@mdbootstrap.com
 * 
 */(function(n,t){(function(e,i){n.exports=i()})(d3,function(){return i=[function(s,o,a){(function(l){function c(u){return u&&u.Math==Math&&u}s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,a(71))},function(s,o,c){var l=c(22),c=c(43);l({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},function(s,o){s.exports=function(a){try{return!!a()}catch{return!0}}},function(s,o,l){var l=l(32),c=Function.prototype,u=c.bind,h=c.call,f=l&&u.bind(h,h);s.exports=l?function(p){return p&&f(p)}:function(p){return p&&function(){return h.apply(p,arguments)}}},function(s,o){s.exports=function(a){return typeof a=="function"}},function(s,o,a){var l=a(0),c=a(34),u=a(7),h=a(53),f=a(49),p=a(48),m=c("wks"),g=l.Symbol,y=g&&g.for,v=p?g:g&&g.withoutSetter||h;s.exports=function(w){var M;return u(m,w)&&(f||typeof m[w]=="string")||(M="Symbol."+w,f&&u(g,w)?m[w]=g[w]:m[w]=(p&&y?y:v)(M)),m[w]}},function(s,o,a){a=a(2),s.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,o,a){var l=a(3),c=a(27),u=l({}.hasOwnProperty);s.exports=Object.hasOwn||function(h,f){return u(c(h),f)}},function(s,o,a){var l=a(0),c=a(6),u=a(54),h=a(55),f=a(10),p=a(33),m=l.TypeError,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v="enumerable",w="configurable",M="writable";o.f=c?h?function(E,T,D){var I;return f(E),T=p(T),f(D),typeof E=="function"&&T==="prototype"&&"value"in D&&M in D&&!D[M]&&(I=y(E,T))&&I[M]&&(E[T]=D.value,D={configurable:(w in D?D:I)[w],enumerable:(v in D?D:I)[v],writable:!1}),g(E,T,D)}:g:function(E,T,D){if(f(E),T=p(T),f(D),u)try{return g(E,T,D)}catch{}if("get"in D||"set"in D)throw m("Accessors not supported");return"value"in D&&(E[T]=D.value),E}},function(s,o,m){var l=m(17),c=m(99),u=m(44),w=m(28),h=m(8).f,f=m(100),p=m(26),m=m(6),g="Array Iterator",y=w.set,v=w.getterFor(g),w=(s.exports=f(Array,"Array",function(M,E){y(this,{type:g,target:l(M),index:0,kind:E})},function(){var M=v(this),E=M.target,T=M.kind,D=M.index++;return!E||D>=E.length?{value:M.target=void 0,done:!0}:T=="keys"?{value:D,done:!1}:T=="values"?{value:E[D],done:!1}:{value:[D,E[D]],done:!1}},"values"),u.Arguments=u.Array);if(c("keys"),c("values"),c("entries"),!p&&m&&w.name!=="values")try{h(w,"name",{value:"values"})}catch{}},function(s,o,a){var l=a(0),c=a(13),u=l.String,h=l.TypeError;s.exports=function(f){if(c(f))return f;throw h(u(f)+" is not an object")}},function(s,o,g){function l(M,E){if(M){if(M[y]!==w)try{m(M,y,w)}catch{M[y]=w}if(M[v]||m(M,v,E),h[E]){for(var T in p)if(M[T]!==p[T])try{m(M,T,p[T])}catch{M[T]=p[T]}}}}var c,u=g(0),h=g(103),f=g(104),p=g(9),m=g(14),g=g(5),y=g("iterator"),v=g("toStringTag"),w=p.values;for(c in h)l(u[c]&&u[c].prototype,c);l(f,"DOMTokenList")},function(s,o,l){var l=l(32),c=Function.prototype.call;s.exports=l?c.bind(c):function(){return c.apply(c,arguments)}},function(s,o,a){var l=a(4);s.exports=function(c){return typeof c=="object"?c!==null:l(c)}},function(s,o,a){var l=a(6),c=a(8),u=a(23);s.exports=l?function(h,f,p){return c.f(h,f,u(1,p))}:function(h,f,p){return h[f]=p,h}},function(s,o,a){var l=a(0),c=a(82),u=l.String;s.exports=function(h){if(c(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return u(h)}},function(s,o,et){var l=et(6),c=et(0),u=et(3),h=et(61),f=et(89),p=et(14),m=et(8).f,g=et(57).f,y=et(47),v=et(91),w=et(15),M=et(62),E=et(63),T=et(20),D=et(2),I=et(7),G=et(28).enforce,j=et(92),lt=et(5),V=et(64),A=et(65),F=lt("match"),nt=c.RegExp,q=nt.prototype,P=c.SyntaxError,W=u(M),Z=u(q.exec),U=u("".charAt),Q=u("".replace),ut=u("".indexOf),vt=u("".slice),at=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ct=/a/g,Lt=/a/g,et=new nt(Ct)!==Ct,Y=E.MISSED_STICKY,Et=E.UNSUPPORTED_Y,lt=l&&(!et||Y||V||A||D(function(){return Lt[F]=!1,nt(Ct)!=Ct||nt(Lt)==Lt||nt(Ct,"i")!="/a/i"})),Mt=function($){for(var X,rt=$.length,mt=0,yt="",ht=!1;mt<=rt;mt++)(X=U($,mt))==="\\"?yt+=X+U($,++mt):ht||X!=="."?(X==="["?ht=!0:X==="]"&&(ht=!1),yt+=X):yt+="[\\s\\S]";return yt},xt=function($){for(var X,rt=$.length,mt=0,yt="",ht=[],Tt={},bt=!1,k=!1,R=0,st="";mt<=rt;mt++){if((X=U($,mt))==="\\")X+=U($,++mt);else if(X==="]")bt=!1;else if(!bt)switch(!0){case X==="[":bt=!0;break;case X==="(":Z(at,vt($,mt+1))&&(mt+=2,k=!0),yt+=X,R++;continue;case(X===">"&&k):if(st===""||I(Tt,st))throw new P("Invalid capture group name");Tt[st]=!0,k=!(ht[ht.length]=[st,R]),st="";continue}k?st+=X:yt+=X}return[yt,ht]};if(h("RegExp",lt)){for(var Rt=function($,X){var rt,mt,yt=y(q,this),ht=v($),Tt=X===void 0,bt=[],k=$;if(!yt&&ht&&Tt&&$.constructor===Rt)return $;if((ht||y(q,$))&&($=$.source,Tt&&(X="flags"in k?k.flags:W(k))),$=$===void 0?"":w($),X=X===void 0?"":w(X),k=$,ht=X=V&&"dotAll"in Ct&&(rt=!!X&&-1<ut(X,"s"))?Q(X,/s/g,""):X,Y&&"sticky"in Ct&&(mt=!!X&&-1<ut(X,"y"))&&Et&&(X=Q(X,/y/g,"")),A&&($=(Tt=xt($))[0],bt=Tt[1]),Tt=f(nt($,X),yt?this:q,Rt),(rt||mt||bt.length)&&(X=G(Tt),rt&&(X.dotAll=!0,X.raw=Rt(Mt($),ht)),mt&&(X.sticky=!0),bt.length&&(X.groups=bt)),$!==k)try{p(Tt,"source",k===""?"(?:)":k)}catch{}return Tt},O=g(nt),N=0;O.length>N;)(function($){$ in Rt||m(Rt,$,{configurable:!0,get:function(){return nt[$]},set:function(X){nt[$]=X}})})(O[N++]);(q.constructor=Rt).prototype=q,T(c,"RegExp",Rt)}j("RegExp")},function(s,o,a){var l=a(73),c=a(18);s.exports=function(u){return l(c(u))}},function(s,o,a){var l=a(0).TypeError;s.exports=function(c){if(c==null)throw l("Can't call method on "+c);return c}},function(s,o,a){var l=a(0),c=a(4);s.exports=function(u,h){return arguments.length<2?(f=l[u],c(f)?f:void 0):l[u]&&l[u][h];var f}},function(s,o,a){var l=a(0),c=a(4),u=a(7),h=a(14),f=a(36),p=a(56),m=a(28),g=a(40).CONFIGURABLE,y=m.get,v=m.enforce,w=String(String).split("String");(s.exports=function(M,E,T,A){var I,G=!!A&&!!A.unsafe,j=!!A&&!!A.enumerable,V=!!A&&!!A.noTargetGet,A=A&&A.name!==void 0?A.name:E;c(T)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(T,"name")||g&&T.name!==A)&&h(T,"name",A),(I=v(T)).source||(I.source=w.join(typeof A=="string"?A:""))),M===l?j?M[E]=T:f(E,T):(G?!V&&M[E]&&(j=!0):delete M[E],j?M[E]=T:h(M,E,T))})(Function.prototype,"toString",function(){return c(this)&&y(this).source||p(this)})},function(s,o,q){var l=q(93),c=q(12),u=q(3),h=q(94),f=q(2),p=q(10),m=q(4),g=q(29),y=q(60),v=q(15),w=q(18),M=q(95),E=q(51),T=q(97),D=q(98),I=q(5)("replace"),G=Math.max,j=Math.min,V=u([].concat),A=u([].push),F=u("".indexOf),nt=u("".slice),q="a".replace(/./,"$0")==="$0",P=!!/./[I]&&/./[I]("a","$0")==="";h("replace",function(W,Z,U){var Q=P?"$":"$0";return[function(ut,vt){var at=w(this),Ct=ut==null?void 0:E(ut,I);return Ct?c(Ct,ut,at,vt):c(Z,v(at),ut,vt)},function(ut,vt){var at=p(this),Ct=v(ut);if(typeof vt=="string"&&F(vt,Q)===-1&&F(vt,"$<")===-1&&(ut=U(Z,at,Ct,vt),ut.done))return ut.value;for(var Lt,et=m(vt),Y=(et||(vt=v(vt)),at.global),Et=(Y&&(Lt=at.unicode,at.lastIndex=0),[]);(O=D(at,Ct))!==null&&(A(Et,O),Y);)v(O[0])===""&&(at.lastIndex=M(Ct,y(at.lastIndex),Lt));for(var lt,Mt="",xt=0,Rt=0;Rt<Et.length;Rt++){for(var O,N=v((O=Et[Rt])[0]),$=G(j(g(O.index),Ct.length),0),X=[],rt=1;rt<O.length;rt++)A(X,(lt=O[rt])===void 0?lt:String(lt));var mt=O.groups,yt=et?(yt=V([N],X,$,Ct),mt!==void 0&&A(yt,mt),v(l(vt,void 0,yt))):T(N,Ct,$,X,mt,vt);xt<=$&&(Mt+=nt(Ct,xt,$)+yt,xt=$+N.length)}return Mt+nt(Ct,xt)}]},!!f(function(){var W=/./;return W.exec=function(){var Z=[];return Z.groups={a:"7"},Z},"".replace(W,"$<a>")!=="7"})||!q||P)},function(s,o,a){var l=a(0),c=a(45).f,u=a(14),h=a(20),f=a(36),p=a(78),m=a(61);s.exports=function(g,y){var v,w,M,E=g.target,T=g.global,D=g.stat,I=T?l:D?l[E]||f(E,{}):(l[E]||{}).prototype;if(I)for(v in y){if(w=y[v],M=g.noTargetGet?(M=c(I,v))&&M.value:I[v],!m(T?v:E+(D?".":"#")+v,g.forced)&&M!==void 0){if(typeof w==typeof M)continue;p(w,M)}(g.sham||M&&M.sham)&&u(w,"sham",!0),h(I,v,w,g)}}},function(s,o){s.exports=function(a,l){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:l}}},function(s,o,l){var l=l(3),c=l({}.toString),u=l("".slice);s.exports=function(h){return u(c(h),8,-1)}},function(s,o,a){a=a(19),s.exports=a("navigator","userAgent")||""},function(s,o){s.exports=!1},function(s,o,a){var l=a(0),c=a(18),u=l.Object;s.exports=function(h){return u(c(h))}},function(s,o,I){var l,c,u,h,f,p,m,g,y=I(77),V=I(0),v=I(3),w=I(13),M=I(14),E=I(7),T=I(35),D=I(38),I=I(39),G="Object already initialized",j=V.TypeError,V=V.WeakMap;m=y||T.state?(l=T.state||(T.state=new V),c=v(l.get),u=v(l.has),h=v(l.set),f=function(A,F){if(u(l,A))throw new j(G);return F.facade=A,h(l,A,F),F},p=function(A){return c(l,A)||{}},function(A){return u(l,A)}):(I[g=D("state")]=!0,f=function(A,F){if(E(A,g))throw new j(G);return F.facade=A,M(A,g,F),F},p=function(A){return E(A,g)?A[g]:{}},function(A){return E(A,g)}),s.exports={set:f,get:p,has:m,enforce:function(A){return m(A)?p(A):f(A,{})},getterFor:function(A){return function(F){if(w(F)&&(F=p(F)).type===A)return F;throw j("Incompatible receiver, "+A+" required")}}}},function(s,o){var a=Math.ceil,l=Math.floor;s.exports=function(c){return c=+c,c!=c||c==0?0:(0<c?l:a)(c)}},function(s,o,v){function l(){}function c(I){I.write(T("")),I.close();var G=I.parentWindow.Object;return I=null,G}var u,h=v(10),f=v(84),p=v(42),m=v(39),g=v(86),y=v(37),v=v(38),w="prototype",M="script",E=v("IE_PROTO"),T=function(I){return"<"+M+">"+I+"</"+M+">"},D=function(){try{u=new ActiveXObject("htmlfile")}catch{}D=typeof document>"u"||document.domain&&u?c(u):(I=y("iframe"),G="java"+M+":",I.style.display="none",g.appendChild(I),I.src=String(G),(G=I.contentWindow.document).open(),G.write(T("document.F=Object")),G.close(),G.F);for(var I,G,j=p.length;j--;)delete D[w][p[j]];return D()};m[E]=!0,s.exports=Object.create||function(I,G){var j;return I!==null?(l[w]=h(I),j=new l,l[w]=null,j[E]=I):j=D(),G===void 0?j:f.f(j,G)}},function(s,o,a){var l=a(22),c=a(87).trim;l({target:"String",proto:!0,forced:a(88)("trim")},{trim:function(){return c(this)}})},function(s,o,a){a=a(2),s.exports=!a(function(){var l=function(){}.bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},function(s,o,a){var l=a(74),c=a(46);s.exports=function(u){return u=l(u,"string"),c(u)?u:u+""}},function(s,o,a){var l=a(26),c=a(35);(s.exports=function(u,h){return c[u]||(c[u]=h!==void 0?h:{})})("versions",[]).push({version:"3.21.1",mode:l?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(s,o,l){var u=l(0),l=l(36),c="__core-js_shared__",u=u[c]||l(c,{});s.exports=u},function(s,o,a){var l=a(0),c=Object.defineProperty;s.exports=function(u,h){try{c(l,u,{value:h,configurable:!0,writable:!0})}catch{l[u]=h}return h}},function(s,o,c){var l=c(0),c=c(13),u=l.document,h=c(u)&&c(u.createElement);s.exports=function(f){return h?u.createElement(f):{}}},function(s,o,a){var l=a(34),c=a(53),u=l("keys");s.exports=function(h){return u[h]||(u[h]=c(h))}},function(s,o){s.exports={}},function(s,o,u){var f=u(6),u=u(7),l=Function.prototype,c=f&&Object.getOwnPropertyDescriptor,u=u(l,"name"),h=u&&function(){}.name==="something",f=u&&(!f||c(l,"name").configurable);s.exports={EXISTS:u,PROPER:h,CONFIGURABLE:f}},function(s,o,a){var l=a(60);s.exports=function(c){return l(c.length)}},function(s,o){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,o,v){var l=v(12),c=v(3),u=v(15),h=v(62),f=v(63),p=v(34),m=v(30),g=v(28).get,y=v(64),v=v(65),w=p("native-string-replace",String.prototype.replace),M=RegExp.prototype.exec,E=M,T=c("".charAt),D=c("".indexOf),I=c("".replace),G=c("".slice),j=(p=/b*/g,l(M,c=/a/,"a"),l(M,p,"a"),c.lastIndex!==0||p.lastIndex!==0),V=f.BROKEN_CARET,A=/()??/.exec("")[1]!==void 0;(j||A||V||y||v)&&(E=function(ut){var nt,q,P,W,Z,U,Q=this,Lt=g(Q),ut=u(ut),at=Lt.raw;if(at)return at.lastIndex=Q.lastIndex,Ct=l(E,at,ut),Q.lastIndex=at.lastIndex,Ct;var vt=Lt.groups,at=V&&Q.sticky,Ct=l(h,Q),Lt=Q.source,et=0,Y=ut;if(at&&(Ct=I(Ct,"y",""),D(Ct,"g")===-1&&(Ct+="g"),Y=G(ut,Q.lastIndex),0<Q.lastIndex&&(!Q.multiline||Q.multiline&&T(ut,Q.lastIndex-1)!==`
`)&&(Lt="(?: "+Lt+")",Y=" "+Y,et++),nt=new RegExp("^(?:"+Lt+")",Ct)),A&&(nt=new RegExp("^"+Lt+"$(?!\\s)",Ct)),j&&(q=Q.lastIndex),P=l(M,at?nt:Q,Y),at?P?(P.input=G(P.input,et),P[0]=G(P[0],et),P.index=Q.lastIndex,Q.lastIndex+=P[0].length):Q.lastIndex=0:j&&P&&(Q.lastIndex=Q.global?P.index+P[0].length:q),A&&P&&1<P.length&&l(w,P[0],nt,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(P[W]=void 0)}),P&&vt)for(P.groups=Z=m(null),W=0;W<vt.length;W++)Z[(U=vt[W])[0]]=P[U[1]];return P}),s.exports=E},function(s,o){s.exports={}},function(s,o,a){var l=a(6),c=a(12),u=a(72),h=a(23),f=a(17),p=a(33),m=a(7),g=a(54),y=Object.getOwnPropertyDescriptor;o.f=l?y:function(v,w){if(v=f(v),w=p(w),g)try{return y(v,w)}catch{}if(m(v,w))return h(!c(u.f,v,w),v[w])}},function(s,o,f){var l=f(0),c=f(19),u=f(4),h=f(47),f=f(48),p=l.Object;s.exports=f?function(m){return typeof m=="symbol"}:function(m){var g=c("Symbol");return u(g)&&h(g.prototype,p(m))}},function(s,o,a){a=a(3),s.exports=a({}.isPrototypeOf)},function(s,o,a){a=a(49),s.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,o,c){var l=c(50),c=c(2);s.exports=!!Object.getOwnPropertySymbols&&!c(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(s,o,u){var l,c,f=u(0),u=u(25),h=f.process,f=f.Deno,h=h&&h.versions||f&&f.version,f=h&&h.v8;!(c=f?0<(l=f.split("."))[0]&&l[0]<4?1:+(l[0]+l[1]):c)&&u&&(!(l=u.match(/Edge\/(\d+)/))||74<=l[1])&&(l=u.match(/Chrome\/(\d+)/))&&(c=+l[1]),s.exports=c},function(s,o,a){var l=a(52);s.exports=function(c,u){return c=c[u],c==null?void 0:l(c)}},function(s,o,a){var l=a(0),c=a(4),u=a(75),h=l.TypeError;s.exports=function(f){if(c(f))return f;throw h(u(f)+" is not a function")}},function(s,o,l){var l=l(3),c=0,u=Math.random(),h=l(1 .toString);s.exports=function(f){return"Symbol("+(f===void 0?"":f)+")_"+h(++c+u,36)}},function(s,o,a){var l=a(6),c=a(2),u=a(37);s.exports=!l&&!c(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},function(s,o,c){var l=c(6),c=c(2);s.exports=l&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(s,o,u){var l=u(3),c=u(4),u=u(35),h=l(Function.toString);c(u.inspectSource)||(u.inspectSource=function(f){return h(f)}),s.exports=u.inspectSource},function(s,o,a){var l=a(58),c=a(42).concat("length","prototype");o.f=Object.getOwnPropertyNames||function(u){return l(u,c)}},function(s,o,a){var l=a(3),c=a(7),u=a(17),h=a(80).indexOf,f=a(39),p=l([].push);s.exports=function(m,g){var y,v=u(m),w=0,M=[];for(y in v)!c(f,y)&&c(v,y)&&p(M,y);for(;g.length>w;)!c(v,y=g[w++])||~h(M,y)||p(M,y);return M}},function(s,o,a){var l=a(29),c=Math.max,u=Math.min;s.exports=function(h,f){return h=l(h),h<0?c(h+f,0):u(h,f)}},function(s,o,a){var l=a(29),c=Math.min;s.exports=function(u){return 0<u?c(l(u),9007199254740991):0}},function(s,o,a){function l(y,v){return(y=p[f(y)])==g||y!=m&&(u(v)?c(v):!!v)}var c=a(2),u=a(4),h=/#|\.prototype\./,f=l.normalize=function(y){return String(y).replace(h,".").toLowerCase()},p=l.data={},m=l.NATIVE="N",g=l.POLYFILL="P";s.exports=l},function(s,o,a){var l=a(10);s.exports=function(){var c=l(this),u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),c.dotAll&&(u+="s"),c.unicode&&(u+="u"),c.sticky&&(u+="y"),u}},function(s,o,c){var h=c(2),l=c(0).RegExp,c=h(function(){var f=l("a","y");return f.lastIndex=2,f.exec("abcd")!=null}),u=c||h(function(){return!l("a","y").sticky}),h=c||h(function(){var f=l("^r","gy");return f.lastIndex=2,f.exec("str")!=null});s.exports={BROKEN_CARET:h,MISSED_STICKY:u,UNSUPPORTED_Y:c}},function(s,o,a){var l=a(2),c=a(0).RegExp;s.exports=l(function(){var u=c(".","s");return!(u.dotAll&&u.exec(`
`)&&u.flags==="s")})},function(s,o,a){var l=a(2),c=a(0).RegExp;s.exports=l(function(){var u=c("(?<a>b)","g");return u.exec("b").groups.a!=="b"||"b".replace(u,"$<a>c")!=="bc"})},function(s,o){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(s,o,a){var l=a(3),c=a(10),u=a(90);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,p={};try{(h=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(p,[]),f=p instanceof Array}catch{}return function(m,g){return c(m),u(g),f?h(m,g):m.__proto__=g,m}}():void 0)},function(s,o,g){var l,c,u=g(2),h=g(4),f=g(30),p=g(69),m=g(20),v=g(5),g=g(26),y=v("iterator"),v=!1;[].keys&&("next"in(c=[].keys())?(p=p(p(c)))!==Object.prototype&&(l=p):v=!0),l==null||u(function(){var w={};return l[y].call(w)!==w})?l={}:g&&(l=f(l)),h(l[y])||m(l,y,function(){return this}),s.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:v}},function(s,o,p){var l=p(0),c=p(7),u=p(4),h=p(27),f=p(38),p=p(102),m=f("IE_PROTO"),g=l.Object,y=g.prototype;s.exports=p?g.getPrototypeOf:function(v){if(v=h(v),c(v,m))return v[m];var w=v.constructor;return u(w)&&v instanceof w?w.prototype:v instanceof g?y:null}},function(s,o,a){var l=a(8).f,c=a(7),u=a(5)("toStringTag");s.exports=function(h,f,p){(h=h&&!p?h.prototype:h)&&!c(h,u)&&l(h,u,{configurable:!0,value:f})}},function(s,o){var a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a},function(s,o,a){var l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!l.call({1:2},1);o.f=u?function(h){return h=c(this,h),!!h&&h.enumerable}:l},function(s,o,a){var l=a(0),c=a(3),u=a(2),h=a(24),f=l.Object,p=c("".split);s.exports=u(function(){return!f("z").propertyIsEnumerable(0)})?function(m){return h(m)=="String"?p(m,""):f(m)}:f},function(s,o,m){var l=m(0),c=m(12),u=m(13),h=m(46),f=m(51),p=m(76),m=m(5),g=l.TypeError,y=m("toPrimitive");s.exports=function(v,w){if(!u(v)||h(v))return v;var M=f(v,y);if(M){if(M=c(M,v,w=w===void 0?"default":w),!u(M)||h(M))return M;throw g("Can't convert object to primitive value")}return p(v,w=w===void 0?"number":w)}},function(s,o,a){var l=a(0).String;s.exports=function(c){try{return l(c)}catch{return"Object"}}},function(s,o,a){var l=a(0),c=a(12),u=a(4),h=a(13),f=l.TypeError;s.exports=function(p,m){var g,y;if(m==="string"&&u(g=p.toString)&&!h(y=c(g,p))||u(g=p.valueOf)&&!h(y=c(g,p))||m!=="string"&&u(g=p.toString)&&!h(y=c(g,p)))return y;throw f("Can't convert object to primitive value")}},function(s,o,c){var u=c(0),l=c(4),c=c(56),u=u.WeakMap;s.exports=l(u)&&/native code/.test(c(u))},function(s,o,a){var l=a(7),c=a(79),u=a(45),h=a(8);s.exports=function(f,p,m){for(var g=c(p),y=h.f,v=u.f,w=0;w<g.length;w++){var M=g[w];l(f,M)||m&&l(m,M)||y(f,M,v(p,M))}}},function(s,o,a){var l=a(19),c=a(3),u=a(57),h=a(81),f=a(10),p=c([].concat);s.exports=l("Reflect","ownKeys")||function(m){var g=u.f(f(m)),y=h.f;return y?p(g,y(m)):g}},function(s,o,a){function l(f){return function(p,m,g){var y,v=c(p),w=h(v),M=u(g,w);if(f&&m!=m){for(;M<w;)if((y=v[M++])!=y)return!0}else for(;M<w;M++)if((f||M in v)&&v[M]===m)return f||M||0;return!f&&-1}}var c=a(17),u=a(59),h=a(41);s.exports={includes:l(!0),indexOf:l(!1)}},function(s,o){o.f=Object.getOwnPropertySymbols},function(s,o,a){var l=a(0),c=a(83),u=a(4),h=a(24),f=a(5)("toStringTag"),p=l.Object,m=h(function(){return arguments}())=="Arguments";s.exports=c?h:function(g){var y;return g===void 0?"Undefined":g===null?"Null":typeof(y=function(v,w){try{return v[w]}catch{}}(g=p(g),f))=="string"?y:m?h(g):(y=h(g))=="Object"&&u(g.callee)?"Arguments":y}},function(s,o,a){var l={};l[a(5)("toStringTag")]="z",s.exports=String(l)==="[object z]"},function(s,o,a){var l=a(6),c=a(55),u=a(8),h=a(10),f=a(17),p=a(85);o.f=l&&!c?Object.defineProperties:function(m,g){h(m);for(var y,v=f(g),w=p(g),M=w.length,E=0;E<M;)u.f(m,y=w[E++],v[y]);return m}},function(s,o,a){var l=a(58),c=a(42);s.exports=Object.keys||function(u){return l(u,c)}},function(s,o,a){a=a(19),s.exports=a("document","documentElement")},function(s,o,h){function l(y){return function(v){return v=u(c(v)),1&y&&(v=f(v,m,"")),v=2&y?f(v,g,""):v}}var p=h(3),c=h(18),u=h(15),h=h(66),f=p("".replace),p="["+h+"]",m=RegExp("^"+p+p+"*"),g=RegExp(p+p+"*$");s.exports={start:l(1),end:l(2),trim:l(3)}},function(s,o,a){var l=a(40).PROPER,c=a(2),u=a(66);s.exports=function(h){return c(function(){return!!u[h]()||"\u200B\x85\u180E"[h]()!=="\u200B\x85\u180E"||l&&u[h].name!==h})}},function(s,o,a){var l=a(4),c=a(13),u=a(67);s.exports=function(h,f,p){return u&&l(f=f.constructor)&&f!==p&&c(f=f.prototype)&&f!==p.prototype&&u(h,f),h}},function(s,o,a){var l=a(0),c=a(4),u=l.String,h=l.TypeError;s.exports=function(f){if(typeof f=="object"||c(f))return f;throw h("Can't set "+u(f)+" as a prototype")}},function(s,o,a){var l=a(13),c=a(24),u=a(5)("match");s.exports=function(h){var f;return l(h)&&((f=h[u])!==void 0?!!f:c(h)=="RegExp")}},function(s,o,a){var l=a(19),c=a(8),u=a(5),h=a(6),f=u("species");s.exports=function(m){var m=l(m),g=c.f;h&&m&&!m[f]&&g(m,f,{configurable:!0,get:function(){return this}})}},function(s,o,l){var l=l(32),c=Function.prototype,u=c.apply,h=c.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(l?h.bind(u):function(){return h.apply(u,arguments)})},function(s,o,a){a(1);var l=a(3),c=a(20),u=a(43),h=a(2),f=a(5),p=a(14),m=f("species"),g=RegExp.prototype;s.exports=function(y,v,w,M){var E,T=f(y),D=!h(function(){var G={};return G[T]=function(){return 7},""[y](G)!=7}),I=D&&!h(function(){var G=!1,j=/a/;return y==="split"&&((j={constructor:{}}).constructor[m]=function(){return j},j.flags="",j[T]=/./[T]),j.exec=function(){return G=!0,null},j[T](""),!G});D&&I&&!w||(E=l(/./[T]),I=v(T,""[y],function(nt,j,V,A,F){var nt=l(nt),q=j.exec;return q===u||q===g.exec?D&&!F?{done:!0,value:E(j,V,A)}:{done:!0,value:nt(V,j,A)}:{done:!1}}),c(String.prototype,y,I[0]),c(g,T,I[1])),M&&p(g[T],"sham",!0)}},function(s,o,a){var l=a(96).charAt;s.exports=function(c,u,h){return u+(h?l(c,u).length:1)}},function(s,o,a){function l(y){return function(E,T){var M,E=h(f(E)),T=u(T),D=E.length;return T<0||D<=T?y?"":void 0:(M=m(E,T))<55296||56319<M||T+1===D||(D=m(E,T+1))<56320||57343<D?y?p(E,T):M:y?g(E,T,T+2):D-56320+(M-55296<<10)+65536}}var c=a(3),u=a(29),h=a(15),f=a(18),p=c("".charAt),m=c("".charCodeAt),g=c("".slice);s.exports={codeAt:l(!1),charAt:l(!0)}},function(s,o,a){var l=a(3),c=a(27),u=Math.floor,h=l("".charAt),f=l("".replace),p=l("".slice),m=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,g=/\$([$&'`]|\d{1,2})/g;s.exports=function(y,v,w,M,E,T){var D=w+y.length,I=M.length,G=g;return E!==void 0&&(E=c(E),G=m),f(T,G,function(j,V){var A;switch(h(V,0)){case"$":return"$";case"&":return y;case"`":return p(v,0,w);case"'":return p(v,D);case"<":A=E[p(V,1,-1)];break;default:var F,nt=+V;if(nt==0)return j;if(I<nt)return(F=u(nt/10))!==0&&F<=I?M[F-1]===void 0?h(V,1):M[F-1]+h(V,1):j;A=M[nt-1]}return A===void 0?"":A})}},function(s,o,a){var l=a(0),c=a(12),u=a(10),h=a(4),f=a(24),p=a(43),m=l.TypeError;s.exports=function(g,y){var v=g.exec;if(h(v))return(v=c(v,g,y))!==null&&u(v),v;if(f(g)==="RegExp")return c(p,g,y);throw m("RegExp#exec called on incompatible receiver")}},function(s,o,u){var l=u(5),c=u(30),u=u(8),h=l("unscopables"),f=Array.prototype;f[h]==null&&u.f(f,h,{configurable:!0,value:c(null)}),s.exports=function(p){f[h][p]=!0}},function(s,o,D){function l(){return this}var c=D(22),u=D(12),h=D(26),f=D(40),p=D(4),m=D(101),g=D(69),y=D(67),v=D(70),w=D(14),M=D(20),E=D(5),T=D(44),D=D(68),I=f.PROPER,G=f.CONFIGURABLE,j=D.IteratorPrototype,V=D.BUGGY_SAFARI_ITERATORS,A=E("iterator"),F="values",nt="entries";s.exports=function(q,P,W,Lt,U,Q,ut){m(W,P,Lt);function vt(xt){if(xt===U&&lt)return lt;if(!V&&xt in Y)return Y[xt];switch(xt){case"keys":case F:case nt:return function(){return new W(this,xt)}}return function(){return new W(this)}}var at,Ct,Lt=P+" Iterator",et=!1,Y=q.prototype,Et=Y[A]||Y["@@iterator"]||U&&Y[U],lt=!V&&Et||vt(U),Mt=P=="Array"&&Y.entries||Et;if(Mt&&(Mt=g(Mt.call(new q)))!==Object.prototype&&Mt.next&&(h||g(Mt)===j||(y?y(Mt,j):p(Mt[A])||M(Mt,A,l)),v(Mt,Lt,!0,!0),h&&(T[Lt]=l)),I&&U==F&&Et&&Et.name!==F&&(!h&&G?w(Y,"name",F):(et=!0,lt=function(){return u(Et,this)})),U)if(at={values:vt(F),keys:Q?lt:vt("keys"),entries:vt(nt)},ut)for(Ct in at)!V&&!et&&Ct in Y||M(Y,Ct,at[Ct]);else c({target:P,proto:!0,forced:V||et},at);return h&&!ut||Y[A]===lt||M(Y,A,lt,{name:U}),T[P]=lt,at}},function(s,o,a){function l(){return this}var c=a(68).IteratorPrototype,u=a(30),h=a(23),f=a(70),p=a(44);s.exports=function(m,g,y,v){return g+=" Iterator",m.prototype=u(c,{next:h(+!v,y)}),f(m,g,!1,!0),p[g]=l,m}},function(s,o,a){a=a(2),s.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(s,o){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,o,a){a=a(37)("span").classList,a=a&&a.constructor&&a.constructor.prototype,s.exports=a===Object.prototype?void 0:a},function(s,o,D){var l=D(22),I=D(3),c=D(52),u=D(27),h=D(41),f=D(15),p=D(2),m=D(106),G=D(109),g=D(110),y=D(111),v=D(50),w=D(112),M=[],E=I(M.sort),T=I(M.push),D=p(function(){M.sort(void 0)}),I=p(function(){M.sort(null)}),G=G("sort"),j=!p(function(){if(v)return v<70;if(!(g&&3<g)){if(y)return!0;if(w)return w<603;for(var V,A,F,nt="",q=65;q<76;q++){switch(V=String.fromCharCode(q),q){case 66:case 69:case 70:case 72:A=3;break;case 68:case 71:A=4;break;default:A=2}for(F=0;F<47;F++)M.push({k:V+F,v:A})}for(M.sort(function(P,W){return W.v-P.v}),F=0;F<M.length;F++)V=M[F].k.charAt(0),nt.charAt(nt.length-1)!==V&&(nt+=V);return nt!=="DGBEFHACIJK"}});l({target:"Array",proto:!0,forced:D||!I||!G||!j},{sort:function(V){V!==void 0&&c(V);var A=u(this);if(j)return V===void 0?E(A):E(A,V);for(var F,nt,q=[],P=h(A),W=0;W<P;W++)W in A&&T(q,A[W]);for(m(q,(nt=V,function(Z,U){return U===void 0?-1:Z===void 0?1:nt!==void 0?+nt(Z,U)||0:f(Z)>f(U)?1:-1})),F=q.length,W=0;W<F;)A[W]=q[W++];for(;W<P;)delete A[W++];return A}})},function(s,o,a){function l(h,f){var p=h.length,m=u(p/2);if(p<8){for(var g,y,v=h,w=f,M=v.length,E=1;E<M;){for(g=v[y=E];y&&0<w(v[y-1],g);)v[y]=v[--y];y!==E++&&(v[y]=g)}return v}for(var T=h,D=l(c(h,0,m),f),I=l(c(h,m),f),G=f,j=D.length,V=I.length,A=0,F=0;A<j||F<V;)T[A+F]=A<j&&F<V?G(D[A],I[F])<=0?D[A++]:I[F++]:A<j?D[A++]:I[F++];return T}var c=a(107),u=Math.floor;s.exports=l},function(s,o,a){var l=a(0),c=a(59),u=a(41),h=a(108),f=l.Array,p=Math.max;s.exports=function(m,g,y){for(var v=u(m),w=c(g,v),M=c(y===void 0?v:y,v),E=f(p(M-w,0)),T=0;w<M;w++,T++)h(E,T,m[w]);return E.length=T,E}},function(s,o,a){var l=a(33),c=a(8),u=a(23);s.exports=function(h,f,p){f=l(f),f in h?c.f(h,f,u(0,p)):h[f]=p}},function(s,o,a){var l=a(2);s.exports=function(c,u){var h=[][c];return!!h&&l(function(){h.call(null,u||function(){return 1},1)})}},function(s,o,a){a=a(25).match(/firefox\/(\d+)/i),s.exports=!!a&&+a[1]},function(s,o,a){a=a(25),s.exports=/MSIE|Trident/.test(a)},function(s,o,a){a=a(25).match(/AppleWebKit\/(\d+)\./),s.exports=!!a&&+a[1]},function(s,o){function a(u){var h=c[u];return h!==void 0?h.exports:(h=c[u]={id:u,exports:{}},l[u](h,h.exports,a),h.exports)}var l,c;l={454:(u,h,f)=>{f.d(h,{Z:()=>p}),h=f(645),f=f.n(h)()(function(m){return m[1]}),f.push([u.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const p=f},645:u=>{u.exports=function(h){var f=[];return f.toString=function(){return this.map(function(p){var m=h(p);return p[2]?"@media ".concat(p[2]," {").concat(m,"}"):m}).join("")},f.i=function(p,m,g){typeof p=="string"&&(p=[[null,p,""]]);var y={};if(g)for(var v=0;v<this.length;v++){var w=this[v][0];w!=null&&(y[w]=!0)}for(var M=0;M<p.length;M++){var E=[].concat(p[M]);g&&y[E[0]]||(m&&(E[2]?E[2]="".concat(m," and ").concat(E[2]):E[2]=m),f.push(E))}},f}},810:()=>{if(typeof window<"u")try{var u=new window.CustomEvent("test",{cancelable:!0});if(u.preventDefault(),u.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{let f=function(p,m){var g,y;return(m=m||{}).bubbles=!!m.bubbles,m.cancelable=!!m.cancelable,(g=document.createEvent("CustomEvent")).initCustomEvent(p,m.bubbles,m.cancelable,m.detail),y=g.preventDefault,g.preventDefault=function(){y.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},g};f.prototype=window.Event.prototype,window.CustomEvent=f}},379:(u,h,f)=>{m={};var p,m,g=function(j){if(m[j]===void 0){var V=document.querySelector(j);if(window.HTMLIFrameElement&&V instanceof window.HTMLIFrameElement)try{V=V.contentDocument.head}catch{V=null}m[j]=V}return m[j]},y=[];function v(j){for(var V=-1,A=0;A<y.length;A++)if(y[A].identifier===j){V=A;break}return V}function w(j,V){for(var A={},F=[],nt=0;nt<j.length;nt++){var q=j[nt],W=V.base?q[0]+V.base:q[0],Z=A[W]||0,P="".concat(W," ").concat(Z),W=(A[W]=Z+1,v(P)),Z={css:q[1],media:q[2],sourceMap:q[3]};W!==-1?(y[W].references++,y[W].updater(Z)):y.push({identifier:P,updater:function(U,Q){var ut,vt,at;{var Ct;at=Q.singleton?(Ct=G++,ut=I=I||M(Q),vt=D.bind(null,ut,Ct,!1),D.bind(null,ut,Ct,!0)):(ut=M(Q),vt=function(Lt,et,Mt){var Et=Mt.css,lt=Mt.media,Mt=Mt.sourceMap;if(lt?Lt.setAttribute("media",lt):Lt.removeAttribute("media"),Mt&&typeof btoa<"u"&&(Et+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Mt))))," */")),Lt.styleSheet)Lt.styleSheet.cssText=Et;else{for(;Lt.firstChild;)Lt.removeChild(Lt.firstChild);Lt.appendChild(document.createTextNode(Et))}}.bind(null,ut,Q),function(){var Lt;(Lt=ut).parentNode!==null&&Lt.parentNode.removeChild(Lt)})}return vt(U),function(Lt){Lt?Lt.css===U.css&&Lt.media===U.media&&Lt.sourceMap===U.sourceMap||vt(U=Lt):at()}}(Z,V),references:1}),F.push(P)}return F}function M(j){var V=document.createElement("style"),A=j.attributes||{};if(A.nonce!==void 0||(F=f.nc)&&(A.nonce=F),Object.keys(A).forEach(function(nt){V.setAttribute(nt,A[nt])}),typeof j.insert=="function")j.insert(V);else{var F=g(j.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(V)}return V}E=[];var E,T=function(j,V){return E[j]=V,E.filter(Boolean).join(`
`)};function D(j,V,nt,F){var nt=nt?"":F.media?"@media ".concat(F.media," {").concat(F.css,"}"):F.css;j.styleSheet?j.styleSheet.cssText=T(V,nt):(F=document.createTextNode(nt),(nt=j.childNodes)[V]&&j.removeChild(nt[V]),nt.length?j.insertBefore(F,nt[V]):j.appendChild(F))}var I=null,G=0;u.exports=function(j,V){(V=V||{}).singleton||typeof V.singleton=="boolean"||(V.singleton=p=p===void 0?Boolean(window&&document&&document.all&&!window.atob):p);var A=w(j=j||[],V);return function(F){if(F=F||[],Object.prototype.toString.call(F)==="[object Array]"){for(var nt=0;nt<A.length;nt++){var q=v(A[nt]);y[q].references--}for(var F=w(F,V),P=0;P<A.length;P++){var W=v(A[P]);y[W].references===0&&(y[W].updater(),y.splice(W,1))}A=F}}}}},c={},a.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return a.d(h,{a:h}),h},a.d=(u,h)=>{for(var f in h)a.o(h,f)&&!a.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:h[f]})},a.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),(()=>{var u=a(379),u=a.n(u),h=a(454);function f(m){var g;m.hasAttribute("autocompleted")||(m.setAttribute("autocompleted",""),g=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null}),m.dispatchEvent(g)||(m.value=""))}function p(m){m.hasAttribute("autocompleted")&&(m.removeAttribute("autocompleted"),m.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}u()(h.Z,{insert:"head",singleton:!1}),h.Z.locals,a(810),document.addEventListener("animationstart",function(m){(m.animationName==="onautofillstart"?f:p)(m.target)},!0),document.addEventListener("input",function(m){(m.inputType!=="insertReplacementText"&&"data"in m?p:f)(m.target)},!0)})()},,,function(s,o,a){a.r(o),a.d(o,"Alert",function(){return lp}),a.d(o,"Button",function(){return wt}),a.d(o,"Carousel",function(){return $z}),a.d(o,"Collapse",function(){return ka}),a.d(o,"Offcanvas",function(){return sc}),a.d(o,"Dropdown",function(){return AV}),a.d(o,"Input",function(){return aV}),a.d(o,"Modal",function(){return tU}),a.d(o,"Popover",function(){return MU}),a.d(o,"Ripple",function(){return DV}),a.d(o,"ScrollSpy",function(){return DU}),a.d(o,"Tab",function(){return BU}),a.d(o,"Toast",function(){return rV}),a.d(o,"Tooltip",function(){return WU}),a.d(o,"Range",function(){return LV});var l={};a.r(l),a.d(l,"top",function(){return Fi}),a.d(l,"bottom",function(){return ar}),a.d(l,"right",function(){return lr}),a.d(l,"left",function(){return Bi}),a.d(l,"auto",function(){return fp}),a.d(l,"basePlacements",function(){return uc}),a.d(l,"start",function(){return Ga}),a.d(l,"end",function(){return hc}),a.d(l,"clippingParents",function(){return UT}),a.d(l,"viewport",function(){return jv}),a.d(l,"popper",function(){return fc}),a.d(l,"reference",function(){return VT}),a.d(l,"variationPlacements",function(){return qv}),a.d(l,"placements",function(){return Yv}),a.d(l,"beforeRead",function(){return HT}),a.d(l,"read",function(){return $T}),a.d(l,"afterRead",function(){return WT}),a.d(l,"beforeMain",function(){return GT}),a.d(l,"main",function(){return jT}),a.d(l,"afterMain",function(){return qT}),a.d(l,"beforeWrite",function(){return YT}),a.d(l,"write",function(){return XT}),a.d(l,"afterWrite",function(){return KT}),a.d(l,"modifierPhases",function(){return QT}),a.d(l,"applyStyles",function(){return Xv}),a.d(l,"arrow",function(){return rA}),a.d(l,"computeStyles",function(){return Jv}),a.d(l,"eventListeners",function(){return Zv}),a.d(l,"flip",function(){return cA}),a.d(l,"hide",function(){return fA}),a.d(l,"offset",function(){return dA}),a.d(l,"popperOffsets",function(){return rb}),a.d(l,"preventOverflow",function(){return pA}),a.d(l,"popperGenerator",function(){return yp}),a.d(l,"detectOverflow",function(){return yc}),a.d(l,"createPopperBase",function(){return aU}),a.d(l,"createPopper",function(){return sb}),a.d(l,"createPopperLite",function(){return lU}),a(1),a(31),a(16);const c=b=>{let d=b.getAttribute("data-mdb-target");if(!d||d==="#"){const _=b.getAttribute("href");d=_&&_!=="#"?_.trim():null}return d},u=(b,d,_)=>{Object.keys(_).forEach(S=>{var L,z=_[S],J=d[S],J=J&&((L=J)[0]||L).nodeType?"element":(L=J)==null?"".concat(L):{}.toString.call(L).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(J))throw new Error("".concat(b.toUpperCase(),": ")+'Option "'.concat(S,'" provided type "').concat(J,'" ')+'but expected type "'.concat(z,'".'))})},h=()=>{var b=window.jQuery;return b&&!document.body.hasAttribute("data-mdb-no-jquery")?b:null},f=b=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b()};document.documentElement.dir;const p=b=>document.createElement(b),m=(()=>{const b={};let d=1;return{set(_,S,L){_[S]===void 0&&(_[S]={key:S,id:d},d++),b[_[S].id]=L},get(_,S){return!_||_[S]===void 0?null:(_=_[S],_.key===S?b[_.id]:null)},delete(_,S){var L;_[S]!==void 0&&(L=_[S]).key===S&&(delete b[L.id],delete _[S])}}})();var g={setData(b,d,_){m.set(b,d,_)},getData(b,d){return m.get(b,d)},removeData(b,d){m.delete(b,d)}};a(21),a(9),a(11);const y=h(),v=/[^.]*(?=\..*)\.|.*/,w=/\..*/,M=/::\d+$/,E={};let T=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},I=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function G(b,d){return d&&"".concat(d,"::").concat(T++)||b.uidEvent||T++}function j(b){var d=G(b);return b.uidEvent=d,E[d]=E[d]||{},E[d]}function V(b,d,_){var S=2<arguments.length&&_!==void 0?_:null,L=Object.keys(b);for(let J=0,ot=L.length;J<ot;J++){var z=b[L[J]];if(z.originalHandler===d&&z.delegationSelector===S)return z}return null}function A(b,d,L){var S=typeof d=="string",L=S?L:d;let z=b.replace(w,"");return d=D[z],d&&(z=d),d=-1<I.indexOf(z),[S,L,z=d?z:b]}function F(b,d,_,S,L){if(typeof d=="string"&&b){_||(_=S,S=null);var[z,J,ot]=A(d,_,S);const be=j(b),xe=be[ot]||(be[ot]={}),we=V(xe,J,z?_:null);if(we)we.oneOff=we.oneOff&&L;else{var pt,Bt,Dt,Yt,Xt,d=G(J,d.replace(v,""));const ge=z?(Dt=b,Yt=_,Xt=S,function Se(Jt){var tn=Dt.querySelectorAll(Yt);for(let ke=Jt.target;ke&&ke!==this;ke=ke.parentNode)for(let En=tn.length;En--;)if(tn[En]===ke)return Jt.delegateTarget=ke,Se.oneOff&&q.off(Dt,Jt.type,Xt),Xt.apply(ke,[Jt]);return null}):(pt=b,Bt=_,function Se(Jt){return Jt.delegateTarget=pt,Se.oneOff&&q.off(pt,Jt.type,Bt),Bt.apply(pt,[Jt])});ge.delegationSelector=z?_:null,ge.originalHandler=J,ge.oneOff=L,ge.uidEvent=d,xe[d]=ge,b.addEventListener(ot,ge,z)}}}function nt(b,d,_,S,L){S=V(d[_],S,L),S&&(b.removeEventListener(_,S,Boolean(L)),delete d[_][S.uidEvent])}const q={on(b,d,_,S){F(b,d,_,S,!1)},one(b,d,_,S){F(b,d,_,S,!0)},off(b,d,_,S){if(typeof d=="string"&&b){const[L,z,J]=A(d,_,S),ot=J!==d,pt=j(b);if(S=d.charAt(0)===".",z!==void 0)return pt&&pt[J]?void nt(b,pt,J,z,L?_:null):void 0;S&&Object.keys(pt).forEach(Dt=>{{var Yt=b,Xt=pt,be=Dt,xe=d.slice(1);const we=Xt[be]||{};return void Object.keys(we).forEach(Le=>{-1<Le.indexOf(xe)&&(Le=we[Le],nt(Yt,Xt,be,Le.originalHandler,Le.delegationSelector))})}});const Bt=pt[J]||{};Object.keys(Bt).forEach(Dt=>{var Yt=Dt.replace(M,"");(!ot||-1<d.indexOf(Yt))&&(Yt=Bt[Dt],nt(b,pt,J,Yt.originalHandler,Yt.delegationSelector))})}},trigger(b,d,_){if(typeof d!="string"||!b)return null;var S=d.replace(w,""),L=d!==S,z=-1<I.indexOf(S);let J,ot=!0,pt=!0,Bt=!1,Dt=null;return L&&y&&(J=y.Event(d,_),y(b).trigger(J),ot=!J.isPropagationStopped(),pt=!J.isImmediatePropagationStopped(),Bt=J.isDefaultPrevented()),z?(Dt=document.createEvent("HTMLEvents")).initEvent(S,ot,!0):Dt=new CustomEvent(d,{bubbles:ot,cancelable:!0}),_!==void 0&&Object.keys(_).forEach(Yt=>{Object.defineProperty(Dt,Yt,{get(){return _[Yt]}})}),Bt&&Dt.preventDefault(),pt&&b.dispatchEvent(Dt),Dt.defaultPrevented&&J!==void 0&&J.preventDefault(),Dt}};var P=q;function W(b){return b==="true"||b!=="false"&&(b===Number(b).toString()?Number(b):b===""||b==="null"?null:b)}function Z(b){return b.replace(/[A-Z]/g,d=>"-".concat(d.toLowerCase()))}var U={setDataAttribute(b,d,_){b.setAttribute("data-mdb-".concat(Z(d)),_)},removeDataAttribute(b,d){b.removeAttribute("data-mdb-".concat(Z(d)))},getDataAttributes(b){if(!b)return{};const d={...b.dataset};return Object.keys(d).filter(_=>_.startsWith("mdb")).forEach(_=>{let S=_.replace(/^mdb/,"");S=S.charAt(0).toLowerCase()+S.slice(1,S.length),d[S]=W(d[_])}),d},getDataAttribute(b,d){return W(b.getAttribute("data-mdb-".concat(Z(d))))},offset(b){return b=b.getBoundingClientRect(),{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},position(b){return{top:b.offsetTop,left:b.offsetLeft}},style(b,d){Object.assign(b.style,d)},toggleClass(b,d){b&&(b.classList.contains(d)?b.classList.remove(d):b.classList.add(d))},addClass(b,d){b.classList.contains(d)||b.classList.add(d)},addStyle(b,d){Object.keys(d).forEach(_=>{b.style[_]=d[_]})},removeClass(b,d){b.classList.contains(d)&&b.classList.remove(d)},hasClass(b,d){return b.classList.contains(d)}},Q={closest(b,d){return b.closest(d)},matches(b,d){return b.matches(d)},find(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(d,b))},findOne(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(d,b)},children(b,d){return[].concat(...b.children).filter(S=>S.matches(d))},parents(b,d){const _=[];let S=b.parentNode;for(;S&&S.nodeType===Node.ELEMENT_NODE&&S.nodeType!==3;)this.matches(S,d)&&_.push(S),S=S.parentNode;return _},prev(b,d){let _=b.previousElementSibling;for(;_;){if(_.matches(d))return[_];_=_.previousElementSibling}return[]},next(b,d){let _=b.nextElementSibling;for(;_;){if(this.matches(_,d))return[_];_=_.nextElementSibling}return[]}};const ut=1e3,vt="transitionend",at=b=>{let d=b.getAttribute("data-mdb-target");if(!d||d==="#"){let _=b.getAttribute("href");if(!_||!_.includes("#")&&!_.startsWith("."))return null;_.includes("#")&&!_.startsWith("#")&&(_="#".concat(_.split("#")[1])),d=_&&_!=="#"?_.trim():null}return d},Ct=b=>(b=at(b),b&&document.querySelector(b)?b:null),Lt=b=>(b=at(b),b?document.querySelector(b):null),et=b=>{b.dispatchEvent(new Event(vt))},Y=b=>!(!b||typeof b!="object")&&(b=b.jquery!==void 0?b[0]:b).nodeType!==void 0,Et=b=>Y(b)?b.jquery?b[0]:b:typeof b=="string"&&0<b.length?document.querySelector(b):null,lt=(b,d,_)=>{Object.keys(_).forEach(S=>{var L=_[S],z=d[S],z=z&&Y(z)?"element":(z=z)==null?"".concat(z):{}.toString.call(z).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(L).test(z))throw new TypeError("".concat(b.toUpperCase(),': Option "').concat(S,'" provided type "').concat(z,'" but expected type "').concat(L,'".'))})},Mt=b=>!(!Y(b)||b.getClientRects().length===0)&&getComputedStyle(b).getPropertyValue("visibility")==="visible",xt=b=>!b||b.nodeType!==Node.ELEMENT_NODE||!!b.classList.contains("disabled")||(b.disabled!==void 0?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false"),Rt=b=>{return document.documentElement.attachShadow?typeof b.getRootNode=="function"?(d=b.getRootNode())instanceof ShadowRoot?d:null:b instanceof ShadowRoot?b:b.parentNode?Rt(b.parentNode):null:null;var d},O=()=>{},N=b=>{b.offsetHeight},$=()=>{var b=window.jQuery;return b&&!document.body.hasAttribute("data-mdb-no-jquery")?b:null},X=[],rt=()=>document.documentElement.dir==="rtl";o=b=>{var d;d=()=>{const _=$();if(_){const S=b.NAME,L=_.fn[S];_.fn[S]=b.jQueryInterface,_.fn[S].Constructor=b,_.fn[S].noConflict=()=>(_.fn[S]=L,b.jQueryInterface)}},document.readyState==="loading"?(X.length||document.addEventListener("DOMContentLoaded",()=>{X.forEach(_=>_())}),X.push(d)):d()};function mt(b,d){if(!(2<arguments.length&&arguments[2]!==void 0)||arguments[2]){var _=(pt=>{if(!pt)return 0;let{transitionDuration:J,transitionDelay:ot}=window.getComputedStyle(pt);var pt=Number.parseFloat(J),Bt=Number.parseFloat(ot);return pt||Bt?(J=J.split(",")[0],ot=ot.split(",")[0],(Number.parseFloat(J)+Number.parseFloat(ot))*ut):0})(d)+5;let S=!1;const L=z=>{z=z.target,z===d&&(S=!0,d.removeEventListener(vt,L),yt(b))};d.addEventListener(vt,L),setTimeout(()=>{S||et(d)},_)}else yt(b)}const yt=b=>{typeof b=="function"&&b()},ht=(b,d,_,S)=>{let L=b.indexOf(d);return L===-1?b[!_&&S?b.length-1:0]:(d=b.length,L+=_?1:-1,S&&(L=(L+d)%d),b[Math.max(0,Math.min(L,d-1))])},Tt=/[^.]*(?=\..*)\.|.*/,bt=/\..*/,k=/::\d+$/,R={};let st=1;const gt={mouseenter:"mouseover",mouseleave:"mouseout"},Ot=/^(mouseenter|mouseleave)/i,Nt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Wt(b,d){return d&&"".concat(d,"::").concat(st++)||b.uidEvent||st++}function _t(b){var d=Wt(b);return b.uidEvent=d,R[d]=R[d]||{},R[d]}function re(b,d,_){var S=2<arguments.length&&_!==void 0?_:null,L=Object.keys(b);for(let J=0,ot=L.length;J<ot;J++){var z=b[L[J]];if(z.originalHandler===d&&z.delegationSelector===S)return z}return null}function pe(b,d,L){var S=typeof d=="string",L=S?L:d;let z=Gt(b);return d=Nt.has(z),[S,L,z=d?z:b]}function Qt(b,d,_,S,L){if(typeof d=="string"&&b){_||(_=S,S=null),Ot.test(d)&&(z=Le=>function(ge){if(!ge.relatedTarget||ge.relatedTarget!==ge.delegateTarget&&!ge.delegateTarget.contains(ge.relatedTarget))return Le.call(this,ge)},S?S=z(S):_=z(_));var[z,J,ot]=pe(d,_,S);const be=_t(b),xe=be[ot]||(be[ot]={}),we=re(xe,J,z?_:null);if(we)we.oneOff=we.oneOff&&L;else{var pt,Bt,Dt,Yt,Xt,d=Wt(J,d.replace(Tt,""));const ge=z?(Dt=b,Yt=_,Xt=S,function Se(Jt){var tn=Dt.querySelectorAll(Yt);for(let ke=Jt.target;ke&&ke!==this;ke=ke.parentNode)for(let En=tn.length;En--;)if(tn[En]===ke)return Jt.delegateTarget=ke,Se.oneOff&&kt.off(Dt,Jt.type,Yt,Xt),Xt.apply(ke,[Jt]);return null}):(pt=b,Bt=_,function Se(Jt){return Jt.delegateTarget=pt,Se.oneOff&&kt.off(pt,Jt.type,Bt),Bt.apply(pt,[Jt])});ge.delegationSelector=z?_:null,ge.originalHandler=J,ge.oneOff=L,ge.uidEvent=d,xe[d]=ge,b.addEventListener(ot,ge,z)}}}function it(b,d,_,S,L){S=re(d[_],S,L),S&&(b.removeEventListener(_,S,Boolean(L)),delete d[_][S.uidEvent])}function Gt(b){return b=b.replace(bt,""),gt[b]||b}const kt={on(b,d,_,S){Qt(b,d,_,S,!1)},one(b,d,_,S){Qt(b,d,_,S,!0)},off(b,d,_,S){if(typeof d=="string"&&b){const[L,z,J]=pe(d,_,S),ot=J!==d,pt=_t(b);if(S=d.startsWith("."),z!==void 0)return pt&&pt[J]?void it(b,pt,J,z,L?_:null):void 0;S&&Object.keys(pt).forEach(Dt=>{{var Yt=b,Xt=pt,be=Dt,xe=d.slice(1);const we=Xt[be]||{};return void Object.keys(we).forEach(Le=>{Le.includes(xe)&&(Le=we[Le],it(Yt,Xt,be,Le.originalHandler,Le.delegationSelector))})}});const Bt=pt[J]||{};Object.keys(Bt).forEach(Dt=>{var Yt=Dt.replace(k,"");ot&&!d.includes(Yt)||(Yt=Bt[Dt],it(b,pt,J,Yt.originalHandler,Yt.delegationSelector))})}},trigger(b,d,_){if(typeof d!="string"||!b)return null;const S=$();var L=Gt(d),z=d!==L,J=Nt.has(L);let ot,pt=!0,Bt=!0,Dt=!1,Yt=null;return z&&S&&(ot=S.Event(d,_),S(b).trigger(ot),pt=!ot.isPropagationStopped(),Bt=!ot.isImmediatePropagationStopped(),Dt=ot.isDefaultPrevented()),J?(Yt=document.createEvent("HTMLEvents")).initEvent(L,pt,!0):Yt=new CustomEvent(d,{bubbles:pt,cancelable:!0}),_!==void 0&&Object.keys(_).forEach(Xt=>{Object.defineProperty(Yt,Xt,{get(){return _[Xt]}})}),Dt&&Yt.preventDefault(),Bt&&b.dispatchEvent(Yt),Yt.defaultPrevented&&ot!==void 0&&ot.preventDefault(),Yt}};var ft=kt;const Vt=new Map;var he=function(b,d,_){Vt.has(b)||Vt.set(b,new Map);const S=Vt.get(b);S.has(d)||S.size===0?S.set(d,_):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(S.keys())[0],"."))},jt=function(b,d){return Vt.has(b)&&Vt.get(b).get(d)||null},ye=function(b,d){if(Vt.has(b)){const _=Vt.get(b);_.delete(d),_.size===0&&Vt.delete(b)}},Re=class{constructor(b){(b=Et(b))&&(this._element=b,he(this._element,this.constructor.DATA_KEY,this))}dispose(){ye(this._element,this.constructor.DATA_KEY),ft.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(b=>{this[b]=null})}_queueCallback(b,d){var _=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];mt(b,d,_)}static getInstance(b){return jt(Et(b),this.DATA_KEY)}static getOrCreateInstance(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(b)||new this(b,typeof d=="object"?d:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}},Ae=".".concat("bs.button");const Te='[data-mdb-toggle="button"]';Ae="click".concat(Ae).concat(".data-api");class Xn extends Re{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const _=Xn.getOrCreateInstance(this);d==="toggle"&&_[d]()})}}ft.on(document,Ae,Te,b=>{b.preventDefault(),b=b.target.closest(Te),Xn.getOrCreateInstance(b).toggle()}),o(Xn),Ae=Xn;const Bn="button",Ia="mdb.".concat(Bn);var qt=".".concat(Ia);const ds="click".concat(qt),Br="transitionend",$s="mouseenter",Do="mouseleave",Na="hide".concat(qt),Mh="hidden".concat(qt),Th="show".concat(qt),H="shown".concat(qt),ct="fixed-action-btn";class St extends Ae{constructor(d){super(d),this._fn={},this._element&&(g.setData(this._element,Ia,this),this._init())}static get NAME(){return Bn}static jQueryInterface(d,_){return this.each(function(){let S=g.getData(this,Ia);var L=typeof d=="object"&&d;if((S||!/dispose/.test(d))&&(S=S||new St(this,L),typeof d=="string")){if(S[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));S[d](_)}})}get _actionButton(){return Q.findOne(".fixed-action-btn:not(.smooth-scroll) > .btn-floating",this._element)}get _buttonListElements(){return Q.find("ul .btn",this._element)}get _buttonList(){return Q.findOne("ul",this._element)}get _isTouchDevice(){return"ontouchstart"in document.documentElement}show(){U.hasClass(this._element,ct)&&(P.off(this._buttonList,Br),P.trigger(this._element,Th),this._bindListOpenTransitionEnd(),U.addStyle(this._element,{height:"".concat(this._fullContainerHeight,"px")}),this._toggleVisibility(!0))}hide(){U.hasClass(this._element,ct)&&(P.off(this._buttonList,Br),P.trigger(this._element,Na),this._bindListHideTransitionEnd(),this._toggleVisibility(!1))}dispose(){U.hasClass(this._element,ct)&&(P.off(this._actionButton,ds),this._actionButton.removeEventListener($s,this._fn.mouseenter),this._element.removeEventListener(Do,this._fn.mouseleave)),super.dispose()}_init(){U.hasClass(this._element,ct)&&(this._saveInitialHeights(),this._setInitialStyles(),this._bindInitialEvents())}_bindMouseEnter(){this._actionButton.addEventListener($s,this._fn.mouseenter=()=>{this._isTouchDevice||this.show()})}_bindMouseLeave(){this._element.addEventListener(Do,this._fn.mouseleave=()=>{this.hide()})}_bindClick(){P.on(this._actionButton,ds,()=>{U.hasClass(this._element,"active")?this.hide():this.show()})}_bindListHideTransitionEnd(){P.on(this._buttonList,Br,d=>{d.propertyName==="transform"&&(P.off(this._buttonList,Br),this._element.style.height="".concat(this._initialContainerHeight,"px"),P.trigger(this._element,Mh))})}_bindListOpenTransitionEnd(){P.on(this._buttonList,Br,d=>{d.propertyName==="transform"&&(P.off(this._buttonList,Br),P.trigger(this._element,H))})}_toggleVisibility(d){const _=d?"addClass":"removeClass";d=d?"translate(0)":"translateY(".concat(this._fullContainerHeight,"px)"),U.addStyle(this._buttonList,{transform:d}),this._buttonListElements&&this._buttonListElements.forEach(S=>U[_](S,"shown")),U[_](this._element,"active")}_getHeight(d){const _=window.getComputedStyle(d);return parseFloat(_.getPropertyValue("height"))}_saveInitialHeights(){this._initialContainerHeight=this._getHeight(this._element),this._initialListHeight=this._getHeight(this._buttonList),this._fullContainerHeight=this._initialContainerHeight+this._initialListHeight}_bindInitialEvents(){this._bindClick(),this._bindMouseEnter(),this._bindMouseLeave()}_setInitialStyles(){this._buttonList.style.marginBottom="".concat(this._initialContainerHeight,"px"),this._buttonList.style.transform="translateY(".concat(this._fullContainerHeight,"px)"),this._element.style.height="".concat(this._initialContainerHeight,"px")}}Q.find(".fixed-action-btn").forEach(b=>{let d=St.getInstance(b);return d=d||new St(b)}),Q.find('[data-mdb-toggle="button"]').forEach(b=>{let d=St.getInstance(b);return d=d||new St(b)}),f(()=>{const b=h();if(b){const d=b.fn[Bn];b.fn[Bn]=St.jQueryInterface,b.fn[Bn].Constructor=St,b.fn[Bn].noConflict=()=>(b.fn[Bn]=d,St.jQueryInterface)}});var wt=St;function Pt(b){return b==="true"||b!=="false"&&(b===Number(b).toString()?Number(b):b===""||b==="null"?null:b)}function se(b){return b.replace(/[A-Z]/g,d=>"-".concat(d.toLowerCase()))}var te={setDataAttribute(b,d,_){b.setAttribute("data-mdb-".concat(se(d)),_)},removeDataAttribute(b,d){b.removeAttribute("data-mdb-".concat(se(d)))},getDataAttributes(b){if(!b)return{};const d={};return Object.keys(b.dataset).filter(_=>_.startsWith("mdb")).forEach(_=>{let S=_.replace(/^mdb/,"");S=S.charAt(0).toLowerCase()+S.slice(1,S.length),d[S]=Pt(b.dataset[_])}),d},getDataAttribute(b,d){return Pt(b.getAttribute("data-mdb-".concat(se(d))))},offset(b){return b=b.getBoundingClientRect(),{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset}},position(b){return{top:b.offsetTop,left:b.offsetLeft}}},Ht={find(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(d,b))},findOne(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(d,b)},children(b,d){return[].concat(...b.children).filter(_=>_.matches(d))},parents(b,d){const _=[];let S=b.parentNode;for(;S&&S.nodeType===Node.ELEMENT_NODE&&S.nodeType!==3;)S.matches(d)&&_.push(S),S=S.parentNode;return _},prev(b,d){let _=b.previousElementSibling;for(;_;){if(_.matches(d))return[_];_=_.previousElementSibling}return[]},next(b,d){let _=b.nextElementSibling;for(;_;){if(_.matches(d))return[_];_=_.nextElementSibling}return[]},focusableChildren(b){var d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(_=>"".concat(_,':not([tabindex^="-"])')).join(", ");return this.find(d,b).filter(_=>!xt(_)&&Mt(_))}};const ve="collapse",Ue="bs.collapse";qt=".".concat(Ue);const Ve={toggle:!0,parent:null},Ne={toggle:"boolean",parent:"(null|element)"},gn="show".concat(qt),zr="shown".concat(qt),ps="hide".concat(qt),qe="hidden".concat(qt);Ae="click".concat(qt).concat(".data-api");const bi="show",Be="collapse",sr="collapsing",xn="collapsed",Ii=":scope .".concat(Be," .").concat(Be),Ki='[data-mdb-toggle="collapse"]';class Ni extends Re{constructor(d,_){super(d),this._isTransitioning=!1,this._config=this._getConfig(_),this._triggerArray=[];var S=Ht.find(Ki);for(let ot=0,pt=S.length;ot<pt;ot++){var L=S[ot],z=Ct(L),J=Ht.find(z).filter(Bt=>Bt===this._element);z!==null&&J.length&&(this._selector=z,this._triggerArray.push(L))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ve}static get NAME(){return ve}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let _=[],S;if(this._config.parent){const z=Ht.find(Ii,this._config.parent);_=Ht.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(J=>!z.includes(J))}const L=Ht.findOne(this._selector);if(_.length){var d=_.find(z=>L!==z);if((S=d?Ni.getInstance(d):null)&&S._isTransitioning)return}if(d=ft.trigger(this._element,gn),!d.defaultPrevented){_.forEach(J=>{L!==J&&Ni.getOrCreateInstance(J,{toggle:!1}).hide(),S||he(J,Ue,null)});const z=this._getDimension();this._element.classList.remove(Be),this._element.classList.add(sr),this._element.style[z]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0,d=z[0].toUpperCase()+z.slice(1),d="scroll".concat(d),this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(sr),this._element.classList.add(Be,bi),this._element.style[z]="",ft.trigger(this._element,zr)},this._element,!0),this._element.style[z]="".concat(this._element[d],"px")}}}hide(){if(!this._isTransitioning&&this._isShown()){var d=ft.trigger(this._element,ps);if(!d.defaultPrevented){var d=this._getDimension(),_=(this._element.style[d]="".concat(this._element.getBoundingClientRect()[d],"px"),N(this._element),this._element.classList.add(sr),this._element.classList.remove(Be,bi),this._triggerArray.length);for(let J=0;J<_;J++){var S=this._triggerArray[J],L=Lt(S);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([S],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(sr),this._element.classList.add(Be),ft.trigger(this._element,qe)},this._element,!0)}}}_isShown(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(bi)}_getConfig(d){return(d={...Ve,...te.getDataAttributes(this._element),...d}).toggle=Boolean(d.toggle),d.parent=Et(d.parent),lt(ve,d,Ne),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){const d=Ht.find(Ii,this._config.parent);Ht.find(Ki,this._config.parent).filter(_=>!d.includes(_)).forEach(_=>{var S=Lt(_);S&&this._addAriaAndCollapsedClass([_],this._isShown(S))})}}_addAriaAndCollapsedClass(d,_){d.length&&d.forEach(S=>{_?S.classList.remove(xn):S.classList.add(xn),S.setAttribute("aria-expanded",_)})}static jQueryInterface(d){return this.each(function(){const _={},S=(typeof d=="string"&&/show|hide/.test(d)&&(_.toggle=!1),Ni.getOrCreateInstance(this,_));if(typeof d=="string"){if(S[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));S[d]()}})}}ft.on(document,Ae,Ki,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault(),b=Ct(this),Ht.find(b).forEach(_=>{Ni.getOrCreateInstance(_,{toggle:!1}).toggle()})}),o(Ni);var ka=Ni;const zn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pn=".sticky-top";var C=class{constructor(){this._element=document.body}getWidth(){var b=document.documentElement.clientWidth;return Math.abs(window.innerWidth-b)}hide(){const b=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",d=>d+b),this._setElementAttributes(zn,"paddingRight",d=>d+b),this._setElementAttributes(pn,"marginRight",d=>d-b)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(b,d,_){const S=this.getWidth();this._applyManipulationCallback(b,L=>{var z;L!==this._element&&window.innerWidth>L.clientWidth+S||(this._saveInitialAttribute(L,d),z=window.getComputedStyle(L)[d],L.style[d]="".concat(_(Number.parseFloat(z)),"px"))})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(zn,"paddingRight"),this._resetElementAttributes(pn,"marginRight")}_saveInitialAttribute(b,d){var _=b.style[d];_&&te.setDataAttribute(b,d,_)}_resetElementAttributes(b,d){this._applyManipulationCallback(b,_=>{var S=te.getDataAttribute(_,d);S===void 0?_.style.removeProperty(d):(te.removeDataAttribute(_,d),_.style[d]=S)})}_applyManipulationCallback(b,d){Y(b)?d(b):Ht.find(b,this._element).forEach(d)}isOverflowing(){return 0<this.getWidth()}};const x={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},B={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},K="backdrop",dt="mousedown.bs.".concat(K);var At=class{constructor(b){this._config=this._getConfig(b),this._isAppended=!1,this._element=null}show(b){this._config.isVisible?(this._append(),this._config.isAnimated&&N(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(()=>{yt(b)})):yt(b)}hide(b){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),yt(b)})):yt(b)}_getElement(){if(!this._element){const b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add("fade"),this._element=b}return this._element}_getConfig(b){return(b={...x,...typeof b=="object"?b:{}}).rootElement=Et(b.rootElement),lt(K,b,B),b}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),ft.on(this._getElement(),dt,()=>{yt(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(ft.off(this._element,dt),this._element.remove(),this._isAppended=!1)}_emulateAnimation(b){mt(b,this._getElement(),this._config.isAnimated)}};const Zt={trapElement:null,autofocus:!0},ae={trapElement:"element",autofocus:"boolean"},le=".".concat("bs.focustrap"),Ee="focusin".concat(le),ze="keydown.tab".concat(le),Tn="backward";function fe(b){let d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"hide";var _="click.dismiss".concat(b.EVENT_KEY);const S=b.NAME;ft.on(document,_,'[data-mdb-dismiss="'.concat(S,'"]'),function(L){["A","AREA"].includes(this.tagName)&&L.preventDefault(),!xt(this)&&(L=Lt(this)||this.closest(".".concat(S)),b.getOrCreateInstance(L)[d]())})}var He=class{constructor(b){this._config=this._getConfig(b),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:b,autofocus:d}=this._config;this._isActive||(d&&b.focus(),ft.off(document,le),ft.on(document,Ee,_=>this._handleFocusin(_)),ft.on(document,ze,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ft.off(document,le))}_handleFocusin(b){b=b.target;const d=this._config.trapElement;if(b!==document&&b!==d&&!d.contains(b)){const _=Ht.focusableChildren(d);(_.length===0?d:this._lastTabNavDirection===Tn?_[_.length-1]:_[0]).focus()}}_handleKeydown(b){b.key==="Tab"&&(this._lastTabNavDirection=b.shiftKey?Tn:"forward")}_getConfig(b){return b={...Zt,...typeof b=="object"?b:{}},lt("focustrap",b,ae),b}};const or="offcanvas";var qt=".".concat("bs.offcanvas"),Ae=".data-api",Ut="load".concat(qt).concat(Ae);const Ln={backdrop:!0,keyboard:!0,scroll:!1},ki={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},xi=".offcanvas.show",rc="show".concat(qt),Ro="shown".concat(qt),Fa="hide".concat(qt),Ba="hidden".concat(qt);Ae="click".concat(qt).concat(Ae);const za="keydown.dismiss".concat(qt);class Kn extends Re{constructor(d,_){super(d),this._config=this._getConfig(_),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return or}static get Default(){return Ln}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||ft.trigger(this._element,rc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new C().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),ft.trigger(this._element,Ro,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&!ft.trigger(this._element,Fa).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new C().reset(),ft.trigger(this._element,Ba)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(d){return d={...Ln,...te.getDataAttributes(this._element),...typeof d=="object"?d:{}},lt(or,d,ki),d}_initializeBackDrop(){return new At({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new He({trapElement:this._element})}_addEventListeners(){ft.on(this._element,za,d=>{this._config.keyboard&&d.key==="Escape"&&this.hide()})}static jQueryInterface(d){return this.each(function(){const _=Kn.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError('No method named "'.concat(d,'"'));_[d](this)}})}}ft.on(document,Ae,'[data-mdb-toggle="offcanvas"]',function(b){var d=Lt(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),!xt(this)&&(ft.one(d,Ba,()=>{Mt(this)&&this.focus()}),b=Ht.findOne(xi),b&&b!==d&&Kn.getInstance(b).hide(),Kn.getOrCreateInstance(d).toggle(this))}),ft.on(window,Ut,()=>Ht.find(xi).forEach(b=>Kn.getOrCreateInstance(b).show())),fe(Kn),o(Kn);var sc=Kn;qt=".".concat("bs.alert");const Ah="close".concat(qt),Ua="closed".concat(qt);class Lo extends Re{static get NAME(){return"alert"}close(){var d;ft.trigger(this._element,Ah).defaultPrevented||(this._element.classList.remove("show"),d=this._element.classList.contains("fade"),this._queueCallback(()=>this._destroyElement(),this._element,d))}_destroyElement(){this._element.remove(),ft.trigger(this._element,Ua),this.dispose()}static jQueryInterface(d){return this.each(function(){const _=Lo.getOrCreateInstance(this);if(typeof d=="string"){if(_[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError('No method named "'.concat(d,'"'));_[d](this)}})}}fe(Lo,"close"),o(Lo),Ae=Lo;const Qi="alert";Ut="mdb.".concat(Qi),qt=".".concat(Ut);const oc="close.bs.alert",Ur="closed.bs.alert",Io="close".concat(qt),ac="closed".concat(qt);class wn extends Ae{constructor(d){super(d,1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}),this._init()}dispose(){P.off(this._element,oc),P.off(this._element,Ur),super.dispose()}static get NAME(){return Qi}_init(){this._bindCloseEvent(),this._bindClosedEvent()}_bindCloseEvent(){P.on(this._element,oc,()=>{P.trigger(this._element,Io)})}_bindClosedEvent(){P.on(this._element,Ur,()=>{P.trigger(this._element,ac)})}}Q.find(".alert").forEach(b=>{var d=wn.getInstance(b);d||new wn(b)}),f(()=>{const b=h();if(b){const d=b.fn[Qi];b.fn[Qi]=wn.jQueryInterface,b.fn[Qi].Constructor=wn,b.fn[Qi].noConflict=()=>(b.fn[Qi]=d,wn.jQueryInterface)}});var lp=wn;const cp="carousel";Ut=".".concat("bs.carousel"),qt=".data-api";const up={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ms={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},wi="next",Vr="prev",Hr="left",gs="right",No={ArrowLeft:gs,ArrowRight:Hr},ys="slide".concat(Ut),Ch="slid".concat(Ut),Oh="keydown".concat(Ut),Wv="mouseenter".concat(Ut),Iz="mouseleave".concat(Ut),Nz="touchstart".concat(Ut),kz="touchmove".concat(Ut),Fz="touchend".concat(Ut),Bz="pointerdown".concat(Ut),zz="pointerup".concat(Ut),Uz="dragstart".concat(Ut);Ae="load".concat(Ut).concat(qt),Ut="click".concat(Ut).concat(qt);const Va="active",hp=".active.carousel-item";class _s extends Re{constructor(d,_){super(d),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(_),this._indicatorsElement=Ht.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return up}static get NAME(){return cp}next(){this._slide(wi)}nextWhenVisible(){!document.hidden&&Mt(this._element)&&this.next()}prev(){this._slide(Vr)}pause(d){d||(this._isPaused=!0),Ht.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(et(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(d){d||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(d){this._activeElement=Ht.findOne(hp,this._element);var _=this._getItemIndex(this._activeElement);if(!(d>this._items.length-1||d<0))if(this._isSliding)ft.one(this._element,Ch,()=>this.to(d));else{if(_===d)return this.pause(),void this.cycle();_=_<d?wi:Vr,this._slide(_,this._items[d])}}_getConfig(d){return d={...up,...te.getDataAttributes(this._element),...typeof d=="object"?d:{}},lt(cp,d,ms),d}_handleSwipe(){var d=Math.abs(this.touchDeltaX);d<=40||(d=d/this.touchDeltaX,this.touchDeltaX=0,d&&this._slide(0<d?gs:Hr))}_addEventListeners(){this._config.keyboard&&ft.on(this._element,Oh,d=>this._keydown(d)),this._config.pause==="hover"&&(ft.on(this._element,Wv,d=>this.pause(d)),ft.on(this._element,Iz,d=>this.cycle(d))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const d=z=>this._pointerEvent&&(z.pointerType==="pen"||z.pointerType==="touch"),_=z=>{d(z)?this.touchStartX=z.clientX:this._pointerEvent||(this.touchStartX=z.touches[0].clientX)},S=z=>{this.touchDeltaX=z.touches&&1<z.touches.length?0:z.touches[0].clientX-this.touchStartX},L=z=>{d(z)&&(this.touchDeltaX=z.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(J=>this.cycle(J),500+this._config.interval))};Ht.find(".carousel-item img",this._element).forEach(z=>{ft.on(z,Uz,J=>J.preventDefault())}),this._pointerEvent?(ft.on(this._element,Bz,z=>_(z)),ft.on(this._element,zz,z=>L(z)),this._element.classList.add("pointer-event")):(ft.on(this._element,Nz,z=>_(z)),ft.on(this._element,kz,z=>S(z)),ft.on(this._element,Fz,z=>L(z)))}_keydown(d){var _;/input|textarea/i.test(d.target.tagName)||(_=No[d.key])&&(d.preventDefault(),this._slide(_))}_getItemIndex(d){return this._items=d&&d.parentNode?Ht.find(".carousel-item",d.parentNode):[],this._items.indexOf(d)}_getItemByOrder(d,_){return d=d===wi,ht(this._items,_,d,this._config.wrap)}_triggerSlideEvent(d,_){var S=this._getItemIndex(d),L=this._getItemIndex(Ht.findOne(hp,this._element));return ft.trigger(this._element,ys,{relatedTarget:d,direction:_,from:L,to:S})}_setActiveIndicatorElement(d){if(this._indicatorsElement){const _=Ht.findOne(".active",this._indicatorsElement),S=(_.classList.remove(Va),_.removeAttribute("aria-current"),Ht.find("[data-mdb-target]",this._indicatorsElement));for(let L=0;L<S.length;L++)if(Number.parseInt(S[L].getAttribute("data-mdb-slide-to"),10)===this._getItemIndex(d)){S[L].classList.add(Va),S[L].setAttribute("aria-current","true");break}}}_updateInterval(){const d=this._activeElement||Ht.findOne(hp,this._element);var _;d&&((_=Number.parseInt(d.getAttribute("data-mdb-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=_):this._config.interval=this._config.defaultInterval||this._config.interval)}_slide(d,ot){d=this._directionToOrder(d);const S=Ht.findOne(hp,this._element),L=this._getItemIndex(S),z=ot||this._getItemByOrder(d,S),J=this._getItemIndex(z);var ot=Boolean(this._interval),pt=d===wi;const Bt=pt?"carousel-item-start":"carousel-item-end",Dt=pt?"carousel-item-next":"carousel-item-prev",Yt=this._orderToDirection(d);if(z&&z.classList.contains(Va))this._isSliding=!1;else if(!this._isSliding&&(pt=this._triggerSlideEvent(z,Yt),!pt.defaultPrevented&&S&&z)){this._isSliding=!0,ot&&this.pause(),this._setActiveIndicatorElement(z),this._activeElement=z;const Xt=()=>{ft.trigger(this._element,Ch,{relatedTarget:z,direction:Yt,from:L,to:J})};this._element.classList.contains("slide")?(z.classList.add(Dt),N(z),S.classList.add(Bt),z.classList.add(Bt),this._queueCallback(()=>{z.classList.remove(Bt,Dt),z.classList.add(Va),S.classList.remove(Va,Dt,Bt),this._isSliding=!1,setTimeout(Xt,0)},S,!0)):(S.classList.remove(Va),z.classList.add(Va),this._isSliding=!1,Xt()),ot&&this.cycle()}}_directionToOrder(d){return[gs,Hr].includes(d)?rt()?d===Hr?Vr:wi:d===Hr?wi:Vr:d}_orderToDirection(d){return[wi,Vr].includes(d)?rt()?d===Vr?Hr:gs:d===Vr?gs:Hr:d}static carouselInterface(d,_){const S=_s.getOrCreateInstance(d,_);let L=S._config;if(typeof _=="object"&&(L={...L,..._}),d=typeof _=="string"?_:L.slide,typeof _=="number")S.to(_);else if(typeof d=="string"){if(S[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));S[d]()}else L.interval&&L.ride&&(S.pause(),S.cycle())}static jQueryInterface(d){return this.each(function(){_s.carouselInterface(this,d)})}static dataApiClickHandler(d){const _=Lt(this);if(_&&_.classList.contains("carousel")){const L={...te.getDataAttributes(_),...te.getDataAttributes(this)};var S=this.getAttribute("data-mdb-slide-to");S&&(L.interval=!1),_s.carouselInterface(_,L),S&&_s.getInstance(_).to(S),d.preventDefault()}}}ft.on(document,Ut,"[data-mdb-slide], [data-mdb-slide-to]",_s.dataApiClickHandler),ft.on(window,Ae,()=>{var b=Ht.find('[data-mdb-ride="carousel"]');for(let d=0,_=b.length;d<_;d++)_s.carouselInterface(b[d],_s.getInstance(b[d]))}),o(_s),qt=_s;const Ha="carousel";Ut="mdb.".concat(Ha),Ae=".".concat(Ut);const MT="slide.bs.carousel",TT="slid.bs.carousel",Vz="slide".concat(Ae),Hz="slid".concat(Ae);class lc extends qt{constructor(d,_){super(d,_),this._init()}dispose(){P.off(this._element,MT),P.off(this._element,TT),super.dispose()}static get NAME(){return Ha}_init(){this._bindSlideEvent(),this._bindSlidEvent()}_bindSlideEvent(){P.on(this._element,MT,d=>{P.trigger(this._element,Vz,{relatedTarget:d.relatedTarget,direction:d.direction,from:d.from,to:d.to})})}_bindSlidEvent(){P.on(this._element,TT,d=>{P.trigger(this._element,Hz,{relatedTarget:d.relatedTarget,direction:d.direction,from:d.from,to:d.to})})}}Q.find('[data-mdb-ride="carousel"]').forEach(b=>{var d=lc.getInstance(b);d||new lc(b,U.getDataAttributes(b))}),f(()=>{const b=h();if(b){const d=b.fn[Ha];b.fn[Ha]=lc.jQueryInterface,b.fn[Ha].Constructor=lc,b.fn[Ha].noConflict=()=>(b.fn[Ha]=d,lc.jQueryInterface)}});var $z=lc;const vr=".".concat("bs.modal"),AT={backdrop:!0,keyboard:!0,focus:!0},Wz={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Gz="hide".concat(vr),jz="hidePrevented".concat(vr),CT="hidden".concat(vr),OT="show".concat(vr),qz="shown".concat(vr),PT="resize".concat(vr),DT="click.dismiss".concat(vr),RT="keydown.dismiss".concat(vr),Yz="mouseup.dismiss".concat(vr),LT="mousedown.dismiss".concat(vr);Ut="click".concat(vr).concat(".data-api");const IT="modal-open",Gv="modal-static";class $a extends Re{constructor(d,_){super(d),this._config=this._getConfig(_),this._dialog=Ht.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new C}static get Default(){return AT}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||ft.trigger(this._element,OT,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(IT),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),ft.on(this._dialog,LT,()=>{ft.one(this._element,Yz,_=>{_.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(d)))}hide(){var d;!this._isShown||this._isTransitioning||ft.trigger(this._element,Gz).defaultPrevented||(this._isShown=!1,(d=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),ft.off(this._element,DT),ft.off(this._dialog,LT),this._queueCallback(()=>this._hideModal(),this._element,d))}dispose(){[window,this._dialog].forEach(d=>ft.off(d,vr)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new At({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new He({trapElement:this._element})}_getConfig(d){return d={...AT,...te.getDataAttributes(this._element),...typeof d=="object"?d:{}},lt("modal",d,Wz),d}_showElement(d){var _=this._isAnimated();const S=Ht.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,S&&(S.scrollTop=0),_&&N(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ft.trigger(this._element,qz,{relatedTarget:d})},this._dialog,_)}_setEscapeEvent(){this._isShown?ft.on(this._element,RT,d=>{this._config.keyboard&&d.key==="Escape"?(d.preventDefault(),this.hide()):this._config.keyboard||d.key!=="Escape"||this._triggerBackdropTransition()}):ft.off(this._element,RT)}_setResizeEvent(){this._isShown?ft.on(window,PT,()=>this._adjustDialog()):ft.off(window,PT)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(IT),this._resetAdjustments(),this._scrollBar.reset(),ft.trigger(this._element,CT)})}_showBackdrop(d){ft.on(this._element,DT,_=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:_.target===_.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(d)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){var d=ft.trigger(this._element,jz);if(!d.defaultPrevented){const{classList:_,scrollHeight:S,style:L}=this._element,z=S>document.documentElement.clientHeight;!z&&L.overflowY==="hidden"||_.contains(Gv)||(z||(L.overflowY="hidden"),_.add(Gv),this._queueCallback(()=>{_.remove(Gv),z||this._queueCallback(()=>{L.overflowY=""},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){var d=this._element.scrollHeight>document.documentElement.clientHeight,_=this._scrollBar.getWidth(),S=0<_;(!S&&d&&!rt()||S&&!d&&rt())&&(this._element.style.paddingLeft="".concat(_,"px")),(S&&!d&&!rt()||!S&&d&&rt())&&(this._element.style.paddingRight="".concat(_,"px"))}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,_){return this.each(function(){const S=$a.getOrCreateInstance(this,d);if(typeof d=="string"){if(S[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));S[d](_)}})}}ft.on(document,Ut,'[data-mdb-toggle="modal"]',function(b){const d=Lt(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),ft.one(d,OT,S=>{S.defaultPrevented||ft.one(d,CT,()=>{Mt(this)&&this.focus()})}),b=Ht.findOne(".modal.show"),b&&$a.getInstance(b).hide(),$a.getOrCreateInstance(d).toggle(this)}),fe($a),o($a),Ae=$a;const Wa="modal";qt="mdb.".concat(Wa),Ut=".".concat(qt);const NT="hide.bs.modal",kT="hidePrevented.bs.modal",FT="hidden.bs.modal",BT="show.bs.modal",zT="shown.bs.modal",Xz="hide".concat(Ut),Kz="hidePrevented".concat(Ut),Qz="hidden".concat(Ut),Jz="show".concat(Ut),Zz="shown".concat(Ut);class cc extends Ae{constructor(d,_){super(d,_),this._init()}dispose(){P.off(this._element,BT),P.off(this._element,zT),P.off(this._element,NT),P.off(this._element,FT),P.off(this._element,kT),super.dispose()}static get NAME(){return Wa}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent(),this._bindHidePreventedEvent()}_bindShowEvent(){P.on(this._element,BT,d=>{P.trigger(this._element,Jz,{relatedTarget:d.relatedTarget})})}_bindShownEvent(){P.on(this._element,zT,d=>{P.trigger(this._element,Zz,{relatedTarget:d.relatedTarget})})}_bindHideEvent(){P.on(this._element,NT,()=>{P.trigger(this._element,Xz)})}_bindHiddenEvent(){P.on(this._element,FT,()=>{P.trigger(this._element,Qz)})}_bindHidePreventedEvent(){P.on(this._element,kT,()=>{P.trigger(this._element,Kz)})}}Q.find('[data-mdb-toggle="modal"]').forEach(d=>{var d=(S=>(S=c(S),S&&document.querySelector(S)?S:null))(d),d=Q.findOne(d),_=cc.getInstance(d);_||new cc(d)}),f(()=>{const b=h();if(b){const d=b.fn[Wa];b.fn[Wa]=cc.jQueryInterface,b.fn[Wa].Constructor=cc,b.fn[Wa].noConflict=()=>(b.fn[Wa]=d,cc.jQueryInterface)}});var tU=cc,Fi="top",ar="bottom",lr="right",Bi="left",fp="auto",uc=[Fi,ar,lr,Bi],Ga="start",hc="end",UT="clippingParents",jv="viewport",fc="popper",VT="reference",qv=uc.reduce(function(b,d){return b.concat([d+"-"+Ga,d+"-"+hc])},[]),Yv=[].concat(uc,[fp]).reduce(function(b,d){return b.concat([d,d+"-"+Ga,d+"-"+hc])},[]),HT="beforeRead",$T="read",WT="afterRead",GT="beforeMain",jT="main",qT="afterMain",YT="beforeWrite",XT="write",KT="afterWrite",QT=[HT,$T,WT,GT,jT,qT,YT,XT,KT];function vs(b){return b?(b.nodeName||"").toLowerCase():null}function $r(b){return b==null?window:b.toString()!=="[object Window]"?(d=b.ownerDocument)&&d.defaultView||window:b;var d}function dc(b){return b instanceof $r(b).Element||b instanceof Element}function br(b){return b instanceof $r(b).HTMLElement||b instanceof HTMLElement}function JT(b){if(typeof ShadowRoot<"u")return b instanceof $r(b).ShadowRoot||b instanceof ShadowRoot}var Xv={name:"applyStyles",enabled:!0,phase:"write",fn:function(b){var d=b.state;Object.keys(d.elements).forEach(function(_){var S=d.styles[_]||{},L=d.attributes[_]||{},z=d.elements[_];br(z)&&vs(z)&&(Object.assign(z.style,S),Object.keys(L).forEach(function(J){var ot=L[J];ot===!1?z.removeAttribute(J):z.setAttribute(J,ot===!0?"":ot)}))})},effect:function(b){var d=b.state,_={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,_.popper),d.styles=_,d.elements.arrow&&Object.assign(d.elements.arrow.style,_.arrow),function(){Object.keys(d.elements).forEach(function(J){var L=d.elements[J],z=d.attributes[J]||{},J=Object.keys((d.styles.hasOwnProperty(J)?d.styles:_)[J]).reduce(function(ot,pt){return ot[pt]="",ot},{});br(L)&&vs(L)&&(Object.assign(L.style,J),Object.keys(z).forEach(function(ot){L.removeAttribute(ot)}))})}},requires:["computeStyles"]};function bs(b){return b.split("-")[0]}var ja=Math.max,dp=Math.min,pc=Math.round;function mc(b,d){d===void 0&&(d=!1);var _=b.getBoundingClientRect(),S=1,L=1;return br(b)&&d&&(d=b.offsetHeight,0<(b=b.offsetWidth)&&(S=pc(_.width)/b||1),0<d&&(L=pc(_.height)/d||1)),{width:_.width/S,height:_.height/L,top:_.top/L,right:_.right/S,bottom:_.bottom/L,left:_.left/S,x:_.left/S,y:_.top/L}}function Kv(b){var d=mc(b),_=b.offsetWidth,S=b.offsetHeight;return Math.abs(d.width-_)<=1&&(_=d.width),Math.abs(d.height-S)<=1&&(S=d.height),{x:b.offsetLeft,y:b.offsetTop,width:_,height:S}}function ZT(b,d){var _=d.getRootNode&&d.getRootNode();if(b.contains(d))return!0;if(_&&JT(_)){var S=d;do if(S&&b.isSameNode(S))return!0;while(S=S.parentNode||S.host)}return!1}function Ws(b){return $r(b).getComputedStyle(b)}function ko(b){return((dc(b)?b.ownerDocument:b.document)||window.document).documentElement}function pp(b){return vs(b)==="html"?b:b.assignedSlot||b.parentNode||(JT(b)?b.host:null)||ko(b)}function tA(b){return br(b)&&Ws(b).position!=="fixed"?b.offsetParent:null}function Ph(b){for(var d,_=$r(b),S=tA(b);S&&(d=S,0<=["table","td","th"].indexOf(vs(d)))&&Ws(S).position==="static";)S=tA(S);return(!S||vs(S)!=="html"&&(vs(S)!=="body"||Ws(S).position!=="static"))&&(S||function(L){var z=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,J=navigator.userAgent.indexOf("Trident")!==-1;if(J&&br(L)&&Ws(L).position==="fixed")return null;for(var ot=pp(L);br(ot)&&["html","body"].indexOf(vs(ot))<0;){var pt=Ws(ot);if(pt.transform!=="none"||pt.perspective!=="none"||pt.contain==="paint"||["transform","perspective"].indexOf(pt.willChange)!==-1||z&&pt.willChange==="filter"||z&&pt.filter&&pt.filter!=="none")return ot;ot=ot.parentNode}return null}(b))||_}function Qv(b){return 0<=["top","bottom"].indexOf(b)?"x":"y"}function Dh(b,d,_){return ja(b,dp(d,_))}function eA(){return{top:0,right:0,bottom:0,left:0}}function nA(b){return Object.assign({},eA(),b)}function iA(b,d){return d.reduce(function(_,S){return _[S]=b,_},{})}var rA={name:"arrow",enabled:!0,phase:"main",fn:function(ot){var d,_,S,L,z=ot.state,J=ot.name,ot=ot.options,pt=z.elements.arrow,Bt=z.modifiersData.popperOffsets,Dt=Qv(Yt=bs(z.placement)),Yt=0<=[Bi,lr].indexOf(Yt)?"height":"width";pt&&Bt&&(ot=ot.padding,_=z,_=nA(typeof(ot=typeof ot=="function"?ot(Object.assign({},_.rects,{placement:_.placement})):ot)!="number"?ot:iA(ot,uc)),ot=Kv(pt),L=Dt==="y"?Fi:Bi,S=Dt==="y"?ar:lr,d=z.rects.reference[Yt]+z.rects.reference[Dt]-Bt[Dt]-z.rects.popper[Yt],Bt=Bt[Dt]-z.rects.reference[Dt],pt=(pt=Ph(pt))?Dt==="y"?pt.clientHeight||0:pt.clientWidth||0:0,L=_[L],_=pt-ot[Yt]-_[S],L=Dh(L,S=pt/2-ot[Yt]/2+(d/2-Bt/2),_),z.modifiersData[J]=((pt={})[Dt]=L,pt.centerOffset=L-S,pt))},effect:function(b){var d=b.state;(b=(b=b.options.element)===void 0?"[data-popper-arrow]":b)!=null&&(typeof b!="string"||(b=d.elements.popper.querySelector(b)))&&ZT(d.elements.popper,b)&&(d.elements.arrow=b)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gc(b){return b.split("-")[1]}var eU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sA(Jt){var d,_,S,Se=Jt.popper,L=Jt.popperRect,z=Jt.placement,J=Jt.variation,xe=Jt.offsets,ot=Jt.position,pt=Jt.gpuAcceleration,Bt=Jt.adaptive,Dt=Jt.roundOffsets,Jt=Jt.isFixed,Yt=xe.x,Yt=Yt===void 0?0:Yt,Xt=xe.y,Xt=Xt===void 0?0:Xt,be=typeof Dt=="function"?Dt({x:Yt,y:Xt}):{x:Yt,y:Xt},be=(Yt=be.x,Xt=be.y,xe.hasOwnProperty("x")),xe=xe.hasOwnProperty("y"),we=Bi,Le=Fi,ge=window,Se=(Bt&&(_="clientHeight",d="clientWidth",(S=Ph(Se))===$r(Se)&&Ws(S=ko(Se)).position!=="static"&&ot==="absolute"&&(_="scrollHeight",d="scrollWidth"),z!==Fi&&(z!==Bi&&z!==lr||J!==hc)||(Le=ar,Xt=(Xt-((Jt&&ge.visualViewport?ge.visualViewport.height:S[_])-L.height))*(pt?1:-1)),z!==Bi&&(z!==Fi&&z!==ar||J!==hc)||(we=lr,Yt=(Yt-((Jt&&ge.visualViewport?ge.visualViewport.width:S[d])-L.width))*(pt?1:-1))),Object.assign({position:ot},Bt&&eU)),Jt=Dt===!0?(z=(_={x:Yt,y:Xt}).x,_=_.y,J=window.devicePixelRatio||1,{x:pc(z*J)/J||0,y:pc(_*J)/J||0}):{x:Yt,y:Xt};return Yt=Jt.x,Xt=Jt.y,pt?Object.assign({},Se,((S={})[Le]=xe?"0":"",S[we]=be?"0":"",S.transform=(ge.devicePixelRatio||1)<=1?"translate("+Yt+"px, "+Xt+"px)":"translate3d("+Yt+"px, "+Xt+"px, 0)",S)):Object.assign({},Se,((d={})[Le]=xe?Xt+"px":"",d[we]=be?Yt+"px":"",d.transform="",d))}var Jv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(S){var d=S.state,S=S.options,L=(L=S.gpuAcceleration)===void 0||L,_=(_=S.adaptive)===void 0||_,S=(S=S.roundOffsets)===void 0||S,L={placement:bs(d.placement),variation:gc(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:L,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,sA(Object.assign({},L,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:_,roundOffsets:S})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,sA(Object.assign({},L,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}},mp={passive:!0},Zv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(b){var d=b.state,_=b.instance,S=(b=b.options).scroll,L=S===void 0||S,z=(S=b.resize)===void 0||S,J=$r(d.elements.popper),ot=[].concat(d.scrollParents.reference,d.scrollParents.popper);return L&&ot.forEach(function(pt){pt.addEventListener("scroll",_.update,mp)}),z&&J.addEventListener("resize",_.update,mp),function(){L&&ot.forEach(function(pt){pt.removeEventListener("scroll",_.update,mp)}),z&&J.removeEventListener("resize",_.update,mp)}},data:{}},nU={left:"right",right:"left",bottom:"top",top:"bottom"};function gp(b){return b.replace(/left|right|bottom|top/g,function(d){return nU[d]})}var iU={start:"end",end:"start"};function oA(b){return b.replace(/start|end/g,function(d){return iU[d]})}function tb(b){return b=$r(b),{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function eb(b){return mc(ko(b)).left+tb(b).scrollLeft}function nb(S){var S=Ws(S),d=S.overflow,_=S.overflowX,S=S.overflowY;return/auto|scroll|overlay|hidden/.test(d+S+_)}function Rh(_,d){d===void 0&&(d=[]);var L=function z(J){return 0<=["html","body","#document"].indexOf(vs(J))?J.ownerDocument.body:br(J)&&nb(J)?J:z(pp(J))}(_),_=L===((_=_.ownerDocument)==null?void 0:_.body),S=$r(L),S=_?[S].concat(S.visualViewport||[],nb(L)?L:[]):L,L=d.concat(S);return _?L:L.concat(Rh(pp(S)))}function ib(b){return Object.assign({},b,{left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height})}function aA(b,d){return d===jv?ib((S=$r(_=b),L=ko(_),S=S.visualViewport,z=L.clientWidth,L=L.clientHeight,ot=J=0,S&&(z=S.width,L=S.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(J=S.offsetLeft,ot=S.offsetTop)),{width:z,height:L,x:J+eb(_),y:ot})):dc(d)?((z=mc(S=d)).top=z.top+S.clientTop,z.left=z.left+S.clientLeft,z.bottom=z.top+S.clientHeight,z.right=z.left+S.clientWidth,z.width=S.clientWidth,z.height=S.clientHeight,z.x=z.left,z.y=z.top,z):ib((L=ko(b),J=ko(L),_=tb(L),ot=(ot=L.ownerDocument)==null?void 0:ot.body,d=ja(J.scrollWidth,J.clientWidth,ot?ot.scrollWidth:0,ot?ot.clientWidth:0),b=ja(J.scrollHeight,J.clientHeight,ot?ot.scrollHeight:0,ot?ot.clientHeight:0),L=-_.scrollLeft+eb(L),_=-_.scrollTop,Ws(ot||J).direction==="rtl"&&(L+=ja(J.clientWidth,ot?ot.clientWidth:0)-d),{width:d,height:b,x:L,y:_}));var _,S,L,z,J,ot}function rU(b,J,ot){var S,L=J==="clippingParents"?(z=Rh(pp(L=b)),dc(S=0<=["absolute","fixed"].indexOf(Ws(L).position)&&br(L)?Ph(L):L)?z.filter(function(pt){return dc(pt)&&ZT(pt,S)&&vs(pt)!=="body"}):[]):[].concat(J),z=[].concat(L,[ot]),J=z[0],ot=z.reduce(function(pt,Bt){return Bt=aA(b,Bt),pt.top=ja(Bt.top,pt.top),pt.right=dp(Bt.right,pt.right),pt.bottom=dp(Bt.bottom,pt.bottom),pt.left=ja(Bt.left,pt.left),pt},aA(b,J));return ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top,ot.x=ot.left,ot.y=ot.top,ot}function lA(z){var d,_=z.reference,S=z.element,z=z.placement,L=z?bs(z):null,z=z?gc(z):null,J=_.x+_.width/2-S.width/2,ot=_.y+_.height/2-S.height/2;switch(L){case Fi:d={x:J,y:_.y-S.height};break;case ar:d={x:J,y:_.y+_.height};break;case lr:d={x:_.x+_.width,y:ot};break;case Bi:d={x:_.x-S.width,y:ot};break;default:d={x:_.x,y:_.y}}var pt=L?Qv(L):null;if(pt!=null){var Bt=pt==="y"?"height":"width";switch(z){case Ga:d[pt]=d[pt]-(_[Bt]/2-S[Bt]/2);break;case hc:d[pt]=d[pt]+(_[Bt]/2-S[Bt]/2)}}return d}function yc(b,z){var _,z=z=z===void 0?{}:z,S=z.placement,S=S===void 0?b.placement:S,ot=z.boundary,ot=ot===void 0?UT:ot,pt=z.rootBoundary,pt=pt===void 0?jv:pt,L=z.elementContext,L=L===void 0?fc:L,J=z.altBoundary,J=J!==void 0&&J,z=z.padding,z=z===void 0?0:z,z=nA(typeof z!="number"?z:iA(z,uc)),Dt=b.rects.popper,J=b.elements[J?L===fc?VT:fc:L],J=rU(dc(J)?J:J.contextElement||ko(b.elements.popper),ot,pt),ot=mc(b.elements.reference),pt=lA({reference:ot,element:Dt,strategy:"absolute",placement:S}),Dt=ib(Object.assign({},Dt,pt)),pt=L===fc?Dt:ot,Bt={top:J.top-pt.top+z.top,bottom:pt.bottom-J.bottom+z.bottom,left:J.left-pt.left+z.left,right:pt.right-J.right+z.right},Dt=b.modifiersData.offset;return L===fc&&Dt&&(_=Dt[S],Object.keys(Bt).forEach(function(Yt){var Xt=0<=[lr,ar].indexOf(Yt)?1:-1,be=0<=[Fi,ar].indexOf(Yt)?"y":"x";Bt[Yt]+=_[be]*Xt})),Bt}var cA={name:"flip",enabled:!0,phase:"main",fn:function(S){var d=S.state,_=S.options,S=S.name;if(!d.modifiersData[S]._skip){for(var be=_.mainAxis,L=be===void 0||be,be=_.altAxis,z=be===void 0||be,be=_.fallbackPlacements,J=_.padding,ot=_.boundary,pt=_.rootBoundary,Bt=_.altBoundary,Xt=_.flipVariations,Dt=Xt===void 0||Xt,Yt=_.allowedAutoPlacements,Xt=d.options.placement,_=bs(Xt),be=be||(_===Xt||!Dt?[gp(Xt)]:function(An){if(bs(An)===fp)return[];var Gr=gp(An);return[oA(An),Gr,oA(Gr)]}(Xt)),xe=[Xt].concat(be).reduce(function(An,Gr){return An.concat(bs(Gr)===fp?(Pp=d,Vh=(An=An=(An={placement:Gr,boundary:ot,rootBoundary:pt,padding:J,flipVariations:Dt,allowedAutoPlacements:Yt})===void 0?{}:An).placement,h1=An.boundary,f1=An.rootBoundary,d1=An.padding,p1=An.flipVariations,m1=(An=An.allowedAutoPlacements)===void 0?Yv:An,vb=gc(Vh),An=vb?p1?qv:qv.filter(function(Uo){return gc(Uo)===vb}):uc,Dp=(Vh=(Vh=An.filter(function(Uo){return 0<=m1.indexOf(Uo)})).length===0?An:Vh).reduce(function(Uo,Hh){return Uo[Hh]=yc(Pp,{placement:Hh,boundary:h1,rootBoundary:f1,padding:d1})[bs(Hh)],Uo},{}),Object.keys(Dp).sort(function(Uo,Hh){return Dp[Uo]-Dp[Hh]})):Gr);var Pp,Vh,h1,f1,d1,p1,m1,vb,Dp},[]),we=d.rects.reference,Le=d.rects.popper,ge=new Map,Se=!0,Jt=xe[0],tn=0;tn<xe.length;tn++){var ke=xe[tn],En=bs(ke),js=gc(ke)===Ga,Qe=0<=[Fi,ar].indexOf(En),Wr=Qe?"width":"height",Gs=yc(d,{placement:ke,boundary:ot,rootBoundary:pt,altBoundary:Bt,padding:J}),Qe=Qe?js?lr:Bi:js?ar:Fi,js=(we[Wr]>Le[Wr]&&(Qe=gp(Qe)),gp(Qe)),Wr=[];if(L&&Wr.push(Gs[En]<=0),z&&Wr.push(Gs[Qe]<=0,Gs[js]<=0),Wr.every(function(An){return An})){Jt=ke,Se=!1;break}ge.set(ke,Wr)}if(Se)for(var _b=Dt?3:1;0<_b&&function(IV){var An=xe.find(function(Gr){if(Gr=ge.get(Gr),Gr)return Gr.slice(0,IV).every(function(Pp){return Pp})});if(An)return Jt=An,"break"}(_b)!=="break";_b--);d.placement!==Jt&&(d.modifiersData[S]._skip=!0,d.placement=Jt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function uA(b,d,_){return{top:b.top-d.height-(_=_===void 0?{x:0,y:0}:_).y,right:b.right-d.width+_.x,bottom:b.bottom-d.height+_.y,left:b.left-d.width-_.x}}function hA(b){return[Fi,lr,ar,Bi].some(function(d){return 0<=b[d]})}var fA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var d=_.state,_=_.name,z=d.rects.reference,ot=d.rects.popper,S=d.modifiersData.preventOverflow,L=yc(d,{elementContext:"reference"}),J=yc(d,{altBoundary:!0}),L=uA(L,z),z=uA(J,ot,S),J=hA(L),ot=hA(z);d.modifiersData[_]={referenceClippingOffsets:L,popperEscapeOffsets:z,isReferenceHidden:J,hasPopperEscaped:ot},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":J,"data-popper-escaped":ot})}},dA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var d=_.state,L=_.options,_=_.name,S=(L=L.offset)===void 0?[0,0]:L,L=Yv.reduce(function(ot,pt){var Bt,Dt,Yt,Xt;return ot[pt]=(pt=pt,Bt=d.rects,Dt=S,Yt=bs(pt),Xt=0<=[Bi,Fi].indexOf(Yt)?-1:1,pt=(Bt=typeof Dt=="function"?Dt(Object.assign({},Bt,{placement:pt})):Dt)[0]||0,Dt=(Bt[1]||0)*Xt,0<=[Bi,lr].indexOf(Yt)?{x:Dt,y:pt}:{x:pt,y:Dt}),ot},{}),z=(J=L[d.placement]).x,J=J.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=z,d.modifiersData.popperOffsets.y+=J),d.modifiersData[_]=L}},rb={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var d=_.state,_=_.name;d.modifiersData[_]=lA({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},pA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Yt){var d,_,S,L,z,J,ot,pt,Bt,Dt=Yt.state,Qe=Yt.options,Yt=Yt.name,Xt=(Xt=Qe.mainAxis)===void 0||Xt,be=(be=Qe.altAxis)!==void 0&&be,Le=Qe.boundary,ge=Qe.rootBoundary,Se=Qe.altBoundary,xe=Qe.padding,we=(we=Qe.tether)===void 0||we,Qe=(Qe=Qe.tetherOffset)===void 0?0:Qe,Le=yc(Dt,{boundary:Le,rootBoundary:ge,padding:xe,altBoundary:Se}),ge=bs(Dt.placement),Se=!(xe=gc(Dt.placement)),Jt=Qv(ge),tn=Jt==="x"?"y":"x",ke=Dt.modifiersData.popperOffsets,En=Dt.rects.reference,Gs=Dt.rects.popper,Qe=typeof(Qe=typeof Qe=="function"?Qe(Object.assign({},Dt.rects,{placement:Dt.placement})):Qe)=="number"?{mainAxis:Qe,altAxis:Qe}:Object.assign({mainAxis:0,altAxis:0},Qe),js=Dt.modifiersData.offset?Dt.modifiersData.offset[Dt.placement]:null,Wr={x:0,y:0};ke&&(Xt&&(Xt=Jt==="y"?"height":"width",J=(ot=ke[Jt])+Le[_=Jt==="y"?Fi:Bi],pt=ot-Le[Bt=Jt==="y"?ar:lr],d=we?-Gs[Xt]/2:0,L=(xe===Ga?En:Gs)[Xt],xe=xe===Ga?-Gs[Xt]:-En[Xt],z=Dt.elements.arrow,z=we&&z?Kv(z):{width:0,height:0},_=(S=Dt.modifiersData["arrow#persistent"]?Dt.modifiersData["arrow#persistent"].padding:eA())[_],S=S[Bt],Bt=Dh(0,En[Xt],z[Xt]),z=Se?En[Xt]/2-d-Bt-_-Qe.mainAxis:L-Bt-_-Qe.mainAxis,L=Se?-En[Xt]/2+d+Bt+S+Qe.mainAxis:xe+Bt+S+Qe.mainAxis,Se=(_=Dt.elements.arrow&&Ph(Dt.elements.arrow))?Jt==="y"?_.clientTop||0:_.clientLeft||0:0,xe=ot+L-(d=(Xt=js==null?void 0:js[Jt])!=null?Xt:0),Bt=Dh(we?dp(J,ot+z-d-Se):J,ot,we?ja(pt,xe):pt),ke[Jt]=Bt,Wr[Jt]=Bt-ot),be&&(S=tn=="y"?"height":"width",L=(_=ke[tn])+Le[Jt==="x"?Fi:Bi],Xt=_-Le[Jt==="x"?ar:lr],z=[Fi,Bi].indexOf(ge)!==-1,Se=(d=js==null?void 0:js[tn])!=null?d:0,J=z?L:_-En[S]-Gs[S]-Se+Qe.altAxis,xe=z?_+En[S]+Gs[S]-Se-Qe.altAxis:Xt,ot=we&&z?(pt=Dh(pt=J,_,Bt=xe),Bt<pt?Bt:pt):Dh(we?J:L,_,we?xe:Xt),ke[tn]=ot,Wr[tn]=ot-_),Dt.modifiersData[Yt]=Wr)},requiresIfExists:["offset"]};function sU(ot,d,_){_===void 0&&(_=!1);var S=br(d),L=br(d)&&(J=(L=d).getBoundingClientRect(),z=pc(J.width)/L.offsetWidth||1,J=pc(J.height)/L.offsetHeight||1,z!==1||J!==1),z=ko(d),J=mc(ot,L),ot={scrollLeft:0,scrollTop:0},pt={x:0,y:0};return!S&&_||(vs(d)==="body"&&!nb(z)||(ot=(S=d)!==$r(S)&&br(S)?{scrollLeft:S.scrollLeft,scrollTop:S.scrollTop}:tb(S)),br(d)?((pt=mc(d,!0)).x+=d.clientLeft,pt.y+=d.clientTop):z&&(pt.x=eb(z))),{x:J.left+ot.scrollLeft-pt.x,y:J.top+ot.scrollTop-pt.y,width:J.width,height:J.height}}function oU(b){var d=new Map,_=new Set,S=[];return b.forEach(function(L){d.set(L.name,L)}),b.forEach(function(L){_.has(L.name)||function z(J){_.add(J.name),[].concat(J.requires||[],J.requiresIfExists||[]).forEach(function(ot){_.has(ot)||(ot=d.get(ot))&&z(ot)}),S.push(J)}(L)}),S}var mA={placement:"bottom",modifiers:[],strategy:"absolute"};function gA(){for(var b=arguments.length,d=new Array(b),_=0;_<b;_++)d[_]=arguments[_];return!d.some(function(S){return!(S&&typeof S.getBoundingClientRect=="function")})}function yp(d){var d=d=d===void 0?{}:d,S=d.defaultModifiers,_=S===void 0?[]:S,S=d.defaultOptions,L=S===void 0?mA:S;return function(z,J,ot){ot===void 0&&(ot=L);var pt,Bt,Dt={placement:"bottom",orderedModifiers:[],options:Object.assign({},mA,L),modifiersData:{},elements:{reference:z,popper:J},attributes:{},styles:{}},Yt=[],Xt=!1,be={state:Dt,setOptions:function(Se){var Le,ge,Se=typeof Se=="function"?Se(Dt.options):Se,Se=(xe(),Dt.options=Object.assign({},L,Dt.options,Se),Dt.scrollParents={reference:dc(z)?Rh(z):z.contextElement?Rh(z.contextElement):[],popper:Rh(J)},Se=[].concat(_,Dt.options.modifiers),ge=Se.reduce(function(Jt,tn){var ke=Jt[tn.name];return Jt[tn.name]=ke?Object.assign({},ke,tn,{options:Object.assign({},ke.options,tn.options),data:Object.assign({},ke.data,tn.data)}):tn,Jt},{}),Se=Object.keys(ge).map(function(Jt){return ge[Jt]}),Le=oU(Se),QT.reduce(function(Jt,tn){return Jt.concat(Le.filter(function(ke){return ke.phase===tn}))},[]));return Dt.orderedModifiers=Se.filter(function(Jt){return Jt.enabled}),Dt.orderedModifiers.forEach(function(En){var tn=En.name,ke=En.options,En=En.effect;typeof En=="function"&&(En=En({state:Dt,name:tn,instance:be,options:ke===void 0?{}:ke}),Yt.push(En||function(){}))}),be.update()},forceUpdate:function(){if(!Xt){var Le=Dt.elements,we=Le.reference,Le=Le.popper;if(gA(we,Le)){Dt.rects={reference:sU(we,Ph(Le),Dt.options.strategy==="fixed"),popper:Kv(Le)},Dt.reset=!1,Dt.placement=Dt.options.placement,Dt.orderedModifiers.forEach(function(ke){return Dt.modifiersData[ke.name]=Object.assign({},ke.data)});for(var ge,Se,Jt,tn=0;tn<Dt.orderedModifiers.length;tn++)Dt.reset===!0?(Dt.reset=!1,tn=-1):(ge=(Jt=Dt.orderedModifiers[tn]).fn,Se=Jt.options,Jt=Jt.name,typeof ge=="function"&&(Dt=ge({state:Dt,options:Se===void 0?{}:Se,name:Jt,instance:be})||Dt))}}},update:(pt=function(){return new Promise(function(we){be.forceUpdate(),we(Dt)})},function(){return Bt=Bt||new Promise(function(we){Promise.resolve().then(function(){Bt=void 0,we(pt())})})}),destroy:function(){xe(),Xt=!0}};return gA(z,J)&&be.setOptions(ot).then(function(we){!Xt&&ot.onFirstUpdate&&ot.onFirstUpdate(we)}),be;function xe(){Yt.forEach(function(we){return we()}),Yt=[]}}}var aU=yp(),sb=yp({defaultModifiers:[Zv,rb,Jv,Xv,dA,cA,pA,rA,fA]}),lU=yp({defaultModifiers:[Zv,rb,Jv,Xv]});const cU=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),uU=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,hU=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;qt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function yA(b,d,_){if(!b.length)return b;if(_&&typeof _=="function")return _(b);const S=new window.DOMParser,L=S.parseFromString(b,"text/html");var z=[].concat(...L.body.querySelectorAll("*"));for(let ot=0,pt=z.length;ot<pt;ot++){const Bt=z[ot];var J=Bt.nodeName.toLowerCase();if(Object.keys(d).includes(J)){const Dt=[].concat(...Bt.attributes),Yt=[].concat(d["*"]||[],d[J]||[]);Dt.forEach(Xt=>{((be,xe)=>{var we=be.nodeName.toLowerCase();if(xe.includes(we))return!cU.has(we)||Boolean(uU.test(be.nodeValue)||hU.test(be.nodeValue));const Le=xe.filter(ge=>ge instanceof RegExp);for(let ge=0,Se=Le.length;ge<Se;ge++)if(Le[ge].test(we))return!0;return!1})(Xt,Yt)||Bt.removeAttribute(Xt.nodeName)})}else Bt.remove()}return L.body.innerHTML}const _A="tooltip";Ut=".".concat("bs.tooltip");const fU=new Set(["sanitize","allowList","sanitizeFn"]),dU={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},pU={AUTO:"auto",TOP:"top",RIGHT:rt()?"left":"right",BOTTOM:"bottom",LEFT:rt()?"right":"left"},mU={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:qt,popperConfig:null},gU={HIDE:"hide".concat(Ut),HIDDEN:"hidden".concat(Ut),SHOW:"show".concat(Ut),SHOWN:"shown".concat(Ut),INSERTED:"inserted".concat(Ut),CLICK:"click".concat(Ut),FOCUSIN:"focusin".concat(Ut),FOCUSOUT:"focusout".concat(Ut),MOUSEENTER:"mouseenter".concat(Ut),MOUSELEAVE:"mouseleave".concat(Ut)},_p="fade",Lh="show",Ih="show",vA=".tooltip-inner",bA=".".concat("modal"),xA="hide.bs.modal",Nh="hover",ob="focus";class vp extends Re{constructor(d,_){if(l===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(_),this.tip=null,this._setListeners()}static get Default(){return mU}static get NAME(){return _A}static get Event(){return gU}static get DefaultType(){return dU}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(d){if(this._isEnabled)if(d){const _=this._initializeOnDelegatedTarget(d);_._activeTrigger.click=!_._activeTrigger.click,_._isWithActiveTrigger()?_._enter(null,_):_._leave(null,_)}else this.getTipElement().classList.contains(Lh)?this._leave(null,this):this._enter(null,this)}dispose(){clearTimeout(this._timeout),ft.off(this._element.closest(bA),xA,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var d=ft.trigger(this._element,this.constructor.Event.SHOW);const S=Rt(this._element);var _=(S===null?this._element.ownerDocument.documentElement:S).contains(this._element);if(!d.defaultPrevented&&_){this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(vA).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const L=this.getTipElement();d=(ot=>{for(;ot+=Math.floor(1e6*Math.random()),document.getElementById(ot););return ot})(this.constructor.NAME),_=(L.setAttribute("id",d),this._element.setAttribute("aria-describedby",d),this._config.animation&&L.classList.add(_p),typeof this._config.placement=="function"?this._config.placement.call(this,L,this._element):this._config.placement),d=this._getAttachment(_),this._addAttachmentClass(d);const z=this._config.container,J=(he(L,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(z.append(L),ft.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=sb(this._element,L,this._getPopperConfig(d)),L.classList.add(Lh),this._resolvePossibleFunction(this._config.customClass));J&&L.classList.add(...J.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ot=>{ft.on(ot,"mouseover",O)}),_=this.tip.classList.contains(_p),this._queueCallback(()=>{var ot=this._hoverState;this._hoverState=null,ft.trigger(this._element,this.constructor.Event.SHOWN),ot==="out"&&this._leave(null,this)},this.tip,_)}}}hide(){if(this._popper){const _=this.getTipElement();var d;ft.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(_.classList.remove(Lh),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(S=>ft.off(S,"mouseover",O)),this._activeTrigger.click=!1,this._activeTrigger[ob]=!1,this._activeTrigger[Nh]=!1,d=this.tip.classList.contains(_p),this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Ih&&_.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),ft.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,d),this._hoverState="")}}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const d=document.createElement("div"),_=(d.innerHTML=this._config.template,d.children[0]);return this.setContent(_),_.classList.remove(_p,Lh),this.tip=_,this.tip}setContent(d){this._sanitizeAndSetContent(d,this.getTitle(),vA)}_sanitizeAndSetContent(d,_,S){const L=Ht.findOne(S,d);!_&&L?L.remove():this.setElementContent(L,_)}setElementContent(d,_){if(d!==null)return Y(_)?(_=Et(_),void(this._config.html?_.parentNode!==d&&(d.innerHTML="",d.append(_)):d.textContent=_.textContent)):void(this._config.html?(this._config.sanitize&&(_=yA(_,this._config.allowList,this._config.sanitizeFn)),d.innerHTML=_):d.textContent=_)}getTitle(){var d=this._element.getAttribute("data-mdb-original-title")||this._config.title;return this._resolvePossibleFunction(d)}updateAttachment(d){return d==="right"?"end":d==="left"?"start":d}_initializeOnDelegatedTarget(d,_){return _||this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_getOffset(){const d=this._config.offset;return typeof d=="string"?d.split(",").map(_=>Number.parseInt(_,10)):typeof d=="function"?_=>d(_,this._element):d}_resolvePossibleFunction(d){return typeof d=="function"?d.call(this._element):d}_getPopperConfig(d){return d={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:_=>this._handlePopperPlacementChange(_)}],onFirstUpdate:_=>{_.options.placement!==_.placement&&this._handlePopperPlacementChange(_)}},{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_addAttachmentClass(d){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(d)))}_getAttachment(d){return pU[d.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(_=>{var S;_==="click"?ft.on(this._element,this.constructor.Event.CLICK,this._config.selector,L=>this.toggle(L)):_!=="manual"&&(S=_===Nh?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,_=_===Nh?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT,ft.on(this._element,S,this._config.selector,L=>this._enter(L)),ft.on(this._element,_,this._config.selector,L=>this._leave(L)))}),this._hideModalHandler=()=>{this._element&&this.hide()},ft.on(this._element.closest(bA),xA,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){var d=this._element.getAttribute("title"),_=typeof this._element.getAttribute("data-mdb-original-title");!d&&_=="string"||(this._element.setAttribute("data-mdb-original-title",d||""),!d||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",d),this._element.setAttribute("title",""))}_enter(d,_){_=this._initializeOnDelegatedTarget(d,_),d&&(_._activeTrigger[d.type==="focusin"?ob:Nh]=!0),_.getTipElement().classList.contains(Lh)||_._hoverState===Ih?_._hoverState=Ih:(clearTimeout(_._timeout),_._hoverState=Ih,_._config.delay&&_._config.delay.show?_._timeout=setTimeout(()=>{_._hoverState===Ih&&_.show()},_._config.delay.show):_.show())}_leave(d,_){_=this._initializeOnDelegatedTarget(d,_),d&&(_._activeTrigger[d.type==="focusout"?ob:Nh]=_._element.contains(d.relatedTarget)),_._isWithActiveTrigger()||(clearTimeout(_._timeout),_._hoverState="out",_._config.delay&&_._config.delay.hide?_._timeout=setTimeout(()=>{_._hoverState==="out"&&_.hide()},_._config.delay.hide):_.hide())}_isWithActiveTrigger(){for(const d in this._activeTrigger)if(this._activeTrigger[d])return!0;return!1}_getConfig(d){const _=te.getDataAttributes(this._element);return Object.keys(_).forEach(S=>{fU.has(S)&&delete _[S]}),(d={...this.constructor.Default,..._,...typeof d=="object"&&d?d:{}}).container=d.container===!1?document.body:Et(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),lt(_A,d,this.constructor.DefaultType),d.sanitize&&(d.template=yA(d.template,d.allowList,d.sanitizeFn)),d}_getDelegateConfig(){const d={};for(const _ in this._config)this.constructor.Default[_]!==this._config[_]&&(d[_]=this._config[_]);return d}_cleanTipClass(){const d=this.getTipElement();var _=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g");const S=d.getAttribute("class").match(_);S!==null&&0<S.length&&S.map(L=>L.trim()).forEach(L=>d.classList.remove(L))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(d){d=d.state,d&&(this.tip=d.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(d.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(d){return this.each(function(){const _=vp.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}o(vp),Ae=vp,qt=".".concat("bs.popover");const yU={...Ae.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},_U={...Ae.DefaultType,content:"(string|element|function)"},vU={HIDE:"hide".concat(qt),HIDDEN:"hidden".concat(qt),SHOW:"show".concat(qt),SHOWN:"shown".concat(qt),INSERTED:"inserted".concat(qt),CLICK:"click".concat(qt),FOCUSIN:"focusin".concat(qt),FOCUSOUT:"focusout".concat(qt),MOUSEENTER:"mouseenter".concat(qt),MOUSELEAVE:"mouseleave".concat(qt)};class bp extends Ae{static get Default(){return yU}static get NAME(){return"popover"}static get Event(){return vU}static get DefaultType(){return _U}isWithContent(){return this.getTitle()||this._getContent()}setContent(d){this._sanitizeAndSetContent(d,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(d,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(d){return this.each(function(){const _=bp.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}o(bp),Ut=bp;const qa="popover";qt="mdb.".concat(qa),qt=".".concat(qt);const wA="show.bs.popover",EA="shown.bs.popover",SA="hide.bs.popover",MA="hidden.bs.popover",TA="inserted.bs.popover",bU="show".concat(qt),xU="shown".concat(qt),wU="hide".concat(qt),EU="hidden".concat(qt),SU="inserted".concat(qt);class _c extends Ut{constructor(d,_){super(d,_),this._init()}dispose(){P.off(this.element,wA),P.off(this.element,EA),P.off(this.element,SA),P.off(this.element,MA),P.off(this.element,TA),super.dispose()}static get NAME(){return qa}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent(),this._bindInsertedEvent()}_bindShowEvent(){P.on(this.element,wA,()=>{P.trigger(this.element,bU)})}_bindShownEvent(){P.on(this.element,EA,()=>{P.trigger(this.element,xU)})}_bindHideEvent(){P.on(this.element,SA,()=>{P.trigger(this.element,wU)})}_bindHiddenEvent(){P.on(this.element,MA,()=>{P.trigger(this.element,EU)})}_bindInsertedEvent(){P.on(this.element,TA,()=>{P.trigger(this.element,SU)})}}Q.find('[data-mdb-toggle="popover"]').forEach(b=>{var d=_c.getInstance(b);d||new _c(b)}),f(()=>{const b=h();if(b){const d=b.fn[qa];b.fn[qa]=_c.jQueryInterface,b.fn[qa].Constructor=_c,b.fn[qa].noConflict=()=>(b.fn[qa]=d,_c.jQueryInterface)}});var MU=_c;a(105);const AA="scrollspy",ab=".".concat("bs.scrollspy"),CA={offset:10,method:"auto",target:""},TU={offset:"number",method:"string",target:"(string|element)"},AU="activate".concat(ab),CU="scroll".concat(ab),OA="dropdown-item",vc="active",lb=".nav-link",PA=".list-group-item",cb="".concat(lb,", ").concat(PA,", .").concat(OA),DA="position";class xp extends Re{constructor(d,_){super(d),Ct(d)&&(this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(_),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,ft.on(this._scrollElement,CU,()=>this._process()),this.refresh(),this._process())}static get Default(){return CA}static get NAME(){return AA}refresh(){var d=this._scrollElement===this._scrollElement.window?"offset":DA;const _=this._config.method==="auto"?d:this._config.method,S=_===DA?this._getScrollTop():0;(this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ht.find(cb,this._config.target)).map(z=>{z=Ct(z);const J=z?Ht.findOne(z):null;if(J){var ot=J.getBoundingClientRect();if(ot.width||ot.height)return[te[_](J).top+S,z]}return null}).filter(z=>z).sort((z,J)=>z[0]-J[0]).forEach(z=>{this._offsets.push(z[0]),this._targets.push(z[1])})}dispose(){ft.off(this._scrollElement,ab),super.dispose()}_getConfig(d){return(d={...CA,...te.getDataAttributes(this._element),...typeof d=="object"&&d?d:{}}).target=Et(d.target)||document.documentElement,lt(AA,d,TU),d}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){var d=this._getScrollTop()+this._config.offset,_=this._getScrollHeight(),S=this._config.offset+_-this._getOffsetHeight();if(this._scrollHeight!==_&&this.refresh(),S<=d)return _=this._targets[this._targets.length-1],void(this._activeTarget!==_&&this._activate(_));if(this._activeTarget&&d<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(let L=this._offsets.length;L--;)this._activeTarget!==this._targets[L]&&d>=this._offsets[L]&&(this._offsets[L+1]===void 0||d<this._offsets[L+1])&&this._activate(this._targets[L])}_activate(d){this._activeTarget=d,this._clear();const _=cb.split(",").map(L=>"".concat(L,'[data-mdb-target="').concat(d,'"],').concat(L,'[href="').concat(d,'"]')),S=Ht.findOne(_.join(","),this._config.target);S.classList.add(vc),S.classList.contains(OA)?Ht.findOne(".dropdown-toggle",S.closest(".dropdown")).classList.add(vc):Ht.parents(S,".nav, .list-group").forEach(L=>{Ht.prev(L,"".concat(lb,", ").concat(PA)).forEach(z=>z.classList.add(vc)),Ht.prev(L,".nav-item").forEach(z=>{Ht.children(z,lb).forEach(J=>J.classList.add(vc))})}),ft.trigger(this._scrollElement,AU,{relatedTarget:d})}_clear(){Ht.find(cb,this._config.target).filter(d=>d.classList.contains(vc)).forEach(d=>d.classList.remove(vc))}static jQueryInterface(d){return this.each(function(){const _=xp.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}o(xp),qt=xp;const Ya="scrollspy";Ut="mdb.".concat(Ya),Ut=".".concat(Ut);const RA="activate.bs.scrollspy",OU="activate".concat(Ut);Ut="load".concat(Ut).concat(".data-api");const LA="collapsible-scrollspy",PU=".".concat("active"),IA=".".concat(LA);class bc extends qt{constructor(d,_){super(d,_),this._collapsibles=[],this._init()}dispose(){P.off(this._scrollElement,RA),super.dispose()}static get NAME(){return Ya}_init(){this._bindActivateEvent(),this._getCollapsibles(),this._collapsibles.length!==0&&(this._showSubsection(),this._hideSubsection())}_getHeight(d){return d.offsetHeight}_hide(d){const _=Q.findOne("ul",d.parentNode);_.style.overflow="hidden",_.style.height="".concat(0,"px")}_show(d,_){d.style.height=_}_getCollapsibles(){const d=Q.find(IA);d&&d.forEach(_=>{var S=_.parentNode,S=Q.findOne("ul",S),L=S.offsetHeight;this._collapsibles.push({element:S,relatedTarget:_.getAttribute("href"),height:"".concat(L,"px")})})}_showSubsection(){Q.find(PU).filter(S=>U.hasClass(S,LA)).forEach(S=>{var L=Q.findOne("ul",S.parentNode),z=this._collapsibles.find(J=>J.relatedTarget=S.getAttribute("href")).height;this._show(L,z)})}_hideSubsection(){Q.find(IA).filter(_=>U.hasClass(_,"active")===!1).forEach(_=>{this._hide(_)})}_bindActivateEvent(){P.on(this._scrollElement,RA,d=>{this._showSubsection(),this._hideSubsection(),P.trigger(this._scrollElement,OU,{relatedTarget:d.relatedTarget})})}}P.on(window,Ut,()=>{Q.find('[data-mdb-spy="scroll"]').forEach(b=>{var d=bc.getInstance(b);d||new bc(b,U.getDataAttributes(b))})}),f(()=>{const b=h();if(b){const d=b.fn[Ya];b.fn[Ya]=bc.jQueryInterface,b.fn[Ya].Constructor=bc,b.fn[Ya].noConflict=()=>(b.fn[Ya]=d,bc.jQueryInterface)}});var DU=bc;qt=".".concat("bs.tab");const RU="hide".concat(qt),LU="hidden".concat(qt),IU="show".concat(qt),NU="shown".concat(qt);Ut="click".concat(qt).concat(".data-api");const kh="active",NA=".active",kA=":scope > li > .active";class Fh extends Re{static get NAME(){return"tab"}show(){if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(kh)){let L;var d=Lt(this._element),_=this._element.closest(".nav, .list-group"),S=(_&&(S=_.nodeName==="UL"||_.nodeName==="OL"?kA:NA,L=(L=Ht.find(S,_))[L.length-1]),L?ft.trigger(L,RU,{relatedTarget:this._element}):null);ft.trigger(this._element,IU,{relatedTarget:L}).defaultPrevented||S!==null&&S.defaultPrevented||(this._activate(this._element,_),S=()=>{ft.trigger(L,LU,{relatedTarget:this._element}),ft.trigger(this._element,NU,{relatedTarget:L})},d?this._activate(d,d.parentNode,S):S())}}_activate(d,z,S){const L=(!z||z.nodeName!=="UL"&&z.nodeName!=="OL"?Ht.children(z,NA):Ht.find(kA,z))[0];var z=S&&L&&L.classList.contains("fade"),J=()=>this._transitionComplete(d,L,S);L&&z?(L.classList.remove("show"),this._queueCallback(J,d,!0)):J()}_transitionComplete(d,_,S){if(_){_.classList.remove(kh);const z=Ht.findOne(":scope > .dropdown-menu .active",_.parentNode);z&&z.classList.remove(kh),_.getAttribute("role")==="tab"&&_.setAttribute("aria-selected",!1)}d.classList.add(kh),d.getAttribute("role")==="tab"&&d.setAttribute("aria-selected",!0),N(d),d.classList.contains("fade")&&d.classList.add("show");let L=d.parentNode;(L=L&&L.nodeName==="LI"?L.parentNode:L)&&L.classList.contains("dropdown-menu")&&((_=d.closest(".dropdown"))&&Ht.find(".dropdown-toggle",_).forEach(z=>z.classList.add(kh)),d.setAttribute("aria-expanded",!0)),S&&S()}static jQueryInterface(d){return this.each(function(){const _=Fh.getOrCreateInstance(this);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}}ft.on(document,Ut,'[data-mdb-toggle="tab"], [data-mdb-toggle="pill"], [data-mdb-toggle="list"]',function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),!xt(this)&&Fh.getOrCreateInstance(this).show()}),o(Fh),qt=Fh;const FA="tab";Ut="mdb.".concat(FA),Ut=".".concat(Ut);const ub="show.bs.tab",hb="shown.bs.tab",BA="hide.bs.tab",zA="hidden.bs.tab",kU="show".concat(Ut),FU="shown".concat(Ut),UA="hide".concat(Ut),VA="hidden".concat(Ut);class xc extends qt{constructor(d){super(d),this._previous=null,this._init()}dispose(){P.off(this._element,ub),P.off(this._element,hb),super.dispose()}static get NAME(){return FA}show(){if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))){var d,_=(J=>(J=c(J),J?document.querySelector(J):null))(this._element),S=this._element.closest(".nav, .list-group");S&&(d=S.nodeName==="UL"||S.nodeName==="OL"?":scope > li > .active":".active",this._previous=Q.find(d,S),this._previous=this._previous[this._previous.length-1]);let L=null,z=null;this._previous&&(L=P.trigger(this._previous,BA,{relatedTarget:this._element}),z=P.trigger(this._previous,UA,{relatedTarget:this._element})),P.trigger(this._element,ub,{relatedTarget:this._previous}).defaultPrevented||L!==null&&L.defaultPrevented||z!==null&&z.defaultPrevented||(this._activate(this._element,S),d=()=>{P.trigger(this._previous,zA,{relatedTarget:this._element}),P.trigger(this._previous,VA,{relatedTarget:this._element}),P.trigger(this._element,hb,{relatedTarget:this._previous})},_?this._activate(_,_.parentNode,d):d())}}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent()}_bindShowEvent(){P.on(this._element,ub,d=>{P.trigger(this._element,kU,{relatedTarget:d.relatedTarget})})}_bindShownEvent(){P.on(this._element,hb,d=>{P.trigger(this._element,FU,{relatedTarget:d.relatedTarget})})}_bindHideEvent(){P.on(this._previous,BA,()=>{P.trigger(this._previous,UA)})}_bindHiddenEvent(){P.on(this._previous,zA,()=>{P.trigger(this._previous,VA)})}}Q.find('[data-mdb-toggle="tab"], [data-mdb-toggle="pill"], [data-mdb-toggle="list"]').forEach(b=>{var d=xc.getInstance(b);d||new xc(b)}),f(()=>{const b=h();if(b){const d=b.fn.tab;b.fn.tab=xc.jQueryInterface,b.fn.tab.Constructor=xc,b.fn.tab.noConflict=()=>(b.fn.tab=d,xc.jQueryInterface)}});var BU=xc;const Xa="tooltip";Ut="mdb.".concat(Xa),qt=".".concat(Ut);const HA="hide.bs.tooltip",$A="hidden.bs.tooltip",WA="show.bs.tooltip",GA="shown.bs.tooltip",jA="inserted.bs.tooltip",zU="hide".concat(qt),UU="hidden".concat(qt),VU="show".concat(qt),HU="shown".concat(qt),$U="inserted".concat(qt);class wc extends Ae{constructor(d,_){super(d,_),this._init()}dispose(){P.off(this._element,WA),P.off(this._element,GA),P.off(this._element,HA),P.off(this._element,$A),P.off(this._element,jA),super.dispose()}static get NAME(){return Xa}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent(),this._bindHidePreventedEvent()}_bindShowEvent(){P.on(this.element,WA,()=>{P.trigger(this.element,VU)})}_bindShownEvent(){P.on(this.element,GA,()=>{P.trigger(this.element,HU)})}_bindHideEvent(){P.on(this.element,HA,()=>{P.trigger(this.element,zU)})}_bindHiddenEvent(){P.on(this.element,$A,()=>{P.trigger(this.element,UU)})}_bindHidePreventedEvent(){P.on(this.element,jA,()=>{P.trigger(this.element,$U)})}}Q.find('[data-mdb-toggle="tooltip"]').forEach(b=>{var d=wc.getInstance(b);d||new wc(b)}),f(()=>{const b=h();if(b){const d=b.fn[Xa];b.fn[Xa]=wc.jQueryInterface,b.fn[Xa].Constructor=wc,b.fn[Xa].noConflict=()=>(b.fn[Xa]=d,wc.jQueryInterface)}});var WU=wc;Ut=".".concat("bs.toast");const GU="mouseover".concat(Ut),jU="mouseout".concat(Ut),qU="focusin".concat(Ut),YU="focusout".concat(Ut),XU="hide".concat(Ut),KU="hidden".concat(Ut),QU="show".concat(Ut),JU="shown".concat(Ut),Bh="show",wp="showing",ZU={animation:"boolean",autohide:"boolean",delay:"number"},qA={animation:!0,autohide:!0,delay:5e3};class zh extends Re{constructor(d,_){super(d),this._config=this._getConfig(_),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return ZU}static get Default(){return qA}static get NAME(){return"toast"}show(){ft.trigger(this._element,QU).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),N(this._element),this._element.classList.add(Bh),this._element.classList.add(wp),this._queueCallback(()=>{this._element.classList.remove(wp),ft.trigger(this._element,JU),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Bh)&&!ft.trigger(this._element,XU).defaultPrevented&&(this._element.classList.add(wp),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(wp),this._element.classList.remove(Bh),ft.trigger(this._element,KU)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this._element.classList.contains(Bh)&&this._element.classList.remove(Bh),super.dispose()}_getConfig(d){return d={...qA,...te.getDataAttributes(this._element),...typeof d=="object"&&d?d:{}},lt("toast",d,this.constructor.DefaultType),d}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(d,_){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=_;break;case"focusin":case"focusout":this._hasKeyboardInteraction=_}_?this._clearTimeout():(d=d.relatedTarget,this._element===d||this._element.contains(d)||this._maybeScheduleHide())}_setListeners(){ft.on(this._element,GU,d=>this._onInteraction(d,!0)),ft.on(this._element,jU,d=>this._onInteraction(d,!1)),ft.on(this._element,qU,d=>this._onInteraction(d,!0)),ft.on(this._element,YU,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const _=zh.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d](this)}})}}fe(zh),o(zh),qt=zh;const Ka="toast";Ae="mdb.".concat(Ka),Ut=".".concat(Ae);const YA="show.bs.toast",XA="shown.bs.toast",KA="hide.bs.toast",QA="hidden.bs.toast",tV="show".concat(Ut),eV="shown".concat(Ut),nV="hide".concat(Ut),iV="hidden".concat(Ut);class Ec extends qt{constructor(d,_){super(d,_),this._init()}dispose(){P.off(this._element,YA),P.off(this._element,XA),P.off(this._element,KA),P.off(this._element,QA),super.dispose()}static get NAME(){return Ka}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent()}_bindShowEvent(){P.on(this._element,YA,()=>{P.trigger(this._element,tV)})}_bindShownEvent(){P.on(this._element,XA,()=>{P.trigger(this._element,eV)})}_bindHideEvent(){P.on(this._element,KA,()=>{P.trigger(this._element,nV)})}_bindHiddenEvent(){P.on(this._element,QA,()=>{P.trigger(this._element,iV)})}}Q.find(".toast").forEach(b=>{var d=Ec.getInstance(b);d||new Ec(b)}),f(()=>{const b=h();if(b){const d=b.fn[Ka];b.fn[Ka]=Ec.jQueryInterface,b.fn[Ka].Constructor=Ec,b.fn[Ka].noConflict=()=>(b.fn[Ka]=d,Ec.jQueryInterface)}});var rV=Ec;a(113);const Sc="input",Ep="mdb.input";Ae="form-outline";const Sp="active",JA="form-notch",ZA="form-notch-leading",t1="form-notch-middle",Qa=".".concat(Ae," input"),Ja=".".concat(Ae," textarea"),e1=".".concat(JA),n1=".".concat(ZA),sV=".".concat(t1),oV=".".concat("form-helper");class un{constructor(d){this._element=d,this._label=null,this._labelWidth=0,this._labelMarginLeft=0,this._notchLeading=null,this._notchMiddle=null,this._notchTrailing=null,this._initiated=!1,this._helper=null,this._counter=!1,this._counterElement=null,this._maxLength=0,this._leadingIcon=null,this._element&&(g.setData(d,Ep,this),this.init())}static get NAME(){return Sc}get input(){return Q.findOne("input",this._element)||Q.findOne("textarea",this._element)}init(){this._initiated||(this._getLabelData(),this._applyDivs(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter(),this._initiated=!0)}update(){this._getLabelData(),this._getNotchData(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter()}forceActive(){U.addClass(this.input,Sp)}forceInactive(){U.removeClass(this.input,Sp)}dispose(){this._removeBorder(),g.removeData(this._element,Ep),this._element=null}_getLabelData(){this._label=Q.findOne("label",this._element),this._label===null?this._showPlaceholder():(this._getLabelWidth(),this._getLabelPositionInInputGroup(),this._toggleDefaultDatePlaceholder())}_getHelper(){this._helper=Q.findOne(oV,this._element)}_getCounter(){this._counter=U.getDataAttribute(this.input,"showcounter"),this._counter&&(this._maxLength=this.input.maxLength,this._showCounter())}_showCounter(){var d;0<Q.find(".form-counter",this._element).length||(this._counterElement=document.createElement("div"),U.addClass(this._counterElement,"form-counter"),d=this.input.value.length,this._counterElement.innerHTML="".concat(d," / ").concat(this._maxLength),this._helper.appendChild(this._counterElement),this._bindCounter())}_bindCounter(){P.on(this.input,"input",()=>{var d=this.input.value.length;this._counterElement.innerHTML="".concat(d," / ").concat(this._maxLength)})}_toggleDefaultDatePlaceholder(){let d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.input;d.getAttribute("type")==="date"&&(document.activeElement===d||d.value?d.style.opacity=1:d.style.opacity=0)}_showPlaceholder(){U.addClass(this.input,"placeholder-active")}_getNotchData(){this._notchMiddle=Q.findOne(sV,this._element),this._notchLeading=Q.findOne(n1,this._element)}_getLabelWidth(){this._labelWidth=.8*this._label.clientWidth+8}_getLabelPositionInInputGroup(){var d;this._labelMarginLeft=0,this._element.classList.contains("input-group")&&(d=this.input,d=Q.prev(d,".input-group-text")[0],this._labelMarginLeft=d===void 0?0:d.offsetWidth-1)}_applyDivs(){var d=Q.find(e1,this._element);const _=p("div");U.addClass(_,JA),this._notchLeading=p("div"),U.addClass(this._notchLeading,ZA),this._notchMiddle=p("div"),U.addClass(this._notchMiddle,t1),this._notchTrailing=p("div"),U.addClass(this._notchTrailing,"form-notch-trailing"),1<=d.length||(_.append(this._notchLeading),_.append(this._notchMiddle),_.append(this._notchTrailing),this._element.append(_))}_applyNotch(){this._notchMiddle.style.width="".concat(this._labelWidth,"px"),this._notchLeading.style.width="".concat(this._labelMarginLeft+9,"px"),this._label!==null&&(this._label.style.marginLeft="".concat(this._labelMarginLeft,"px"))}_removeBorder(){const d=Q.findOne(e1,this._element);d&&d.remove()}_activate(d){f(()=>{this._getElements(d);var _=d?d.target:this.input;_.value!==""&&U.addClass(_,Sp),this._toggleDefaultDatePlaceholder(_)})}_getElements(d){var _;d&&(this._element=d.target.parentNode,this._label=Q.findOne("label",this._element)),d&&this._label&&(_=this._labelWidth,this._getLabelData(),_!==this._labelWidth&&(this._notchMiddle=Q.findOne(".form-notch-middle",d.target.parentNode),this._notchLeading=Q.findOne(n1,d.target.parentNode),this._applyNotch()))}_deactivate(d){const _=d?d.target:this.input;_.value===""&&_.classList.remove(Sp),this._toggleDefaultDatePlaceholder(_)}static activate(d){return function(_){d._activate(_)}}static deactivate(d){return function(_){d._deactivate(_)}}static jQueryInterface(d,_){return this.each(function(){let S=g.getData(this,Ep);var L=typeof d=="object"&&d;if((S||!/dispose/.test(d))&&(S=S||new un(this,L),typeof d=="string")){if(S[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));S[d](_)}})}static getInstance(d){return g.getData(d,Ep)}static getOrCreateInstance(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,typeof _=="object"?_:null)}}P.on(document,"focus",Qa,un.activate(new un)),P.on(document,"input",Qa,un.activate(new un)),P.on(document,"blur",Qa,un.deactivate(new un)),P.on(document,"focus",Ja,un.activate(new un)),P.on(document,"input",Ja,un.activate(new un)),P.on(document,"blur",Ja,un.deactivate(new un)),P.on(window,"shown.bs.modal",b=>{Q.find(Qa,b.target).forEach(d=>{const _=un.getInstance(d.parentNode);_&&_.update()}),Q.find(Ja,b.target).forEach(d=>{const _=un.getInstance(d.parentNode);_&&_.update()})}),P.on(window,"shown.bs.dropdown",b=>{b=b.target.parentNode.querySelector(".dropdown-menu"),b&&(Q.find(Qa,b).forEach(d=>{const _=un.getInstance(d.parentNode);_&&_.update()}),Q.find(Ja,b).forEach(d=>{const _=un.getInstance(d.parentNode);_&&_.update()}))}),P.on(window,"shown.bs.tab",b=>{let d;d=(b.target.href||U.getDataAttribute(b.target,"target")).split("#")[1],b=Q.findOne("#".concat(d)),Q.find(Qa,b).forEach(_=>{const S=un.getInstance(_.parentNode);S&&S.update()}),Q.find(Ja,b).forEach(_=>{const S=un.getInstance(_.parentNode);S&&S.update()})}),Q.find(".".concat(Ae)).map(b=>new un(b)),P.on(window,"reset",b=>{Q.find(Qa,b.target).forEach(d=>{const _=un.getInstance(d.parentNode);_&&_.forceInactive()}),Q.find(Ja,b.target).forEach(d=>{const _=un.getInstance(d.parentNode);_&&_.forceInactive()})}),P.on(window,"onautocomplete",b=>{const d=un.getInstance(b.target.parentNode);d&&b.cancelable&&d.forceActive()}),f(()=>{const b=h();if(b){const d=b.fn[Sc];b.fn[Sc]=un.jQueryInterface,b.fn[Sc].Constructor=un,b.fn[Sc].noConflict=()=>(b.fn[Sc]=d,un.jQueryInterface)}});var aV=un;const fb="dropdown";Ut=".".concat("bs.dropdown"),qt=".data-api";const Mp="Escape",db="ArrowUp",Tp="ArrowDown",lV=new RegExp("".concat(db,"|").concat(Tp,"|").concat(Mp)),cV="hide".concat(Ut),uV="hidden".concat(Ut),hV="show".concat(Ut),fV="shown".concat(Ut);a="click".concat(Ut).concat(qt),Ae="keydown".concat(Ut).concat(qt),Ut="keyup".concat(Ut).concat(qt);const Mc="show",Uh='[data-mdb-toggle="dropdown"]',pb=".dropdown-menu",dV=rt()?"top-end":"top-start",pV=rt()?"top-start":"top-end",mV=rt()?"bottom-end":"bottom-start",gV=rt()?"bottom-start":"bottom-end",yV=rt()?"left-start":"right-start",_V=rt()?"right-start":"left-start",vV={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},bV={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class cr extends Re{constructor(d,_){super(d),this._popper=null,this._config=this._getConfig(_),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return vV}static get DefaultType(){return bV}static get NAME(){return fb}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!xt(this._element)&&!this._isShown(this._menu)){var d={relatedTarget:this._element},_=ft.trigger(this._element,hV,d);if(!_.defaultPrevented){const S=cr.getParentFromElement(this._element);this._inNavbar?te.setDataAttribute(this._menu,"popper","none"):this._createPopper(S),"ontouchstart"in document.documentElement&&!S.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(L=>ft.on(L,"mouseover",O)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mc),this._element.classList.add(Mc),ft.trigger(this._element,fV,d)}}}hide(){var d;!xt(this._element)&&this._isShown(this._menu)&&(d={relatedTarget:this._element},this._completeHide(d))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){ft.trigger(this._element,cV,d).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(_=>ft.off(_,"mouseover",O)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Mc),this._element.classList.remove(Mc),this._element.setAttribute("aria-expanded","false"),te.removeDataAttribute(this._menu,"popper"),ft.trigger(this._element,uV,d))}_getConfig(d){if(d={...this.constructor.Default,...te.getDataAttributes(this._element),...d},lt(fb,d,this.constructor.DefaultType),typeof d.reference!="object"||Y(d.reference)||typeof d.reference.getBoundingClientRect=="function")return d;throw new TypeError("".concat(fb.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'))}_createPopper(d){if(l===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=d:Y(this._config.reference)?_=Et(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const S=this._getPopperConfig();d=S.modifiers.find(L=>L.name==="applyStyles"&&L.enabled===!1),this._popper=sb(_,this._menu,S),d&&te.setDataAttribute(this._menu,"popper","static")}_isShown(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Mc)}_getMenuElement(){return Ht.next(this._element,pb)[0]}_getPlacement(){const d=this._element.parentNode;if(d.classList.contains("dropend"))return yV;if(d.classList.contains("dropstart"))return _V;var _=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?_?pV:dV:_?gV:mV}_detectNavbar(){return this._element.closest(".".concat("navbar"))!==null}_getOffset(){const d=this._config.offset;return typeof d=="string"?d.split(",").map(_=>Number.parseInt(_,10)):typeof d=="function"?_=>d(_,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_selectMenuItem(_){var{key:_,target:S}=_;const L=Ht.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Mt);L.length&&ht(L,S,_===Tp,!L.includes(S)).focus()}static jQueryInterface(d){return this.each(function(){const _=cr.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));_[d]()}})}static clearMenus(d){if(!d||d.button!==2&&(d.type!=="keyup"||d.key==="Tab")){var _=Ht.find(Uh);for(let L=0,z=_.length;L<z;L++){const J=cr.getInstance(_[L]);if(J&&J._config.autoClose!==!1&&J._isShown()){const ot={relatedTarget:J._element};if(d){const pt=d.composedPath();var S=pt.includes(J._menu);if(pt.includes(J._element)||J._config.autoClose==="inside"&&!S||J._config.autoClose==="outside"&&S||J._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;d.type==="click"&&(ot.clickEvent=d)}J._completeHide(ot)}}}}static getParentFromElement(d){return Lt(d)||d.parentNode}static dataApiKeydownHandler(d){if(/input|textarea/i.test(d.target.tagName)?!(d.key==="Space"||d.key!==Mp&&(d.key!==Tp&&d.key!==db||d.target.closest(pb))):lV.test(d.key)){var _=this.classList.contains(Mc);if((_||d.key!==Mp)&&(d.preventDefault(),d.stopPropagation(),!xt(this))){var S=this.matches(Uh)?this:Ht.prev(this,Uh)[0];const L=cr.getOrCreateInstance(S);if(d.key!==Mp)return d.key===db||d.key===Tp?(_||L.show(),void L._selectMenuItem(d)):void(_&&d.key!=="Space"||cr.clearMenus());L.hide()}}}}ft.on(document,Ae,Uh,cr.dataApiKeydownHandler),ft.on(document,Ae,pb,cr.dataApiKeydownHandler),ft.on(document,a,cr.clearMenus),ft.on(document,Ut,cr.clearMenus),ft.on(document,a,Uh,function(b){b.preventDefault(),cr.getOrCreateInstance(this).toggle()}),o(cr),qt=cr;const Fo="dropdown";Re="mdb.".concat(Fo),Ae=".".concat(Re);const xV={offset:[0,2],flip:!0,boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,dropdownAnimation:"on"},wV={offset:"(array|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",dropdownAnimation:"string"},i1="hide.bs.dropdown",r1="hidden.bs.dropdown",s1="show.bs.dropdown",o1="shown.bs.dropdown",EV="hide".concat(Ae),SV="hidden".concat(Ae),MV="show".concat(Ae),TV="shown".concat(Ae),mb="animation",gb="fade-in",yb="fade-out";class Bo extends qt{constructor(d,_){super(d,_),this._config=this._getConfig(_),this._parent=Bo.getParentFromElement(this._element),this._menuStyle="",this._popperPlacement="",this._mdbPopperConfig="",d=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this._config.dropdownAnimation!=="on"||d||this._init()}dispose(){P.off(this._element,s1),P.off(this._parent,o1),P.off(this._parent,i1),P.off(this._parent,r1),super.dispose()}static get NAME(){return Fo}_init(){this._bindShowEvent(),this._bindShownEvent(),this._bindHideEvent(),this._bindHiddenEvent()}_getConfig(d){return d={...xV,...U.getDataAttributes(this._element),...d},u(Fo,d,wV),d}_getOffset(){const d=this._config.offset;return typeof d=="string"?d.split(",").map(_=>Number.parseInt(_,10)):typeof d=="function"?_=>d(_,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{altBoundary:this._config.flip,boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_bindShowEvent(){P.on(this._element,s1,d=>{P.trigger(this._element,MV,{relatedTarget:d.relatedTarget}).defaultPrevented?d.preventDefault():this._dropdownAnimationStart("show")})}_bindShownEvent(){P.on(this._parent,o1,d=>{P.trigger(this._parent,TV,{relatedTarget:d.relatedTarget}).defaultPrevented&&d.preventDefault()})}_bindHideEvent(){P.on(this._parent,i1,d=>{P.trigger(this._parent,EV,{relatedTarget:d.relatedTarget}).defaultPrevented?d.preventDefault():(this._menuStyle=this._menu.style.cssText,this._popperPlacement=this._menu.getAttribute("data-popper-placement"),this._mdbPopperConfig=this._menu.getAttribute("data-mdb-popper"))})}_bindHiddenEvent(){P.on(this._parent,r1,d=>{P.trigger(this._parent,SV,{relatedTarget:d.relatedTarget}).defaultPrevented?d.preventDefault():(this._config.display!=="static"&&this._menuStyle!==""&&(this._menu.style.cssText=this._menuStyle),this._menu.setAttribute("data-popper-placement",this._popperPlacement),this._menu.setAttribute("data-mdb-popper",this._mdbPopperConfig),this._dropdownAnimationStart("hide"))})}_dropdownAnimationStart(d){d==="show"?(this._menu.classList.add(mb,gb),this._menu.classList.remove(yb)):(this._menu.classList.add(mb,yb),this._menu.classList.remove(gb)),this._bindAnimationEnd()}_bindAnimationEnd(){P.one(this._menu,"animationend",()=>{this._menu.classList.remove(mb,yb,gb)})}}Q.find('[data-mdb-toggle="dropdown"]').forEach(b=>{var d=Bo.getInstance(b);d||new Bo(b)}),f(()=>{const b=h();if(b){const d=b.fn[Fo];b.fn[Fo]=Bo.jQueryInterface,b.fn[Fo].Constructor=Bo,b.fn[Fo].noConflict=()=>(b.fn[Fo]=d,Bo.jQueryInterface)}});var AV=Bo;const Za="ripple",Ap="mdb.ripple",tl="ripple-surface",a1="ripple-wave",l1=[".btn",".ripple"],c1="ripple-surface-unbound",Cp=[0,0,0],CV=["primary","secondary","success","danger","warning","info","light","dark"],OV={rippleCentered:!1,rippleColor:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},PV={rippleCentered:"boolean",rippleColor:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"};class zo{constructor(d,_){this._element=d,this._options=this._getConfig(_),this._element&&(g.setData(d,Ap,this),U.addClass(this._element,tl)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this.init()}static get NAME(){return Za}init(){this._addClickEvent(this._element)}dispose(){g.removeData(this._element,Ap),P.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(d){l1.forEach(_=>{Q.closest(d.target,_)&&(this._element=Q.closest(d.target,_))}),this._element.style.minWidth||(U.style(this._element,{"min-width":"".concat(this._element.offsetWidth,"px")}),this._isMinWidthSet=!0),U.addClass(this._element,tl),this._options=this._getConfig(),this._createRipple(d)}_addClickEvent(d){P.on(d,"mousedown",this._clickHandler)}_createRipple(Bt){U.hasClass(this._element,tl)||U.addClass(this._element,tl);var{layerX:Bt,layerY:_}=Bt,S=this._element.offsetHeight,pt=this._element.offsetWidth,L=this._durationToMsNumber(this._options.rippleDuration),z={offsetX:this._options.rippleCentered?S/2:Bt,offsetY:this._options.rippleCentered?pt/2:_,height:S,width:pt},z=this._getDiameter(z),J=this._options.rippleRadius||z/2,ot={delay:.5*L,duration:L-.5*L},pt={left:this._options.rippleCentered?"".concat(pt/2-J,"px"):"".concat(Bt-J,"px"),top:this._options.rippleCentered?"".concat(S/2-J,"px"):"".concat(_-J,"px"),height:"".concat(2*this._options.rippleRadius||z,"px"),width:"".concat(2*this._options.rippleRadius||z,"px"),transitionDelay:"0s, ".concat(ot.delay,"ms"),transitionDuration:"".concat(L,"ms, ").concat(ot.duration,"ms")},Bt=p("div");this._createHTMLRipple({wrapper:this._element,ripple:Bt,styles:pt}),this._removeHTMLRipple({ripple:Bt,duration:L})}_createHTMLRipple(d){let{wrapper:_,ripple:S,styles:L}=d;Object.keys(L).forEach(z=>S.style[z]=L[z]),S.classList.add(a1),this._options.rippleColor!==""&&(this._removeOldColorClasses(_),this._addColor(S,_)),this._toggleUnbound(_),this._appendRipple(S,_)}_removeHTMLRipple(d){let{ripple:_,duration:S}=d;this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),this._rippleTimer=setTimeout(()=>{_&&(_.remove(),this._element&&(Q.find(".".concat(a1),this._element).forEach(L=>{L.remove()}),this._isMinWidthSet&&(U.style(this._element,{"min-width":""}),this._isMinWidthSet=!1),U.removeClass(this._element,tl)))},S)}_durationToMsNumber(d){return Number(d.replace("ms","").replace("s","000"))}_getConfig(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=U.getDataAttributes(this._element),_={...OV,...d,..._};return u(Za,_,PV),_}_getDiameter(_){var{offsetX:_,offsetY:S,height:L,width:z}=_,J=S<=L/2,ot=_<=z/2,pt=(we,Le)=>Math.sqrt(we**2+Le**2),Bt=S===L/2&&_===z/2;const Dt=J==!0&&ot==!1,Yt=J==!0&&ot==!0,Xt=J==!1&&ot==!0,be=J==!1&&ot==!1;J={topLeft:pt(_,S),topRight:pt(z-_,S),bottomLeft:pt(_,L-S),bottomRight:pt(z-_,L-S)};let xe=0;return Bt||be?xe=J.topLeft:Xt?xe=J.topRight:Yt?xe=J.bottomRight:Dt&&(xe=J.bottomLeft),2*xe}_appendRipple(d,_){_.appendChild(d),setTimeout(()=>{U.addClass(d,"active")},50)}_toggleUnbound(d){this._options.rippleUnbound===!0?U.addClass(d,c1):d.classList.remove(c1)}_addColor(d,_){CV.find(S=>S===this._options.rippleColor.toLowerCase())?U.addClass(_,"".concat(tl,"-").concat(this._options.rippleColor.toLowerCase())):(_=this._colorToRGB(this._options.rippleColor).join(","),_="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(_)),d.style.backgroundImage="radial-gradient(circle, ".concat(_,")"))}_removeOldColorClasses(d){var _=new RegExp("".concat(tl,"-[a-z]+"),"gi");(d.classList.value.match(_)||[]).forEach(L=>{d.classList.remove(L)})}_colorToRGB(d){return d.toLowerCase()==="transparent"?Cp:d[0]==="#"?((_=d).length<7&&(_="#".concat(_[1]).concat(_[1]).concat(_[2]).concat(_[2]).concat(_[3]).concat(_[3])),[parseInt(_.substr(1,2),16),parseInt(_.substr(3,2),16),parseInt(_.substr(5,2),16)]):(d=d.indexOf("rgb")===-1?function(S){const L=document.body.appendChild(document.createElement("fictum"));var z="rgb(1, 2, 3)";return L.style.color=z,L.style.color!==z?Cp:(L.style.color=S,L.style.color===z||L.style.color===""?Cp:(S=getComputedStyle(L).color,document.body.removeChild(L),S))}(d):d).indexOf("rgb")===0?((_=(_=d).match(/[.\d]+/g).map(S=>+Number(S))).length=3,_):Cp;var _}static autoInitial(d){return function(_){d._autoInit(_)}}static jQueryInterface(d){return this.each(function(){return g.getData(this,Ap)?null:new zo(this,d)})}static getInstance(d){return g.getData(d,Ap)}static getOrCreateInstance(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,typeof _=="object"?_:null)}}l1.forEach(b=>{P.one(document,"mousedown",b,zo.autoInitial(new zo))}),f(()=>{const b=h();if(b){const d=b.fn[Za];b.fn[Za]=zo.jQueryInterface,b.fn[Za].Constructor=zo,b.fn[Za].noConflict=()=>(b.fn[Za]=d,zo.jQueryInterface)}});var DV=zo;const Tc="range",Op="mdb.range",u1="thumb-active",RV=".".concat("thumb-value");Ut=".".concat("range");class el{constructor(d){this._element=d,this._initiated=!1,this._element&&(g.setData(d,Op,this),this.init())}static get NAME(){return Tc}get rangeInput(){return Q.findOne("input[type=range]",this._element)}init(){this._initiated||(this._addThumb(),this._updateValue(),this._thumbPositionUpdate(),this._handleEvents(),this._initiated=!0)}dispose(){this._disposeEvents(),g.removeData(this._element,Op),this._element=null}_addThumb(){const d=p("span");U.addClass(d,"thumb"),d.innerHTML='<span class="thumb-value"></span>',this._element.append(d)}_updateValue(){const d=Q.findOne(RV,this._element);d.textContent=this.rangeInput.value,this.rangeInput.oninput=()=>d.textContent=this.rangeInput.value}_handleEvents(){P.on(this.rangeInput,"mousedown",()=>this._showThumb()),P.on(this.rangeInput,"mouseup",()=>this._hideThumb()),P.on(this.rangeInput,"touchstart",()=>this._showThumb()),P.on(this.rangeInput,"touchend",()=>this._hideThumb()),P.on(this.rangeInput,"input",()=>this._thumbPositionUpdate())}_disposeEvents(){P.off(this.rangeInput,"mousedown",this._showThumb),P.off(this.rangeInput,"mouseup",this._hideThumb),P.off(this.rangeInput,"touchstart",this._showThumb),P.off(this.rangeInput,"touchend",this._hideThumb),P.off(this.rangeInput,"input",this._thumbPositionUpdate)}_showThumb(){U.addClass(this._element.lastElementChild,u1)}_hideThumb(){U.removeClass(this._element.lastElementChild,u1)}_thumbPositionUpdate(){var S=this.rangeInput,d=S.value,_=S.min||0,S=S.max||100;const L=this._element.lastElementChild;S=Number(100*(d-_)/(S-_)),L.firstElementChild.textContent=d,U.style(L,{left:"calc(".concat(S,"% + (").concat(8-.15*S,"px))")})}static getInstance(d){return g.getData(d,Op)}static getOrCreateInstance(d){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,typeof _=="object"?_:null)}static jQueryInterface(d,_){return this.each(function(){let S=g.getData(this,Op);var L=typeof d=="object"&&d;if((S||!/dispose/.test(d))&&(S=S||new el(this,L),typeof d=="string")){if(S[d]===void 0)throw new TypeError('No method named "'.concat(d,'"'));S[d](_)}})}}Q.find(Ut).map(b=>new el(b)),f(()=>{const b=h();if(b){const d=b.fn[Tc];b.fn[Tc]=el.jQueryInterface,b.fn[Tc].Constructor=el,b.fn[Tc].noConflict=()=>(b.fn[Tc]=d,el.jQueryInterface)}});var LV=el}],r={},e.m=i,e.c=r,e.d=function(s,o,a){e.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},e.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},e.t=function(s,o){if(1&o&&(s=e(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)e.d(a,l,function(c){return s[c]}.bind(null,l));return a},e.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(o,"a",o),o},e.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},e.p="",e(e.s=116);function e(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i,r})})(Hat);let Er="1517",Sr="-4947-11e9-8646-d663bd873d93";const Ce=Object.freeze({configuration_service:1e3,device_info:1001,device_control:1002,device_report:1004,measurement_service:2e3,control:2001,long_payload_length:2002,medium_payload_length:2003,short_payload_length:2004,magnetic_field_mapper:2005,orientation_reset_control:2006,orientation_reset_status:2007,orientation_reset_data:2008,battery_service:3e3,battery_level:3001,message_service:7e3,message_control:7001,message_acknowledge:7002,message_notification:7003}),OR=Object.freeze({getState:2,eraseFlash:48,startRecording:64,stopRecording:65,requestRecordingTime:66,requestFlashInfo:80,requestFileInfo:96,requestFileData:112,stopExportData:115,selectExportData:116,retransmission:117}),um=Object.freeze({recording_message:1,sync_message:2}),sf=Object.freeze({success:0,invalidCmd:2,flashProcessBusy:3,synced:4,NotEnoughSample:5,SkewTooLarge:7,StartingTimingError:8,"un-synced":9,idleState:6,onErasing:48,onRecording:64,onExportFlashInfo:80,onExportRecordingFileInfo:96,onExportRecordingFileData:112}),lu=Object.freeze({flashProcessBusy:3,storeFlashInfoDone1:51,storeFlashInfoDone2:49,flashFull:52,invalidFlashFormat:53,recordingStopped:65,recordingTime:67,stopSyncResult:80,syncStatus:81,exportFlashInfo:81,exportFlashInfoDone:82,exportFileInfo:97,exportFileInfoDone:98,noRecordingFile:99,exportFileData:113,exportFileDataDone:114,exportDataStopped:115,exportFileDataInvalid:118}),of=Object.freeze({startSync:1,stopSync:2,getSyncStatus:8}),PR=Object.freeze({highFidelityMag:1,extendedQuaternion:2,completeQuaternion:3,orientationEuler:4,orientationQuaternion:5,freeAcceleration:6,extendedEuler:7,completeEuler:16,highFidelity:17,deltaQuantitiesMag:18,deltaQuantities:19,rateQuantitiesMag:20,rateQuantities:21});function ia(n,t){return Object.keys(n).find(e=>n[e]===t)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const eT="139",$at=0,DR=1,Wat=2,IB=1,Gat=2,Ef=3,vd=0,rs=1,Ku=2,NB=1,ua=0,Eu=1,RR=2,LR=3,IR=4,jat=5,ru=100,qat=101,Yat=102,NR=103,kR=104,Xat=200,Kat=201,Qat=202,Jat=203,kB=204,FB=205,Zat=206,tlt=207,elt=208,nlt=209,ilt=210,rlt=0,slt=1,olt=2,CE=3,alt=4,llt=5,clt=6,ult=7,Lv=0,hlt=1,flt=2,vo=0,dlt=1,plt=2,mlt=3,glt=4,ylt=5,BB=300,Qu=301,Ju=302,OE=303,PE=304,Iv=306,DE=1e3,Qr=1001,RE=1002,oi=1003,FR=1004,BR=1005,tr=1006,_lt=1007,Nv=1008,Gl=1009,vlt=1010,blt=1011,bd=1012,xlt=1013,Hg=1014,Sl=1015,Su=1016,wlt=1017,Elt=1018,Mu=1020,Slt=1021,Mlt=1022,ts=1023,Tlt=1024,Alt=1025,Ll=1026,Zu=1027,Clt=1028,Olt=1029,Plt=1030,Dlt=1031,Rlt=1033,v0=33776,b0=33777,x0=33778,w0=33779,zR=35840,UR=35841,VR=35842,HR=35843,Llt=36196,$R=37492,WR=37496,GR=37808,jR=37809,qR=37810,YR=37811,XR=37812,KR=37813,QR=37814,JR=37815,ZR=37816,tL=37817,eL=37818,nL=37819,iL=37820,rL=37821,sL=36492,Ilt=2200,Nlt=2201,klt=2202,c_=2300,u_=2301,E0=2302,cu=2400,uu=2401,h_=2402,nT=2500,zB=2501,Flt=0,Co=3e3,Cn=3001,Blt=3200,zlt=3201,yh=0,Ult=1,ro="srgb",Ml="srgb-linear",S0=7680,Vlt=519,xd=35044,f_=35048,oL="300 es",LE=1035;class nc{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,t);t.target=null}}}const di=[];for(let n=0;n<256;n++)di[n]=(n<16?"0":"")+n.toString(16);const M0=Math.PI/180,IE=180/Math.PI;function Fs(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(di[n&255]+di[n>>8&255]+di[n>>16&255]+di[n>>24&255]+"-"+di[t&255]+di[t>>8&255]+"-"+di[t>>16&15|64]+di[t>>24&255]+"-"+di[e&63|128]+di[e>>8&255]+"-"+di[e>>16&255]+di[e>>24&255]+di[i&255]+di[i>>8&255]+di[i>>16&255]+di[i>>24&255]).toLowerCase()}function Mi(n,t,e){return Math.max(t,Math.min(e,n))}function Hlt(n,t){return(n%t+t)%t}function T0(n,t,e){return(1-e)*n+e*t}function aL(n){return(n&n-1)===0&&n!==0}function NE(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class $t{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),s=this.x-t.x,o=this.y-t.y;return this.x=s*i-o*r+t.x,this.y=s*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}$t.prototype.isVector2=!0;class gi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,r,s,o,a,l,c){const u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],h=i[7],f=i[2],p=i[5],m=i[8],g=r[0],y=r[3],v=r[6],w=r[1],M=r[4],E=r[7],T=r[2],D=r[5],I=r[8];return s[0]=o*g+a*w+l*T,s[3]=o*y+a*M+l*D,s[6]=o*v+a*E+l*I,s[1]=c*g+u*w+h*T,s[4]=c*y+u*M+h*D,s[7]=c*v+u*E+h*I,s[2]=f*g+p*w+m*T,s[5]=f*y+p*M+m*D,s[8]=f*v+p*E+m*I,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=u*o-a*c,f=a*l-u*s,p=c*s-o*l,m=e*h+i*f+r*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return t[0]=h*g,t[1]=(r*c-u*i)*g,t[2]=(a*i-r*o)*g,t[3]=f*g,t[4]=(u*e-r*l)*g,t[5]=(r*s-a*e)*g,t[6]=p*g,t[7]=(i*l-c*e)*g,t[8]=(o*e-i*s)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-r*c,r*l,-r*(-c*o+l*a)+a+e,0,0,1),this}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=e*s+i*l,r[3]=e*o+i*c,r[6]=e*a+i*u,r[1]=-i*s+e*l,r[4]=-i*o+e*c,r[7]=-i*a+e*u,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}gi.prototype.isMatrix3=!0;function UB(n){for(let t=n.length-1;t>=0;--t)if(n[t]>65535)return!0;return!1}function wd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Il(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function $g(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const A0={[ro]:{[Ml]:Il},[Ml]:{[ro]:$g}},jr={legacyMode:!0,get workingColorSpace(){return Ml},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(this.legacyMode||t===e||!t||!e)return n;if(A0[t]&&A0[t][e]!==void 0){const i=A0[t][e];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}},VB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qn={r:0,g:0,b:0},qr={h:0,s:0,l:0},hm={h:0,s:0,l:0};function C0(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}function fm(n,t){return t.r=n.r,t.g=n.g,t.b=n.b,t}class ce{constructor(t,e,i){return e===void 0&&i===void 0?this.set(t):this.setRGB(t,e,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ro){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,jr.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=Ml){return this.r=t,this.g=e,this.b=i,jr.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=Ml){if(t=Hlt(t,1),e=Mi(e,0,1),i=Mi(i,0,1),e===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,o=2*i-s;this.r=C0(o,s,t+1/3),this.g=C0(o,s,t),this.b=C0(o,s,t-1/3)}return jr.toWorkingColorSpace(this,r),this}setStyle(t,e=ro){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,jr.toWorkingColorSpace(this,e),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,jr.toWorkingColorSpace(this,e),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return i(s[4]),this.setHSL(l,c,u,e)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,jr.toWorkingColorSpace(this,e),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,jr.toWorkingColorSpace(this,e),this}return t&&t.length>0?this.setColorName(t,e):this}setColorName(t,e=ro){const i=VB[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Il(t.r),this.g=Il(t.g),this.b=Il(t.b),this}copyLinearToSRGB(t){return this.r=$g(t.r),this.g=$g(t.g),this.b=$g(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ro){return jr.fromWorkingColorSpace(fm(this,Qn),t),Mi(Qn.r*255,0,255)<<16^Mi(Qn.g*255,0,255)<<8^Mi(Qn.b*255,0,255)<<0}getHexString(t=ro){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ml){jr.fromWorkingColorSpace(fm(this,Qn),e);const i=Qn.r,r=Qn.g,s=Qn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return t.h=l,t.s=c,t.l=u,t}getRGB(t,e=Ml){return jr.fromWorkingColorSpace(fm(this,Qn),e),t.r=Qn.r,t.g=Qn.g,t.b=Qn.b,t}getStyle(t=ro){return jr.fromWorkingColorSpace(fm(this,Qn),t),t!==ro?`color(${t} ${Qn.r} ${Qn.g} ${Qn.b})`:`rgb(${Qn.r*255|0},${Qn.g*255|0},${Qn.b*255|0})`}offsetHSL(t,e,i){return this.getHSL(qr),qr.h+=t,qr.s+=e,qr.l+=i,this.setHSL(qr.h,qr.s,qr.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(qr),t.getHSL(hm);const i=T0(qr.h,hm.h,e),r=T0(qr.s,hm.s,e),s=T0(qr.l,hm.l,e);return this.setHSL(i,r,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ce.NAMES=VB;ce.prototype.isColor=!0;ce.prototype.r=1;ce.prototype.g=1;ce.prototype.b=1;let kc;class ic{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{kc===void 0&&(kc=wd("canvas")),kc.width=t.width,kc.height=t.height;const i=kc.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=kc}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=wd("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Il(s[o]/255)*255;return i.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Il(e[i]/255)*255):e[i]=Il(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class HB{constructor(t=null){this.uuid=Fs(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(O0(r[o].image)):s.push(O0(r[o]))}else s=O0(r);i.url=s}return e||(t.images[this.uuid]=i),i}}function O0(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ic.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}HB.prototype.isSource=!0;let $lt=0;class fi extends nc{constructor(t=fi.DEFAULT_IMAGE,e=fi.DEFAULT_MAPPING,i=Qr,r=Qr,s=tr,o=Nv,a=ts,l=Gl,c=1,u=Co){super(),Object.defineProperty(this,"id",{value:$lt++}),this.uuid=Fs(),this.name="",this.source=new HB(t),this.mipmaps=[],this.mapping=e,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new $t(0,0),this.repeat=new $t(1,1),this.center=new $t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==BB)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case DE:t.x=t.x-Math.floor(t.x);break;case Qr:t.x=t.x<0?0:1;break;case RE:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case DE:t.y=t.y-Math.floor(t.y);break;case Qr:t.y=t.y<0?0:1;break;case RE:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}fi.DEFAULT_IMAGE=null;fi.DEFAULT_MAPPING=BB;fi.prototype.isTexture=!0;class hn{constructor(t=0,e=0,i=0,r=1){this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*e+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*e+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*e+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,s;const l=t.elements,c=l[0],u=l[4],h=l[8],f=l[1],p=l[5],m=l[9],g=l[2],y=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-g)<.01&&Math.abs(m-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+g)<.1&&Math.abs(m+y)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const M=(c+1)/2,E=(p+1)/2,T=(v+1)/2,D=(u+f)/4,I=(h+g)/4,G=(m+y)/4;return M>E&&M>T?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=D/i,s=I/i):E>T?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=D/r,s=G/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=I/s,r=G/s),this.set(i,r,s,e),this}let w=Math.sqrt((y-m)*(y-m)+(h-g)*(h-g)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(y-m)/w,this.y=(h-g)/w,this.z=(f-u)/w,this.w=Math.acos((c+p+v-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}hn.prototype.isVector4=!0;class pr extends nc{constructor(t,e,i={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new hn(0,0,t,e),this.scissorTest=!1,this.viewport=new hn(0,0,t,e);const r={width:t,height:e,depth:1};this.texture=new fi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:tr,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}pr.prototype.isWebGLRenderTarget=!0;class kv extends fi{constructor(t=null,e=1,i=1,r=1){super(null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=oi,this.minFilter=oi,this.wrapR=Qr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}kv.prototype.isDataArrayTexture=!0;class Wlt extends pr{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new kv(null,t,e,i),this.texture.isRenderTargetTexture=!0}}Wlt.prototype.isWebGLArrayRenderTarget=!0;class iT extends fi{constructor(t=null,e=1,i=1,r=1){super(null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=oi,this.minFilter=oi,this.wrapR=Qr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}iT.prototype.isData3DTexture=!0;class Glt extends pr{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new iT(null,t,e,i),this.texture.isRenderTargetTexture=!0}}Glt.prototype.isWebGL3DRenderTarget=!0;class jlt extends pr{constructor(t,e,i,r={}){super(t,e,r);const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=t,this.texture[r].image.height=e,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone();return this}}jlt.prototype.isWebGLMultipleRenderTargets=!0;class Di{constructor(t=0,e=0,i=0,r=1){this._x=t,this._y=e,this._z=i,this._w=r}static slerp(t,e,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(t,e,r)}static slerpFlat(t,e,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const f=s[o+0],p=s[o+1],m=s[o+2],g=s[o+3];if(a===0){t[e+0]=l,t[e+1]=c,t[e+2]=u,t[e+3]=h;return}if(a===1){t[e+0]=f,t[e+1]=p,t[e+2]=m,t[e+3]=g;return}if(h!==g||l!==f||c!==p||u!==m){let y=1-a;const v=l*f+c*p+u*m+h*g,w=v>=0?1:-1,M=1-v*v;if(M>Number.EPSILON){const T=Math.sqrt(M),D=Math.atan2(T,v*w);y=Math.sin(y*D)/T,a=Math.sin(a*D)/T}const E=a*w;if(l=l*y+f*E,c=c*y+p*E,u=u*y+m*E,h=h*y+g*E,y===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=T,c*=T,u*=T,h*=T}}t[e]=l,t[e+1]=c,t[e+2]=u,t[e+3]=h}static multiplyQuaternionsFlat(t,e,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[o],f=s[o+1],p=s[o+2],m=s[o+3];return t[e]=a*m+u*h+l*p-c*f,t[e+1]=l*m+u*f+c*h-a*p,t[e+2]=c*m+u*p+a*f-l*h,t[e+3]=u*m-a*h-l*f-c*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,r=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),h=a(s/2),f=l(i/2),p=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=f*u*h+c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h-f*p*m;break;case"YXZ":this._x=f*u*h+c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h+f*p*m;break;case"ZXY":this._x=f*u*h-c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h-f*p*m;break;case"ZYX":this._x=f*u*h-c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h+f*p*m;break;case"YZX":this._x=f*u*h+c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h-f*p*m;break;case"XZY":this._x=f*u*h-c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h+f*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],s=e[8],o=e[1],a=e[5],l=e[9],c=e[2],u=e[6],h=e[10],f=i+a+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-r)*p}else if(i>a&&i>h){const p=2*Math.sqrt(1+i-a-h);this._w=(u-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+c)/p}else if(a>h){const p=2*Math.sqrt(1+a-i-h);this._w=(s-c)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+h-i-a);this._w=(o-r)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Mi(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return e!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,s=t._z,o=t._w,a=e._x,l=e._y,c=e._z,u=e._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*t._w+i*t._x+r*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-e;return this._w=p*o+e*this._w,this._x=p*i+e*this._x,this._y=p*r+e*this._y,this._z=p*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-e)*u)/c,f=Math.sin(e*u)/c;return this._w=o*h+this._w*f,this._x=i*h+this._x*f,this._y=r*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(r),i*Math.sin(s),i*Math.cos(s),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Di.prototype.isQuaternion=!0;class tt{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return e!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(lL.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(lL.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*r,this.y=s[1]*e+s[4]*i+s[7]*r,this.z=s[2]*e+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=t.elements,o=1/(s[3]*e+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*e+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*e+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,s=t.x,o=t.y,a=t.z,l=t.w,c=l*e+o*r-a*i,u=l*i+a*e-s*r,h=l*r+s*i-o*e,f=-s*e-o*i-a*r;return this.x=c*l+f*-s+u*-a-h*-o,this.y=u*l+f*-o+h*-s-c*-a,this.z=h*l+f*-a+c*-o-u*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r,this.y=s[1]*e+s[5]*i+s[9]*r,this.z=s[2]*e+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t,e){return e!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,s=t.z,o=e.x,a=e.y,l=e.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return P0.copy(this).projectOnVector(t),this.sub(P0)}reflect(t){return this.sub(P0.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Mi(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}tt.prototype.isVector3=!0;const P0=new tt,lL=new Di;class fs{constructor(t=new tt(1/0,1/0,1/0),e=new tt(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.length;l<c;l+=3){const u=t[l],h=t[l+1],f=t[l+2];u<e&&(e=u),h<i&&(i=h),f<r&&(r=f),u>s&&(s=u),h>o&&(o=h),f>a&&(a=f)}return this.min.set(e,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(t){let e=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.count;l<c;l++){const u=t.getX(l),h=t.getY(l),f=t.getZ(l);u<e&&(e=u),h<i&&(i=h),f<r&&(r=f),u>s&&(s=u),h>o&&(o=h),f>a&&(a=f)}return this.min.set(e,i,r),this.max.set(s,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=ol.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0)if(e&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)ol.fromBufferAttribute(s,o).applyMatrix4(t.matrixWorld),this.expandByPoint(ol)}else i.boundingBox===null&&i.computeBoundingBox(),D0.copy(i.boundingBox),D0.applyMatrix4(t.matrixWorld),this.union(D0);const r=t.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,ol),ol.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(af),dm.subVectors(this.max,af),Fc.subVectors(t.a,af),Bc.subVectors(t.b,af),zc.subVectors(t.c,af),qo.subVectors(Bc,Fc),Yo.subVectors(zc,Bc),al.subVectors(Fc,zc);let e=[0,-qo.z,qo.y,0,-Yo.z,Yo.y,0,-al.z,al.y,qo.z,0,-qo.x,Yo.z,0,-Yo.x,al.z,0,-al.x,-qo.y,qo.x,0,-Yo.y,Yo.x,0,-al.y,al.x,0];return!R0(e,Fc,Bc,zc,dm)||(e=[1,0,0,0,1,0,0,0,1],!R0(e,Fc,Bc,zc,dm))?!1:(pm.crossVectors(qo,Yo),e=[pm.x,pm.y,pm.z],R0(e,Fc,Bc,zc,dm))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return ol.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(ol).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Xs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Xs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Xs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Xs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Xs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Xs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Xs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Xs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Xs),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}fs.prototype.isBox3=!0;const Xs=[new tt,new tt,new tt,new tt,new tt,new tt,new tt,new tt],ol=new tt,D0=new fs,Fc=new tt,Bc=new tt,zc=new tt,qo=new tt,Yo=new tt,al=new tt,af=new tt,dm=new tt,pm=new tt,ll=new tt;function R0(n,t,e,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){ll.fromArray(n,s);const a=r.x*Math.abs(ll.x)+r.y*Math.abs(ll.y)+r.z*Math.abs(ll.z),l=t.dot(ll),c=e.dot(ll),u=i.dot(ll);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const qlt=new fs,cL=new tt,mm=new tt,L0=new tt;class _h{constructor(t=new tt,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):qlt.setFromPoints(t).getCenter(i);let r=0;for(let s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){L0.subVectors(t,this.center);const e=L0.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=(i-this.radius)*.5;this.center.add(L0.multiplyScalar(r/i)),this.radius+=r}return this}union(t){return this.center.equals(t.center)===!0?mm.set(0,0,1).multiplyScalar(t.radius):mm.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(cL.copy(t.center).add(mm)),this.expandByPoint(cL.copy(t.center).sub(mm)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ks=new tt,I0=new tt,gm=new tt,Xo=new tt,N0=new tt,ym=new tt,k0=new tt;class vh{constructor(t=new tt,e=new tt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ks)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ks.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ks.copy(this.direction).multiplyScalar(e).add(this.origin),Ks.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){I0.copy(t).add(e).multiplyScalar(.5),gm.copy(e).sub(t).normalize(),Xo.copy(this.origin).sub(I0);const s=t.distanceTo(e)*.5,o=-this.direction.dot(gm),a=Xo.dot(this.direction),l=-Xo.dot(gm),c=Xo.lengthSq(),u=Math.abs(1-o*o);let h,f,p,m;if(u>0)if(h=o*l-a,f=o*a-l,m=s*u,h>=0)if(f>=-m)if(f<=m){const g=1/u;h*=g,f*=g,p=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f=-s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f<=-m?(h=Math.max(0,-(-o*s+a)),f=h>0?-s:Math.min(Math.max(-s,-l),s),p=-h*h+f*(f+2*l)+c):f<=m?(h=0,f=Math.min(Math.max(-s,-l),s),p=f*(f+2*l)+c):(h=Math.max(0,-(o*s+a)),f=h>0?s:Math.min(Math.max(-s,-l),s),p=-h*h+f*(f+2*l)+c);else f=o>0?-s:s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(gm).multiplyScalar(f).add(I0),p}intersectSphere(t,e){Ks.subVectors(t.center,this.origin);const i=Ks.dot(this.direction),r=Ks.dot(Ks)-i*i,s=t.radius*t.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,r=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,r=(t.min.x-f.x)*c),u>=0?(s=(t.min.y-f.y)*u,o=(t.max.y-f.y)*u):(s=(t.max.y-f.y)*u,o=(t.min.y-f.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),h>=0?(a=(t.min.z-f.z)*h,l=(t.max.z-f.z)*h):(a=(t.max.z-f.z)*h,l=(t.min.z-f.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return this.intersectBox(t,Ks)!==null}intersectTriangle(t,e,i,r,s){N0.subVectors(e,t),ym.subVectors(i,t),k0.crossVectors(N0,ym);let o=this.direction.dot(k0),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Xo.subVectors(this.origin,t);const l=a*this.direction.dot(ym.crossVectors(Xo,ym));if(l<0)return null;const c=a*this.direction.dot(N0.cross(Xo));if(c<0||l+c>o)return null;const u=-a*Xo.dot(k0);return u<0?null:this.at(u/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class me{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,r,s,o,a,l,c,u,h,f,p,m,g,y){const v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=h,v[14]=f,v[3]=p,v[7]=m,v[11]=g,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new me().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/Uc.setFromMatrixColumn(t,0).length(),s=1/Uc.setFromMatrixColumn(t,1).length(),o=1/Uc.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,i=t.x,r=t.y,s=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(t.order==="XYZ"){const f=o*u,p=o*h,m=a*u,g=a*h;e[0]=l*u,e[4]=-l*h,e[8]=c,e[1]=p+m*c,e[5]=f-g*c,e[9]=-a*l,e[2]=g-f*c,e[6]=m+p*c,e[10]=o*l}else if(t.order==="YXZ"){const f=l*u,p=l*h,m=c*u,g=c*h;e[0]=f+g*a,e[4]=m*a-p,e[8]=o*c,e[1]=o*h,e[5]=o*u,e[9]=-a,e[2]=p*a-m,e[6]=g+f*a,e[10]=o*l}else if(t.order==="ZXY"){const f=l*u,p=l*h,m=c*u,g=c*h;e[0]=f-g*a,e[4]=-o*h,e[8]=m+p*a,e[1]=p+m*a,e[5]=o*u,e[9]=g-f*a,e[2]=-o*c,e[6]=a,e[10]=o*l}else if(t.order==="ZYX"){const f=o*u,p=o*h,m=a*u,g=a*h;e[0]=l*u,e[4]=m*c-p,e[8]=f*c+g,e[1]=l*h,e[5]=g*c+f,e[9]=p*c-m,e[2]=-c,e[6]=a*l,e[10]=o*l}else if(t.order==="YZX"){const f=o*l,p=o*c,m=a*l,g=a*c;e[0]=l*u,e[4]=g-f*h,e[8]=m*h+p,e[1]=h,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=p*h+m,e[10]=f-g*h}else if(t.order==="XZY"){const f=o*l,p=o*c,m=a*l,g=a*c;e[0]=l*u,e[4]=-h,e[8]=c*u,e[1]=f*h+g,e[5]=o*u,e[9]=p*h-m,e[2]=m*h-p,e[6]=a*u,e[10]=g*h+f}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Ylt,t,Xlt)}lookAt(t,e,i){const r=this.elements;return ur.subVectors(t,e),ur.lengthSq()===0&&(ur.z=1),ur.normalize(),Ko.crossVectors(i,ur),Ko.lengthSq()===0&&(Math.abs(i.z)===1?ur.x+=1e-4:ur.z+=1e-4,ur.normalize(),Ko.crossVectors(i,ur)),Ko.normalize(),_m.crossVectors(ur,Ko),r[0]=Ko.x,r[4]=_m.x,r[8]=ur.x,r[1]=Ko.y,r[5]=_m.y,r[9]=ur.y,r[2]=Ko.z,r[6]=_m.z,r[10]=ur.z,this}multiply(t,e){return e!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],h=i[5],f=i[9],p=i[13],m=i[2],g=i[6],y=i[10],v=i[14],w=i[3],M=i[7],E=i[11],T=i[15],D=r[0],I=r[4],G=r[8],j=r[12],V=r[1],A=r[5],F=r[9],nt=r[13],q=r[2],P=r[6],W=r[10],Z=r[14],U=r[3],Q=r[7],ut=r[11],vt=r[15];return s[0]=o*D+a*V+l*q+c*U,s[4]=o*I+a*A+l*P+c*Q,s[8]=o*G+a*F+l*W+c*ut,s[12]=o*j+a*nt+l*Z+c*vt,s[1]=u*D+h*V+f*q+p*U,s[5]=u*I+h*A+f*P+p*Q,s[9]=u*G+h*F+f*W+p*ut,s[13]=u*j+h*nt+f*Z+p*vt,s[2]=m*D+g*V+y*q+v*U,s[6]=m*I+g*A+y*P+v*Q,s[10]=m*G+g*F+y*W+v*ut,s[14]=m*j+g*nt+y*Z+v*vt,s[3]=w*D+M*V+E*q+T*U,s[7]=w*I+M*A+E*P+T*Q,s[11]=w*G+M*F+E*W+T*ut,s[15]=w*j+M*nt+E*Z+T*vt,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],s=t[12],o=t[1],a=t[5],l=t[9],c=t[13],u=t[2],h=t[6],f=t[10],p=t[14],m=t[3],g=t[7],y=t[11],v=t[15];return m*(+s*l*h-r*c*h-s*a*f+i*c*f+r*a*p-i*l*p)+g*(+e*l*p-e*c*f+s*o*f-r*o*p+r*c*u-s*l*u)+y*(+e*c*h-e*a*p-s*o*h+i*o*p+s*a*u-i*c*u)+v*(-r*a*u-e*l*h+e*a*f+r*o*h-i*o*f+i*l*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],f=t[10],p=t[11],m=t[12],g=t[13],y=t[14],v=t[15],w=h*y*c-g*f*c+g*l*p-a*y*p-h*l*v+a*f*v,M=m*f*c-u*y*c-m*l*p+o*y*p+u*l*v-o*f*v,E=u*g*c-m*h*c+m*a*p-o*g*p-u*a*v+o*h*v,T=m*h*l-u*g*l-m*a*f+o*g*f+u*a*y-o*h*y,D=e*w+i*M+r*E+s*T;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/D;return t[0]=w*I,t[1]=(g*f*s-h*y*s-g*r*p+i*y*p+h*r*v-i*f*v)*I,t[2]=(a*y*s-g*l*s+g*r*c-i*y*c-a*r*v+i*l*v)*I,t[3]=(h*l*s-a*f*s-h*r*c+i*f*c+a*r*p-i*l*p)*I,t[4]=M*I,t[5]=(u*y*s-m*f*s+m*r*p-e*y*p-u*r*v+e*f*v)*I,t[6]=(m*l*s-o*y*s-m*r*c+e*y*c+o*r*v-e*l*v)*I,t[7]=(o*f*s-u*l*s+u*r*c-e*f*c-o*r*p+e*l*p)*I,t[8]=E*I,t[9]=(m*h*s-u*g*s-m*i*p+e*g*p+u*i*v-e*h*v)*I,t[10]=(o*g*s-m*a*s+m*i*c-e*g*c-o*i*v+e*a*v)*I,t[11]=(u*a*s-o*h*s-u*i*c+e*h*c+o*i*p-e*a*p)*I,t[12]=T*I,t[13]=(u*g*r-m*h*r+m*i*f-e*g*f-u*i*y+e*h*y)*I,t[14]=(m*a*r-o*g*r-m*i*l+e*g*l+o*i*y-e*a*y)*I,t[15]=(o*h*r-u*a*r+u*i*l-e*h*l-o*i*f+e*a*f)*I,this}scale(t){const e=this.elements,i=t.x,r=t.y,s=t.z;return e[0]*=i,e[4]*=r,e[8]*=s,e[1]*=i,e[5]*=r,e[9]*=s,e[2]*=i,e[6]*=r,e[10]*=s,e[3]*=i,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),s=1-i,o=t.x,a=t.y,l=t.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,s,o){return this.set(1,i,s,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,s=e._x,o=e._y,a=e._z,l=e._w,c=s+s,u=o+o,h=a+a,f=s*c,p=s*u,m=s*h,g=o*u,y=o*h,v=a*h,w=l*c,M=l*u,E=l*h,T=i.x,D=i.y,I=i.z;return r[0]=(1-(g+v))*T,r[1]=(p+E)*T,r[2]=(m-M)*T,r[3]=0,r[4]=(p-E)*D,r[5]=(1-(f+v))*D,r[6]=(y+w)*D,r[7]=0,r[8]=(m+M)*I,r[9]=(y-w)*I,r[10]=(1-(f+g))*I,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let s=Uc.set(r[0],r[1],r[2]).length();const o=Uc.set(r[4],r[5],r[6]).length(),a=Uc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],Yr.copy(this);const c=1/s,u=1/o,h=1/a;return Yr.elements[0]*=c,Yr.elements[1]*=c,Yr.elements[2]*=c,Yr.elements[4]*=u,Yr.elements[5]*=u,Yr.elements[6]*=u,Yr.elements[8]*=h,Yr.elements[9]*=h,Yr.elements[10]*=h,e.setFromRotationMatrix(Yr),i.x=s,i.y=o,i.z=a,this}makePerspective(t,e,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(e-t),c=2*s/(i-r),u=(e+t)/(e-t),h=(i+r)/(i-r),f=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,i,r,s,o){const a=this.elements,l=1/(e-t),c=1/(i-r),u=1/(o-s),h=(e+t)*l,f=(i+r)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}me.prototype.isMatrix4=!0;const Uc=new tt,Yr=new me,Ylt=new tt(0,0,0),Xlt=new tt(1,1,1),Ko=new tt,_m=new tt,ur=new tt,uL=new me,hL=new Di;class Rr{constructor(t=0,e=0,i=0,r=Rr.DefaultOrder){this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],f=r[6],p=r[10];switch(e){case"XYZ":this._y=Math.asin(Mi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Mi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Mi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Mi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Mi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Mi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return uL.makeRotationFromQuaternion(t),this.setFromRotationMatrix(uL,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return hL.setFromEuler(this),this.setFromQuaternion(hL,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Rr.prototype.isEuler=!0;Rr.DefaultOrder="XYZ";Rr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $B{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let Klt=0;const fL=new tt,Vc=new Di,Qs=new me,vm=new tt,lf=new tt,Qlt=new tt,Jlt=new Di,dL=new tt(1,0,0),pL=new tt(0,1,0),mL=new tt(0,0,1),Zlt={type:"added"},gL={type:"removed"};class cn extends nc{constructor(){super(),Object.defineProperty(this,"id",{value:Klt++}),this.uuid=Fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=cn.DefaultUp.clone();const t=new tt,e=new Rr,i=new Di,r=new tt(1,1,1);function s(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new me},normalMatrix:{value:new gi}}),this.matrix=new me,this.matrixWorld=new me,this.matrixAutoUpdate=cn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $B,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Vc.setFromAxisAngle(t,e),this.quaternion.multiply(Vc),this}rotateOnWorldAxis(t,e){return Vc.setFromAxisAngle(t,e),this.quaternion.premultiply(Vc),this}rotateX(t){return this.rotateOnAxis(dL,t)}rotateY(t){return this.rotateOnAxis(pL,t)}rotateZ(t){return this.rotateOnAxis(mL,t)}translateOnAxis(t,e){return fL.copy(t).applyQuaternion(this.quaternion),this.position.add(fL.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(dL,t)}translateY(t){return this.translateOnAxis(pL,t)}translateZ(t){return this.translateOnAxis(mL,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Qs.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?vm.copy(t):vm.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),lf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qs.lookAt(lf,vm,this.up):Qs.lookAt(vm,lf,this.up),this.quaternion.setFromRotationMatrix(Qs),r&&(Qs.extractRotation(r.matrixWorld),Vc.setFromRotationMatrix(Qs),this.quaternion.premultiply(Vc.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Zlt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(gL)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(gL)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Qs.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Qs.multiply(t.parent.matrixWorld)),t.applyMatrix4(Qs),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lf,t,Qlt),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lf,Jlt,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(t.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(t.shapes,h)}else s(t.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(t.materials,this.material[l]));r.material=a}else r.material=s(t.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(t.animations,l))}}if(e){const a=o(t.geometries),l=o(t.materials),c=o(t.textures),u=o(t.images),h=o(t.shapes),f=o(t.skeletons),p=o(t.animations),m=o(t.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),f.length>0&&(i.skeletons=f),p.length>0&&(i.animations=p),m.length>0&&(i.nodes=m)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const r=t.children[i];this.add(r.clone())}return this}}cn.DefaultUp=new tt(0,1,0);cn.DefaultMatrixAutoUpdate=!0;cn.prototype.isObject3D=!0;const Xr=new tt,Js=new tt,F0=new tt,Zs=new tt,Hc=new tt,$c=new tt,yL=new tt,B0=new tt,z0=new tt,U0=new tt;class jn{constructor(t=new tt,e=new tt,i=new tt){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),Xr.subVectors(t,e),r.cross(Xr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,i,r,s){Xr.subVectors(r,e),Js.subVectors(i,e),F0.subVectors(t,e);const o=Xr.dot(Xr),a=Xr.dot(Js),l=Xr.dot(F0),c=Js.dot(Js),u=Js.dot(F0),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const f=1/h,p=(c*l-a*u)*f,m=(o*u-a*l)*f;return s.set(1-p-m,m,p)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,Zs),Zs.x>=0&&Zs.y>=0&&Zs.x+Zs.y<=1}static getUV(t,e,i,r,s,o,a,l){return this.getBarycoord(t,e,i,r,Zs),l.set(0,0),l.addScaledVector(s,Zs.x),l.addScaledVector(o,Zs.y),l.addScaledVector(a,Zs.z),l}static isFrontFacing(t,e,i,r){return Xr.subVectors(i,e),Js.subVectors(t,e),Xr.cross(Js).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Xr.subVectors(this.c,this.b),Js.subVectors(this.a,this.b),Xr.cross(Js).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return jn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return jn.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,r,s){return jn.getUV(t,this.a,this.b,this.c,e,i,r,s)}containsPoint(t){return jn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return jn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,s=this.c;let o,a;Hc.subVectors(r,i),$c.subVectors(s,i),B0.subVectors(t,i);const l=Hc.dot(B0),c=$c.dot(B0);if(l<=0&&c<=0)return e.copy(i);z0.subVectors(t,r);const u=Hc.dot(z0),h=$c.dot(z0);if(u>=0&&h<=u)return e.copy(r);const f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),e.copy(i).addScaledVector(Hc,o);U0.subVectors(t,s);const p=Hc.dot(U0),m=$c.dot(U0);if(m>=0&&p<=m)return e.copy(s);const g=p*c-l*m;if(g<=0&&c>=0&&m<=0)return a=c/(c-m),e.copy(i).addScaledVector($c,a);const y=u*m-p*h;if(y<=0&&h-u>=0&&p-m>=0)return yL.subVectors(s,r),a=(h-u)/(h-u+(p-m)),e.copy(r).addScaledVector(yL,a);const v=1/(y+g+f);return o=g*v,a=f*v,e.copy(i).addScaledVector(Hc,o).addScaledVector($c,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let tct=0;class ii extends nc{constructor(){super(),Object.defineProperty(this,"id",{value:tct++}),this.uuid=Fs(),this.name="",this.type="Material",this.fog=!0,this.blending=Eu,this.side=vd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=kB,this.blendDst=FB,this.blendEquation=ru,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=CE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Vlt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=S0,this.stencilZFail=S0,this.stencilZPass=S0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===NB;continue}const r=this[e];if(r===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Eu&&(i.blending=this.blending),this.side!==vd&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(e){const s=r(t.textures),o=r(t.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const r=e.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}ii.prototype.isMaterial=!0;ii.fromType=function(){return null};class Fv extends ii{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Fv.prototype.isMeshBasicMaterial=!0;const $n=new tt,bm=new $t;class ei{constructor(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i===!0,this.usage=xd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new ce),e[i++]=o.r,e[i++]=o.g,e[i++]=o.b}return this}copyVector2sArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new $t),e[i++]=o.x,e[i++]=o.y}return this}copyVector3sArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new tt),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z}return this}copyVector4sArray(t){const e=this.array;let i=0;for(let r=0,s=t.length;r<s;r++){let o=t[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new hn),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)bm.fromBufferAttribute(this,e),bm.applyMatrix3(t),this.setXY(e,bm.x,bm.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)$n.fromBufferAttribute(this,e),$n.applyMatrix3(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)$n.fromBufferAttribute(this,e),$n.applyMatrix4(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)$n.fromBufferAttribute(this,e),$n.applyNormalMatrix(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)$n.fromBufferAttribute(this,e),$n.transformDirection(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==xd&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}ei.prototype.isBufferAttribute=!0;class WB extends ei{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class GB extends ei{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class ect extends ei{constructor(t,e,i){super(new Uint16Array(t),e,i)}}ect.prototype.isFloat16BufferAttribute=!0;class ui extends ei{constructor(t,e,i){super(new Float32Array(t),e,i)}}let nct=0;const Mr=new me,V0=new cn,Wc=new tt,hr=new fs,cf=new fs,ri=new tt;class Rn extends nc{constructor(){super(),Object.defineProperty(this,"id",{value:nct++}),this.uuid=Fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(UB(t)?GB:WB)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new gi().getNormalMatrix(t);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Mr.makeRotationFromQuaternion(t),this.applyMatrix4(Mr),this}rotateX(t){return Mr.makeRotationX(t),this.applyMatrix4(Mr),this}rotateY(t){return Mr.makeRotationY(t),this.applyMatrix4(Mr),this}rotateZ(t){return Mr.makeRotationZ(t),this.applyMatrix4(Mr),this}translate(t,e,i){return Mr.makeTranslation(t,e,i),this.applyMatrix4(Mr),this}scale(t,e,i){return Mr.makeScale(t,e,i),this.applyMatrix4(Mr),this}lookAt(t){return V0.lookAt(t),V0.updateMatrix(),this.applyMatrix4(V0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wc).negate(),this.translate(Wc.x,Wc.y,Wc.z),this}setFromPoints(t){const e=[];for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ui(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fs);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new tt(-1/0,-1/0,-1/0),new tt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++){const s=e[i];hr.setFromBufferAttribute(s),this.morphTargetsRelative?(ri.addVectors(this.boundingBox.min,hr.min),this.boundingBox.expandByPoint(ri),ri.addVectors(this.boundingBox.max,hr.max),this.boundingBox.expandByPoint(ri)):(this.boundingBox.expandByPoint(hr.min),this.boundingBox.expandByPoint(hr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _h);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new tt,1/0);return}if(t){const i=this.boundingSphere.center;if(hr.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++){const a=e[s];cf.setFromBufferAttribute(a),this.morphTargetsRelative?(ri.addVectors(hr.min,cf.min),hr.expandByPoint(ri),ri.addVectors(hr.max,cf.max),hr.expandByPoint(ri)):(hr.expandByPoint(cf.min),hr.expandByPoint(cf.max))}hr.getCenter(i);let r=0;for(let s=0,o=t.count;s<o;s++)ri.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(ri));if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ri.fromBufferAttribute(a,c),l&&(Wc.fromBufferAttribute(t,c),ri.add(Wc)),r=Math.max(r,i.distanceToSquared(ri))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.array,r=e.position.array,s=e.normal.array,o=e.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let V=0;V<a;V++)c[V]=new tt,u[V]=new tt;const h=new tt,f=new tt,p=new tt,m=new $t,g=new $t,y=new $t,v=new tt,w=new tt;function M(V,A,F){h.fromArray(r,V*3),f.fromArray(r,A*3),p.fromArray(r,F*3),m.fromArray(o,V*2),g.fromArray(o,A*2),y.fromArray(o,F*2),f.sub(h),p.sub(h),g.sub(m),y.sub(m);const nt=1/(g.x*y.y-y.x*g.y);!isFinite(nt)||(v.copy(f).multiplyScalar(y.y).addScaledVector(p,-g.y).multiplyScalar(nt),w.copy(p).multiplyScalar(g.x).addScaledVector(f,-y.x).multiplyScalar(nt),c[V].add(v),c[A].add(v),c[F].add(v),u[V].add(w),u[A].add(w),u[F].add(w))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let V=0,A=E.length;V<A;++V){const F=E[V],nt=F.start,q=F.count;for(let P=nt,W=nt+q;P<W;P+=3)M(i[P+0],i[P+1],i[P+2])}const T=new tt,D=new tt,I=new tt,G=new tt;function j(V){I.fromArray(s,V*3),G.copy(I);const A=c[V];T.copy(A),T.sub(I.multiplyScalar(I.dot(A))).normalize(),D.crossVectors(G,A);const nt=D.dot(u[V])<0?-1:1;l[V*4]=T.x,l[V*4+1]=T.y,l[V*4+2]=T.z,l[V*4+3]=nt}for(let V=0,A=E.length;V<A;++V){const F=E[V],nt=F.start,q=F.count;for(let P=nt,W=nt+q;P<W;P+=3)j(i[P+0]),j(i[P+1]),j(i[P+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ei(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let f=0,p=i.count;f<p;f++)i.setXYZ(f,0,0,0);const r=new tt,s=new tt,o=new tt,a=new tt,l=new tt,c=new tt,u=new tt,h=new tt;if(t)for(let f=0,p=t.count;f<p;f+=3){const m=t.getX(f+0),g=t.getX(f+1),y=t.getX(f+2);r.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),o.fromBufferAttribute(e,y),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,y),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,p=e.count;f<p;f+=3)r.fromBufferAttribute(e,f+0),s.fromBufferAttribute(e,f+1),o.fromBufferAttribute(e,f+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(t,e){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(t.attributes[r]===void 0)continue;const o=i[r].array,a=t.attributes[r],l=a.array,c=a.itemSize*e,u=Math.min(l.length,o.length-c);for(let h=0,f=c;h<u;h++,f++)o[f]=l[h]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)ri.fromBufferAttribute(t,e),ri.normalize(),t.setXYZ(e,ri.x,ri.y,ri.z)}toNonIndexed(){function t(a,l){const c=a.array,u=a.itemSize,h=a.normalized,f=new c.constructor(l.length*u);let p=0,m=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?p=l[g]*a.data.stride+a.offset:p=l[g]*u;for(let v=0;v<u;v++)f[m++]=c[p++]}return new ei(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Rn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=t(l,i);e.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=c[u],p=t(f,i);l.push(p)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const l in i){const c=i[l];t.data.attributes[l]=c.toJSON(t.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){const p=c[h];u.push(p.toJSON(t.data))}u.length>0&&(r[l]=u,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const r=t.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(e))}const s=t.morphAttributes;for(const c in s){const u=[],h=s[c];for(let f=0,p=h.length;f<p;f++)u.push(h[f].clone(e));this.morphAttributes[c]=u}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=t.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Rn.prototype.isBufferGeometry=!0;const _L=new me,Gc=new vh,H0=new _h,Qo=new tt,Jo=new tt,Zo=new tt,$0=new tt,W0=new tt,G0=new tt,xm=new tt,wm=new tt,Em=new tt,Sm=new $t,Mm=new $t,Tm=new $t,j0=new tt,Am=new tt;class rr extends cn{constructor(t=new Rn,e=new Fv){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),H0.copy(i.boundingSphere),H0.applyMatrix4(s),t.ray.intersectsSphere(H0)===!1)||(_L.copy(s).invert(),Gc.copy(t.ray).applyMatrix4(_L),i.boundingBox!==null&&Gc.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,h=i.attributes.uv,f=i.attributes.uv2,p=i.groups,m=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,y=p.length;g<y;g++){const v=p[g],w=r[v.materialIndex],M=Math.max(v.start,m.start),E=Math.min(a.count,Math.min(v.start+v.count,m.start+m.count));for(let T=M,D=E;T<D;T+=3){const I=a.getX(T),G=a.getX(T+1),j=a.getX(T+2);o=Cm(this,w,t,Gc,l,c,u,h,f,I,G,j),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=v.materialIndex,e.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let v=g,w=y;v<w;v+=3){const M=a.getX(v),E=a.getX(v+1),T=a.getX(v+2);o=Cm(this,r,t,Gc,l,c,u,h,f,M,E,T),o&&(o.faceIndex=Math.floor(v/3),e.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let g=0,y=p.length;g<y;g++){const v=p[g],w=r[v.materialIndex],M=Math.max(v.start,m.start),E=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let T=M,D=E;T<D;T+=3){const I=T,G=T+1,j=T+2;o=Cm(this,w,t,Gc,l,c,u,h,f,I,G,j),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=v.materialIndex,e.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let v=g,w=y;v<w;v+=3){const M=v,E=v+1,T=v+2;o=Cm(this,r,t,Gc,l,c,u,h,f,M,E,T),o&&(o.faceIndex=Math.floor(v/3),e.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}rr.prototype.isMesh=!0;function ict(n,t,e,i,r,s,o,a){let l;if(t.side===rs?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,t.side!==Ku,a),l===null)return null;Am.copy(a),Am.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(Am);return c<e.near||c>e.far?null:{distance:c,point:Am.clone(),object:n}}function Cm(n,t,e,i,r,s,o,a,l,c,u,h){Qo.fromBufferAttribute(r,c),Jo.fromBufferAttribute(r,u),Zo.fromBufferAttribute(r,h);const f=n.morphTargetInfluences;if(s&&f){xm.set(0,0,0),wm.set(0,0,0),Em.set(0,0,0);for(let m=0,g=s.length;m<g;m++){const y=f[m],v=s[m];y!==0&&($0.fromBufferAttribute(v,c),W0.fromBufferAttribute(v,u),G0.fromBufferAttribute(v,h),o?(xm.addScaledVector($0,y),wm.addScaledVector(W0,y),Em.addScaledVector(G0,y)):(xm.addScaledVector($0.sub(Qo),y),wm.addScaledVector(W0.sub(Jo),y),Em.addScaledVector(G0.sub(Zo),y)))}Qo.add(xm),Jo.add(wm),Zo.add(Em)}n.isSkinnedMesh&&(n.boneTransform(c,Qo),n.boneTransform(u,Jo),n.boneTransform(h,Zo));const p=ict(n,t,e,i,Qo,Jo,Zo,j0);if(p){a&&(Sm.fromBufferAttribute(a,c),Mm.fromBufferAttribute(a,u),Tm.fromBufferAttribute(a,h),p.uv=jn.getUV(j0,Qo,Jo,Zo,Sm,Mm,Tm,new $t)),l&&(Sm.fromBufferAttribute(l,c),Mm.fromBufferAttribute(l,u),Tm.fromBufferAttribute(l,h),p.uv2=jn.getUV(j0,Qo,Jo,Zo,Sm,Mm,Tm,new $t));const m={a:c,b:u,c:h,normal:new tt,materialIndex:0};jn.getNormal(Qo,Jo,Zo,m.normal),p.face=m}return p}class ip extends Rn{constructor(t=1,e=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let f=0,p=0;m("z","y","x",-1,-1,i,e,t,o,s,0),m("z","y","x",1,-1,i,e,-t,o,s,1),m("x","z","y",1,1,t,i,e,r,o,2),m("x","z","y",1,-1,t,i,-e,r,o,3),m("x","y","z",1,-1,t,e,i,r,s,4),m("x","y","z",-1,-1,t,e,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new ui(c,3)),this.setAttribute("normal",new ui(u,3)),this.setAttribute("uv",new ui(h,2));function m(g,y,v,w,M,E,T,D,I,G,j){const V=E/I,A=T/G,F=E/2,nt=T/2,q=D/2,P=I+1,W=G+1;let Z=0,U=0;const Q=new tt;for(let ut=0;ut<W;ut++){const vt=ut*A-nt;for(let at=0;at<P;at++){const Ct=at*V-F;Q[g]=Ct*w,Q[y]=vt*M,Q[v]=q,c.push(Q.x,Q.y,Q.z),Q[g]=0,Q[y]=0,Q[v]=D>0?1:-1,u.push(Q.x,Q.y,Q.z),h.push(at/I),h.push(1-ut/G),Z+=1}}for(let ut=0;ut<G;ut++)for(let vt=0;vt<I;vt++){const at=f+vt+P*ut,Ct=f+vt+P*(ut+1),Lt=f+(vt+1)+P*(ut+1),et=f+(vt+1)+P*ut;l.push(at,Ct,et),l.push(Ct,Lt,et),U+=6}a.addGroup(p,U,j),p+=U,f+=Z}}static fromJSON(t){return new ip(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function th(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[e][i]=r.clone():Array.isArray(r)?t[e][i]=r.slice():t[e][i]=r}}return t}function Ei(n){const t={};for(let e=0;e<n.length;e++){const i=th(n[e]);for(const r in i)t[r]=i[r]}return t}const rct={clone:th,merge:Ei};var sct=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,oct=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class os extends ii{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=sct,this.fragmentShader=oct,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=th(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?e.uniforms[r]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[r]={type:"m4",value:o.toArray()}:e.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}os.prototype.isShaderMaterial=!0;class rT extends cn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new me,this.projectionMatrix=new me,this.projectionMatrixInverse=new me}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}rT.prototype.isCamera=!0;class er extends rT{constructor(t=50,e=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=IE*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(M0*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return IE*2*Math.atan(Math.tan(M0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,r,s,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(M0*.5*this.fov)/this.zoom,i=2*e,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,e-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}er.prototype.isPerspectiveCamera=!0;const jc=90,qc=1;class sT extends cn{constructor(t,e,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new er(jc,qc,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new tt(1,0,0)),this.add(r);const s=new er(jc,qc,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new tt(-1,0,0)),this.add(s);const o=new er(jc,qc,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new tt(0,1,0)),this.add(o);const a=new er(jc,qc,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new tt(0,-1,0)),this.add(a);const l=new er(jc,qc,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new tt(0,0,1)),this.add(l);const c=new er(jc,qc,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new tt(0,0,-1)),this.add(c)}update(t,e){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=t.getRenderTarget(),h=t.outputEncoding,f=t.toneMapping,p=t.xr.enabled;t.outputEncoding=Co,t.toneMapping=vo,t.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,r),t.setRenderTarget(i,1),t.render(e,s),t.setRenderTarget(i,2),t.render(e,o),t.setRenderTarget(i,3),t.render(e,a),t.setRenderTarget(i,4),t.render(e,l),i.texture.generateMipmaps=m,t.setRenderTarget(i,5),t.render(e,c),t.setRenderTarget(u),t.outputEncoding=h,t.toneMapping=f,t.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Bv extends fi{constructor(t,e,i,r,s,o,a,l,c,u){t=t!==void 0?t:[],e=e!==void 0?e:Qu,super(t,e,i,r,s,o,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Bv.prototype.isCubeTexture=!0;class jB extends pr{constructor(t,e={}){super(t,t,e);const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];this.texture=new Bv(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:tr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ip(5,5,5),s=new os({name:"CubemapFromEquirect",uniforms:th(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:rs,blending:ua});s.uniforms.tEquirect.value=e;const o=new rr(r,s),a=e.minFilter;return e.minFilter===Nv&&(e.minFilter=tr),new sT(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,r){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,r);t.setRenderTarget(s)}}jB.prototype.isWebGLCubeRenderTarget=!0;const q0=new tt,act=new tt,lct=new gi;class ao{constructor(t=new tt(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=q0.subVectors(i,e).cross(act.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const i=t.delta(q0),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(i).multiplyScalar(s).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||lct.getNormalMatrix(t),r=this.coplanarPoint(q0).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}ao.prototype.isPlane=!0;const Yc=new _h,Om=new tt;class zv{constructor(t=new ao,e=new ao,i=new ao,r=new ao,s=new ao,o=new ao){this.planes=[t,e,i,r,s,o]}set(t,e,i,r,s,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,i=t.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],f=i[8],p=i[9],m=i[10],g=i[11],y=i[12],v=i[13],w=i[14],M=i[15];return e[0].setComponents(a-r,h-l,g-f,M-y).normalize(),e[1].setComponents(a+r,h+l,g+f,M+y).normalize(),e[2].setComponents(a+s,h+c,g+p,M+v).normalize(),e[3].setComponents(a-s,h-c,g-p,M-v).normalize(),e[4].setComponents(a-o,h-u,g-m,M-w).normalize(),e[5].setComponents(a+o,h+u,g+m,M+w).normalize(),this}intersectsObject(t){const e=t.geometry;return e.boundingSphere===null&&e.computeBoundingSphere(),Yc.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Yc)}intersectsSprite(t){return Yc.center.set(0,0,0),Yc.radius=.7071067811865476,Yc.applyMatrix4(t.matrixWorld),this.intersectsSphere(Yc)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(Om.x=r.normal.x>0?t.max.x:t.min.x,Om.y=r.normal.y>0?t.max.y:t.min.y,Om.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(Om)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qB(){let n=null,t=!1,e=null,i=null;function r(s,o){e(s,o),i=n.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){n=s}}}function cct(n,t){const e=t.isWebGL2,i=new WeakMap;function r(c,u){const h=c.array,f=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,h,f),c.onUploadCallback();let m;if(h instanceof Float32Array)m=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(e)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(h instanceof Int16Array)m=5122;else if(h instanceof Uint32Array)m=5125;else if(h instanceof Int32Array)m=5124;else if(h instanceof Int8Array)m=5120;else if(h instanceof Uint8Array)m=5121;else if(h instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const f=u.array,p=u.updateRange;n.bindBuffer(h,c),p.count===-1?n.bufferSubData(h,0,f):(e?n.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):n.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class oT extends Rn{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const s=t/2,o=e/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,h=t/a,f=e/l,p=[],m=[],g=[],y=[];for(let v=0;v<u;v++){const w=v*f-o;for(let M=0;M<c;M++){const E=M*h-s;m.push(E,-w,0),g.push(0,0,1),y.push(M/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let w=0;w<a;w++){const M=w+c*v,E=w+c*(v+1),T=w+1+c*(v+1),D=w+1+c*v;p.push(M,E,D),p.push(E,T,D)}this.setIndex(p),this.setAttribute("position",new ui(m,3)),this.setAttribute("normal",new ui(g,3)),this.setAttribute("uv",new ui(y,2))}static fromJSON(t){return new oT(t.width,t.height,t.widthSegments,t.heightSegments)}}var uct=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,hct=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fct=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,dct=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pct=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mct=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gct="vec3 transformed = vec3( position );",yct=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_ct=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,vct=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bct=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,xct=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wct=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ect=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Sct=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Mct=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Tct=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Act=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Cct=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Oct=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Pct=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Dct=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Rct=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Lct=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ict=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Nct="gl_FragColor = linearToOutputTexel( gl_FragColor );",kct=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fct=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Bct=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zct=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Uct=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Vct=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Hct=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$ct=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Wct=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Gct=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,jct=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,qct=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Yct=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Xct=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Kct=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Qct=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Jct=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Zct=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,tut=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,eut=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,nut=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,iut=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rut=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,sut=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,out=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,aut=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lut=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cut=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,uut=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,hut=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,fut=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dut=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,put=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mut=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gut=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,yut=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,_ut=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,vut=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,but=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,xut=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,wut=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Eut=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Sut=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Mut=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Tut=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Aut=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Cut=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Out=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Put=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Dut=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Rut=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Lut=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Iut=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Nut=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kut=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Fut=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,But=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,zut=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Uut=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Vut=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Hut=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$ut=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Wut=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Gut=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jut=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qut=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Yut=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Xut=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Kut=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Qut=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Jut=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Zut=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,tht=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,eht=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,nht=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,iht=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,rht=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const sht=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,oht=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aht=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lht=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cht=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uht=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,hht=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fht=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dht=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pht=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mht=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ght=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yht=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_ht=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vht=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bht=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xht=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wht=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eht=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Sht=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Mht=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tht=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aht=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Cht=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oht=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pht=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dht=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Rht=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lht=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Iht=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Nht=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kht=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,We={alphamap_fragment:uct,alphamap_pars_fragment:hct,alphatest_fragment:fct,alphatest_pars_fragment:dct,aomap_fragment:pct,aomap_pars_fragment:mct,begin_vertex:gct,beginnormal_vertex:yct,bsdfs:_ct,bumpmap_pars_fragment:vct,clipping_planes_fragment:bct,clipping_planes_pars_fragment:xct,clipping_planes_pars_vertex:wct,clipping_planes_vertex:Ect,color_fragment:Sct,color_pars_fragment:Mct,color_pars_vertex:Tct,color_vertex:Act,common:Cct,cube_uv_reflection_fragment:Oct,defaultnormal_vertex:Pct,displacementmap_pars_vertex:Dct,displacementmap_vertex:Rct,emissivemap_fragment:Lct,emissivemap_pars_fragment:Ict,encodings_fragment:Nct,encodings_pars_fragment:kct,envmap_fragment:Fct,envmap_common_pars_fragment:Bct,envmap_pars_fragment:zct,envmap_pars_vertex:Uct,envmap_physical_pars_fragment:Qct,envmap_vertex:Vct,fog_vertex:Hct,fog_pars_vertex:$ct,fog_fragment:Wct,fog_pars_fragment:Gct,gradientmap_pars_fragment:jct,lightmap_fragment:qct,lightmap_pars_fragment:Yct,lights_lambert_vertex:Xct,lights_pars_begin:Kct,lights_toon_fragment:Jct,lights_toon_pars_fragment:Zct,lights_phong_fragment:tut,lights_phong_pars_fragment:eut,lights_physical_fragment:nut,lights_physical_pars_fragment:iut,lights_fragment_begin:rut,lights_fragment_maps:sut,lights_fragment_end:out,logdepthbuf_fragment:aut,logdepthbuf_pars_fragment:lut,logdepthbuf_pars_vertex:cut,logdepthbuf_vertex:uut,map_fragment:hut,map_pars_fragment:fut,map_particle_fragment:dut,map_particle_pars_fragment:put,metalnessmap_fragment:mut,metalnessmap_pars_fragment:gut,morphcolor_vertex:yut,morphnormal_vertex:_ut,morphtarget_pars_vertex:vut,morphtarget_vertex:but,normal_fragment_begin:xut,normal_fragment_maps:wut,normal_pars_fragment:Eut,normal_pars_vertex:Sut,normal_vertex:Mut,normalmap_pars_fragment:Tut,clearcoat_normal_fragment_begin:Aut,clearcoat_normal_fragment_maps:Cut,clearcoat_pars_fragment:Out,output_fragment:Put,packing:Dut,premultiplied_alpha_fragment:Rut,project_vertex:Lut,dithering_fragment:Iut,dithering_pars_fragment:Nut,roughnessmap_fragment:kut,roughnessmap_pars_fragment:Fut,shadowmap_pars_fragment:But,shadowmap_pars_vertex:zut,shadowmap_vertex:Uut,shadowmask_pars_fragment:Vut,skinbase_vertex:Hut,skinning_pars_vertex:$ut,skinning_vertex:Wut,skinnormal_vertex:Gut,specularmap_fragment:jut,specularmap_pars_fragment:qut,tonemapping_fragment:Yut,tonemapping_pars_fragment:Xut,transmission_fragment:Kut,transmission_pars_fragment:Qut,uv_pars_fragment:Jut,uv_pars_vertex:Zut,uv_vertex:tht,uv2_pars_fragment:eht,uv2_pars_vertex:nht,uv2_vertex:iht,worldpos_vertex:rht,background_vert:sht,background_frag:oht,cube_vert:aht,cube_frag:lht,depth_vert:cht,depth_frag:uht,distanceRGBA_vert:hht,distanceRGBA_frag:fht,equirect_vert:dht,equirect_frag:pht,linedashed_vert:mht,linedashed_frag:ght,meshbasic_vert:yht,meshbasic_frag:_ht,meshlambert_vert:vht,meshlambert_frag:bht,meshmatcap_vert:xht,meshmatcap_frag:wht,meshnormal_vert:Eht,meshnormal_frag:Sht,meshphong_vert:Mht,meshphong_frag:Tht,meshphysical_vert:Aht,meshphysical_frag:Cht,meshtoon_vert:Oht,meshtoon_frag:Pht,points_vert:Dht,points_frag:Rht,shadow_vert:Lht,shadow_frag:Iht,sprite_vert:Nht,sprite_frag:kht},Kt={common:{diffuse:{value:new ce(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new gi},uv2Transform:{value:new gi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $t(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ce(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ce(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gi}},sprite:{diffuse:{value:new ce(16777215)},opacity:{value:1},center:{value:new $t(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gi}}},As={basic:{uniforms:Ei([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.fog]),vertexShader:We.meshbasic_vert,fragmentShader:We.meshbasic_frag},lambert:{uniforms:Ei([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.fog,Kt.lights,{emissive:{value:new ce(0)}}]),vertexShader:We.meshlambert_vert,fragmentShader:We.meshlambert_frag},phong:{uniforms:Ei([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new ce(0)},specular:{value:new ce(1118481)},shininess:{value:30}}]),vertexShader:We.meshphong_vert,fragmentShader:We.meshphong_frag},standard:{uniforms:Ei([Kt.common,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.roughnessmap,Kt.metalnessmap,Kt.fog,Kt.lights,{emissive:{value:new ce(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:We.meshphysical_vert,fragmentShader:We.meshphysical_frag},toon:{uniforms:Ei([Kt.common,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.gradientmap,Kt.fog,Kt.lights,{emissive:{value:new ce(0)}}]),vertexShader:We.meshtoon_vert,fragmentShader:We.meshtoon_frag},matcap:{uniforms:Ei([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,{matcap:{value:null}}]),vertexShader:We.meshmatcap_vert,fragmentShader:We.meshmatcap_frag},points:{uniforms:Ei([Kt.points,Kt.fog]),vertexShader:We.points_vert,fragmentShader:We.points_frag},dashed:{uniforms:Ei([Kt.common,Kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:We.linedashed_vert,fragmentShader:We.linedashed_frag},depth:{uniforms:Ei([Kt.common,Kt.displacementmap]),vertexShader:We.depth_vert,fragmentShader:We.depth_frag},normal:{uniforms:Ei([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,{opacity:{value:1}}]),vertexShader:We.meshnormal_vert,fragmentShader:We.meshnormal_frag},sprite:{uniforms:Ei([Kt.sprite,Kt.fog]),vertexShader:We.sprite_vert,fragmentShader:We.sprite_frag},background:{uniforms:{uvTransform:{value:new gi},t2D:{value:null}},vertexShader:We.background_vert,fragmentShader:We.background_frag},cube:{uniforms:Ei([Kt.envmap,{opacity:{value:1}}]),vertexShader:We.cube_vert,fragmentShader:We.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:We.equirect_vert,fragmentShader:We.equirect_frag},distanceRGBA:{uniforms:Ei([Kt.common,Kt.displacementmap,{referencePosition:{value:new tt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:We.distanceRGBA_vert,fragmentShader:We.distanceRGBA_frag},shadow:{uniforms:Ei([Kt.lights,Kt.fog,{color:{value:new ce(0)},opacity:{value:1}}]),vertexShader:We.shadow_vert,fragmentShader:We.shadow_frag}};As.physical={uniforms:Ei([As.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $t(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ce(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ce(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ce(1,1,1)},specularColorMap:{value:null}}]),vertexShader:We.meshphysical_vert,fragmentShader:We.meshphysical_frag};function Fht(n,t,e,i,r,s){const o=new ce(0);let a=r===!0?0:1,l,c,u=null,h=0,f=null;function p(g,y){let v=!1,w=y.isScene===!0?y.background:null;w&&w.isTexture&&(w=t.get(w));const M=n.xr,E=M.getSession&&M.getSession();E&&E.environmentBlendMode==="additive"&&(w=null),w===null?m(o,a):w&&w.isColor&&(m(w,1),v=!0),(n.autoClear||v)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Iv)?(c===void 0&&(c=new rr(new ip(1,1,1),new os({name:"BackgroundCubeMaterial",uniforms:th(As.cube.uniforms),vertexShader:As.cube.vertexShader,fragmentShader:As.cube.fragmentShader,side:rs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,D,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,(u!==w||h!==w.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=w,h=w.version,f=n.toneMapping),g.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(l===void 0&&(l=new rr(new oT(2,2),new os({name:"BackgroundMaterial",uniforms:th(As.background.uniforms),vertexShader:As.background.vertexShader,fragmentShader:As.background.fragmentShader,side:vd,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),l.material.uniforms.uvTransform.value.copy(w.matrix),(u!==w||h!==w.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=w,h=w.version,f=n.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null))}function m(g,y){e.buffers.color.setClear(g.r,g.g,g.b,y,s)}return{getClearColor:function(){return o},setClearColor:function(g,y=1){o.set(g),a=y,m(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,m(o,a)},render:p}}function Bht(n,t,e,i){const r=n.getParameter(34921),s=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function h(q,P,W,Z,U){let Q=!1;if(o){const ut=g(Z,W,P);c!==ut&&(c=ut,p(c.object)),Q=v(Z,U),Q&&w(Z,U)}else{const ut=P.wireframe===!0;(c.geometry!==Z.id||c.program!==W.id||c.wireframe!==ut)&&(c.geometry=Z.id,c.program=W.id,c.wireframe=ut,Q=!0)}q.isInstancedMesh===!0&&(Q=!0),U!==null&&e.update(U,34963),(Q||u)&&(u=!1,G(q,P,W,Z),U!==null&&n.bindBuffer(34963,e.get(U).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(q){return i.isWebGL2?n.bindVertexArray(q):s.bindVertexArrayOES(q)}function m(q){return i.isWebGL2?n.deleteVertexArray(q):s.deleteVertexArrayOES(q)}function g(q,P,W){const Z=W.wireframe===!0;let U=a[q.id];U===void 0&&(U={},a[q.id]=U);let Q=U[P.id];Q===void 0&&(Q={},U[P.id]=Q);let ut=Q[Z];return ut===void 0&&(ut=y(f()),Q[Z]=ut),ut}function y(q){const P=[],W=[],Z=[];for(let U=0;U<r;U++)P[U]=0,W[U]=0,Z[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:W,attributeDivisors:Z,object:q,attributes:{},index:null}}function v(q,P){const W=c.attributes,Z=q.attributes;let U=0;for(const Q in Z){const ut=W[Q],vt=Z[Q];if(ut===void 0||ut.attribute!==vt||ut.data!==vt.data)return!0;U++}return c.attributesNum!==U||c.index!==P}function w(q,P){const W={},Z=q.attributes;let U=0;for(const Q in Z){const ut=Z[Q],vt={};vt.attribute=ut,ut.data&&(vt.data=ut.data),W[Q]=vt,U++}c.attributes=W,c.attributesNum=U,c.index=P}function M(){const q=c.newAttributes;for(let P=0,W=q.length;P<W;P++)q[P]=0}function E(q){T(q,0)}function T(q,P){const W=c.newAttributes,Z=c.enabledAttributes,U=c.attributeDivisors;W[q]=1,Z[q]===0&&(n.enableVertexAttribArray(q),Z[q]=1),U[q]!==P&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](q,P),U[q]=P)}function D(){const q=c.newAttributes,P=c.enabledAttributes;for(let W=0,Z=P.length;W<Z;W++)P[W]!==q[W]&&(n.disableVertexAttribArray(W),P[W]=0)}function I(q,P,W,Z,U,Q){i.isWebGL2===!0&&(W===5124||W===5125)?n.vertexAttribIPointer(q,P,W,U,Q):n.vertexAttribPointer(q,P,W,Z,U,Q)}function G(q,P,W,Z){if(i.isWebGL2===!1&&(q.isInstancedMesh||Z.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;M();const U=Z.attributes,Q=W.getAttributes(),ut=P.defaultAttributeValues;for(const vt in Q){const at=Q[vt];if(at.location>=0){let Ct=U[vt];if(Ct===void 0&&(vt==="instanceMatrix"&&q.instanceMatrix&&(Ct=q.instanceMatrix),vt==="instanceColor"&&q.instanceColor&&(Ct=q.instanceColor)),Ct!==void 0){const Lt=Ct.normalized,et=Ct.itemSize,Y=e.get(Ct);if(Y===void 0)continue;const Et=Y.buffer,lt=Y.type,Mt=Y.bytesPerElement;if(Ct.isInterleavedBufferAttribute){const xt=Ct.data,Rt=xt.stride,O=Ct.offset;if(xt.isInstancedInterleavedBuffer){for(let N=0;N<at.locationSize;N++)T(at.location+N,xt.meshPerAttribute);q.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=xt.meshPerAttribute*xt.count)}else for(let N=0;N<at.locationSize;N++)E(at.location+N);n.bindBuffer(34962,Et);for(let N=0;N<at.locationSize;N++)I(at.location+N,et/at.locationSize,lt,Lt,Rt*Mt,(O+et/at.locationSize*N)*Mt)}else{if(Ct.isInstancedBufferAttribute){for(let xt=0;xt<at.locationSize;xt++)T(at.location+xt,Ct.meshPerAttribute);q.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=Ct.meshPerAttribute*Ct.count)}else for(let xt=0;xt<at.locationSize;xt++)E(at.location+xt);n.bindBuffer(34962,Et);for(let xt=0;xt<at.locationSize;xt++)I(at.location+xt,et/at.locationSize,lt,Lt,et*Mt,et/at.locationSize*xt*Mt)}}else if(ut!==void 0){const Lt=ut[vt];if(Lt!==void 0)switch(Lt.length){case 2:n.vertexAttrib2fv(at.location,Lt);break;case 3:n.vertexAttrib3fv(at.location,Lt);break;case 4:n.vertexAttrib4fv(at.location,Lt);break;default:n.vertexAttrib1fv(at.location,Lt)}}}}D()}function j(){F();for(const q in a){const P=a[q];for(const W in P){const Z=P[W];for(const U in Z)m(Z[U].object),delete Z[U];delete P[W]}delete a[q]}}function V(q){if(a[q.id]===void 0)return;const P=a[q.id];for(const W in P){const Z=P[W];for(const U in Z)m(Z[U].object),delete Z[U];delete P[W]}delete a[q.id]}function A(q){for(const P in a){const W=a[P];if(W[q.id]===void 0)continue;const Z=W[q.id];for(const U in Z)m(Z[U].object),delete Z[U];delete W[q.id]}}function F(){nt(),u=!0,c!==l&&(c=l,p(c.object))}function nt(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:F,resetDefaultState:nt,dispose:j,releaseStatesOfGeometry:V,releaseStatesOfProgram:A,initAttributes:M,enableAttribute:E,disableUnusedAttributes:D}}function zht(n,t,e,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),e.update(u,s,1)}function l(c,u,h){if(h===0)return;let f,p;if(r)f=n,p="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](s,c,u,h),e.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function Uht(n,t,e){let i;function r(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){const I=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(I){if(I==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=e.precision!==void 0?e.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||t.has("WEBGL_draw_buffers"),u=e.logarithmicDepthBuffer===!0,h=n.getParameter(34930),f=n.getParameter(35660),p=n.getParameter(3379),m=n.getParameter(34076),g=n.getParameter(34921),y=n.getParameter(36347),v=n.getParameter(36348),w=n.getParameter(36349),M=f>0,E=o||t.has("OES_texture_float"),T=M&&E,D=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:w,vertexTextures:M,floatFragmentTextures:E,floatVertexTextures:T,maxSamples:D}}function Vht(n){const t=this;let e=null,i=0,r=!1,s=!1;const o=new ao,a=new gi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f,p){const m=h.length!==0||f||i!==0||r;return r=f,e=u(h,p,0),i=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,f,p){const m=h.clippingPlanes,g=h.clipIntersection,y=h.clipShadows,v=n.get(h);if(!r||m===null||m.length===0||s&&!y)s?u(null):c();else{const w=s?0:i,M=w*4;let E=v.clippingState||null;l.value=E,E=u(m,f,M,p);for(let T=0;T!==M;++T)E[T]=e[T];v.clippingState=E,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==e&&(l.value=e,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(h,f,p,m){const g=h!==null?h.length:0;let y=null;if(g!==0){if(y=l.value,m!==!0||y===null){const v=p+g*4,w=f.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<v)&&(y=new Float32Array(v));for(let M=0,E=p;M!==g;++M,E+=4)o.copy(h[M]).applyMatrix4(w,a),o.normal.toArray(y,E),y[E+3]=o.constant}l.value=y,l.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,y}}function Hht(n){let t=new WeakMap;function e(o,a){return a===OE?o.mapping=Qu:a===PE&&(o.mapping=Ju),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===OE||a===PE)if(t.has(o)){const l=t.get(o).texture;return e(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new jB(l.height/2);return c.fromEquirectangularTexture(n,o),t.set(o,c),o.addEventListener("dispose",r),e(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=t.get(a);l!==void 0&&(t.delete(a),l.dispose())}function s(){t=new WeakMap}return{get:i,dispose:s}}class aT extends rT{constructor(t=-1,e=1,i=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-t,o=i+t,a=r+e,l=r-e;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}aT.prototype.isOrthographicCamera=!0;const hu=4,vL=[.125,.215,.35,.446,.526,.582],yl=20,Y0=new aT,bL=new ce;let X0=null;const pl=(1+Math.sqrt(5))/2,Xc=1/pl,xL=[new tt(1,1,1),new tt(-1,1,1),new tt(1,1,-1),new tt(-1,1,-1),new tt(0,pl,Xc),new tt(0,pl,-Xc),new tt(Xc,0,pl),new tt(-Xc,0,pl),new tt(pl,Xc,0),new tt(-pl,Xc,0)];class wL{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100){X0=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,i,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ML(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=SL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(X0),t.scissorTest=!1,Pm(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Qu||t.mapping===Ju?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),X0=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,i={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:Su,format:ts,encoding:Co,depthBuffer:!1},r=EL(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=EL(t,e,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$ht(s)),this._blurMaterial=Wht(s,t,e)}return r}_compileMaterial(t){const e=new rr(this._lodPlanes[0],t);this._renderer.compile(e,Y0)}_sceneToCubeUV(t,e,i,r){const a=new er(90,1,e,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(bL),u.toneMapping=vo,u.autoClear=!1;const p=new Fv({name:"PMREM.Background",side:rs,depthWrite:!1,depthTest:!1}),m=new rr(new ip,p);let g=!1;const y=t.background;y?y.isColor&&(p.color.copy(y),t.background=null,g=!0):(p.color.copy(bL),g=!0);for(let v=0;v<6;v++){const w=v%3;w===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):w===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const M=this._cubeSize;Pm(r,w*M,v>2?M:0,M,M),u.setRenderTarget(r),g&&u.render(m,a),u.render(t,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=f,u.autoClear=h,t.background=y}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===Qu||t.mapping===Ju;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=ML()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=SL());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new rr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=t;const l=this._cubeSize;Pm(e,0,0,3*l,2*l),i.setRenderTarget(e),i.render(o,Y0)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=xL[(r-1)%xL.length];this._blur(t,r-1,r,s,o)}e.autoClear=i}_blur(t,e,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,r,"latitudinal",s),this._halfBlur(o,t,i,i,r,"longitudinal",s)}_halfBlur(t,e,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new rr(this._lodPlanes[r],c),f=c.uniforms,p=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*yl-1),g=s/m,y=isFinite(s)?1+Math.floor(u*g):yl;y>yl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${yl}`);const v=[];let w=0;for(let I=0;I<yl;++I){const G=I/g,j=Math.exp(-G*G/2);v.push(j),I===0?w+=j:I<y&&(w+=2*j)}for(let I=0;I<v.length;I++)v[I]=v[I]/w;f.envMap.value=t.texture,f.samples.value=y,f.weights.value=v,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:M}=this;f.dTheta.value=m,f.mipInt.value=M-i;const E=this._sizeLods[r],T=3*E*(r>M-hu?r-M+hu:0),D=4*(this._cubeSize-E);Pm(e,T,D,3*E,2*E),l.setRenderTarget(e),l.render(h,Y0)}}function $ht(n){const t=[],e=[],i=[];let r=n;const s=n-hu+1+vL.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);e.push(a);let l=1/a;o>n-hu?l=vL[o-n+hu-1]:o===0&&(l=0),i.push(l);const c=1/(a-1),u=-c/2,h=1+c/2,f=[u,u,h,u,h,h,u,u,h,h,u,h],p=6,m=6,g=3,y=2,v=1,w=new Float32Array(g*m*p),M=new Float32Array(y*m*p),E=new Float32Array(v*m*p);for(let D=0;D<p;D++){const I=D%3*2/3-1,G=D>2?0:-1,j=[I,G,0,I+2/3,G,0,I+2/3,G+1,0,I,G,0,I+2/3,G+1,0,I,G+1,0];w.set(j,g*m*D),M.set(f,y*m*D);const V=[D,D,D,D,D,D];E.set(V,v*m*D)}const T=new Rn;T.setAttribute("position",new ei(w,g)),T.setAttribute("uv",new ei(M,y)),T.setAttribute("faceIndex",new ei(E,v)),t.push(T),r>hu&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function EL(n,t,e){const i=new pr(n,t,e);return i.texture.mapping=Iv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Pm(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function Wht(n,t,e){const i=new Float32Array(yl),r=new tt(0,1,0);return new os({name:"SphericalGaussianBlur",defines:{n:yl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:lT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ua,depthTest:!1,depthWrite:!1})}function SL(){return new os({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ua,depthTest:!1,depthWrite:!1})}function ML(){return new os({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ua,depthTest:!1,depthWrite:!1})}function lT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ght(n){let t=new WeakMap,e=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===OE||l===PE,u=l===Qu||l===Ju;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=t.get(a);return e===null&&(e=new wL(n)),h=c?e.fromEquirectangular(a,h):e.fromCubemap(a,h),t.set(a,h),h.texture}else{if(t.has(a))return t.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&r(h)){e===null&&(e=new wL(n));const f=c?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function jht(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return e(i)!==null},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const r=e(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function qht(n,t,e,i){const r={},s=new WeakMap;function o(h){const f=h.target;f.index!==null&&t.remove(f.index);for(const m in f.attributes)t.remove(f.attributes[m]);f.removeEventListener("dispose",o),delete r[f.id];const p=s.get(f);p&&(t.remove(p),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,e.memory.geometries--}function a(h,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,e.memory.geometries++),f}function l(h){const f=h.attributes;for(const m in f)t.update(f[m],34962);const p=h.morphAttributes;for(const m in p){const g=p[m];for(let y=0,v=g.length;y<v;y++)t.update(g[y],34962)}}function c(h){const f=[],p=h.index,m=h.attributes.position;let g=0;if(p!==null){const w=p.array;g=p.version;for(let M=0,E=w.length;M<E;M+=3){const T=w[M+0],D=w[M+1],I=w[M+2];f.push(T,D,D,I,I,T)}}else{const w=m.array;g=m.version;for(let M=0,E=w.length/3-1;M<E;M+=3){const T=M+0,D=M+1,I=M+2;f.push(T,D,D,I,I,T)}}const y=new(UB(f)?GB:WB)(f,1);y.version=g;const v=s.get(h);v&&t.remove(v),s.set(h,y)}function u(h){const f=s.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Yht(n,t,e,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,p){n.drawElements(s,p,a,f*l),e.update(p,s,1)}function h(f,p,m){if(m===0)return;let g,y;if(r)g=n,y="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,p,a,f*l,m),e.update(p,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function Xht(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(e.calls++,o){case 4:e.triangles+=a*(s/3);break;case 1:e.lines+=a*(s/2);break;case 3:e.lines+=a*(s-1);break;case 2:e.lines+=a*s;break;case 0:e.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:i}}function Kht(n,t){return n[0]-t[0]}function Qht(n,t){return Math.abs(t[1])-Math.abs(n[1])}function K0(n,t){let e=1;const i=t.isInterleavedBufferAttribute?t.data.array:t.array;i instanceof Int8Array?e=127:i instanceof Int16Array?e=32767:i instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(e)}function Jht(n,t,e){const i={},r=new Float32Array(8),s=new WeakMap,o=new hn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h,f){const p=c.morphTargetInfluences;if(t.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=m!==void 0?m.length:0;let y=s.get(u);if(y===void 0||y.count!==g){let P=function(){nt.dispose(),s.delete(u),u.removeEventListener("dispose",P)};y!==void 0&&y.texture.dispose();const M=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,D=u.morphAttributes.position||[],I=u.morphAttributes.normal||[],G=u.morphAttributes.color||[];let j=0;M===!0&&(j=1),E===!0&&(j=2),T===!0&&(j=3);let V=u.attributes.position.count*j,A=1;V>t.maxTextureSize&&(A=Math.ceil(V/t.maxTextureSize),V=t.maxTextureSize);const F=new Float32Array(V*A*4*g),nt=new kv(F,V,A,g);nt.type=Sl,nt.needsUpdate=!0;const q=j*4;for(let W=0;W<g;W++){const Z=D[W],U=I[W],Q=G[W],ut=V*A*4*W;for(let vt=0;vt<Z.count;vt++){const at=vt*q;M===!0&&(o.fromBufferAttribute(Z,vt),Z.normalized===!0&&K0(o,Z),F[ut+at+0]=o.x,F[ut+at+1]=o.y,F[ut+at+2]=o.z,F[ut+at+3]=0),E===!0&&(o.fromBufferAttribute(U,vt),U.normalized===!0&&K0(o,U),F[ut+at+4]=o.x,F[ut+at+5]=o.y,F[ut+at+6]=o.z,F[ut+at+7]=0),T===!0&&(o.fromBufferAttribute(Q,vt),Q.normalized===!0&&K0(o,Q),F[ut+at+8]=o.x,F[ut+at+9]=o.y,F[ut+at+10]=o.z,F[ut+at+11]=Q.itemSize===4?o.w:1)}}y={count:g,texture:nt,size:new $t(V,A)},s.set(u,y),u.addEventListener("dispose",P)}let v=0;for(let M=0;M<p.length;M++)v+=p[M];const w=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",w),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,e),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const m=p===void 0?0:p.length;let g=i[u.id];if(g===void 0||g.length!==m){g=[];for(let E=0;E<m;E++)g[E]=[E,0];i[u.id]=g}for(let E=0;E<m;E++){const T=g[E];T[0]=E,T[1]=p[E]}g.sort(Qht);for(let E=0;E<8;E++)E<m&&g[E][1]?(a[E][0]=g[E][0],a[E][1]=g[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Kht);const y=u.morphAttributes.position,v=u.morphAttributes.normal;let w=0;for(let E=0;E<8;E++){const T=a[E],D=T[0],I=T[1];D!==Number.MAX_SAFE_INTEGER&&I?(y&&u.getAttribute("morphTarget"+E)!==y[D]&&u.setAttribute("morphTarget"+E,y[D]),v&&u.getAttribute("morphNormal"+E)!==v[D]&&u.setAttribute("morphNormal"+E,v[D]),r[E]=I,w+=I):(y&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),v&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),r[E]=0)}const M=u.morphTargetsRelative?1:1-w;f.getUniforms().setValue(n,"morphTargetBaseInfluence",M),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Zht(n,t,e,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,h=t.get(l,u);return r.get(h)!==c&&(t.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),e.update(l.instanceMatrix,34962),l.instanceColor!==null&&e.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),c.instanceColor!==null&&e.remove(c.instanceColor)}return{update:s,dispose:o}}const YB=new fi,XB=new kv,KB=new iT,QB=new Bv,TL=[],AL=[],CL=new Float32Array(16),OL=new Float32Array(9),PL=new Float32Array(4);function bh(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let s=TL[r];if(s===void 0&&(s=new Float32Array(r),TL[r]=s),t!==0){i.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=e,n[o].toArray(s,a)}return s}function Yi(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Li(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function Uv(n,t){let e=AL[t];e===void 0&&(e=new Int32Array(t),AL[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function tft(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function eft(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Yi(e,t))return;n.uniform2fv(this.addr,t),Li(e,t)}}function nft(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Yi(e,t))return;n.uniform3fv(this.addr,t),Li(e,t)}}function ift(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Yi(e,t))return;n.uniform4fv(this.addr,t),Li(e,t)}}function rft(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(Yi(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),Li(e,t)}else{if(Yi(e,i))return;PL.set(i),n.uniformMatrix2fv(this.addr,!1,PL),Li(e,i)}}function sft(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(Yi(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),Li(e,t)}else{if(Yi(e,i))return;OL.set(i),n.uniformMatrix3fv(this.addr,!1,OL),Li(e,i)}}function oft(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(Yi(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),Li(e,t)}else{if(Yi(e,i))return;CL.set(i),n.uniformMatrix4fv(this.addr,!1,CL),Li(e,i)}}function aft(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function lft(n,t){const e=this.cache;Yi(e,t)||(n.uniform2iv(this.addr,t),Li(e,t))}function cft(n,t){const e=this.cache;Yi(e,t)||(n.uniform3iv(this.addr,t),Li(e,t))}function uft(n,t){const e=this.cache;Yi(e,t)||(n.uniform4iv(this.addr,t),Li(e,t))}function hft(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function fft(n,t){const e=this.cache;Yi(e,t)||(n.uniform2uiv(this.addr,t),Li(e,t))}function dft(n,t){const e=this.cache;Yi(e,t)||(n.uniform3uiv(this.addr,t),Li(e,t))}function pft(n,t){const e=this.cache;Yi(e,t)||(n.uniform4uiv(this.addr,t),Li(e,t))}function mft(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2D(t||YB,r)}function gft(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||KB,r)}function yft(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||QB,r)}function _ft(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||XB,r)}function vft(n){switch(n){case 5126:return tft;case 35664:return eft;case 35665:return nft;case 35666:return ift;case 35674:return rft;case 35675:return sft;case 35676:return oft;case 5124:case 35670:return aft;case 35667:case 35671:return lft;case 35668:case 35672:return cft;case 35669:case 35673:return uft;case 5125:return hft;case 36294:return fft;case 36295:return dft;case 36296:return pft;case 35678:case 36198:case 36298:case 36306:case 35682:return mft;case 35679:case 36299:case 36307:return gft;case 35680:case 36300:case 36308:case 36293:return yft;case 36289:case 36303:case 36311:case 36292:return _ft}}function bft(n,t){n.uniform1fv(this.addr,t)}function xft(n,t){const e=bh(t,this.size,2);n.uniform2fv(this.addr,e)}function wft(n,t){const e=bh(t,this.size,3);n.uniform3fv(this.addr,e)}function Eft(n,t){const e=bh(t,this.size,4);n.uniform4fv(this.addr,e)}function Sft(n,t){const e=bh(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function Mft(n,t){const e=bh(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function Tft(n,t){const e=bh(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function Aft(n,t){n.uniform1iv(this.addr,t)}function Cft(n,t){n.uniform2iv(this.addr,t)}function Oft(n,t){n.uniform3iv(this.addr,t)}function Pft(n,t){n.uniform4iv(this.addr,t)}function Dft(n,t){n.uniform1uiv(this.addr,t)}function Rft(n,t){n.uniform2uiv(this.addr,t)}function Lft(n,t){n.uniform3uiv(this.addr,t)}function Ift(n,t){n.uniform4uiv(this.addr,t)}function Nft(n,t,e){const i=t.length,r=Uv(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTexture2D(t[s]||YB,r[s])}function kft(n,t,e){const i=t.length,r=Uv(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTexture3D(t[s]||KB,r[s])}function Fft(n,t,e){const i=t.length,r=Uv(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTextureCube(t[s]||QB,r[s])}function Bft(n,t,e){const i=t.length,r=Uv(e,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)e.setTexture2DArray(t[s]||XB,r[s])}function zft(n){switch(n){case 5126:return bft;case 35664:return xft;case 35665:return wft;case 35666:return Eft;case 35674:return Sft;case 35675:return Mft;case 35676:return Tft;case 5124:case 35670:return Aft;case 35667:case 35671:return Cft;case 35668:case 35672:return Oft;case 35669:case 35673:return Pft;case 5125:return Dft;case 36294:return Rft;case 36295:return Lft;case 36296:return Ift;case 35678:case 36198:case 36298:case 36306:case 35682:return Nft;case 35679:case 36299:case 36307:return kft;case 35680:case 36300:case 36308:case 36293:return Fft;case 36289:case 36303:case 36311:case 36292:return Bft}}function Uft(n,t,e){this.id=n,this.addr=e,this.cache=[],this.setValue=vft(t.type)}function JB(n,t,e){this.id=n,this.addr=e,this.cache=[],this.size=t.size,this.setValue=zft(t.type)}JB.prototype.updateCache=function(n){const t=this.cache;n instanceof Float32Array&&t.length!==n.length&&(this.cache=new Float32Array(n.length)),Li(t,n)};function ZB(n){this.id=n,this.seq=[],this.map={}}ZB.prototype.setValue=function(n,t,e){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(n,t[o.id],e)}};const Q0=/(\w+)(\])?(\[|\.)?/g;function DL(n,t){n.seq.push(t),n.map[t.id]=t}function Vft(n,t,e){const i=n.name,r=i.length;for(Q0.lastIndex=0;;){const s=Q0.exec(i),o=Q0.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){DL(e,c===void 0?new Uft(a,n,t):new JB(a,n,t));break}else{let h=e.map[a];h===void 0&&(h=new ZB(a),DL(e,h)),e=h}}}function ha(n,t){this.seq=[],this.map={};const e=n.getProgramParameter(t,35718);for(let i=0;i<e;++i){const r=n.getActiveUniform(t,i),s=n.getUniformLocation(t,r.name);Vft(r,s,this)}}ha.prototype.setValue=function(n,t,e,i){const r=this.map[t];r!==void 0&&r.setValue(n,e,i)};ha.prototype.setOptional=function(n,t,e){const i=t[e];i!==void 0&&this.setValue(n,e,i)};ha.upload=function(n,t,e,i){for(let r=0,s=t.length;r!==s;++r){const o=t[r],a=e[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,i)}};ha.seqWithValue=function(n,t){const e=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in t&&e.push(s)}return e};function RL(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}let Hft=0;function $ft(n,t){const e=n.split(`
`),i=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let o=r;o<s;o++)i.push(o+1+": "+e[o]);return i.join(`
`)}function Wft(n){switch(n){case Co:return["Linear","( value )"];case Cn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function LL(n,t,e){const i=n.getShaderParameter(t,35713),r=n.getShaderInfoLog(t).trim();if(i&&r==="")return"";const s=parseInt(/ERROR: 0:(\d+)/.exec(r)[1]);return e.toUpperCase()+`

`+r+`

`+$ft(n.getShaderSource(t),s)}function Gft(n,t){const e=Wft(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function jft(n,t){let e;switch(t){case dlt:e="Linear";break;case plt:e="Reinhard";break;case mlt:e="OptimizedCineon";break;case glt:e="ACESFilmic";break;case ylt:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function qft(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Sf).join(`
`)}function Yft(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function Xft(n,t){const e={},i=n.getProgramParameter(t,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(t,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),e[o]={type:s.type,location:n.getAttribLocation(t,o),locationSize:a}}return e}function Sf(n){return n!==""}function IL(n,t){return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function NL(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Kft=/^[ \t]*#include +<([\w\d./]+)>/gm;function kE(n){return n.replace(Kft,Qft)}function Qft(n,t){const e=We[t];if(e===void 0)throw new Error("Can not resolve #include <"+t+">");return kE(e)}const Jft=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Zft=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kL(n){return n.replace(Zft,tz).replace(Jft,tdt)}function tdt(n,t,e,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),tz(n,t,e,i)}function tz(n,t,e,i){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function FL(n){let t="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function edt(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===IB?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===Gat?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ef&&(t="SHADOWMAP_TYPE_VSM"),t}function ndt(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Qu:case Ju:t="ENVMAP_TYPE_CUBE";break;case Iv:t="ENVMAP_TYPE_CUBE_UV";break}return t}function idt(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ju:t="ENVMAP_MODE_REFRACTION";break}return t}function rdt(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Lv:t="ENVMAP_BLENDING_MULTIPLY";break;case hlt:t="ENVMAP_BLENDING_MIX";break;case flt:t="ENVMAP_BLENDING_ADD";break}return t}function sdt(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t/32+1)+3,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function odt(n,t,e,i){const r=n.getContext(),s=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=edt(e),c=ndt(e),u=idt(e),h=rdt(e),f=sdt(e),p=e.isWebGL2?"":qft(e),m=Yft(s),g=r.createProgram();let y,v,w=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(y=[m].filter(Sf).join(`
`),y.length>0&&(y+=`
`),v=[p,m].filter(Sf).join(`
`),v.length>0&&(v+=`
`)):(y=[FL(e),"#define SHADER_NAME "+e.shaderName,m,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sf).join(`
`),v=[p,FL(e),"#define SHADER_NAME "+e.shaderName,m,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+u:"",e.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==vo?"#define TONE_MAPPING":"",e.toneMapping!==vo?We.tonemapping_pars_fragment:"",e.toneMapping!==vo?jft("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",We.encodings_pars_fragment,Gft("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Sf).join(`
`)),o=kE(o),o=IL(o,e),o=NL(o,e),a=kE(a),a=IL(a,e),a=NL(a,e),o=kL(o),a=kL(a),e.isWebGL2&&e.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",e.glslVersion===oL?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===oL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const M=w+y+o,E=w+v+a,T=RL(r,35633,M),D=RL(r,35632,E);if(r.attachShader(g,T),r.attachShader(g,D),e.index0AttributeName!==void 0?r.bindAttribLocation(g,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const j=r.getProgramInfoLog(g).trim(),V=r.getShaderInfoLog(T).trim(),A=r.getShaderInfoLog(D).trim();let F=!0,nt=!0;if(r.getProgramParameter(g,35714)===!1){F=!1;const q=LL(r,T,"vertex"),P=LL(r,D,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+j+`
`+q+`
`+P)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(V===""||A==="")&&(nt=!1);nt&&(this.diagnostics={runnable:F,programLog:j,vertexShader:{log:V,prefix:y},fragmentShader:{log:A,prefix:v}})}r.deleteShader(T),r.deleteShader(D);let I;this.getUniforms=function(){return I===void 0&&(I=new ha(r,g)),I};let G;return this.getAttributes=function(){return G===void 0&&(G=Xft(r,g)),G},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=e.shaderName,this.id=Hft++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=D,this}let adt=0;class ldt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return e.has(t)===!1&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(e.has(t)===!1){const i=new cdt(t);e.set(t,i)}return e.get(t)}}class cdt{constructor(t){this.id=adt++,this.code=t,this.usedTimes=0}}function udt(n,t,e,i,r,s,o){const a=new $B,l=new ldt,c=[],u=r.isWebGL2,h=r.logarithmicDepthBuffer,f=r.floatVertexTextures,p=r.maxVertexUniforms,m=r.vertexTextures;let g=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(A){const nt=A.skeleton.bones;if(f)return 1024;{const P=Math.floor((p-20)/4),W=Math.min(P,nt.length);return W<nt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+nt.length+" bones. This GPU supports "+W+"."),0):W}}function w(A,F,nt,q,P){const W=q.fog,Z=P.geometry,U=A.isMeshStandardMaterial?q.environment:null,Q=(A.isMeshStandardMaterial?e:t).get(A.envMap||U),ut=!!Q&&Q.mapping===Iv?Q.image.height:null,vt=y[A.type],at=P.isSkinnedMesh?v(P):0;A.precision!==null&&(g=r.getMaxPrecision(A.precision),g!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",g,"instead."));const Ct=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,Lt=Ct!==void 0?Ct.length:0;let et=0;Z.morphAttributes.position!==void 0&&(et=1),Z.morphAttributes.normal!==void 0&&(et=2),Z.morphAttributes.color!==void 0&&(et=3);let Y,Et,lt,Mt;if(vt){const $=As[vt];Y=$.vertexShader,Et=$.fragmentShader}else Y=A.vertexShader,Et=A.fragmentShader,l.update(A),lt=l.getVertexShaderID(A),Mt=l.getFragmentShaderID(A);const xt=n.getRenderTarget(),Rt=A.alphaTest>0,O=A.clearcoat>0;return{isWebGL2:u,shaderID:vt,shaderName:A.type,vertexShader:Y,fragmentShader:Et,defines:A.defines,customVertexShaderID:lt,customFragmentShaderID:Mt,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:g,instancing:P.isInstancedMesh===!0,instancingColor:P.isInstancedMesh===!0&&P.instanceColor!==null,supportsVertexTextures:m,outputEncoding:xt===null?n.outputEncoding:xt.isXRRenderTarget===!0?xt.texture.encoding:Co,map:!!A.map,matcap:!!A.matcap,envMap:!!Q,envMapMode:Q&&Q.mapping,envMapCubeUVHeight:ut,lightMap:!!A.lightMap,aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===Ult,tangentSpaceNormalMap:A.normalMapType===yh,decodeVideoTexture:!!A.map&&A.map.isVideoTexture===!0&&A.map.encoding===Cn,clearcoat:O,clearcoatMap:O&&!!A.clearcoatMap,clearcoatRoughnessMap:O&&!!A.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,specularIntensityMap:!!A.specularIntensityMap,specularColorMap:!!A.specularColorMap,opaque:A.transparent===!1&&A.blending===Eu,alphaMap:!!A.alphaMap,alphaTest:Rt,gradientMap:!!A.gradientMap,sheen:A.sheen>0,sheenColorMap:!!A.sheenColorMap,sheenRoughnessMap:!!A.sheenRoughnessMap,transmission:A.transmission>0,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:!!A.normalMap&&!!Z.attributes.tangent,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||!!A.sheenColorMap||!!A.sheenRoughnessMap,uvsVertexOnly:!(!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatNormalMap||A.transmission>0||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||A.sheen>0||!!A.sheenColorMap||!!A.sheenRoughnessMap)&&!!A.displacementMap,fog:!!W,useFog:A.fog,fogExp2:W&&W.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h,skinning:P.isSkinnedMesh===!0&&at>0,maxBones:at,useVertexTexture:f,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:Lt,morphTextureStride:et,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&nt.length>0,shadowMapType:n.shadowMap.type,toneMapping:A.toneMapped?n.toneMapping:vo,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===Ku,flipSided:A.side===rs,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function M(A){const F=[];if(A.shaderID?F.push(A.shaderID):(F.push(A.customVertexShaderID),F.push(A.customFragmentShaderID)),A.defines!==void 0)for(const nt in A.defines)F.push(nt),F.push(A.defines[nt]);return A.isRawShaderMaterial===!1&&(E(F,A),T(F,A),F.push(n.outputEncoding)),F.push(A.customProgramCacheKey),F.join()}function E(A,F){A.push(F.precision),A.push(F.outputEncoding),A.push(F.envMapMode),A.push(F.envMapCubeUVHeight),A.push(F.combine),A.push(F.vertexUvs),A.push(F.fogExp2),A.push(F.sizeAttenuation),A.push(F.maxBones),A.push(F.morphTargetsCount),A.push(F.morphAttributeCount),A.push(F.numDirLights),A.push(F.numPointLights),A.push(F.numSpotLights),A.push(F.numHemiLights),A.push(F.numRectAreaLights),A.push(F.numDirLightShadows),A.push(F.numPointLightShadows),A.push(F.numSpotLightShadows),A.push(F.shadowMapType),A.push(F.toneMapping),A.push(F.numClippingPlanes),A.push(F.numClipIntersection)}function T(A,F){a.disableAll(),F.isWebGL2&&a.enable(0),F.supportsVertexTextures&&a.enable(1),F.instancing&&a.enable(2),F.instancingColor&&a.enable(3),F.map&&a.enable(4),F.matcap&&a.enable(5),F.envMap&&a.enable(6),F.lightMap&&a.enable(7),F.aoMap&&a.enable(8),F.emissiveMap&&a.enable(9),F.bumpMap&&a.enable(10),F.normalMap&&a.enable(11),F.objectSpaceNormalMap&&a.enable(12),F.tangentSpaceNormalMap&&a.enable(13),F.clearcoat&&a.enable(14),F.clearcoatMap&&a.enable(15),F.clearcoatRoughnessMap&&a.enable(16),F.clearcoatNormalMap&&a.enable(17),F.displacementMap&&a.enable(18),F.specularMap&&a.enable(19),F.roughnessMap&&a.enable(20),F.metalnessMap&&a.enable(21),F.gradientMap&&a.enable(22),F.alphaMap&&a.enable(23),F.alphaTest&&a.enable(24),F.vertexColors&&a.enable(25),F.vertexAlphas&&a.enable(26),F.vertexUvs&&a.enable(27),F.vertexTangents&&a.enable(28),F.uvsVertexOnly&&a.enable(29),F.fog&&a.enable(30),A.push(a.mask),a.disableAll(),F.useFog&&a.enable(0),F.flatShading&&a.enable(1),F.logarithmicDepthBuffer&&a.enable(2),F.skinning&&a.enable(3),F.useVertexTexture&&a.enable(4),F.morphTargets&&a.enable(5),F.morphNormals&&a.enable(6),F.morphColors&&a.enable(7),F.premultipliedAlpha&&a.enable(8),F.shadowMapEnabled&&a.enable(9),F.physicallyCorrectLights&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.depthPacking&&a.enable(13),F.dithering&&a.enable(14),F.specularIntensityMap&&a.enable(15),F.specularColorMap&&a.enable(16),F.transmission&&a.enable(17),F.transmissionMap&&a.enable(18),F.thicknessMap&&a.enable(19),F.sheen&&a.enable(20),F.sheenColorMap&&a.enable(21),F.sheenRoughnessMap&&a.enable(22),F.decodeVideoTexture&&a.enable(23),F.opaque&&a.enable(24),A.push(a.mask)}function D(A){const F=y[A.type];let nt;if(F){const q=As[F];nt=rct.clone(q.uniforms)}else nt=A.uniforms;return nt}function I(A,F){let nt;for(let q=0,P=c.length;q<P;q++){const W=c[q];if(W.cacheKey===F){nt=W,++nt.usedTimes;break}}return nt===void 0&&(nt=new odt(n,F,A,s),c.push(nt)),nt}function G(A){if(--A.usedTimes===0){const F=c.indexOf(A);c[F]=c[c.length-1],c.pop(),A.destroy()}}function j(A){l.remove(A)}function V(){l.dispose()}return{getParameters:w,getProgramCacheKey:M,getUniforms:D,acquireProgram:I,releaseProgram:G,releaseShaderCache:j,programs:c,dispose:V}}function hdt(){let n=new WeakMap;function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function e(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:t,remove:e,update:i,dispose:r}}function fdt(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function BL(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function zL(){const n=[];let t=0;const e=[],i=[],r=[];function s(){t=0,e.length=0,i.length=0,r.length=0}function o(h,f,p,m,g,y){let v=n[t];return v===void 0?(v={id:h.id,object:h,geometry:f,material:p,groupOrder:m,renderOrder:h.renderOrder,z:g,group:y},n[t]=v):(v.id=h.id,v.object=h,v.geometry=f,v.material=p,v.groupOrder=m,v.renderOrder=h.renderOrder,v.z=g,v.group=y),t++,v}function a(h,f,p,m,g,y){const v=o(h,f,p,m,g,y);p.transmission>0?i.push(v):p.transparent===!0?r.push(v):e.push(v)}function l(h,f,p,m,g,y){const v=o(h,f,p,m,g,y);p.transmission>0?i.unshift(v):p.transparent===!0?r.unshift(v):e.unshift(v)}function c(h,f){e.length>1&&e.sort(h||fdt),i.length>1&&i.sort(f||BL),r.length>1&&r.sort(f||BL)}function u(){for(let h=t,f=n.length;h<f;h++){const p=n[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:e,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function ddt(){let n=new WeakMap;function t(i,r){let s;return n.has(i)===!1?(s=new zL,n.set(i,[s])):r>=n.get(i).length?(s=new zL,n.get(i).push(s)):s=n.get(i)[r],s}function e(){n=new WeakMap}return{get:t,dispose:e}}function pdt(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new tt,color:new ce};break;case"SpotLight":e={position:new tt,direction:new tt,color:new ce,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new tt,color:new ce,distance:0,decay:0};break;case"HemisphereLight":e={direction:new tt,skyColor:new ce,groundColor:new ce};break;case"RectAreaLight":e={color:new ce,position:new tt,halfWidth:new tt,halfHeight:new tt};break}return n[t.id]=e,e}}}function mdt(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let gdt=0;function ydt(n,t){return(t.castShadow?1:0)-(n.castShadow?1:0)}function _dt(n,t){const e=new pdt,i=mdt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new tt);const s=new tt,o=new me,a=new me;function l(u,h){let f=0,p=0,m=0;for(let j=0;j<9;j++)r.probe[j].set(0,0,0);let g=0,y=0,v=0,w=0,M=0,E=0,T=0,D=0;u.sort(ydt);const I=h!==!0?Math.PI:1;for(let j=0,V=u.length;j<V;j++){const A=u[j],F=A.color,nt=A.intensity,q=A.distance,P=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)f+=F.r*nt*I,p+=F.g*nt*I,m+=F.b*nt*I;else if(A.isLightProbe)for(let W=0;W<9;W++)r.probe[W].addScaledVector(A.sh.coefficients[W],nt);else if(A.isDirectionalLight){const W=e.get(A);if(W.color.copy(A.color).multiplyScalar(A.intensity*I),A.castShadow){const Z=A.shadow,U=i.get(A);U.shadowBias=Z.bias,U.shadowNormalBias=Z.normalBias,U.shadowRadius=Z.radius,U.shadowMapSize=Z.mapSize,r.directionalShadow[g]=U,r.directionalShadowMap[g]=P,r.directionalShadowMatrix[g]=A.shadow.matrix,E++}r.directional[g]=W,g++}else if(A.isSpotLight){const W=e.get(A);if(W.position.setFromMatrixPosition(A.matrixWorld),W.color.copy(F).multiplyScalar(nt*I),W.distance=q,W.coneCos=Math.cos(A.angle),W.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),W.decay=A.decay,A.castShadow){const Z=A.shadow,U=i.get(A);U.shadowBias=Z.bias,U.shadowNormalBias=Z.normalBias,U.shadowRadius=Z.radius,U.shadowMapSize=Z.mapSize,r.spotShadow[v]=U,r.spotShadowMap[v]=P,r.spotShadowMatrix[v]=A.shadow.matrix,D++}r.spot[v]=W,v++}else if(A.isRectAreaLight){const W=e.get(A);W.color.copy(F).multiplyScalar(nt),W.halfWidth.set(A.width*.5,0,0),W.halfHeight.set(0,A.height*.5,0),r.rectArea[w]=W,w++}else if(A.isPointLight){const W=e.get(A);if(W.color.copy(A.color).multiplyScalar(A.intensity*I),W.distance=A.distance,W.decay=A.decay,A.castShadow){const Z=A.shadow,U=i.get(A);U.shadowBias=Z.bias,U.shadowNormalBias=Z.normalBias,U.shadowRadius=Z.radius,U.shadowMapSize=Z.mapSize,U.shadowCameraNear=Z.camera.near,U.shadowCameraFar=Z.camera.far,r.pointShadow[y]=U,r.pointShadowMap[y]=P,r.pointShadowMatrix[y]=A.shadow.matrix,T++}r.point[y]=W,y++}else if(A.isHemisphereLight){const W=e.get(A);W.skyColor.copy(A.color).multiplyScalar(nt*I),W.groundColor.copy(A.groundColor).multiplyScalar(nt*I),r.hemi[M]=W,M++}}w>0&&(t.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_FLOAT_1,r.rectAreaLTC2=Kt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_HALF_1,r.rectAreaLTC2=Kt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=p,r.ambient[2]=m;const G=r.hash;(G.directionalLength!==g||G.pointLength!==y||G.spotLength!==v||G.rectAreaLength!==w||G.hemiLength!==M||G.numDirectionalShadows!==E||G.numPointShadows!==T||G.numSpotShadows!==D)&&(r.directional.length=g,r.spot.length=v,r.rectArea.length=w,r.point.length=y,r.hemi.length=M,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=D,r.spotShadowMap.length=D,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=T,r.spotShadowMatrix.length=D,G.directionalLength=g,G.pointLength=y,G.spotLength=v,G.rectAreaLength=w,G.hemiLength=M,G.numDirectionalShadows=E,G.numPointShadows=T,G.numSpotShadows=D,r.version=gdt++)}function c(u,h){let f=0,p=0,m=0,g=0,y=0;const v=h.matrixWorldInverse;for(let w=0,M=u.length;w<M;w++){const E=u[w];if(E.isDirectionalLight){const T=r.directional[f];T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),f++}else if(E.isSpotLight){const T=r.spot[m];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),m++}else if(E.isRectAreaLight){const T=r.rectArea[g];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),a.identity(),o.copy(E.matrixWorld),o.premultiply(v),a.extractRotation(o),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),g++}else if(E.isPointLight){const T=r.point[p];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),p++}else if(E.isHemisphereLight){const T=r.hemi[y];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(v),T.direction.normalize(),y++}}}return{setup:l,setupView:c,state:r}}function UL(n,t){const e=new _dt(n,t),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){e.setup(i,h)}function c(h){e.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:e},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function vdt(n,t){let e=new WeakMap;function i(s,o=0){let a;return e.has(s)===!1?(a=new UL(n,t),e.set(s,[a])):o>=e.get(s).length?(a=new UL(n,t),e.get(s).push(a)):a=e.get(s)[o],a}function r(){e=new WeakMap}return{get:i,dispose:r}}class cT extends ii{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=Blt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}cT.prototype.isMeshDepthMaterial=!0;class uT extends ii{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new tt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}uT.prototype.isMeshDistanceMaterial=!0;const bdt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xdt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ez(n,t,e){let i=new zv;const r=new $t,s=new $t,o=new hn,a=new cT({depthPacking:zlt}),l=new uT,c={},u=e.maxTextureSize,h={0:rs,1:vd,2:Ku},f=new os({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $t},radius:{value:4}},vertexShader:bdt,fragmentShader:xdt}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const m=new Rn;m.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new rr(m,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=IB,this.render=function(E,T,D){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const I=n.getRenderTarget(),G=n.getActiveCubeFace(),j=n.getActiveMipmapLevel(),V=n.state;V.setBlending(ua),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);for(let A=0,F=E.length;A<F;A++){const nt=E[A],q=nt.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",nt,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const P=q.getFrameExtents();if(r.multiply(P),s.copy(q.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/P.x),r.x=s.x*P.x,q.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/P.y),r.y=s.y*P.y,q.mapSize.y=s.y)),q.map===null&&!q.isPointLightShadow&&this.type===Ef&&(q.map=new pr(r.x,r.y),q.map.texture.name=nt.name+".shadowMap",q.mapPass=new pr(r.x,r.y),q.camera.updateProjectionMatrix()),q.map===null){const Z={minFilter:oi,magFilter:oi,format:ts};q.map=new pr(r.x,r.y,Z),q.map.texture.name=nt.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const W=q.getViewportCount();for(let Z=0;Z<W;Z++){const U=q.getViewport(Z);o.set(s.x*U.x,s.y*U.y,s.x*U.z,s.y*U.w),V.viewport(o),q.updateMatrices(nt,Z),i=q.getFrustum(),M(T,D,q.camera,nt,this.type)}!q.isPointLightShadow&&this.type===Ef&&v(q,D),q.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(I,G,j)};function v(E,T){const D=t.update(g);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(T,null,D,f,g,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(T,null,D,p,g,null)}function w(E,T,D,I,G,j){let V=null;const A=D.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(A!==void 0?V=A:V=D.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0){const F=V.uuid,nt=T.uuid;let q=c[F];q===void 0&&(q={},c[F]=q);let P=q[nt];P===void 0&&(P=V.clone(),q[nt]=P),V=P}return V.visible=T.visible,V.wireframe=T.wireframe,j===Ef?V.side=T.shadowSide!==null?T.shadowSide:T.side:V.side=T.shadowSide!==null?T.shadowSide:h[T.side],V.alphaMap=T.alphaMap,V.alphaTest=T.alphaTest,V.clipShadows=T.clipShadows,V.clippingPlanes=T.clippingPlanes,V.clipIntersection=T.clipIntersection,V.displacementMap=T.displacementMap,V.displacementScale=T.displacementScale,V.displacementBias=T.displacementBias,V.wireframeLinewidth=T.wireframeLinewidth,V.linewidth=T.linewidth,D.isPointLight===!0&&V.isMeshDistanceMaterial===!0&&(V.referencePosition.setFromMatrixPosition(D.matrixWorld),V.nearDistance=I,V.farDistance=G),V}function M(E,T,D,I,G){if(E.visible===!1)return;if(E.layers.test(T.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&G===Ef)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,E.matrixWorld);const A=t.update(E),F=E.material;if(Array.isArray(F)){const nt=A.groups;for(let q=0,P=nt.length;q<P;q++){const W=nt[q],Z=F[W.materialIndex];if(Z&&Z.visible){const U=w(E,Z,I,D.near,D.far,G);n.renderBufferDirect(D,null,A,U,E,W)}}}else if(F.visible){const nt=w(E,F,I,D.near,D.far,G);n.renderBufferDirect(D,null,A,nt,E,null)}}const V=E.children;for(let A=0,F=V.length;A<F;A++)M(V[A],T,D,I,G)}}function wdt(n,t,e){const i=e.isWebGL2;function r(){let it=!1;const Gt=new hn;let kt=null;const ft=new hn(0,0,0,0);return{setMask:function(Vt){kt!==Vt&&!it&&(n.colorMask(Vt,Vt,Vt,Vt),kt=Vt)},setLocked:function(Vt){it=Vt},setClear:function(Vt,he,jt,ye,Re){Re===!0&&(Vt*=ye,he*=ye,jt*=ye),Gt.set(Vt,he,jt,ye),ft.equals(Gt)===!1&&(n.clearColor(Vt,he,jt,ye),ft.copy(Gt))},reset:function(){it=!1,kt=null,ft.set(-1,0,0,0)}}}function s(){let it=!1,Gt=null,kt=null,ft=null;return{setTest:function(Vt){Vt?et(2929):Y(2929)},setMask:function(Vt){Gt!==Vt&&!it&&(n.depthMask(Vt),Gt=Vt)},setFunc:function(Vt){if(kt!==Vt){if(Vt)switch(Vt){case rlt:n.depthFunc(512);break;case slt:n.depthFunc(519);break;case olt:n.depthFunc(513);break;case CE:n.depthFunc(515);break;case alt:n.depthFunc(514);break;case llt:n.depthFunc(518);break;case clt:n.depthFunc(516);break;case ult:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);kt=Vt}},setLocked:function(Vt){it=Vt},setClear:function(Vt){ft!==Vt&&(n.clearDepth(Vt),ft=Vt)},reset:function(){it=!1,Gt=null,kt=null,ft=null}}}function o(){let it=!1,Gt=null,kt=null,ft=null,Vt=null,he=null,jt=null,ye=null,Re=null;return{setTest:function(Te){it||(Te?et(2960):Y(2960))},setMask:function(Te){Gt!==Te&&!it&&(n.stencilMask(Te),Gt=Te)},setFunc:function(Te,Xn,Bn){(kt!==Te||ft!==Xn||Vt!==Bn)&&(n.stencilFunc(Te,Xn,Bn),kt=Te,ft=Xn,Vt=Bn)},setOp:function(Te,Xn,Bn){(he!==Te||jt!==Xn||ye!==Bn)&&(n.stencilOp(Te,Xn,Bn),he=Te,jt=Xn,ye=Bn)},setLocked:function(Te){it=Te},setClear:function(Te){Re!==Te&&(n.clearStencil(Te),Re=Te)},reset:function(){it=!1,Gt=null,kt=null,ft=null,Vt=null,he=null,jt=null,ye=null,Re=null}}}const a=new r,l=new s,c=new o;let u={},h={},f=new WeakMap,p=[],m=null,g=!1,y=null,v=null,w=null,M=null,E=null,T=null,D=null,I=!1,G=null,j=null,V=null,A=null,F=null;const nt=n.getParameter(35661);let q=!1,P=0;const W=n.getParameter(7938);W.indexOf("WebGL")!==-1?(P=parseFloat(/^WebGL (\d)/.exec(W)[1]),q=P>=1):W.indexOf("OpenGL ES")!==-1&&(P=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),q=P>=2);let Z=null,U={};const Q=n.getParameter(3088),ut=n.getParameter(2978),vt=new hn().fromArray(Q),at=new hn().fromArray(ut);function Ct(it,Gt,kt){const ft=new Uint8Array(4),Vt=n.createTexture();n.bindTexture(it,Vt),n.texParameteri(it,10241,9728),n.texParameteri(it,10240,9728);for(let he=0;he<kt;he++)n.texImage2D(Gt+he,0,6408,1,1,0,6408,5121,ft);return Vt}const Lt={};Lt[3553]=Ct(3553,3553,1),Lt[34067]=Ct(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),et(2929),l.setFunc(CE),$(!1),X(DR),et(2884),O(ua);function et(it){u[it]!==!0&&(n.enable(it),u[it]=!0)}function Y(it){u[it]!==!1&&(n.disable(it),u[it]=!1)}function Et(it,Gt){return h[it]!==Gt?(n.bindFramebuffer(it,Gt),h[it]=Gt,i&&(it===36009&&(h[36160]=Gt),it===36160&&(h[36009]=Gt)),!0):!1}function lt(it,Gt){let kt=p,ft=!1;if(it)if(kt=f.get(Gt),kt===void 0&&(kt=[],f.set(Gt,kt)),it.isWebGLMultipleRenderTargets){const Vt=it.texture;if(kt.length!==Vt.length||kt[0]!==36064){for(let he=0,jt=Vt.length;he<jt;he++)kt[he]=36064+he;kt.length=Vt.length,ft=!0}}else kt[0]!==36064&&(kt[0]=36064,ft=!0);else kt[0]!==1029&&(kt[0]=1029,ft=!0);ft&&(e.isWebGL2?n.drawBuffers(kt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(kt))}function Mt(it){return m!==it?(n.useProgram(it),m=it,!0):!1}const xt={[ru]:32774,[qat]:32778,[Yat]:32779};if(i)xt[NR]=32775,xt[kR]=32776;else{const it=t.get("EXT_blend_minmax");it!==null&&(xt[NR]=it.MIN_EXT,xt[kR]=it.MAX_EXT)}const Rt={[Xat]:0,[Kat]:1,[Qat]:768,[kB]:770,[ilt]:776,[elt]:774,[Zat]:772,[Jat]:769,[FB]:771,[nlt]:775,[tlt]:773};function O(it,Gt,kt,ft,Vt,he,jt,ye){if(it===ua){g===!0&&(Y(3042),g=!1);return}if(g===!1&&(et(3042),g=!0),it!==jat){if(it!==y||ye!==I){if((v!==ru||E!==ru)&&(n.blendEquation(32774),v=ru,E=ru),ye)switch(it){case Eu:n.blendFuncSeparate(1,771,1,771);break;case RR:n.blendFunc(1,1);break;case LR:n.blendFuncSeparate(0,769,0,1);break;case IR:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",it);break}else switch(it){case Eu:n.blendFuncSeparate(770,771,1,771);break;case RR:n.blendFunc(770,1);break;case LR:n.blendFuncSeparate(0,769,0,1);break;case IR:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",it);break}w=null,M=null,T=null,D=null,y=it,I=ye}return}Vt=Vt||Gt,he=he||kt,jt=jt||ft,(Gt!==v||Vt!==E)&&(n.blendEquationSeparate(xt[Gt],xt[Vt]),v=Gt,E=Vt),(kt!==w||ft!==M||he!==T||jt!==D)&&(n.blendFuncSeparate(Rt[kt],Rt[ft],Rt[he],Rt[jt]),w=kt,M=ft,T=he,D=jt),y=it,I=null}function N(it,Gt){it.side===Ku?Y(2884):et(2884);let kt=it.side===rs;Gt&&(kt=!kt),$(kt),it.blending===Eu&&it.transparent===!1?O(ua):O(it.blending,it.blendEquation,it.blendSrc,it.blendDst,it.blendEquationAlpha,it.blendSrcAlpha,it.blendDstAlpha,it.premultipliedAlpha),l.setFunc(it.depthFunc),l.setTest(it.depthTest),l.setMask(it.depthWrite),a.setMask(it.colorWrite);const ft=it.stencilWrite;c.setTest(ft),ft&&(c.setMask(it.stencilWriteMask),c.setFunc(it.stencilFunc,it.stencilRef,it.stencilFuncMask),c.setOp(it.stencilFail,it.stencilZFail,it.stencilZPass)),mt(it.polygonOffset,it.polygonOffsetFactor,it.polygonOffsetUnits),it.alphaToCoverage===!0?et(32926):Y(32926)}function $(it){G!==it&&(it?n.frontFace(2304):n.frontFace(2305),G=it)}function X(it){it!==$at?(et(2884),it!==j&&(it===DR?n.cullFace(1029):it===Wat?n.cullFace(1028):n.cullFace(1032))):Y(2884),j=it}function rt(it){it!==V&&(q&&n.lineWidth(it),V=it)}function mt(it,Gt,kt){it?(et(32823),(A!==Gt||F!==kt)&&(n.polygonOffset(Gt,kt),A=Gt,F=kt)):Y(32823)}function yt(it){it?et(3089):Y(3089)}function ht(it){it===void 0&&(it=33984+nt-1),Z!==it&&(n.activeTexture(it),Z=it)}function Tt(it,Gt){Z===null&&ht();let kt=U[Z];kt===void 0&&(kt={type:void 0,texture:void 0},U[Z]=kt),(kt.type!==it||kt.texture!==Gt)&&(n.bindTexture(it,Gt||Lt[it]),kt.type=it,kt.texture=Gt)}function bt(){const it=U[Z];it!==void 0&&it.type!==void 0&&(n.bindTexture(it.type,null),it.type=void 0,it.texture=void 0)}function k(){try{n.compressedTexImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function R(){try{n.texSubImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function st(){try{n.texSubImage3D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function gt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function Ot(){try{n.texStorage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function Nt(){try{n.texStorage3D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function Wt(){try{n.texImage2D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function _t(){try{n.texImage3D.apply(n,arguments)}catch(it){console.error("THREE.WebGLState:",it)}}function re(it){vt.equals(it)===!1&&(n.scissor(it.x,it.y,it.z,it.w),vt.copy(it))}function pe(it){at.equals(it)===!1&&(n.viewport(it.x,it.y,it.z,it.w),at.copy(it))}function Qt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},Z=null,U={},h={},f=new WeakMap,p=[],m=null,g=!1,y=null,v=null,w=null,M=null,E=null,T=null,D=null,I=!1,G=null,j=null,V=null,A=null,F=null,vt.set(0,0,n.canvas.width,n.canvas.height),at.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:et,disable:Y,bindFramebuffer:Et,drawBuffers:lt,useProgram:Mt,setBlending:O,setMaterial:N,setFlipSided:$,setCullFace:X,setLineWidth:rt,setPolygonOffset:mt,setScissorTest:yt,activeTexture:ht,bindTexture:Tt,unbindTexture:bt,compressedTexImage2D:k,texImage2D:Wt,texImage3D:_t,texStorage2D:Ot,texStorage3D:Nt,texSubImage2D:R,texSubImage3D:st,compressedTexSubImage2D:gt,scissor:re,viewport:pe,reset:Qt}}function Edt(n,t,e,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(k,R){return v?new OffscreenCanvas(k,R):wd("canvas")}function M(k,R,st,gt){let Ot=1;if((k.width>gt||k.height>gt)&&(Ot=gt/Math.max(k.width,k.height)),Ot<1||R===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const Nt=R?NE:Math.floor,Wt=Nt(Ot*k.width),_t=Nt(Ot*k.height);g===void 0&&(g=w(Wt,_t));const re=st?w(Wt,_t):g;return re.width=Wt,re.height=_t,re.getContext("2d").drawImage(k,0,0,Wt,_t),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+Wt+"x"+_t+")."),re}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function E(k){return aL(k.width)&&aL(k.height)}function T(k){return a?!1:k.wrapS!==Qr||k.wrapT!==Qr||k.minFilter!==oi&&k.minFilter!==tr}function D(k,R){return k.generateMipmaps&&R&&k.minFilter!==oi&&k.minFilter!==tr}function I(k){n.generateMipmap(k)}function G(k,R,st,gt,Ot=!1){if(a===!1)return R;if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Nt=R;return R===6403&&(st===5126&&(Nt=33326),st===5131&&(Nt=33325),st===5121&&(Nt=33321)),R===33319&&(st===5126&&(Nt=33328),st===5131&&(Nt=33327),st===5121&&(Nt=33323)),R===6408&&(st===5126&&(Nt=34836),st===5131&&(Nt=34842),st===5121&&(Nt=gt===Cn&&Ot===!1?35907:32856),st===32819&&(Nt=32854),st===32820&&(Nt=32855)),(Nt===33325||Nt===33326||Nt===33327||Nt===33328||Nt===34842||Nt===34836)&&t.get("EXT_color_buffer_float"),Nt}function j(k,R,st){return D(k,st)===!0||k.isFramebufferTexture&&k.minFilter!==oi&&k.minFilter!==tr?Math.log2(Math.max(R.width,R.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?R.mipmaps.length:1}function V(k){return k===oi||k===FR||k===BR?9728:9729}function A(k){const R=k.target;R.removeEventListener("dispose",A),nt(R),R.isVideoTexture&&m.delete(R)}function F(k){const R=k.target;R.removeEventListener("dispose",F),P(R)}function nt(k){const R=i.get(k);if(R.__webglInit===void 0)return;const st=k.source,gt=y.get(st);if(gt){const Ot=gt[R.__cacheKey];Ot.usedTimes--,Ot.usedTimes===0&&q(k),Object.keys(gt).length===0&&y.delete(st)}i.remove(k)}function q(k){const R=i.get(k);n.deleteTexture(R.__webglTexture);const st=k.source,gt=y.get(st);delete gt[R.__cacheKey],o.memory.textures--}function P(k){const R=k.texture,st=i.get(k),gt=i.get(R);if(gt.__webglTexture!==void 0&&(n.deleteTexture(gt.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let Ot=0;Ot<6;Ot++)n.deleteFramebuffer(st.__webglFramebuffer[Ot]),st.__webglDepthbuffer&&n.deleteRenderbuffer(st.__webglDepthbuffer[Ot]);else n.deleteFramebuffer(st.__webglFramebuffer),st.__webglDepthbuffer&&n.deleteRenderbuffer(st.__webglDepthbuffer),st.__webglMultisampledFramebuffer&&n.deleteFramebuffer(st.__webglMultisampledFramebuffer),st.__webglColorRenderbuffer&&n.deleteRenderbuffer(st.__webglColorRenderbuffer),st.__webglDepthRenderbuffer&&n.deleteRenderbuffer(st.__webglDepthRenderbuffer);if(k.isWebGLMultipleRenderTargets)for(let Ot=0,Nt=R.length;Ot<Nt;Ot++){const Wt=i.get(R[Ot]);Wt.__webglTexture&&(n.deleteTexture(Wt.__webglTexture),o.memory.textures--),i.remove(R[Ot])}i.remove(R),i.remove(k)}let W=0;function Z(){W=0}function U(){const k=W;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),W+=1,k}function Q(k){const R=[];return R.push(k.wrapS),R.push(k.wrapT),R.push(k.magFilter),R.push(k.minFilter),R.push(k.anisotropy),R.push(k.internalFormat),R.push(k.format),R.push(k.type),R.push(k.generateMipmaps),R.push(k.premultiplyAlpha),R.push(k.flipY),R.push(k.unpackAlignment),R.push(k.encoding),R.join()}function ut(k,R){const st=i.get(k);if(k.isVideoTexture&&Tt(k),k.isRenderTargetTexture===!1&&k.version>0&&st.__version!==k.version){const gt=k.image;if(gt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(gt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{lt(st,k,R);return}}e.activeTexture(33984+R),e.bindTexture(3553,st.__webglTexture)}function vt(k,R){const st=i.get(k);if(k.version>0&&st.__version!==k.version){lt(st,k,R);return}e.activeTexture(33984+R),e.bindTexture(35866,st.__webglTexture)}function at(k,R){const st=i.get(k);if(k.version>0&&st.__version!==k.version){lt(st,k,R);return}e.activeTexture(33984+R),e.bindTexture(32879,st.__webglTexture)}function Ct(k,R){const st=i.get(k);if(k.version>0&&st.__version!==k.version){Mt(st,k,R);return}e.activeTexture(33984+R),e.bindTexture(34067,st.__webglTexture)}const Lt={[DE]:10497,[Qr]:33071,[RE]:33648},et={[oi]:9728,[FR]:9984,[BR]:9986,[tr]:9729,[_lt]:9985,[Nv]:9987};function Y(k,R,st){if(st?(n.texParameteri(k,10242,Lt[R.wrapS]),n.texParameteri(k,10243,Lt[R.wrapT]),(k===32879||k===35866)&&n.texParameteri(k,32882,Lt[R.wrapR]),n.texParameteri(k,10240,et[R.magFilter]),n.texParameteri(k,10241,et[R.minFilter])):(n.texParameteri(k,10242,33071),n.texParameteri(k,10243,33071),(k===32879||k===35866)&&n.texParameteri(k,32882,33071),(R.wrapS!==Qr||R.wrapT!==Qr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(k,10240,V(R.magFilter)),n.texParameteri(k,10241,V(R.minFilter)),R.minFilter!==oi&&R.minFilter!==tr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const gt=t.get("EXT_texture_filter_anisotropic");if(R.type===Sl&&t.has("OES_texture_float_linear")===!1||a===!1&&R.type===Su&&t.has("OES_texture_half_float_linear")===!1)return;(R.anisotropy>1||i.get(R).__currentAnisotropy)&&(n.texParameterf(k,gt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,r.getMaxAnisotropy())),i.get(R).__currentAnisotropy=R.anisotropy)}}function Et(k,R){let st=!1;k.__webglInit===void 0&&(k.__webglInit=!0,R.addEventListener("dispose",A));const gt=R.source;let Ot=y.get(gt);Ot===void 0&&(Ot={},y.set(gt,Ot));const Nt=Q(R);if(Nt!==k.__cacheKey){Ot[Nt]===void 0&&(Ot[Nt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,st=!0),Ot[Nt].usedTimes++;const Wt=Ot[k.__cacheKey];Wt!==void 0&&(Ot[k.__cacheKey].usedTimes--,Wt.usedTimes===0&&q(R)),k.__cacheKey=Nt,k.__webglTexture=Ot[Nt].texture}return st}function lt(k,R,st){let gt=3553;R.isDataArrayTexture&&(gt=35866),R.isData3DTexture&&(gt=32879);const Ot=Et(k,R),Nt=R.source;if(e.activeTexture(33984+st),e.bindTexture(gt,k.__webglTexture),Nt.version!==Nt.__currentVersion||Ot===!0){n.pixelStorei(37440,R.flipY),n.pixelStorei(37441,R.premultiplyAlpha),n.pixelStorei(3317,R.unpackAlignment),n.pixelStorei(37443,0);const Wt=T(R)&&E(R.image)===!1;let _t=M(R.image,Wt,!1,u);_t=bt(R,_t);const re=E(_t)||a,pe=s.convert(R.format,R.encoding);let Qt=s.convert(R.type),it=G(R.internalFormat,pe,Qt,R.encoding,R.isVideoTexture);Y(gt,R,re);let Gt;const kt=R.mipmaps,ft=a&&R.isVideoTexture!==!0,Vt=k.__version===void 0,he=j(R,_t,re);if(R.isDepthTexture)it=6402,a?R.type===Sl?it=36012:R.type===Hg?it=33190:R.type===Mu?it=35056:it=33189:R.type===Sl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),R.format===Ll&&it===6402&&R.type!==bd&&R.type!==Hg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),R.type=bd,Qt=s.convert(R.type)),R.format===Zu&&it===6402&&(it=34041,R.type!==Mu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),R.type=Mu,Qt=s.convert(R.type))),ft&&Vt?e.texStorage2D(3553,1,it,_t.width,_t.height):e.texImage2D(3553,0,it,_t.width,_t.height,0,pe,Qt,null);else if(R.isDataTexture)if(kt.length>0&&re){ft&&Vt&&e.texStorage2D(3553,he,it,kt[0].width,kt[0].height);for(let jt=0,ye=kt.length;jt<ye;jt++)Gt=kt[jt],ft?e.texSubImage2D(3553,jt,0,0,Gt.width,Gt.height,pe,Qt,Gt.data):e.texImage2D(3553,jt,it,Gt.width,Gt.height,0,pe,Qt,Gt.data);R.generateMipmaps=!1}else ft?(Vt&&e.texStorage2D(3553,he,it,_t.width,_t.height),e.texSubImage2D(3553,0,0,0,_t.width,_t.height,pe,Qt,_t.data)):e.texImage2D(3553,0,it,_t.width,_t.height,0,pe,Qt,_t.data);else if(R.isCompressedTexture){ft&&Vt&&e.texStorage2D(3553,he,it,kt[0].width,kt[0].height);for(let jt=0,ye=kt.length;jt<ye;jt++)Gt=kt[jt],R.format!==ts?pe!==null?ft?e.compressedTexSubImage2D(3553,jt,0,0,Gt.width,Gt.height,pe,Gt.data):e.compressedTexImage2D(3553,jt,it,Gt.width,Gt.height,0,Gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?e.texSubImage2D(3553,jt,0,0,Gt.width,Gt.height,pe,Qt,Gt.data):e.texImage2D(3553,jt,it,Gt.width,Gt.height,0,pe,Qt,Gt.data)}else if(R.isDataArrayTexture)ft?(Vt&&e.texStorage3D(35866,he,it,_t.width,_t.height,_t.depth),e.texSubImage3D(35866,0,0,0,0,_t.width,_t.height,_t.depth,pe,Qt,_t.data)):e.texImage3D(35866,0,it,_t.width,_t.height,_t.depth,0,pe,Qt,_t.data);else if(R.isData3DTexture)ft?(Vt&&e.texStorage3D(32879,he,it,_t.width,_t.height,_t.depth),e.texSubImage3D(32879,0,0,0,0,_t.width,_t.height,_t.depth,pe,Qt,_t.data)):e.texImage3D(32879,0,it,_t.width,_t.height,_t.depth,0,pe,Qt,_t.data);else if(R.isFramebufferTexture)ft&&Vt?e.texStorage2D(3553,he,it,_t.width,_t.height):e.texImage2D(3553,0,it,_t.width,_t.height,0,pe,Qt,null);else if(kt.length>0&&re){ft&&Vt&&e.texStorage2D(3553,he,it,kt[0].width,kt[0].height);for(let jt=0,ye=kt.length;jt<ye;jt++)Gt=kt[jt],ft?e.texSubImage2D(3553,jt,0,0,pe,Qt,Gt):e.texImage2D(3553,jt,it,pe,Qt,Gt);R.generateMipmaps=!1}else ft?(Vt&&e.texStorage2D(3553,he,it,_t.width,_t.height),e.texSubImage2D(3553,0,0,0,pe,Qt,_t)):e.texImage2D(3553,0,it,pe,Qt,_t);D(R,re)&&I(gt),Nt.__currentVersion=Nt.version,R.onUpdate&&R.onUpdate(R)}k.__version=R.version}function Mt(k,R,st){if(R.image.length!==6)return;const gt=Et(k,R),Ot=R.source;if(e.activeTexture(33984+st),e.bindTexture(34067,k.__webglTexture),Ot.version!==Ot.__currentVersion||gt===!0){n.pixelStorei(37440,R.flipY),n.pixelStorei(37441,R.premultiplyAlpha),n.pixelStorei(3317,R.unpackAlignment),n.pixelStorei(37443,0);const Nt=R.isCompressedTexture||R.image[0].isCompressedTexture,Wt=R.image[0]&&R.image[0].isDataTexture,_t=[];for(let jt=0;jt<6;jt++)!Nt&&!Wt?_t[jt]=M(R.image[jt],!1,!0,c):_t[jt]=Wt?R.image[jt].image:R.image[jt],_t[jt]=bt(R,_t[jt]);const re=_t[0],pe=E(re)||a,Qt=s.convert(R.format,R.encoding),it=s.convert(R.type),Gt=G(R.internalFormat,Qt,it,R.encoding),kt=a&&R.isVideoTexture!==!0,ft=k.__version===void 0;let Vt=j(R,re,pe);Y(34067,R,pe);let he;if(Nt){kt&&ft&&e.texStorage2D(34067,Vt,Gt,re.width,re.height);for(let jt=0;jt<6;jt++){he=_t[jt].mipmaps;for(let ye=0;ye<he.length;ye++){const Re=he[ye];R.format!==ts?Qt!==null?kt?e.compressedTexSubImage2D(34069+jt,ye,0,0,Re.width,Re.height,Qt,Re.data):e.compressedTexImage2D(34069+jt,ye,Gt,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):kt?e.texSubImage2D(34069+jt,ye,0,0,Re.width,Re.height,Qt,it,Re.data):e.texImage2D(34069+jt,ye,Gt,Re.width,Re.height,0,Qt,it,Re.data)}}}else{he=R.mipmaps,kt&&ft&&(he.length>0&&Vt++,e.texStorage2D(34067,Vt,Gt,_t[0].width,_t[0].height));for(let jt=0;jt<6;jt++)if(Wt){kt?e.texSubImage2D(34069+jt,0,0,0,_t[jt].width,_t[jt].height,Qt,it,_t[jt].data):e.texImage2D(34069+jt,0,Gt,_t[jt].width,_t[jt].height,0,Qt,it,_t[jt].data);for(let ye=0;ye<he.length;ye++){const Te=he[ye].image[jt].image;kt?e.texSubImage2D(34069+jt,ye+1,0,0,Te.width,Te.height,Qt,it,Te.data):e.texImage2D(34069+jt,ye+1,Gt,Te.width,Te.height,0,Qt,it,Te.data)}}else{kt?e.texSubImage2D(34069+jt,0,0,0,Qt,it,_t[jt]):e.texImage2D(34069+jt,0,Gt,Qt,it,_t[jt]);for(let ye=0;ye<he.length;ye++){const Re=he[ye];kt?e.texSubImage2D(34069+jt,ye+1,0,0,Qt,it,Re.image[jt]):e.texImage2D(34069+jt,ye+1,Gt,Qt,it,Re.image[jt])}}}D(R,pe)&&I(34067),Ot.__currentVersion=Ot.version,R.onUpdate&&R.onUpdate(R)}k.__version=R.version}function xt(k,R,st,gt,Ot){const Nt=s.convert(st.format,st.encoding),Wt=s.convert(st.type),_t=G(st.internalFormat,Nt,Wt,st.encoding);i.get(R).__hasExternalTextures||(Ot===32879||Ot===35866?e.texImage3D(Ot,0,_t,R.width,R.height,R.depth,0,Nt,Wt,null):e.texImage2D(Ot,0,_t,R.width,R.height,0,Nt,Wt,null)),e.bindFramebuffer(36160,k),ht(R)?f.framebufferTexture2DMultisampleEXT(36160,gt,Ot,i.get(st).__webglTexture,0,yt(R)):n.framebufferTexture2D(36160,gt,Ot,i.get(st).__webglTexture,0),e.bindFramebuffer(36160,null)}function Rt(k,R,st){if(n.bindRenderbuffer(36161,k),R.depthBuffer&&!R.stencilBuffer){let gt=33189;if(st||ht(R)){const Ot=R.depthTexture;Ot&&Ot.isDepthTexture&&(Ot.type===Sl?gt=36012:Ot.type===Hg&&(gt=33190));const Nt=yt(R);ht(R)?f.renderbufferStorageMultisampleEXT(36161,Nt,gt,R.width,R.height):n.renderbufferStorageMultisample(36161,Nt,gt,R.width,R.height)}else n.renderbufferStorage(36161,gt,R.width,R.height);n.framebufferRenderbuffer(36160,36096,36161,k)}else if(R.depthBuffer&&R.stencilBuffer){const gt=yt(R);st&&ht(R)===!1?n.renderbufferStorageMultisample(36161,gt,35056,R.width,R.height):ht(R)?f.renderbufferStorageMultisampleEXT(36161,gt,35056,R.width,R.height):n.renderbufferStorage(36161,34041,R.width,R.height),n.framebufferRenderbuffer(36160,33306,36161,k)}else{const gt=R.isWebGLMultipleRenderTargets===!0?R.texture[0]:R.texture,Ot=s.convert(gt.format,gt.encoding),Nt=s.convert(gt.type),Wt=G(gt.internalFormat,Ot,Nt,gt.encoding),_t=yt(R);st&&ht(R)===!1?n.renderbufferStorageMultisample(36161,_t,Wt,R.width,R.height):ht(R)?f.renderbufferStorageMultisampleEXT(36161,_t,Wt,R.width,R.height):n.renderbufferStorage(36161,Wt,R.width,R.height)}n.bindRenderbuffer(36161,null)}function O(k,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,k),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),ut(R.depthTexture,0);const gt=i.get(R.depthTexture).__webglTexture,Ot=yt(R);if(R.depthTexture.format===Ll)ht(R)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,gt,0,Ot):n.framebufferTexture2D(36160,36096,3553,gt,0);else if(R.depthTexture.format===Zu)ht(R)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,gt,0,Ot):n.framebufferTexture2D(36160,33306,3553,gt,0);else throw new Error("Unknown depthTexture format")}function N(k){const R=i.get(k),st=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!R.__autoAllocateDepthBuffer){if(st)throw new Error("target.depthTexture not supported in Cube render targets");O(R.__webglFramebuffer,k)}else if(st){R.__webglDepthbuffer=[];for(let gt=0;gt<6;gt++)e.bindFramebuffer(36160,R.__webglFramebuffer[gt]),R.__webglDepthbuffer[gt]=n.createRenderbuffer(),Rt(R.__webglDepthbuffer[gt],k,!1)}else e.bindFramebuffer(36160,R.__webglFramebuffer),R.__webglDepthbuffer=n.createRenderbuffer(),Rt(R.__webglDepthbuffer,k,!1);e.bindFramebuffer(36160,null)}function $(k,R,st){const gt=i.get(k);R!==void 0&&xt(gt.__webglFramebuffer,k,k.texture,36064,3553),st!==void 0&&N(k)}function X(k){const R=k.texture,st=i.get(k),gt=i.get(R);k.addEventListener("dispose",F),k.isWebGLMultipleRenderTargets!==!0&&(gt.__webglTexture===void 0&&(gt.__webglTexture=n.createTexture()),gt.__version=R.version,o.memory.textures++);const Ot=k.isWebGLCubeRenderTarget===!0,Nt=k.isWebGLMultipleRenderTargets===!0,Wt=E(k)||a;if(Ot){st.__webglFramebuffer=[];for(let _t=0;_t<6;_t++)st.__webglFramebuffer[_t]=n.createFramebuffer()}else if(st.__webglFramebuffer=n.createFramebuffer(),Nt)if(r.drawBuffers){const _t=k.texture;for(let re=0,pe=_t.length;re<pe;re++){const Qt=i.get(_t[re]);Qt.__webglTexture===void 0&&(Qt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&k.samples>0&&ht(k)===!1){st.__webglMultisampledFramebuffer=n.createFramebuffer(),st.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,st.__webglColorRenderbuffer);const _t=s.convert(R.format,R.encoding),re=s.convert(R.type),pe=G(R.internalFormat,_t,re,R.encoding),Qt=yt(k);n.renderbufferStorageMultisample(36161,Qt,pe,k.width,k.height),e.bindFramebuffer(36160,st.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,st.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),k.depthBuffer&&(st.__webglDepthRenderbuffer=n.createRenderbuffer(),Rt(st.__webglDepthRenderbuffer,k,!0)),e.bindFramebuffer(36160,null)}if(Ot){e.bindTexture(34067,gt.__webglTexture),Y(34067,R,Wt);for(let _t=0;_t<6;_t++)xt(st.__webglFramebuffer[_t],k,R,36064,34069+_t);D(R,Wt)&&I(34067),e.unbindTexture()}else if(Nt){const _t=k.texture;for(let re=0,pe=_t.length;re<pe;re++){const Qt=_t[re],it=i.get(Qt);e.bindTexture(3553,it.__webglTexture),Y(3553,Qt,Wt),xt(st.__webglFramebuffer,k,Qt,36064+re,3553),D(Qt,Wt)&&I(3553)}e.unbindTexture()}else{let _t=3553;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?_t=k.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(_t,gt.__webglTexture),Y(_t,R,Wt),xt(st.__webglFramebuffer,k,R,36064,_t),D(R,Wt)&&I(_t),e.unbindTexture()}k.depthBuffer&&N(k)}function rt(k){const R=E(k)||a,st=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let gt=0,Ot=st.length;gt<Ot;gt++){const Nt=st[gt];if(D(Nt,R)){const Wt=k.isWebGLCubeRenderTarget?34067:3553,_t=i.get(Nt).__webglTexture;e.bindTexture(Wt,_t),I(Wt),e.unbindTexture()}}}function mt(k){if(a&&k.samples>0&&ht(k)===!1){const R=k.width,st=k.height;let gt=16384;const Ot=[36064],Nt=k.stencilBuffer?33306:36096;k.depthBuffer&&Ot.push(Nt);const Wt=i.get(k),_t=Wt.__ignoreDepthValues!==void 0?Wt.__ignoreDepthValues:!1;_t===!1&&(k.depthBuffer&&(gt|=256),k.stencilBuffer&&(gt|=1024)),e.bindFramebuffer(36008,Wt.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,Wt.__webglFramebuffer),_t===!0&&(n.invalidateFramebuffer(36008,[Nt]),n.invalidateFramebuffer(36009,[Nt])),n.blitFramebuffer(0,0,R,st,0,0,R,st,gt,9728),p&&n.invalidateFramebuffer(36008,Ot),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,Wt.__webglMultisampledFramebuffer)}}function yt(k){return Math.min(h,k.samples)}function ht(k){const R=i.get(k);return a&&k.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function Tt(k){const R=o.render.frame;m.get(k)!==R&&(m.set(k,R),k.update())}function bt(k,R){const st=k.encoding,gt=k.format,Ot=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||k.format===LE||st!==Co&&(st===Cn?a===!1?t.has("EXT_sRGB")===!0&&gt===ts?(k.format=LE,k.minFilter=tr,k.generateMipmaps=!1):R=ic.sRGBToLinear(R):(gt!==ts||Ot!==Gl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",st)),R}this.allocateTextureUnit=U,this.resetTextureUnits=Z,this.setTexture2D=ut,this.setTexture2DArray=vt,this.setTexture3D=at,this.setTextureCube=Ct,this.rebindTextures=$,this.setupRenderTarget=X,this.updateRenderTargetMipmap=rt,this.updateMultisampleRenderTarget=mt,this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=xt,this.useMultisampledRTT=ht}function Sdt(n,t,e){const i=e.isWebGL2;function r(s,o=null){let a;if(s===Gl)return 5121;if(s===wlt)return 32819;if(s===Elt)return 32820;if(s===vlt)return 5120;if(s===blt)return 5122;if(s===bd)return 5123;if(s===xlt)return 5124;if(s===Hg)return 5125;if(s===Sl)return 5126;if(s===Su)return i?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Slt)return 6406;if(s===ts)return 6408;if(s===Tlt)return 6409;if(s===Alt)return 6410;if(s===Ll)return 6402;if(s===Zu)return 34041;if(s===Clt)return 6403;if(s===Mlt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===LE)return a=t.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Olt)return 36244;if(s===Plt)return 33319;if(s===Dlt)return 33320;if(s===Rlt)return 36249;if(s===v0||s===b0||s===x0||s===w0)if(o===Cn)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===v0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===b0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===x0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===w0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===v0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===b0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===x0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===w0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===zR||s===UR||s===VR||s===HR)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===zR)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===UR)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===VR)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===HR)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Llt)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===$R||s===WR)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(s===$R)return o===Cn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===WR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===GR||s===jR||s===qR||s===YR||s===XR||s===KR||s===QR||s===JR||s===ZR||s===tL||s===eL||s===nL||s===iL||s===rL)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(s===GR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===jR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===qR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===YR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===XR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===KR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===QR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===JR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ZR)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===tL)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===eL)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===nL)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===iL)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===rL)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===sL)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(s===sL)return o===Cn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Mu)return i?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class nz extends er{constructor(t=[]){super(),this.cameras=t}}nz.prototype.isArrayCamera=!0;class Mf extends cn{constructor(){super(),this.type="Group"}}Mf.prototype.isGroup=!0;const Mdt={type:"move"};class J0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new tt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new tt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new tt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new tt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(t&&e.session.visibilityState!=="visible-blurred")if(a!==null&&(r=e.getPose(t.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Mdt))),c&&t.hand){o=!0;for(const g of t.hand.values()){const y=e.getJointPose(g,i);if(c.joints[g.jointName]===void 0){const w=new Mf;w.matrixAutoUpdate=!1,w.visible=!1,c.joints[g.jointName]=w,c.add(w)}const v=c.joints[g.jointName];y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=y.radius),v.visible=y!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),p=.02,m=.005;c.inputState.pinching&&f>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&f<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class iz extends fi{constructor(t,e,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Ll,u!==Ll&&u!==Zu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Ll&&(i=bd),i===void 0&&u===Zu&&(i=Mu),super(null,r,s,o,a,l,u,i,c),this.image={width:t,height:e},this.magFilter=a!==void 0?a:oi,this.minFilter=l!==void 0?l:oi,this.flipY=!1,this.generateMipmaps=!1}}iz.prototype.isDepthTexture=!0;class Tdt extends nc{constructor(t,e){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,h=null,f=null;const p=e.getContextAttributes();let m=null,g=null;const y=[],v=new Map,w=new er;w.layers.enable(1),w.viewport=new hn;const M=new er;M.layers.enable(2),M.viewport=new hn;const E=[w,M],T=new nz;T.layers.enable(1),T.layers.enable(2);let D=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let Q=y[U];return Q===void 0&&(Q=new J0,y[U]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(U){let Q=y[U];return Q===void 0&&(Q=new J0,y[U]=Q),Q.getGripSpace()},this.getHand=function(U){let Q=y[U];return Q===void 0&&(Q=new J0,y[U]=Q),Q.getHandSpace()};function G(U){const Q=v.get(U.inputSource);Q&&Q.dispatchEvent({type:U.type,data:U.inputSource})}function j(){v.forEach(function(U,Q){U.disconnect(Q)}),v.clear(),D=null,I=null,t.setRenderTarget(m),h=null,u=null,c=null,r=null,g=null,Z.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return u!==null?u:h},this.getBinding=function(){return c},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(U){if(r=U,r!==null){if(m=t.getRenderTarget(),r.addEventListener("select",G),r.addEventListener("selectstart",G),r.addEventListener("selectend",G),r.addEventListener("squeeze",G),r.addEventListener("squeezestart",G),r.addEventListener("squeezeend",G),r.addEventListener("end",j),r.addEventListener("inputsourceschange",V),p.xrCompatible!==!0&&await e.makeXRCompatible(),r.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const Q={antialias:r.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(r,e,Q),r.updateRenderState({baseLayer:h}),g=new pr(h.framebufferWidth,h.framebufferHeight,{format:ts,type:Gl,encoding:t.outputEncoding})}else{let Q=null,ut=null,vt=null;p.depth&&(vt=p.stencil?35056:33190,Q=p.stencil?Zu:Ll,ut=p.stencil?Mu:bd);const at={colorFormat:t.outputEncoding===Cn?35907:32856,depthFormat:vt,scaleFactor:s};c=new XRWebGLBinding(r,e),u=c.createProjectionLayer(at),r.updateRenderState({layers:[u]}),g=new pr(u.textureWidth,u.textureHeight,{format:ts,type:Gl,depthTexture:new iz(u.textureWidth,u.textureHeight,ut,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:p.stencil,encoding:t.outputEncoding,samples:p.antialias?4:0});const Ct=t.properties.get(g);Ct.__ignoreDepthValues=u.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),o=await r.requestReferenceSpace(a),Z.setContext(r),Z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function V(U){const Q=r.inputSources;for(let ut=0;ut<y.length;ut++)v.set(Q[ut],y[ut]);for(let ut=0;ut<U.removed.length;ut++){const vt=U.removed[ut],at=v.get(vt);at&&(at.dispatchEvent({type:"disconnected",data:vt}),v.delete(vt))}for(let ut=0;ut<U.added.length;ut++){const vt=U.added[ut],at=v.get(vt);at&&at.dispatchEvent({type:"connected",data:vt})}}const A=new tt,F=new tt;function nt(U,Q,ut){A.setFromMatrixPosition(Q.matrixWorld),F.setFromMatrixPosition(ut.matrixWorld);const vt=A.distanceTo(F),at=Q.projectionMatrix.elements,Ct=ut.projectionMatrix.elements,Lt=at[14]/(at[10]-1),et=at[14]/(at[10]+1),Y=(at[9]+1)/at[5],Et=(at[9]-1)/at[5],lt=(at[8]-1)/at[0],Mt=(Ct[8]+1)/Ct[0],xt=Lt*lt,Rt=Lt*Mt,O=vt/(-lt+Mt),N=O*-lt;Q.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(N),U.translateZ(O),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const $=Lt+O,X=et+O,rt=xt-N,mt=Rt+(vt-N),yt=Y*et/X*$,ht=Et*et/X*$;U.projectionMatrix.makePerspective(rt,mt,yt,ht,$,X)}function q(U,Q){Q===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(Q.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(r===null)return;T.near=M.near=w.near=U.near,T.far=M.far=w.far=U.far,(D!==T.near||I!==T.far)&&(r.updateRenderState({depthNear:T.near,depthFar:T.far}),D=T.near,I=T.far);const Q=U.parent,ut=T.cameras;q(T,Q);for(let at=0;at<ut.length;at++)q(ut[at],Q);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),U.position.copy(T.position),U.quaternion.copy(T.quaternion),U.scale.copy(T.scale),U.matrix.copy(T.matrix),U.matrixWorld.copy(T.matrixWorld);const vt=U.children;for(let at=0,Ct=vt.length;at<Ct;at++)vt[at].updateMatrixWorld(!0);ut.length===2?nt(T,w,M):T.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(u!==null)return u.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(U){u!==null&&(u.fixedFoveation=U),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=U)};let P=null;function W(U,Q){if(l=Q.getViewerPose(o),f=Q,l!==null){const vt=l.views;h!==null&&(t.setRenderTargetFramebuffer(g,h.framebuffer),t.setRenderTarget(g));let at=!1;vt.length!==T.cameras.length&&(T.cameras.length=0,at=!0);for(let Ct=0;Ct<vt.length;Ct++){const Lt=vt[Ct];let et=null;if(h!==null)et=h.getViewport(Lt);else{const Et=c.getViewSubImage(u,Lt);et=Et.viewport,Ct===0&&(t.setRenderTargetTextures(g,Et.colorTexture,u.ignoreDepthValues?void 0:Et.depthStencilTexture),t.setRenderTarget(g))}const Y=E[Ct];Y.matrix.fromArray(Lt.transform.matrix),Y.projectionMatrix.fromArray(Lt.projectionMatrix),Y.viewport.set(et.x,et.y,et.width,et.height),Ct===0&&T.matrix.copy(Y.matrix),at===!0&&T.cameras.push(Y)}}const ut=r.inputSources;for(let vt=0;vt<y.length;vt++){const at=y[vt],Ct=ut[vt];at.update(Ct,Q,o)}P&&P(U,Q),f=null}const Z=new qB;Z.setAnimationLoop(W),this.setAnimationLoop=function(U){P=U},this.dispose=function(){}}}function Adt(n,t){function e(g,y){g.fogColor.value.copy(y.color),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function i(g,y,v,w,M){y.isMeshBasicMaterial||y.isMeshLambertMaterial?r(g,y):y.isMeshToonMaterial?(r(g,y),u(g,y)):y.isMeshPhongMaterial?(r(g,y),c(g,y)):y.isMeshStandardMaterial?(r(g,y),h(g,y),y.isMeshPhysicalMaterial&&f(g,y,M)):y.isMeshMatcapMaterial?(r(g,y),p(g,y)):y.isMeshDepthMaterial?r(g,y):y.isMeshDistanceMaterial?(r(g,y),m(g,y)):y.isMeshNormalMaterial?r(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?a(g,y,v,w):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function r(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===rs&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===rs&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const v=t.get(y).envMap;if(v&&(g.envMap.value=v,g.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const E=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*E}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let w;y.map?w=y.map:y.specularMap?w=y.specularMap:y.displacementMap?w=y.displacementMap:y.normalMap?w=y.normalMap:y.bumpMap?w=y.bumpMap:y.roughnessMap?w=y.roughnessMap:y.metalnessMap?w=y.metalnessMap:y.alphaMap?w=y.alphaMap:y.emissiveMap?w=y.emissiveMap:y.clearcoatMap?w=y.clearcoatMap:y.clearcoatNormalMap?w=y.clearcoatNormalMap:y.clearcoatRoughnessMap?w=y.clearcoatRoughnessMap:y.specularIntensityMap?w=y.specularIntensityMap:y.specularColorMap?w=y.specularColorMap:y.transmissionMap?w=y.transmissionMap:y.thicknessMap?w=y.thicknessMap:y.sheenColorMap?w=y.sheenColorMap:y.sheenRoughnessMap&&(w=y.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let M;y.aoMap?M=y.aoMap:y.lightMap&&(M=y.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uv2Transform.value.copy(M.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function a(g,y,v,w){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*v,g.scale.value=w*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let M;y.map?M=y.map:y.alphaMap&&(M=y.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uvTransform.value.copy(M.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let v;y.map?v=y.map:y.alphaMap&&(v=y.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),g.uvTransform.value.copy(v.matrix))}function c(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function u(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function h(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),t.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function f(g,y,v){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===rs&&g.clearcoatNormalScale.value.negate())),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=v.texture,g.transmissionSamplerSize.value.set(v.width,v.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function p(g,y){y.matcap&&(g.matcap.value=y.matcap)}function m(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:e,refreshMaterialUniforms:i}}function Cdt(){const n=wd("canvas");return n.style.display="block",n}function dn(n={}){const t=n.canvas!==void 0?n.canvas:Cdt(),e=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;n.context!==void 0?u=e.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let h=null,f=null;const p=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Co,this.physicallyCorrectLights=!1,this.toneMapping=vo,this.toneMappingExposure=1;const g=this;let y=!1,v=0,w=0,M=null,E=-1,T=null;const D=new hn,I=new hn;let G=null,j=t.width,V=t.height,A=1,F=null,nt=null;const q=new hn(0,0,j,V),P=new hn(0,0,j,V);let W=!1;const Z=new zv;let U=!1,Q=!1,ut=null;const vt=new me,at=new $t,Ct=new tt,Lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function et(){return M===null?A:1}let Y=e;function Et(H,ct){for(let St=0;St<H.length;St++){const wt=H[St],Pt=t.getContext(wt,ct);if(Pt!==null)return Pt}return null}try{const H={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${eT}`),t.addEventListener("webglcontextlost",it,!1),t.addEventListener("webglcontextrestored",Gt,!1),Y===null){const ct=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ct.shift(),Y=Et(ct,H),Y===null)throw Et(ct)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let lt,Mt,xt,Rt,O,N,$,X,rt,mt,yt,ht,Tt,bt,k,R,st,gt,Ot,Nt,Wt,_t,re;function pe(){lt=new jht(Y),Mt=new Uht(Y,lt,n),lt.init(Mt),_t=new Sdt(Y,lt,Mt),xt=new wdt(Y,lt,Mt),Rt=new Xht,O=new hdt,N=new Edt(Y,lt,xt,O,Mt,_t,Rt),$=new Hht(g),X=new Ght(g),rt=new cct(Y,Mt),re=new Bht(Y,lt,rt,Mt),mt=new qht(Y,rt,Rt,re),yt=new Zht(Y,mt,rt,Rt),Ot=new Jht(Y,Mt,N),R=new Vht(O),ht=new udt(g,$,X,lt,Mt,re,R),Tt=new Adt(g,O),bt=new ddt,k=new vdt(lt,Mt),gt=new Fht(g,$,xt,yt,u,o),st=new ez(g,yt,Mt),Nt=new zht(Y,lt,Rt,Mt),Wt=new Yht(Y,lt,Rt,Mt),Rt.programs=ht.programs,g.capabilities=Mt,g.extensions=lt,g.properties=O,g.renderLists=bt,g.shadowMap=st,g.state=xt,g.info=Rt}pe();const Qt=new Tdt(g,Y);this.xr=Qt,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const H=lt.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=lt.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(H){H!==void 0&&(A=H,this.setSize(j,V,!1))},this.getSize=function(H){return H.set(j,V)},this.setSize=function(H,ct,St){if(Qt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}j=H,V=ct,t.width=Math.floor(H*A),t.height=Math.floor(ct*A),St!==!1&&(t.style.width=H+"px",t.style.height=ct+"px"),this.setViewport(0,0,H,ct)},this.getDrawingBufferSize=function(H){return H.set(j*A,V*A).floor()},this.setDrawingBufferSize=function(H,ct,St){j=H,V=ct,A=St,t.width=Math.floor(H*St),t.height=Math.floor(ct*St),this.setViewport(0,0,H,ct)},this.getCurrentViewport=function(H){return H.copy(D)},this.getViewport=function(H){return H.copy(q)},this.setViewport=function(H,ct,St,wt){H.isVector4?q.set(H.x,H.y,H.z,H.w):q.set(H,ct,St,wt),xt.viewport(D.copy(q).multiplyScalar(A).floor())},this.getScissor=function(H){return H.copy(P)},this.setScissor=function(H,ct,St,wt){H.isVector4?P.set(H.x,H.y,H.z,H.w):P.set(H,ct,St,wt),xt.scissor(I.copy(P).multiplyScalar(A).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(H){xt.setScissorTest(W=H)},this.setOpaqueSort=function(H){F=H},this.setTransparentSort=function(H){nt=H},this.getClearColor=function(H){return H.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(H=!0,ct=!0,St=!0){let wt=0;H&&(wt|=16384),ct&&(wt|=256),St&&(wt|=1024),Y.clear(wt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",it,!1),t.removeEventListener("webglcontextrestored",Gt,!1),bt.dispose(),k.dispose(),O.dispose(),$.dispose(),X.dispose(),yt.dispose(),re.dispose(),ht.dispose(),Qt.dispose(),Qt.removeEventListener("sessionstart",ye),Qt.removeEventListener("sessionend",Re),ut&&(ut.dispose(),ut=null),Te.stop()};function it(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Gt(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const H=Rt.autoReset,ct=st.enabled,St=st.autoUpdate,wt=st.needsUpdate,Pt=st.type;pe(),Rt.autoReset=H,st.enabled=ct,st.autoUpdate=St,st.needsUpdate=wt,st.type=Pt}function kt(H){const ct=H.target;ct.removeEventListener("dispose",kt),ft(ct)}function ft(H){Vt(H),O.remove(H)}function Vt(H){const ct=O.get(H).programs;ct!==void 0&&(ct.forEach(function(St){ht.releaseProgram(St)}),H.isShaderMaterial&&ht.releaseShaderCache(H))}this.renderBufferDirect=function(H,ct,St,wt,Pt,se){ct===null&&(ct=Lt);const te=Pt.isMesh&&Pt.matrixWorld.determinant()<0,Ht=Na(H,ct,St,wt,Pt);xt.setMaterial(wt,te);let ve=St.index;const Ue=St.attributes.position;if(ve===null){if(Ue===void 0||Ue.count===0)return}else if(ve.count===0)return;let Ve=1;wt.wireframe===!0&&(ve=mt.getWireframeAttribute(St),Ve=2),re.setup(Pt,wt,Ht,St,ve);let Ne,gn=Nt;ve!==null&&(Ne=rt.get(ve),gn=Wt,gn.setIndex(Ne));const zr=ve!==null?ve.count:Ue.count,ps=St.drawRange.start*Ve,qe=St.drawRange.count*Ve,bi=se!==null?se.start*Ve:0,Be=se!==null?se.count*Ve:1/0,sr=Math.max(ps,bi),xn=Math.min(zr,ps+qe,bi+Be)-1,Ii=Math.max(0,xn-sr+1);if(Ii!==0){if(Pt.isMesh)wt.wireframe===!0?(xt.setLineWidth(wt.wireframeLinewidth*et()),gn.setMode(1)):gn.setMode(4);else if(Pt.isLine){let Ki=wt.linewidth;Ki===void 0&&(Ki=1),xt.setLineWidth(Ki*et()),Pt.isLineSegments?gn.setMode(1):Pt.isLineLoop?gn.setMode(2):gn.setMode(3)}else Pt.isPoints?gn.setMode(0):Pt.isSprite&&gn.setMode(4);if(Pt.isInstancedMesh)gn.renderInstances(sr,Ii,Pt.count);else if(St.isInstancedBufferGeometry){const Ki=Math.min(St.instanceCount,St._maxInstanceCount);gn.renderInstances(sr,Ii,Ki)}else gn.render(sr,Ii)}},this.compile=function(H,ct){f=k.get(H),f.init(),m.push(f),H.traverseVisible(function(St){St.isLight&&St.layers.test(ct.layers)&&(f.pushLight(St),St.castShadow&&f.pushShadow(St))}),f.setupLights(g.physicallyCorrectLights),H.traverse(function(St){const wt=St.material;if(wt)if(Array.isArray(wt))for(let Pt=0;Pt<wt.length;Pt++){const se=wt[Pt];$s(se,H,St)}else $s(wt,H,St)}),m.pop(),f=null};let he=null;function jt(H){he&&he(H)}function ye(){Te.stop()}function Re(){Te.start()}const Te=new qB;Te.setAnimationLoop(jt),typeof self<"u"&&Te.setContext(self),this.setAnimationLoop=function(H){he=H,Qt.setAnimationLoop(H),H===null?Te.stop():Te.start()},Qt.addEventListener("sessionstart",ye),Qt.addEventListener("sessionend",Re),this.render=function(H,ct){if(ct!==void 0&&ct.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;H.autoUpdate===!0&&H.updateMatrixWorld(),ct.parent===null&&ct.updateMatrixWorld(),Qt.enabled===!0&&Qt.isPresenting===!0&&(Qt.cameraAutoUpdate===!0&&Qt.updateCamera(ct),ct=Qt.getCamera()),H.isScene===!0&&H.onBeforeRender(g,H,ct,M),f=k.get(H,m.length),f.init(),m.push(f),vt.multiplyMatrices(ct.projectionMatrix,ct.matrixWorldInverse),Z.setFromProjectionMatrix(vt),Q=this.localClippingEnabled,U=R.init(this.clippingPlanes,Q,ct),h=bt.get(H,p.length),h.init(),p.push(h),Xn(H,ct,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(F,nt),U===!0&&R.beginShadows();const St=f.state.shadowsArray;if(st.render(St,H,ct),U===!0&&R.endShadows(),this.info.autoReset===!0&&this.info.reset(),gt.render(h,H),f.setupLights(g.physicallyCorrectLights),ct.isArrayCamera){const wt=ct.cameras;for(let Pt=0,se=wt.length;Pt<se;Pt++){const te=wt[Pt];Bn(h,H,te,te.viewport)}}else Bn(h,H,ct);M!==null&&(N.updateMultisampleRenderTarget(M),N.updateRenderTargetMipmap(M)),H.isScene===!0&&H.onAfterRender(g,H,ct),re.resetDefaultState(),E=-1,T=null,m.pop(),m.length>0?f=m[m.length-1]:f=null,p.pop(),p.length>0?h=p[p.length-1]:h=null};function Xn(H,ct,St,wt){if(H.visible===!1)return;if(H.layers.test(ct.layers)){if(H.isGroup)St=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ct);else if(H.isLight)f.pushLight(H),H.castShadow&&f.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Z.intersectsSprite(H)){wt&&Ct.setFromMatrixPosition(H.matrixWorld).applyMatrix4(vt);const te=yt.update(H),Ht=H.material;Ht.visible&&h.push(H,te,Ht,St,Ct.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(H.isSkinnedMesh&&H.skeleton.frame!==Rt.render.frame&&(H.skeleton.update(),H.skeleton.frame=Rt.render.frame),!H.frustumCulled||Z.intersectsObject(H))){wt&&Ct.setFromMatrixPosition(H.matrixWorld).applyMatrix4(vt);const te=yt.update(H),Ht=H.material;if(Array.isArray(Ht)){const ve=te.groups;for(let Ue=0,Ve=ve.length;Ue<Ve;Ue++){const Ne=ve[Ue],gn=Ht[Ne.materialIndex];gn&&gn.visible&&h.push(H,te,gn,St,Ct.z,Ne)}}else Ht.visible&&h.push(H,te,Ht,St,Ct.z,null)}}const se=H.children;for(let te=0,Ht=se.length;te<Ht;te++)Xn(se[te],ct,St,wt)}function Bn(H,ct,St,wt){const Pt=H.opaque,se=H.transmissive,te=H.transparent;f.setupLightsView(St),se.length>0&&Ia(Pt,ct,St),wt&&xt.viewport(D.copy(wt)),Pt.length>0&&ds(Pt,ct,St),se.length>0&&ds(se,ct,St),te.length>0&&ds(te,ct,St),xt.buffers.depth.setTest(!0),xt.buffers.depth.setMask(!0),xt.buffers.color.setMask(!0),xt.setPolygonOffset(!1)}function Ia(H,ct,St){const wt=Mt.isWebGL2;ut===null&&(ut=new pr(1,1,{generateMipmaps:!0,type:_t.convert(Su)!==null?Su:Gl,minFilter:Nv,samples:wt&&s===!0?4:0})),g.getDrawingBufferSize(at),wt?ut.setSize(at.x,at.y):ut.setSize(NE(at.x),NE(at.y));const Pt=g.getRenderTarget();g.setRenderTarget(ut),g.clear();const se=g.toneMapping;g.toneMapping=vo,ds(H,ct,St),g.toneMapping=se,N.updateMultisampleRenderTarget(ut),N.updateRenderTargetMipmap(ut),g.setRenderTarget(Pt)}function ds(H,ct,St){const wt=ct.isScene===!0?ct.overrideMaterial:null;for(let Pt=0,se=H.length;Pt<se;Pt++){const te=H[Pt],Ht=te.object,ve=te.geometry,Ue=wt===null?te.material:wt,Ve=te.group;Ht.layers.test(St.layers)&&Br(Ht,ct,St,ve,Ue,Ve)}}function Br(H,ct,St,wt,Pt,se){H.onBeforeRender(g,ct,St,wt,Pt,se),H.modelViewMatrix.multiplyMatrices(St.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),Pt.onBeforeRender(g,ct,St,wt,H,se),Pt.transparent===!0&&Pt.side===Ku?(Pt.side=rs,Pt.needsUpdate=!0,g.renderBufferDirect(St,ct,wt,Pt,H,se),Pt.side=vd,Pt.needsUpdate=!0,g.renderBufferDirect(St,ct,wt,Pt,H,se),Pt.side=Ku):g.renderBufferDirect(St,ct,wt,Pt,H,se),H.onAfterRender(g,ct,St,wt,Pt,se)}function $s(H,ct,St){ct.isScene!==!0&&(ct=Lt);const wt=O.get(H),Pt=f.state.lights,se=f.state.shadowsArray,te=Pt.state.version,Ht=ht.getParameters(H,Pt.state,se,ct,St),ve=ht.getProgramCacheKey(Ht);let Ue=wt.programs;wt.environment=H.isMeshStandardMaterial?ct.environment:null,wt.fog=ct.fog,wt.envMap=(H.isMeshStandardMaterial?X:$).get(H.envMap||wt.environment),Ue===void 0&&(H.addEventListener("dispose",kt),Ue=new Map,wt.programs=Ue);let Ve=Ue.get(ve);if(Ve!==void 0){if(wt.currentProgram===Ve&&wt.lightsStateVersion===te)return Do(H,Ht),Ve}else Ht.uniforms=ht.getUniforms(H),H.onBuild(St,Ht,g),H.onBeforeCompile(Ht,g),Ve=ht.acquireProgram(Ht,ve),Ue.set(ve,Ve),wt.uniforms=Ht.uniforms;const Ne=wt.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Ne.clippingPlanes=R.uniform),Do(H,Ht),wt.needsLights=Th(H),wt.lightsStateVersion=te,wt.needsLights&&(Ne.ambientLightColor.value=Pt.state.ambient,Ne.lightProbe.value=Pt.state.probe,Ne.directionalLights.value=Pt.state.directional,Ne.directionalLightShadows.value=Pt.state.directionalShadow,Ne.spotLights.value=Pt.state.spot,Ne.spotLightShadows.value=Pt.state.spotShadow,Ne.rectAreaLights.value=Pt.state.rectArea,Ne.ltc_1.value=Pt.state.rectAreaLTC1,Ne.ltc_2.value=Pt.state.rectAreaLTC2,Ne.pointLights.value=Pt.state.point,Ne.pointLightShadows.value=Pt.state.pointShadow,Ne.hemisphereLights.value=Pt.state.hemi,Ne.directionalShadowMap.value=Pt.state.directionalShadowMap,Ne.directionalShadowMatrix.value=Pt.state.directionalShadowMatrix,Ne.spotShadowMap.value=Pt.state.spotShadowMap,Ne.spotShadowMatrix.value=Pt.state.spotShadowMatrix,Ne.pointShadowMap.value=Pt.state.pointShadowMap,Ne.pointShadowMatrix.value=Pt.state.pointShadowMatrix);const gn=Ve.getUniforms(),zr=ha.seqWithValue(gn.seq,Ne);return wt.currentProgram=Ve,wt.uniformsList=zr,Ve}function Do(H,ct){const St=O.get(H);St.outputEncoding=ct.outputEncoding,St.instancing=ct.instancing,St.skinning=ct.skinning,St.morphTargets=ct.morphTargets,St.morphNormals=ct.morphNormals,St.morphColors=ct.morphColors,St.morphTargetsCount=ct.morphTargetsCount,St.numClippingPlanes=ct.numClippingPlanes,St.numIntersection=ct.numClipIntersection,St.vertexAlphas=ct.vertexAlphas,St.vertexTangents=ct.vertexTangents,St.toneMapping=ct.toneMapping}function Na(H,ct,St,wt,Pt){ct.isScene!==!0&&(ct=Lt),N.resetTextureUnits();const se=ct.fog,te=wt.isMeshStandardMaterial?ct.environment:null,Ht=M===null?g.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:Co,ve=(wt.isMeshStandardMaterial?X:$).get(wt.envMap||te),Ue=wt.vertexColors===!0&&!!St.attributes.color&&St.attributes.color.itemSize===4,Ve=!!wt.normalMap&&!!St.attributes.tangent,Ne=!!St.morphAttributes.position,gn=!!St.morphAttributes.normal,zr=!!St.morphAttributes.color,ps=wt.toneMapped?g.toneMapping:vo,qe=St.morphAttributes.position||St.morphAttributes.normal||St.morphAttributes.color,bi=qe!==void 0?qe.length:0,Be=O.get(wt),sr=f.state.lights;if(U===!0&&(Q===!0||H!==T)){const x=H===T&&wt.id===E;R.setState(wt,H,x)}let xn=!1;wt.version===Be.__version?(Be.needsLights&&Be.lightsStateVersion!==sr.state.version||Be.outputEncoding!==Ht||Pt.isInstancedMesh&&Be.instancing===!1||!Pt.isInstancedMesh&&Be.instancing===!0||Pt.isSkinnedMesh&&Be.skinning===!1||!Pt.isSkinnedMesh&&Be.skinning===!0||Be.envMap!==ve||wt.fog&&Be.fog!==se||Be.numClippingPlanes!==void 0&&(Be.numClippingPlanes!==R.numPlanes||Be.numIntersection!==R.numIntersection)||Be.vertexAlphas!==Ue||Be.vertexTangents!==Ve||Be.morphTargets!==Ne||Be.morphNormals!==gn||Be.morphColors!==zr||Be.toneMapping!==ps||Mt.isWebGL2===!0&&Be.morphTargetsCount!==bi)&&(xn=!0):(xn=!0,Be.__version=wt.version);let Ii=Be.currentProgram;xn===!0&&(Ii=$s(wt,ct,Pt));let Ki=!1,Ni=!1,ka=!1;const zn=Ii.getUniforms(),pn=Be.uniforms;if(xt.useProgram(Ii.program)&&(Ki=!0,Ni=!0,ka=!0),wt.id!==E&&(E=wt.id,Ni=!0),Ki||T!==H){if(zn.setValue(Y,"projectionMatrix",H.projectionMatrix),Mt.logarithmicDepthBuffer&&zn.setValue(Y,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),T!==H&&(T=H,Ni=!0,ka=!0),wt.isShaderMaterial||wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshStandardMaterial||wt.envMap){const x=zn.map.cameraPosition;x!==void 0&&x.setValue(Y,Ct.setFromMatrixPosition(H.matrixWorld))}(wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshLambertMaterial||wt.isMeshBasicMaterial||wt.isMeshStandardMaterial||wt.isShaderMaterial)&&zn.setValue(Y,"isOrthographic",H.isOrthographicCamera===!0),(wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshLambertMaterial||wt.isMeshBasicMaterial||wt.isMeshStandardMaterial||wt.isShaderMaterial||wt.isShadowMaterial||Pt.isSkinnedMesh)&&zn.setValue(Y,"viewMatrix",H.matrixWorldInverse)}if(Pt.isSkinnedMesh){zn.setOptional(Y,Pt,"bindMatrix"),zn.setOptional(Y,Pt,"bindMatrixInverse");const x=Pt.skeleton;x&&(Mt.floatVertexTextures?(x.boneTexture===null&&x.computeBoneTexture(),zn.setValue(Y,"boneTexture",x.boneTexture,N),zn.setValue(Y,"boneTextureSize",x.boneTextureSize)):zn.setOptional(Y,x,"boneMatrices"))}const C=St.morphAttributes;return(C.position!==void 0||C.normal!==void 0||C.color!==void 0&&Mt.isWebGL2===!0)&&Ot.update(Pt,St,wt,Ii),(Ni||Be.receiveShadow!==Pt.receiveShadow)&&(Be.receiveShadow=Pt.receiveShadow,zn.setValue(Y,"receiveShadow",Pt.receiveShadow)),Ni&&(zn.setValue(Y,"toneMappingExposure",g.toneMappingExposure),Be.needsLights&&Mh(pn,ka),se&&wt.fog&&Tt.refreshFogUniforms(pn,se),Tt.refreshMaterialUniforms(pn,wt,A,V,ut),ha.upload(Y,Be.uniformsList,pn,N)),wt.isShaderMaterial&&wt.uniformsNeedUpdate===!0&&(ha.upload(Y,Be.uniformsList,pn,N),wt.uniformsNeedUpdate=!1),wt.isSpriteMaterial&&zn.setValue(Y,"center",Pt.center),zn.setValue(Y,"modelViewMatrix",Pt.modelViewMatrix),zn.setValue(Y,"normalMatrix",Pt.normalMatrix),zn.setValue(Y,"modelMatrix",Pt.matrixWorld),Ii}function Mh(H,ct){H.ambientLightColor.needsUpdate=ct,H.lightProbe.needsUpdate=ct,H.directionalLights.needsUpdate=ct,H.directionalLightShadows.needsUpdate=ct,H.pointLights.needsUpdate=ct,H.pointLightShadows.needsUpdate=ct,H.spotLights.needsUpdate=ct,H.spotLightShadows.needsUpdate=ct,H.rectAreaLights.needsUpdate=ct,H.hemisphereLights.needsUpdate=ct}function Th(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(H,ct,St){O.get(H.texture).__webglTexture=ct,O.get(H.depthTexture).__webglTexture=St;const wt=O.get(H);wt.__hasExternalTextures=!0,wt.__hasExternalTextures&&(wt.__autoAllocateDepthBuffer=St===void 0,wt.__autoAllocateDepthBuffer||lt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),wt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,ct){const St=O.get(H);St.__webglFramebuffer=ct,St.__useDefaultFramebuffer=ct===void 0},this.setRenderTarget=function(H,ct=0,St=0){M=H,v=ct,w=St;let wt=!0;if(H){const ve=O.get(H);ve.__useDefaultFramebuffer!==void 0?(xt.bindFramebuffer(36160,null),wt=!1):ve.__webglFramebuffer===void 0?N.setupRenderTarget(H):ve.__hasExternalTextures&&N.rebindTextures(H,O.get(H.texture).__webglTexture,O.get(H.depthTexture).__webglTexture)}let Pt=null,se=!1,te=!1;if(H){const ve=H.texture;(ve.isData3DTexture||ve.isDataArrayTexture)&&(te=!0);const Ue=O.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Pt=Ue[ct],se=!0):Mt.isWebGL2&&H.samples>0&&N.useMultisampledRTT(H)===!1?Pt=O.get(H).__webglMultisampledFramebuffer:Pt=Ue,D.copy(H.viewport),I.copy(H.scissor),G=H.scissorTest}else D.copy(q).multiplyScalar(A).floor(),I.copy(P).multiplyScalar(A).floor(),G=W;if(xt.bindFramebuffer(36160,Pt)&&Mt.drawBuffers&&wt&&xt.drawBuffers(H,Pt),xt.viewport(D),xt.scissor(I),xt.setScissorTest(G),se){const ve=O.get(H.texture);Y.framebufferTexture2D(36160,36064,34069+ct,ve.__webglTexture,St)}else if(te){const ve=O.get(H.texture),Ue=ct||0;Y.framebufferTextureLayer(36160,36064,ve.__webglTexture,St||0,Ue)}E=-1},this.readRenderTargetPixels=function(H,ct,St,wt,Pt,se,te){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ht=O.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&te!==void 0&&(Ht=Ht[te]),Ht){xt.bindFramebuffer(36160,Ht);try{const ve=H.texture,Ue=ve.format,Ve=ve.type;if(Ue!==ts&&_t.convert(Ue)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ne=Ve===Su&&(lt.has("EXT_color_buffer_half_float")||Mt.isWebGL2&&lt.has("EXT_color_buffer_float"));if(Ve!==Gl&&_t.convert(Ve)!==Y.getParameter(35738)&&!(Ve===Sl&&(Mt.isWebGL2||lt.has("OES_texture_float")||lt.has("WEBGL_color_buffer_float")))&&!Ne){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ct>=0&&ct<=H.width-wt&&St>=0&&St<=H.height-Pt&&Y.readPixels(ct,St,wt,Pt,_t.convert(Ue),_t.convert(Ve),se)}finally{const ve=M!==null?O.get(M).__webglFramebuffer:null;xt.bindFramebuffer(36160,ve)}}},this.copyFramebufferToTexture=function(H,ct,St=0){if(ct.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const wt=Math.pow(2,-St),Pt=Math.floor(ct.image.width*wt),se=Math.floor(ct.image.height*wt);N.setTexture2D(ct,0),Y.copyTexSubImage2D(3553,St,0,0,H.x,H.y,Pt,se),xt.unbindTexture()},this.copyTextureToTexture=function(H,ct,St,wt=0){const Pt=ct.image.width,se=ct.image.height,te=_t.convert(St.format),Ht=_t.convert(St.type);N.setTexture2D(St,0),Y.pixelStorei(37440,St.flipY),Y.pixelStorei(37441,St.premultiplyAlpha),Y.pixelStorei(3317,St.unpackAlignment),ct.isDataTexture?Y.texSubImage2D(3553,wt,H.x,H.y,Pt,se,te,Ht,ct.image.data):ct.isCompressedTexture?Y.compressedTexSubImage2D(3553,wt,H.x,H.y,ct.mipmaps[0].width,ct.mipmaps[0].height,te,ct.mipmaps[0].data):Y.texSubImage2D(3553,wt,H.x,H.y,te,Ht,ct.image),wt===0&&St.generateMipmaps&&Y.generateMipmap(3553),xt.unbindTexture()},this.copyTextureToTexture3D=function(H,ct,St,wt,Pt=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const se=H.max.x-H.min.x+1,te=H.max.y-H.min.y+1,Ht=H.max.z-H.min.z+1,ve=_t.convert(wt.format),Ue=_t.convert(wt.type);let Ve;if(wt.isData3DTexture)N.setTexture3D(wt,0),Ve=32879;else if(wt.isDataArrayTexture)N.setTexture2DArray(wt,0),Ve=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,wt.flipY),Y.pixelStorei(37441,wt.premultiplyAlpha),Y.pixelStorei(3317,wt.unpackAlignment);const Ne=Y.getParameter(3314),gn=Y.getParameter(32878),zr=Y.getParameter(3316),ps=Y.getParameter(3315),qe=Y.getParameter(32877),bi=St.isCompressedTexture?St.mipmaps[0]:St.image;Y.pixelStorei(3314,bi.width),Y.pixelStorei(32878,bi.height),Y.pixelStorei(3316,H.min.x),Y.pixelStorei(3315,H.min.y),Y.pixelStorei(32877,H.min.z),St.isDataTexture||St.isData3DTexture?Y.texSubImage3D(Ve,Pt,ct.x,ct.y,ct.z,se,te,Ht,ve,Ue,bi.data):St.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(Ve,Pt,ct.x,ct.y,ct.z,se,te,Ht,ve,bi.data)):Y.texSubImage3D(Ve,Pt,ct.x,ct.y,ct.z,se,te,Ht,ve,Ue,bi),Y.pixelStorei(3314,Ne),Y.pixelStorei(32878,gn),Y.pixelStorei(3316,zr),Y.pixelStorei(3315,ps),Y.pixelStorei(32877,qe),Pt===0&&wt.generateMipmaps&&Y.generateMipmap(Ve),xt.unbindTexture()},this.initTexture=function(H){N.setTexture2D(H,0),xt.unbindTexture()},this.resetState=function(){v=0,w=0,M=null,xt.reset(),re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}dn.prototype.isWebGLRenderer=!0;class Odt extends dn{}Odt.prototype.isWebGL1Renderer=!0;class rz extends cn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),e}}rz.prototype.isScene=!0;class rp{constructor(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=xd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Fs()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fs()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fs()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}rp.prototype.isInterleavedBuffer=!0;const zi=new tt;class Ed{constructor(t,e,i,r=!1){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)zi.fromBufferAttribute(this,e),zi.applyMatrix4(t),this.setXYZ(e,zi.x,zi.y,zi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)zi.fromBufferAttribute(this,e),zi.applyNormalMatrix(t),this.setXYZ(e,zi.x,zi.y,zi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)zi.fromBufferAttribute(this,e),zi.transformDirection(t),this.setXYZ(e,zi.x,zi.y,zi.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return new ei(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ed(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Ed.prototype.isInterleavedBufferAttribute=!0;class hT extends ii{constructor(t){super(),this.type="SpriteMaterial",this.color=new ce(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}hT.prototype.isSpriteMaterial=!0;let Kc;const uf=new tt,Qc=new tt,Jc=new tt,Zc=new $t,hf=new $t,sz=new me,Dm=new tt,ff=new tt,Rm=new tt,VL=new $t,Z0=new $t,HL=new $t;class Pdt extends cn{constructor(t){if(super(),this.type="Sprite",Kc===void 0){Kc=new Rn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new rp(e,5);Kc.setIndex([0,1,2,0,2,3]),Kc.setAttribute("position",new Ed(i,3,0,!1)),Kc.setAttribute("uv",new Ed(i,2,3,!1))}this.geometry=Kc,this.material=t!==void 0?t:new hT,this.center=new $t(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qc.setFromMatrixScale(this.matrixWorld),sz.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Jc.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qc.multiplyScalar(-Jc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Lm(Dm.set(-.5,-.5,0),Jc,o,Qc,r,s),Lm(ff.set(.5,-.5,0),Jc,o,Qc,r,s),Lm(Rm.set(.5,.5,0),Jc,o,Qc,r,s),VL.set(0,0),Z0.set(1,0),HL.set(1,1);let a=t.ray.intersectTriangle(Dm,ff,Rm,!1,uf);if(a===null&&(Lm(ff.set(-.5,.5,0),Jc,o,Qc,r,s),Z0.set(0,1),a=t.ray.intersectTriangle(Dm,Rm,ff,!1,uf),a===null))return;const l=t.ray.origin.distanceTo(uf);l<t.near||l>t.far||e.push({distance:l,point:uf.clone(),uv:jn.getUV(uf,Dm,ff,Rm,VL,Z0,HL,new $t),face:null,object:this})}copy(t){return super.copy(t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}Pdt.prototype.isSprite=!0;function Lm(n,t,e,i,r,s){Zc.subVectors(n,e).addScalar(.5).multiply(i),r!==void 0?(hf.x=s*Zc.x-r*Zc.y,hf.y=r*Zc.x+s*Zc.y):hf.copy(Zc),n.copy(t),n.x+=hf.x,n.y+=hf.y,n.applyMatrix4(sz)}const $L=new tt,WL=new hn,GL=new hn,Ddt=new tt,jL=new me;class oz extends rr{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new me,this.bindMatrixInverse=new me}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new hn,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const i=this.skeleton,r=this.geometry;WL.fromBufferAttribute(r.attributes.skinIndex,t),GL.fromBufferAttribute(r.attributes.skinWeight,t),$L.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const o=GL.getComponent(s);if(o!==0){const a=WL.getComponent(s);jL.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),e.addScaledVector(Ddt.copy($L).applyMatrix4(jL),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}oz.prototype.isSkinnedMesh=!0;class Rdt extends cn{constructor(){super(),this.type="Bone"}}Rdt.prototype.isBone=!0;class Ldt extends fi{constructor(t=null,e=1,i=1,r,s,o,a,l,c=oi,u=oi,h,f){super(null,o,a,l,c,u,r,s,h,f),this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Ldt.prototype.isDataTexture=!0;class FE extends ei{constructor(t,e,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,i),this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}FE.prototype.isInstancedBufferAttribute=!0;const qL=new me,YL=new me,Im=[],df=new rr;class Idt extends rr{constructor(t,e,i){super(t,e),this.instanceMatrix=new FE(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}raycast(t,e){const i=this.matrixWorld,r=this.count;if(df.geometry=this.geometry,df.material=this.material,df.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,qL),YL.multiplyMatrices(i,qL),df.matrixWorld=YL,df.raycast(t,Im);for(let o=0,a=Im.length;o<a;o++){const l=Im[o];l.instanceId=s,l.object=this,e.push(l)}Im.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new FE(new Float32Array(this.instanceMatrix.count*3),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Idt.prototype.isInstancedMesh=!0;class xh extends ii{constructor(t){super(),this.type="LineBasicMaterial",this.color=new ce(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}xh.prototype.isLineBasicMaterial=!0;const XL=new tt,KL=new tt,QL=new me,tx=new vh,Nm=new _h;class fT extends cn{constructor(t=new Rn,e=new xh){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[0];for(let r=1,s=e.count;r<s;r++)XL.fromBufferAttribute(e,r-1),KL.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=XL.distanceTo(KL);t.setAttribute("lineDistance",new ui(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Nm.copy(i.boundingSphere),Nm.applyMatrix4(r),Nm.radius+=s,t.ray.intersectsSphere(Nm)===!1)return;QL.copy(r).invert(),tx.copy(t.ray).applyMatrix4(QL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new tt,u=new tt,h=new tt,f=new tt,p=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,y=i.attributes.position;if(m!==null){const v=Math.max(0,o.start),w=Math.min(m.count,o.start+o.count);for(let M=v,E=w-1;M<E;M+=p){const T=m.getX(M),D=m.getX(M+1);if(c.fromBufferAttribute(y,T),u.fromBufferAttribute(y,D),tx.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const G=t.ray.origin.distanceTo(f);G<t.near||G>t.far||e.push({distance:G,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let M=v,E=w-1;M<E;M+=p){if(c.fromBufferAttribute(y,M),u.fromBufferAttribute(y,M+1),tx.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const D=t.ray.origin.distanceTo(f);D<t.near||D>t.far||e.push({distance:D,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}fT.prototype.isLine=!0;const JL=new tt,ZL=new tt;class dT extends fT{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,i=[];for(let r=0,s=e.count;r<s;r+=2)JL.fromBufferAttribute(e,r),ZL.fromBufferAttribute(e,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+JL.distanceTo(ZL);t.setAttribute("lineDistance",new ui(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}dT.prototype.isLineSegments=!0;class Ndt extends fT{constructor(t,e){super(t,e),this.type="LineLoop"}}Ndt.prototype.isLineLoop=!0;class pT extends ii{constructor(t){super(),this.type="PointsMaterial",this.color=new ce(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}pT.prototype.isPointsMaterial=!0;const tI=new me,BE=new vh,km=new _h,Fm=new tt;class kdt extends cn{constructor(t=new Rn,e=new pT){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),km.copy(i.boundingSphere),km.applyMatrix4(r),km.radius+=s,t.ray.intersectsSphere(km)===!1)return;tI.copy(r).invert(),BE.copy(t.ray).applyMatrix4(tI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,h=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let m=f,g=p;m<g;m++){const y=c.getX(m);Fm.fromBufferAttribute(h,y),eI(Fm,y,l,r,t,e,this)}}else{const f=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let m=f,g=p;m<g;m++)Fm.fromBufferAttribute(h,m),eI(Fm,m,l,r,t,e,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}kdt.prototype.isPoints=!0;function eI(n,t,e,i,r,s,o){const a=BE.distanceSqToPoint(n);if(a<e){const l=new tt;BE.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}class Fdt extends fi{constructor(t,e,i,r,s,o,a,l,c){super(t,e,i,r,s,o,a,l,c),this.minFilter=o!==void 0?o:tr,this.magFilter=s!==void 0?s:tr,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,t.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Fdt.prototype.isVideoTexture=!0;class Bdt extends fi{constructor(t,e,i){super({width:t,height:e}),this.format=i,this.magFilter=oi,this.minFilter=oi,this.generateMipmaps=!1,this.needsUpdate=!0}}Bdt.prototype.isFramebufferTexture=!0;class zdt extends fi{constructor(t,e,i,r,s,o,a,l,c,u,h,f){super(null,o,a,l,c,u,r,s,h,f),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}zdt.prototype.isCompressedTexture=!0;class Udt extends fi{constructor(t,e,i,r,s,o,a,l,c){super(t,e,i,r,s,o,a,l,c),this.needsUpdate=!0}}Udt.prototype.isCanvasTexture=!0;class Nr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),s=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),s+=i.distanceTo(r),e.push(s),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let r=0;const s=i.length;let o;e?o=e:o=t*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,p=(o-u)/f;return(r+p)/(s-1)}getTangent(t,e){let r=t-1e-4,s=t+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=e||(o.isVector2?new $t:new tt);return l.copy(a).sub(o).normalize(),l}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new tt,r=[],s=[],o=[],a=new tt,l=new me;for(let p=0;p<=t;p++){const m=p/t;r[p]=this.getTangentAt(m,new tt)}s[0]=new tt,o[0]=new tt;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let p=1;p<=t;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Mi(r[p-1].dot(r[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,m))}o[p].crossVectors(r[p],s[p])}if(e===!0){let p=Math.acos(Mi(s[0].dot(s[t]),-1,1));p/=t,r[0].dot(a.crossVectors(s[0],s[t]))>0&&(p=-p);for(let m=1;m<=t;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],p*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Vv extends Nr{constructor(t=0,e=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(t,e){const i=e||new $t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+t*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*h+this.aX,c=f*h+p*u+this.aY}return i.set(l,c)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Vv.prototype.isEllipseCurve=!0;class az extends Vv{constructor(t,e,i,r,s,o){super(t,e,i,i,r,s,o),this.type="ArcCurve"}}az.prototype.isArcCurve=!0;function mT(){let n=0,t=0,e=0,i=0;function r(s,o,a,l){n=s,t=a,e=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+h)+(l-a)/h;f*=u,p*=u,r(o,a,f,p)},calc:function(s){const o=s*s,a=o*s;return n+t*s+e*o+i*a}}}const Bm=new tt,ex=new mT,nx=new mT,ix=new mT;class lz extends Nr{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new tt){const i=e,r=this.points,s=r.length,o=(s-(this.closed?0:1))*t;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Bm.subVectors(r[0],r[1]).add(r[0]),c=Bm);const h=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Bm.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Bm),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(h),p),g=Math.pow(h.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(u),p);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),ex.initNonuniformCatmullRom(c.x,h.x,f.x,u.x,m,g,y),nx.initNonuniformCatmullRom(c.y,h.y,f.y,u.y,m,g,y),ix.initNonuniformCatmullRom(c.z,h.z,f.z,u.z,m,g,y)}else this.curveType==="catmullrom"&&(ex.initCatmullRom(c.x,h.x,f.x,u.x,this.tension),nx.initCatmullRom(c.y,h.y,f.y,u.y,this.tension),ix.initCatmullRom(c.z,h.z,f.z,u.z,this.tension));return i.set(ex.calc(l),nx.calc(l),ix.calc(l)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new tt().fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}lz.prototype.isCatmullRomCurve3=!0;function nI(n,t,e,i,r){const s=(i-t)*.5,o=(r-e)*.5,a=n*n,l=n*a;return(2*e-2*i+s+o)*l+(-3*e+3*i-2*s-o)*a+s*n+e}function Vdt(n,t){const e=1-n;return e*e*t}function Hdt(n,t){return 2*(1-n)*n*t}function $dt(n,t){return n*n*t}function $f(n,t,e,i){return Vdt(n,t)+Hdt(n,e)+$dt(n,i)}function Wdt(n,t){const e=1-n;return e*e*e*t}function Gdt(n,t){const e=1-n;return 3*e*e*n*t}function jdt(n,t){return 3*(1-n)*n*n*t}function qdt(n,t){return n*n*n*t}function Wf(n,t,e,i,r){return Wdt(n,t)+Gdt(n,e)+jdt(n,i)+qdt(n,r)}class gT extends Nr{constructor(t=new $t,e=new $t,i=new $t,r=new $t){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new $t){const i=e,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Wf(t,r.x,s.x,o.x,a.x),Wf(t,r.y,s.y,o.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}gT.prototype.isCubicBezierCurve=!0;class cz extends Nr{constructor(t=new tt,e=new tt,i=new tt,r=new tt){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new tt){const i=e,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Wf(t,r.x,s.x,o.x,a.x),Wf(t,r.y,s.y,o.y,a.y),Wf(t,r.z,s.z,o.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}cz.prototype.isCubicBezierCurve3=!0;class Hv extends Nr{constructor(t=new $t,e=new $t){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new $t){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const i=e||new $t;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Hv.prototype.isLineCurve=!0;class Ydt extends Nr{constructor(t=new tt,e=new tt){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new tt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class yT extends Nr{constructor(t=new $t,e=new $t,i=new $t){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new $t){const i=e,r=this.v0,s=this.v1,o=this.v2;return i.set($f(t,r.x,s.x,o.x),$f(t,r.y,s.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}yT.prototype.isQuadraticBezierCurve=!0;class uz extends Nr{constructor(t=new tt,e=new tt,i=new tt){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new tt){const i=e,r=this.v0,s=this.v1,o=this.v2;return i.set($f(t,r.x,s.x,o.x),$f(t,r.y,s.y,o.y),$f(t,r.z,s.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}uz.prototype.isQuadraticBezierCurve3=!0;class _T extends Nr{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new $t){const i=e,r=this.points,s=(r.length-1)*t,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(nI(a,l.x,c.x,u.x,h.x),nI(a,l.y,c.y,u.y,h.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new $t().fromArray(r))}return this}}_T.prototype.isSplineCurve=!0;var hz=Object.freeze({__proto__:null,ArcCurve:az,CatmullRomCurve3:lz,CubicBezierCurve:gT,CubicBezierCurve3:cz,EllipseCurve:Vv,LineCurve:Hv,LineCurve3:Ydt,QuadraticBezierCurve:yT,QuadraticBezierCurve3:uz,SplineCurve:_T});class Xdt extends Nr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Hv(e,t))}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,e)}s++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(e.push(u),i=u)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(new hz[r.type]().fromJSON(r))}return this}}class zE extends Xdt{constructor(t){super(),this.type="Path",this.currentPoint=new $t,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new Hv(this.currentPoint.clone(),new $t(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const s=new yT(this.currentPoint.clone(),new $t(t,e),new $t(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,s,o){const a=new gT(this.currentPoint.clone(),new $t(t,e),new $t(i,r),new $t(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new _T(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(t+a,e+l,i,r,s,o),this}absarc(t,e,i,r,s,o){return this.absellipse(t,e,i,i,r,s,o),this}ellipse(t,e,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+c,e+u,i,r,s,o,a,l),this}absellipse(t,e,i,r,s,o,a,l){const c=new Vv(t,e,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new tt;new tt;new tt;new jn;class sp extends zE{constructor(t){super(t),this.uuid=Fs(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(new zE().fromJSON(r))}return this}}const Kdt={triangulate:function(n,t,e=2){const i=t&&t.length,r=i?t[0]*e:n.length;let s=fz(n,0,r,e,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,f,p;if(i&&(s=ept(n,t,s,e)),n.length>80*e){a=c=n[0],l=u=n[1];for(let m=e;m<r;m+=e)h=n[m],f=n[m+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);p=Math.max(c-a,u-l),p=p!==0?1/p:0}return Sd(s,o,e,a,l,p),o}};function fz(n,t,e,i,r){let s,o;if(r===fpt(n,t,e,i)>0)for(s=t;s<e;s+=i)o=iI(s,n[s],n[s+1],o);else for(s=e-i;s>=t;s-=i)o=iI(s,n[s],n[s+1],o);return o&&$v(o,o.next)&&(Td(o),o=o.next),o}function wa(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&($v(e,e.next)||Nn(e.prev,e,e.next)===0)){if(Td(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Sd(n,t,e,i,r,s,o){if(!n)return;!o&&s&&opt(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Jdt(n,i,r,s):Qdt(n)){t.push(l.i/e),t.push(n.i/e),t.push(c.i/e),Td(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Zdt(wa(n),t,e),Sd(n,t,e,i,r,s,2)):o===2&&tpt(n,t,e,i,r,s):Sd(wa(n),t,e,i,r,s,1);break}}}function Qdt(n){const t=n.prev,e=n,i=n.next;if(Nn(t,e,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(fu(t.x,t.y,e.x,e.y,i.x,i.y,r.x,r.y)&&Nn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Jdt(n,t,e,i){const r=n.prev,s=n,o=n.next;if(Nn(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=UE(a,l,t,e,i),f=UE(c,u,t,e,i);let p=n.prevZ,m=n.nextZ;for(;p&&p.z>=h&&m&&m.z<=f;){if(p!==n.prev&&p!==n.next&&fu(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Nn(p.prev,p,p.next)>=0||(p=p.prevZ,m!==n.prev&&m!==n.next&&fu(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Nn(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;p&&p.z>=h;){if(p!==n.prev&&p!==n.next&&fu(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Nn(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==n.prev&&m!==n.next&&fu(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Nn(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Zdt(n,t,e){let i=n;do{const r=i.prev,s=i.next.next;!$v(r,s)&&dz(r,i,i.next,s)&&Md(r,s)&&Md(s,r)&&(t.push(r.i/e),t.push(i.i/e),t.push(s.i/e),Td(i),Td(i.next),i=n=s),i=i.next}while(i!==n);return wa(i)}function tpt(n,t,e,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&cpt(o,a)){let l=pz(o,a);o=wa(o,o.next),l=wa(l,l.next),Sd(o,t,e,i,r,s),Sd(l,t,e,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function ept(n,t,e,i){const r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;s++)a=t[s]*i,l=s<o-1?t[s+1]*i:n.length,c=fz(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(lpt(c));for(r.sort(npt),s=0;s<r.length;s++)ipt(r[s],e),e=wa(e,e.next);return e}function npt(n,t){return n.x-t.x}function ipt(n,t){if(t=rpt(n,t),t){const e=pz(t,n);wa(t,t.next),wa(e,e.next)}}function rpt(n,t){let e=t;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const f=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(f<=i&&f>s){if(s=f,f===i){if(r===e.y)return e;if(r===e.next.y)return e.next}o=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,h;e=o;do i>=e.x&&e.x>=l&&i!==e.x&&fu(r<c?i:s,r,l,c,r<c?s:i,r,e.x,e.y)&&(h=Math.abs(r-e.y)/(i-e.x),Md(e,n)&&(h<u||h===u&&(e.x>o.x||e.x===o.x&&spt(o,e)))&&(o=e,u=h)),e=e.next;while(e!==a);return o}function spt(n,t){return Nn(n.prev,n,t.prev)<0&&Nn(t.next,n,n.next)<0}function opt(n,t,e,i){let r=n;do r.z===null&&(r.z=UE(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,apt(r)}function apt(n){let t,e,i,r,s,o,a,l,c=1;do{for(e=n,n=null,s=null,o=0;e;){for(o++,i=e,a=0,t=0;t<c&&(a++,i=i.nextZ,!!i);t++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||e.z<=i.z)?(r=e,e=e.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;e=i}s.nextZ=null,c*=2}while(o>1);return n}function UE(n,t,e,i,r){return n=32767*(n-e)*r,t=32767*(t-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function lpt(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function fu(n,t,e,i,r,s,o,a){return(r-o)*(t-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(e-o)*(t-a)>=0&&(e-o)*(s-a)-(r-o)*(i-a)>=0}function cpt(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!upt(n,t)&&(Md(n,t)&&Md(t,n)&&hpt(n,t)&&(Nn(n.prev,n,t.prev)||Nn(n,t.prev,t))||$v(n,t)&&Nn(n.prev,n,n.next)>0&&Nn(t.prev,t,t.next)>0)}function Nn(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function $v(n,t){return n.x===t.x&&n.y===t.y}function dz(n,t,e,i){const r=Um(Nn(n,t,e)),s=Um(Nn(n,t,i)),o=Um(Nn(e,i,n)),a=Um(Nn(e,i,t));return!!(r!==s&&o!==a||r===0&&zm(n,e,t)||s===0&&zm(n,i,t)||o===0&&zm(e,n,i)||a===0&&zm(e,t,i))}function zm(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function Um(n){return n>0?1:n<0?-1:0}function upt(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&dz(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function Md(n,t){return Nn(n.prev,n,n.next)<0?Nn(n,t,n.next)>=0&&Nn(n,n.prev,t)>=0:Nn(n,t,n.prev)<0||Nn(n,n.next,t)<0}function hpt(n,t){let e=n,i=!1;const r=(n.x+t.x)/2,s=(n.y+t.y)/2;do e.y>s!=e.next.y>s&&e.next.y!==e.y&&r<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function pz(n,t){const e=new VE(n.i,n.x,n.y),i=new VE(t.i,t.x,t.y),r=n.next,s=t.prev;return n.next=t,t.prev=n,e.next=r,r.prev=e,i.next=e,e.prev=i,s.next=i,i.prev=s,i}function iI(n,t,e,i){const r=new VE(n,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Td(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function VE(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fpt(n,t,e,i){let r=0;for(let s=t,o=e-i;s<e;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class fa{static area(t){const e=t.length;let i=0;for(let r=e-1,s=0;s<e;r=s++)i+=t[r].x*t[s].y-t[s].x*t[r].y;return i*.5}static isClockWise(t){return fa.area(t)<0}static triangulateShape(t,e){const i=[],r=[],s=[];rI(t),sI(i,t);let o=t.length;e.forEach(rI);for(let l=0;l<e.length;l++)r.push(o),o+=e[l].length,sI(i,e[l]);const a=Kdt.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function rI(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function sI(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class wh extends Rn{constructor(t=new sp([new $t(.5,.5),new $t(-.5,.5),new $t(-.5,-.5),new $t(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],s=[];for(let a=0,l=t.length;a<l;a++){const c=t[a];o(c)}this.setAttribute("position",new ui(r,3)),this.setAttribute("uv",new ui(s,2)),this.computeVertexNormals();function o(a){const l=[],c=e.curveSegments!==void 0?e.curveSegments:12,u=e.steps!==void 0?e.steps:1;let h=e.depth!==void 0?e.depth:1,f=e.bevelEnabled!==void 0?e.bevelEnabled:!0,p=e.bevelThickness!==void 0?e.bevelThickness:.2,m=e.bevelSize!==void 0?e.bevelSize:p-.1,g=e.bevelOffset!==void 0?e.bevelOffset:0,y=e.bevelSegments!==void 0?e.bevelSegments:3;const v=e.extrudePath,w=e.UVGenerator!==void 0?e.UVGenerator:dpt;e.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=e.amount);let M,E=!1,T,D,I,G;v&&(M=v.getSpacedPoints(u),E=!0,f=!1,T=v.computeFrenetFrames(u,!1),D=new tt,I=new tt,G=new tt),f||(y=0,p=0,m=0,g=0);const j=a.extractPoints(c);let V=j.shape;const A=j.holes;if(!fa.isClockWise(V)){V=V.reverse();for(let O=0,N=A.length;O<N;O++){const $=A[O];fa.isClockWise($)&&(A[O]=$.reverse())}}const nt=fa.triangulateShape(V,A),q=V;for(let O=0,N=A.length;O<N;O++){const $=A[O];V=V.concat($)}function P(O,N,$){return N||console.error("THREE.ExtrudeGeometry: vec does not exist"),N.clone().multiplyScalar($).add(O)}const W=V.length,Z=nt.length;function U(O,N,$){let X,rt,mt;const yt=O.x-N.x,ht=O.y-N.y,Tt=$.x-O.x,bt=$.y-O.y,k=yt*yt+ht*ht,R=yt*bt-ht*Tt;if(Math.abs(R)>Number.EPSILON){const st=Math.sqrt(k),gt=Math.sqrt(Tt*Tt+bt*bt),Ot=N.x-ht/st,Nt=N.y+yt/st,Wt=$.x-bt/gt,_t=$.y+Tt/gt,re=((Wt-Ot)*bt-(_t-Nt)*Tt)/(yt*bt-ht*Tt);X=Ot+yt*re-O.x,rt=Nt+ht*re-O.y;const pe=X*X+rt*rt;if(pe<=2)return new $t(X,rt);mt=Math.sqrt(pe/2)}else{let st=!1;yt>Number.EPSILON?Tt>Number.EPSILON&&(st=!0):yt<-Number.EPSILON?Tt<-Number.EPSILON&&(st=!0):Math.sign(ht)===Math.sign(bt)&&(st=!0),st?(X=-ht,rt=yt,mt=Math.sqrt(k)):(X=yt,rt=ht,mt=Math.sqrt(k/2))}return new $t(X/mt,rt/mt)}const Q=[];for(let O=0,N=q.length,$=N-1,X=O+1;O<N;O++,$++,X++)$===N&&($=0),X===N&&(X=0),Q[O]=U(q[O],q[$],q[X]);const ut=[];let vt,at=Q.concat();for(let O=0,N=A.length;O<N;O++){const $=A[O];vt=[];for(let X=0,rt=$.length,mt=rt-1,yt=X+1;X<rt;X++,mt++,yt++)mt===rt&&(mt=0),yt===rt&&(yt=0),vt[X]=U($[X],$[mt],$[yt]);ut.push(vt),at=at.concat(vt)}for(let O=0;O<y;O++){const N=O/y,$=p*Math.cos(N*Math.PI/2),X=m*Math.sin(N*Math.PI/2)+g;for(let rt=0,mt=q.length;rt<mt;rt++){const yt=P(q[rt],Q[rt],X);Et(yt.x,yt.y,-$)}for(let rt=0,mt=A.length;rt<mt;rt++){const yt=A[rt];vt=ut[rt];for(let ht=0,Tt=yt.length;ht<Tt;ht++){const bt=P(yt[ht],vt[ht],X);Et(bt.x,bt.y,-$)}}}const Ct=m+g;for(let O=0;O<W;O++){const N=f?P(V[O],at[O],Ct):V[O];E?(I.copy(T.normals[0]).multiplyScalar(N.x),D.copy(T.binormals[0]).multiplyScalar(N.y),G.copy(M[0]).add(I).add(D),Et(G.x,G.y,G.z)):Et(N.x,N.y,0)}for(let O=1;O<=u;O++)for(let N=0;N<W;N++){const $=f?P(V[N],at[N],Ct):V[N];E?(I.copy(T.normals[O]).multiplyScalar($.x),D.copy(T.binormals[O]).multiplyScalar($.y),G.copy(M[O]).add(I).add(D),Et(G.x,G.y,G.z)):Et($.x,$.y,h/u*O)}for(let O=y-1;O>=0;O--){const N=O/y,$=p*Math.cos(N*Math.PI/2),X=m*Math.sin(N*Math.PI/2)+g;for(let rt=0,mt=q.length;rt<mt;rt++){const yt=P(q[rt],Q[rt],X);Et(yt.x,yt.y,h+$)}for(let rt=0,mt=A.length;rt<mt;rt++){const yt=A[rt];vt=ut[rt];for(let ht=0,Tt=yt.length;ht<Tt;ht++){const bt=P(yt[ht],vt[ht],X);E?Et(bt.x,bt.y+M[u-1].y,M[u-1].x+$):Et(bt.x,bt.y,h+$)}}}Lt(),et();function Lt(){const O=r.length/3;if(f){let N=0,$=W*N;for(let X=0;X<Z;X++){const rt=nt[X];lt(rt[2]+$,rt[1]+$,rt[0]+$)}N=u+y*2,$=W*N;for(let X=0;X<Z;X++){const rt=nt[X];lt(rt[0]+$,rt[1]+$,rt[2]+$)}}else{for(let N=0;N<Z;N++){const $=nt[N];lt($[2],$[1],$[0])}for(let N=0;N<Z;N++){const $=nt[N];lt($[0]+W*u,$[1]+W*u,$[2]+W*u)}}i.addGroup(O,r.length/3-O,0)}function et(){const O=r.length/3;let N=0;Y(q,N),N+=q.length;for(let $=0,X=A.length;$<X;$++){const rt=A[$];Y(rt,N),N+=rt.length}i.addGroup(O,r.length/3-O,1)}function Y(O,N){let $=O.length;for(;--$>=0;){const X=$;let rt=$-1;rt<0&&(rt=O.length-1);for(let mt=0,yt=u+y*2;mt<yt;mt++){const ht=W*mt,Tt=W*(mt+1),bt=N+X+ht,k=N+rt+ht,R=N+rt+Tt,st=N+X+Tt;Mt(bt,k,R,st)}}}function Et(O,N,$){l.push(O),l.push(N),l.push($)}function lt(O,N,$){xt(O),xt(N),xt($);const X=r.length/3,rt=w.generateTopUV(i,r,X-3,X-2,X-1);Rt(rt[0]),Rt(rt[1]),Rt(rt[2])}function Mt(O,N,$,X){xt(O),xt(N),xt(X),xt(N),xt($),xt(X);const rt=r.length/3,mt=w.generateSideWallUV(i,r,rt-6,rt-3,rt-2,rt-1);Rt(mt[0]),Rt(mt[1]),Rt(mt[3]),Rt(mt[1]),Rt(mt[2]),Rt(mt[3])}function xt(O){r.push(l[O*3+0]),r.push(l[O*3+1]),r.push(l[O*3+2])}function Rt(O){s.push(O.x),s.push(O.y)}}}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return ppt(e,i,t)}static fromJSON(t,e){const i=[];for(let s=0,o=t.shapes.length;s<o;s++){const a=e[t.shapes[s]];i.push(a)}const r=t.options.extrudePath;return r!==void 0&&(t.options.extrudePath=new hz[r.type]().fromJSON(r)),new wh(i,t.options)}}const dpt={generateTopUV:function(n,t,e,i,r){const s=t[e*3],o=t[e*3+1],a=t[i*3],l=t[i*3+1],c=t[r*3],u=t[r*3+1];return[new $t(s,o),new $t(a,l),new $t(c,u)]},generateSideWallUV:function(n,t,e,i,r,s){const o=t[e*3],a=t[e*3+1],l=t[e*3+2],c=t[i*3],u=t[i*3+1],h=t[i*3+2],f=t[r*3],p=t[r*3+1],m=t[r*3+2],g=t[s*3],y=t[s*3+1],v=t[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new $t(o,1-l),new $t(c,1-h),new $t(f,1-m),new $t(g,1-v)]:[new $t(a,1-l),new $t(u,1-h),new $t(p,1-m),new $t(y,1-v)]}};function ppt(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class vT extends Rn{constructor(t=new sp([new $t(0,.5),new $t(-.5,-.5),new $t(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(t)===!1)c(t);else for(let u=0;u<t.length;u++)c(t[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new ui(r,3)),this.setAttribute("normal",new ui(s,3)),this.setAttribute("uv",new ui(o,2));function c(u){const h=r.length/3,f=u.extractPoints(e);let p=f.shape;const m=f.holes;fa.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,v=m.length;y<v;y++){const w=m[y];fa.isClockWise(w)===!0&&(m[y]=w.reverse())}const g=fa.triangulateShape(p,m);for(let y=0,v=m.length;y<v;y++){const w=m[y];p=p.concat(w)}for(let y=0,v=p.length;y<v;y++){const w=p[y];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,v=g.length;y<v;y++){const w=g[y],M=w[0]+h,E=w[1]+h,T=w[2]+h;i.push(M,E,T),l+=3}}}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return mpt(e,t)}static fromJSON(t,e){const i=[];for(let r=0,s=t.shapes.length;r<s;r++){const o=e[t.shapes[r]];i.push(o)}return new vT(i,t.curveSegments)}}function mpt(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const r=n[e];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t}class mz extends ii{constructor(t){super(),this.type="ShadowMaterial",this.color=new ce(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}mz.prototype.isShadowMaterial=!0;class gz extends os{constructor(t){super(t),this.type="RawShaderMaterial"}}gz.prototype.isRawShaderMaterial=!0;class bT extends ii{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ce(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}bT.prototype.isMeshStandardMaterial=!0;class yz extends bT{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $t(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new ce(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ce(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ce(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}yz.prototype.isMeshPhysicalMaterial=!0;class _z extends ii{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new ce(16777215),this.specular=new ce(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}_z.prototype.isMeshPhongMaterial=!0;class vz extends ii{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ce(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}vz.prototype.isMeshToonMaterial=!0;class bz extends ii{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}bz.prototype.isMeshNormalMaterial=!0;class xz extends ii{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}xz.prototype.isMeshLambertMaterial=!0;class wz extends ii{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ce(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yh,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}wz.prototype.isMeshMatcapMaterial=!0;class Ez extends xh{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}Ez.prototype.isLineDashedMaterial=!0;const gpt={ShadowMaterial:mz,SpriteMaterial:hT,RawShaderMaterial:gz,ShaderMaterial:os,PointsMaterial:pT,MeshPhysicalMaterial:yz,MeshStandardMaterial:bT,MeshPhongMaterial:_z,MeshToonMaterial:vz,MeshNormalMaterial:bz,MeshLambertMaterial:xz,MeshDepthMaterial:cT,MeshDistanceMaterial:uT,MeshBasicMaterial:Fv,MeshMatcapMaterial:wz,LineDashedMaterial:Ez,LineBasicMaterial:xh,Material:ii};ii.fromType=function(n){return new gpt[n]};const On={arraySlice:function(n,t,e){return On.isTypedArray(n)?new n.constructor(n.subarray(t,e!==void 0?e:n.length)):n.slice(t,e)},convertArray:function(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function t(r,s){return n[r]-n[s]}const e=n.length,i=new Array(e);for(let r=0;r!==e;++r)i[r]=r;return i.sort(t),i},sortedArray:function(n,t,e){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=e[s]*t;for(let l=0;l!==t;++l)r[o++]=n[a+l]}return r},flattenJSON:function(n,t,e,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(t.push(s.time),e.push.apply(e,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(t.push(s.time),o.toArray(e,e.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(t.push(s.time),e.push(o)),s=n[r++];while(s!==void 0)},subclip:function(n,t,e,i,r=30){const s=n.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],f=[];for(let p=0;p<c.times.length;++p){const m=c.times[p]*r;if(!(m<e||m>=i)){h.push(c.times[p]);for(let g=0;g<u;++g)f.push(c.values[p*u+g])}}h.length!==0&&(c.times=On.convertArray(h,c.times.constructor),c.values=On.convertArray(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,t=0,e=n,i=30){i<=0&&(i=30);const r=e.tracks.length,s=t/i;for(let o=0;o<r;++o){const a=e.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const m=a.times.length-1;let g;if(s<=a.times[0]){const v=u,w=h-u;g=On.arraySlice(a.values,v,w)}else if(s>=a.times[m]){const v=m*h+u,w=v+h-u;g=On.arraySlice(a.values,v,w)}else{const v=a.createInterpolant(),w=u,M=h-u;v.evaluate(s),g=On.arraySlice(v.resultBuffer,w,M)}l==="quaternion"&&new Di().fromArray(g).normalize().conjugate().toArray(g);const y=c.times.length;for(let v=0;v<y;++v){const w=v*p+f;if(l==="quaternion")Di.multiplyQuaternionsFlat(c.values,w,g,0,c.values,w);else{const M=p-f*2;for(let E=0;E<M;++E)c.values[w+E]-=g[E]}}}return n.blendMode=zB,n}};class Ea{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],s=e[i-1];t:{e:{let o;n:{i:if(!(t<r)){for(let a=i+2;;){if(r===void 0){if(t<s)break i;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,s)}if(i===a)break;if(s=r,r=e[++i],t<r)break e}o=e.length;break n}if(!(t>=s)){const a=e[1];t<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===l)break;if(r=s,s=e[--i-1],t>=s)break e}o=i,i=0;break n}break t}for(;i<o;){const a=i+o>>>1;t<e[a]?o=a:i=a+1}if(r=e[i],s=e[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(r===void 0)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,s,t)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r;for(let o=0;o!==r;++o)e[o]=i[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Ea.prototype.beforeStart_=Ea.prototype.copySampleValue_;Ea.prototype.afterEnd_=Ea.prototype.copySampleValue_;class ypt extends Ea{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cu,endingEnd:cu}}intervalChanged_(t,e,i){const r=this.parameterPositions;let s=t-2,o=t+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case uu:s=t,a=2*e-i;break;case h_:s=r.length-2,a=e+r[s]-r[s+1];break;default:s=t,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case uu:o=t,l=2*i-e;break;case h_:o=1,l=i+r[1]-r[0];break;default:o=t-1,l=e}const c=(i-e)*.5,u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,p=this._weightNext,m=(i-e)/(r-e),g=m*m,y=g*m,v=-f*y+2*f*g-f*m,w=(1+f)*y+(-1.5-2*f)*g+(-.5+f)*m+1,M=(-1-p)*y+(1.5+p)*g+.5*m,E=p*y-p*g;for(let T=0;T!==a;++T)s[T]=v*o[u+T]+w*o[c+T]+M*o[l+T]+E*o[h+T];return s}}class Sz extends Ea{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=(i-e)/(r-e),h=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*h+o[l+f]*u;return s}}class _pt extends Ea{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Hs{constructor(t,e,i,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=On.convertArray(e,this.TimeBufferType),this.values=On.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:On.convertArray(t.times,Array),values:On.convertArray(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new _pt(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Sz(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new ypt(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case c_:e=this.InterpolantFactoryMethodDiscrete;break;case u_:e=this.InterpolantFactoryMethodLinear;break;case E0:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return c_;case this.InterpolantFactoryMethodLinear:return u_;case this.InterpolantFactoryMethodSmooth:return E0}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<t;)++s;for(;o!==-1&&i[o]>e;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=On.arraySlice(i,s,o),this.values=On.arraySlice(this.values,s*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(r!==void 0&&On.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){const t=On.arraySlice(this.times),e=On.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===E0,s=t.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=t[a],u=t[a+1];if(c!==u&&(a!==1||c!==t[0]))if(r)l=!0;else{const h=a*i,f=h-i,p=h+i;for(let m=0;m!==i;++m){const g=e[h+m];if(g!==e[f+m]||g!==e[p+m]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const h=a*i,f=o*i;for(let p=0;p!==i;++p)e[f+p]=e[h+p]}++o}}if(s>0){t[o]=t[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)e[l+c]=e[a+c];++o}return o!==t.length?(this.times=On.arraySlice(t,0,o),this.values=On.arraySlice(e,0,o*i)):(this.times=t,this.values=e),this}clone(){const t=On.arraySlice(this.times,0),e=On.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Hs.prototype.TimeBufferType=Float32Array;Hs.prototype.ValueBufferType=Float32Array;Hs.prototype.DefaultInterpolation=u_;class Eh extends Hs{}Eh.prototype.ValueTypeName="bool";Eh.prototype.ValueBufferType=Array;Eh.prototype.DefaultInterpolation=c_;Eh.prototype.InterpolantFactoryMethodLinear=void 0;Eh.prototype.InterpolantFactoryMethodSmooth=void 0;class Mz extends Hs{}Mz.prototype.ValueTypeName="color";class d_ extends Hs{}d_.prototype.ValueTypeName="number";class vpt extends Ea{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-e)/(r-e);let c=t*a;for(let u=c+a;c!==u;c+=4)Di.slerpFlat(s,0,o,c-a,o,c,l);return s}}class op extends Hs{InterpolantFactoryMethodLinear(t){return new vpt(this.times,this.values,this.getValueSize(),t)}}op.prototype.ValueTypeName="quaternion";op.prototype.DefaultInterpolation=u_;op.prototype.InterpolantFactoryMethodSmooth=void 0;class Sh extends Hs{}Sh.prototype.ValueTypeName="string";Sh.prototype.ValueBufferType=Array;Sh.prototype.DefaultInterpolation=c_;Sh.prototype.InterpolantFactoryMethodLinear=void 0;Sh.prototype.InterpolantFactoryMethodSmooth=void 0;class p_ extends Hs{}p_.prototype.ValueTypeName="vector";class oI{constructor(t,e=-1,i,r=nT){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=Fs(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let o=0,a=i.length;o!==a;++o)e.push(xpt(i[o]).scale(r));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,o=i.length;s!==o;++s)e.push(Hs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const s=e.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=On.getKeyframeOrder(l);l=On.sortedArray(l,1,u),c=On.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new d_(".morphTargetInfluences["+e[a].name+"]",l,c).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const r=t;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){const c=t[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let f=r[h];f||(r[h]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,f,p,m,g){if(p.length!==0){const y=[],v=[];On.flattenJSON(p,y,v,m),y.length!==0&&g.push(new h(f,y,v))}},r=[],s=t.name||"default",o=t.fps||30,a=t.blendMode;let l=t.length||-1;const c=t.hierarchy||[];for(let h=0;h<c.length;h++){const f=c[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let g=0;g<f[m].morphTargets.length;g++)p[f[m].morphTargets[g]]=-1;for(const g in p){const y=[],v=[];for(let w=0;w!==f[m].morphTargets.length;++w){const M=f[m];y.push(M.time),v.push(M.morphTarget===g?1:0)}r.push(new d_(".morphTargetInfluence["+g+"]",y,v))}l=p.length*o}else{const p=".bones["+e[h].name+"]";i(p_,p+".position",f,"pos",r),i(op,p+".quaternion",f,"rot",r),i(p_,p+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,r=t.length;i!==r;++i){const s=this.tracks[i];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bpt(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return d_;case"vector":case"vector2":case"vector3":case"vector4":return p_;case"color":return Mz;case"quaternion":return op;case"bool":case"boolean":return Eh;case"string":return Sh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function xpt(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=bpt(n.type);if(n.times===void 0){const e=[],i=[];On.flattenJSON(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const eh={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class wpt{constructor(t,e,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,f=c.length;h<f;h+=2){const p=c[h],m=c[h+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const Ept=new wpt;class La{constructor(t){this.manager=t!==void 0?t:Ept,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(r,s){i.load(t,r,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const to={};class Spt extends La{constructor(t){super(t)}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=eh.get(t);if(s!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(to[t]!==void 0){to[t].push({onLoad:e,onProgress:i,onError:r});return}to[t]=[],to[t].push({onLoad:e,onProgress:i,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=to[t],h=c.body.getReader(),f=c.headers.get("Content-Length"),p=f?parseInt(f):0,m=p!==0;let g=0;const y=new ReadableStream({start(v){w();function w(){h.read().then(({done:M,value:E})=>{if(M)v.close();else{g+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:p});for(let D=0,I=u.length;D<I;D++){const G=u[D];G.onProgress&&G.onProgress(T)}v.enqueue(E),w()}})}}});return new Response(y)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(m=>p.decode(m))}}}).then(c=>{eh.add(t,c);const u=to[t];delete to[t];for(let h=0,f=u.length;h<f;h++){const p=u[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=to[t];if(u===void 0)throw this.manager.itemError(t),c;delete to[t];for(let h=0,f=u.length;h<f;h++){const p=u[h];p.onError&&p.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Tz extends La{constructor(t){super(t)}load(t,e,i,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=eh.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a=wd("img");function l(){u(),eh.add(t,this),e&&e(this),s.manager.itemEnd(t)}function c(h){u(),r&&r(h),s.manager.itemError(t),s.manager.itemEnd(t)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(t),a.src=t,a}}class Mpt extends La{constructor(t){super(t)}load(t,e,i,r){const s=new Bv,o=new Tz(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(t[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,e&&e(s))},void 0,r)}for(let c=0;c<t.length;++c)l(c);return s}}class Tpt extends La{constructor(t){super(t)}load(t,e,i,r){const s=new fi,o=new Tz(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(a){s.image=a,s.needsUpdate=!0,e!==void 0&&e(s)},i,r),s}}class Vs extends cn{constructor(t,e=1){super(),this.type="Light",this.color=new ce(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}Vs.prototype.isLight=!0;class Apt extends Vs{constructor(t,e,i){super(t,i),this.type="HemisphereLight",this.position.copy(cn.DefaultUp),this.updateMatrix(),this.groundColor=new ce(e)}copy(t){return Vs.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}Apt.prototype.isHemisphereLight=!0;const aI=new me,lI=new tt,cI=new tt;class xT{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $t(512,512),this.map=null,this.mapPass=null,this.matrix=new me,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zv,this._frameExtents=new $t(1,1),this._viewportCount=1,this._viewports=[new hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;lI.setFromMatrixPosition(t.matrixWorld),e.position.copy(lI),cI.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(cI),e.updateMatrixWorld(),aI.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aI),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Az extends xT{constructor(){super(new er(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,i=IE*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(i!==e.fov||r!==e.aspect||s!==e.far)&&(e.fov=i,e.aspect=r,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}Az.prototype.isSpotLightShadow=!0;class Cpt extends Vs{constructor(t,e,i=0,r=Math.PI/3,s=0,o=1){super(t,e),this.type="SpotLight",this.position.copy(cn.DefaultUp),this.updateMatrix(),this.target=new cn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new Az}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Cpt.prototype.isSpotLight=!0;const uI=new me,pf=new tt,rx=new tt;class Cz extends xT{constructor(){super(new er(90,1,.5,500)),this._frameExtents=new $t(4,2),this._viewportCount=6,this._viewports=[new hn(2,1,1,1),new hn(0,1,1,1),new hn(3,1,1,1),new hn(1,1,1,1),new hn(3,0,1,1),new hn(1,0,1,1)],this._cubeDirections=[new tt(1,0,0),new tt(-1,0,0),new tt(0,0,1),new tt(0,0,-1),new tt(0,1,0),new tt(0,-1,0)],this._cubeUps=[new tt(0,1,0),new tt(0,1,0),new tt(0,1,0),new tt(0,1,0),new tt(0,0,1),new tt(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,s=t.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),pf.setFromMatrixPosition(t.matrixWorld),i.position.copy(pf),rx.copy(i.position),rx.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(rx),i.updateMatrixWorld(),r.makeTranslation(-pf.x,-pf.y,-pf.z),uI.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uI)}}Cz.prototype.isPointLightShadow=!0;class Opt extends Vs{constructor(t,e,i=0,r=1){super(t,e),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Cz}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}Opt.prototype.isPointLight=!0;class Oz extends xT{constructor(){super(new aT(-5,5,5,-5,.5,500))}}Oz.prototype.isDirectionalLightShadow=!0;class Ppt extends Vs{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(cn.DefaultUp),this.updateMatrix(),this.target=new cn,this.shadow=new Oz}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Ppt.prototype.isDirectionalLight=!0;class Dpt extends Vs{constructor(t,e){super(t,e),this.type="AmbientLight"}}Dpt.prototype.isAmbientLight=!0;class Rpt extends Vs{constructor(t,e,i=10,r=10){super(t,e),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}Rpt.prototype.isRectAreaLight=!0;class Pz{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new tt)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,r=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*s),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*r)),e.addScaledVector(o[5],1.092548*(r*s)),e.addScaledVector(o[6],.315392*(3*s*s-1)),e.addScaledVector(o[7],1.092548*(i*s)),e.addScaledVector(o[8],.546274*(i*i-r*r)),e}getIrradianceAt(t,e){const i=t.x,r=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*r),e.addScaledVector(o[2],2*.511664*s),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*r),e.addScaledVector(o[5],2*.429043*r*s),e.addScaledVector(o[6],.743125*s*s-.247708),e.addScaledVector(o[7],2*.429043*i*s),e.addScaledVector(o[8],.429043*(i*i-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,e+r*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,e+r*3);return t}static getBasisAt(t,e){const i=t.x,r=t.y,s=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*s,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*s,e[6]=.315392*(3*s*s-1),e[7]=1.092548*i*s,e[8]=.546274*(i*i-r*r)}}Pz.prototype.isSphericalHarmonics3=!0;class wT extends Vs{constructor(t=new Pz,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}wT.prototype.isLightProbe=!0;class Lpt{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Ipt extends Rn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}Ipt.prototype.isInstancedBufferGeometry=!0;class Npt extends La{constructor(t){super(t),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=eh.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){eh.add(t,l),e&&e(l),s.manager.itemEnd(t)}).catch(function(l){r&&r(l),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}}Npt.prototype.isImageBitmapLoader=!0;let Vm;const kpt={getContext:function(){return Vm===void 0&&(Vm=new(window.AudioContext||window.webkitAudioContext)),Vm},setContext:function(n){Vm=n}};class Fpt extends La{constructor(t){super(t)}load(t,e,i,r){const s=this,o=new Spt(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{const l=a.slice(0);kpt.getContext().decodeAudioData(l,function(u){e(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(t)}},i,r)}}class Bpt extends wT{constructor(t,e,i=1){super(void 0,i);const r=new ce().set(t),s=new ce().set(e),o=new tt(r.r,r.g,r.b),a=new tt(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}Bpt.prototype.isHemisphereLightProbe=!0;class zpt extends wT{constructor(t,e=1){super(void 0,e);const i=new ce().set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}zpt.prototype.isAmbientLightProbe=!0;class Upt extends cn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}class Vpt{constructor(t,e,i){this.binding=t,this.valueSize=i;let r,s,o;switch(e){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,r=this.valueSize,s=t*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=e}else{o+=e;const a=e/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,r=t*e+e,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=e*this._origIndex;this._mixBufferRegion(i,r,l,1-s,e)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(let l=e,c=e+e;l!==c;++l)if(i[l]!==i[l+e]){a.setValue(i,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(let s=i,o=r;s!==o;++s)e[s]=e[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)t[e+o]=t[i+o]}_slerp(t,e,i,r){Di.slerpFlat(t,e,t,e,t,i,r)}_slerpAdditive(t,e,i,r,s){const o=this._workIndex*s;Di.multiplyQuaternionsFlat(t,o,t,e,t,i),Di.slerpFlat(t,e,t,e,t,o,r)}_lerp(t,e,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=e+a;t[l]=t[l]*o+t[i+a]*r}}_lerpAdditive(t,e,i,r,s){for(let o=0;o!==s;++o){const a=e+o;t[a]=t[a]+t[i+o]*r}}}const ET="\\[\\]\\.:\\/",Hpt=new RegExp("["+ET+"]","g"),ST="[^"+ET+"]",$pt="[^"+ET.replace("\\.","")+"]",Wpt=/((?:WC+[\/:])*)/.source.replace("WC",ST),Gpt=/(WCOD+)?/.source.replace("WCOD",$pt),jpt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ST),qpt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ST),Ypt=new RegExp("^"+Wpt+Gpt+jpt+qpt+"$"),Xpt=["material","materials","bones"];class Kpt{constructor(t,e,i){const r=i||an.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class an{constructor(t,e,i){this.path=e,this.parsedPath=i||an.parseTrackName(e),this.node=an.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new an.Composite(t,e,i):new an(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Hpt,"")}static parseTrackName(t){const e=Ypt.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Xpt.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===e||a.uuid===e)return a;const l=i(a.children);if(l)return l}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[e++]=i[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,r=e.propertyName;let s=e.propertyIndex;if(t||(t=an.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let u=0;u<t.length;u++)if(t[u].name===c){c=u;break}break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(c!==void 0){if(t[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[c]}}const o=t[r];if(o===void 0){const c=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",t);return}let a=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}an.Composite=Kpt;an.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};an.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};an.prototype.GetterByBindingType=[an.prototype._getValue_direct,an.prototype._getValue_array,an.prototype._getValue_arrayElement,an.prototype._getValue_toArray];an.prototype.SetterByBindingTypeAndVersioning=[[an.prototype._setValue_direct,an.prototype._setValue_direct_setNeedsUpdate,an.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[an.prototype._setValue_array,an.prototype._setValue_array_setNeedsUpdate,an.prototype._setValue_array_setMatrixWorldNeedsUpdate],[an.prototype._setValue_arrayElement,an.prototype._setValue_arrayElement_setNeedsUpdate,an.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[an.prototype._setValue_fromArray,an.prototype._setValue_fromArray_setNeedsUpdate,an.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Qpt{constructor(t,e,i=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=r;const s=e.tracks,o=s.length,a=new Array(o),l={endingStart:cu,endingEnd:cu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Nlt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const r=this._clip.duration,s=t._clip.duration,o=s/r,a=r/s;t.warp(1,o,e),this.warp(a,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,r){if(!this.enabled){this._updateWeight(t);return}const s=this._startTime;if(s!==null){const l=(t-s)*i;if(l<0||i===0)return;this._startTime=null,e=i*l}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case zB:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case nT:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let r=this.time+t,s=this._loopCount;const o=i===klt;if(t===0)return s===-1?r:o&&(s&1)===1?e-r:r;if(i===Ilt){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else if(r<0)r=0;else{this.time=r;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(s===-1&&(t>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=e||r<0){const a=Math.floor(r/e);r-=e*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return e-r}return r}_setEndings(t,e,i){const r=this._interpolantSettings;i?(r.endingStart=uu,r.endingEnd=uu):(t?r.endingStart=this.zeroSlopeAtStart?uu:cu:r.endingStart=h_,e?r.endingEnd=this.zeroSlopeAtEnd?uu:cu:r.endingEnd=h_)}_scheduleFading(t,e,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=e,a[1]=s+t,l[1]=i,this}}class Jpt extends nc{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,r=t._clip.tracks,s=r.length,o=t._propertyBindings,a=t._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const f=r[h],p=f.name;let m=u[p];if(m!==void 0)++m.referenceCount,o[h]=m;else{if(m=o[h],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,p));continue}const g=e&&e._propertyBindings[h].binding.parsedPath;m=new Vpt(an.create(i,p,g),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,p),o[h]=m}a[h].resultBuffer=m.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,r=t._clip.uuid,s=this._actionsByClip[r];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,r,i)}const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const s=e[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const s=e[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const r=this._actions,s=this._actionsByClip;let o=s[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=o;else{const a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),t._byClipCacheIndex=null;const h=a.actionByRoot,f=(t._localRoot||this._root).uuid;delete h[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const s=e[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_addInactiveBinding(t,e,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[e];o===void 0&&(o={},r[e]=o),o[i]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=e[e.length-1],c=t._cacheIndex;l._cacheIndex=c,e[c]=l,e.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new Sz(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,s=e[r];t.__cacheIndex=r,e[r]=t,s.__cacheIndex=i,e[i]=s}clipAction(t,e,i){const r=e||this._root,s=r.uuid;let o=typeof t=="string"?oI.findByName(r,t):t;const a=o!==null?o.uuid:t,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=nT),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Qpt(this,o,e,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(t,e){const i=e||this._root,r=i.uuid,s=typeof t=="string"?oI.findByName(i,t):t,o=s?s.uuid:t,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,r=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let c=0;c!==i;++c)e[c]._update(r,t,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,e[u]=h,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[e];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[e];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}Jpt.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Zpt extends rp{constructor(t,e,i=1){super(t,e),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}Zpt.prototype.isInstancedInterleavedBuffer=!0;const ta=new tt,Hm=new me,sx=new me;class tmt extends dT{constructor(t){const e=Dz(t),i=new Rn,r=[],s=[],o=new ce(0,0,1),a=new ce(0,1,0);for(let c=0;c<e.length;c++){const u=e[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new ui(r,3)),i.setAttribute("color",new ui(s,3));const l=new xh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,r=i.getAttribute("position");sx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<e.length;s++){const a=e[s];a.parent&&a.parent.isBone&&(Hm.multiplyMatrices(sx,a.matrixWorld),ta.setFromMatrixPosition(Hm),r.setXYZ(o,ta.x,ta.y,ta.z),Hm.multiplyMatrices(sx,a.parent.matrixWorld),ta.setFromMatrixPosition(Hm),r.setXYZ(o+1,ta.x,ta.y,ta.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function Dz(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,Dz(n.children[e]));return t}class emt extends dT{constructor(t=10,e=10,i=4473924,r=8947848){i=new ce(i),r=new ce(r);const s=e/2,o=t/e,a=t/2,l=[],c=[];for(let f=0,p=0,m=-a;f<=e;f++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=f===s?i:r;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const u=new Rn;u.setAttribute("position",new ui(l,3)),u.setAttribute("color",new ui(c,3));const h=new xh({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}}const ws=new Uint32Array(512),Es=new Uint32Array(512);for(let n=0;n<256;++n){const t=n-127;t<-27?(ws[n]=0,ws[n|256]=32768,Es[n]=24,Es[n|256]=24):t<-14?(ws[n]=1024>>-t-14,ws[n|256]=1024>>-t-14|32768,Es[n]=-t-1,Es[n|256]=-t-1):t<=15?(ws[n]=t+15<<10,ws[n|256]=t+15<<10|32768,Es[n]=13,Es[n|256]=13):t<128?(ws[n]=31744,ws[n|256]=64512,Es[n]=24,Es[n|256]=24):(ws[n]=31744,ws[n|256]=64512,Es[n]=13,Es[n|256]=13)}const Rz=new Uint32Array(2048),ap=new Uint32Array(64),nmt=new Uint32Array(64);for(let n=1;n<1024;++n){let t=n<<13,e=0;for(;(t&8388608)===0;)t<<=1,e-=8388608;t&=-8388609,e+=947912704,Rz[n]=t|e}for(let n=1024;n<2048;++n)Rz[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)ap[n]=n<<23;ap[31]=1199570944;ap[32]=2147483648;for(let n=33;n<63;++n)ap[n]=2147483648+(n-32<<23);ap[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(nmt[n]=1024);Nr.create=function(n,t){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Nr.prototype),n.prototype.constructor=n,n.prototype.getPoint=t,n};zE.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};emt.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};tmt.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};La.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Lpt.extractUrlBase(n)};La.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};fs.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};fs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};fs.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};fs.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};fs.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Rr.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};_h.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};zv.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};gi.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)};gi.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};gi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};gi.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};gi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};gi.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};me.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};me.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)};me.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new tt().setFromMatrixColumn(this,3)};me.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};me.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};me.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};me.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};me.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};me.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};me.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};me.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};me.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};me.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};me.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};me.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};me.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};me.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};me.prototype.makeFrustum=function(n,t,e,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,t,i,e,r,s)};me.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};ao.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Di.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Di.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};vh.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};vh.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};vh.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};jn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};jn.prototype.barycoordFromPoint=function(n,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,t)};jn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};jn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};jn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};jn.barycoordFromPoint=function(n,t,e,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),jn.getBarycoord(n,t,e,i,r)};jn.normal=function(n,t,e,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),jn.getNormal(n,t,e,i)};sp.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};sp.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new wh(this,n)};sp.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new vT(this,n)};$t.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};$t.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};$t.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};tt.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};tt.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};tt.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};tt.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};tt.prototype.getColumnFromMatrix=function(n,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,n)};tt.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};tt.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};tt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};tt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};hn.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};hn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};cn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};cn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};cn.prototype.translate=function(n,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,n)};cn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};cn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(cn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});rr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(rr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Flt},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});oz.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};er.prototype.setLens=function(n,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(n)};Object.defineProperties(Vs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(ei.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===f_},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(f_)}}});ei.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?f_:xd),this};ei.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},ei.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Rn.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Rn.prototype.addAttribute=function(n,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new ei(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(n,t)};Rn.prototype.addDrawCall=function(n,t,e){e!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,t)};Rn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Rn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Rn.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Rn.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Rn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});rp.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?f_:xd),this};rp.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};wh.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};wh.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};wh.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};rz.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(ii.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ce}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===NB}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(os.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});dn.prototype.clearTarget=function(n,t,e,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(t,e,i)};dn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};dn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};dn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};dn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};dn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};dn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};dn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};dn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};dn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};dn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};dn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};dn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};dn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};dn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};dn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};dn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};dn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};dn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};dn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};dn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};dn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};dn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};dn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};dn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(dn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Cn:Co}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(ez.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(pr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});Upt.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Fpt().load(n,function(i){t.setBuffer(i)}),this};sT.prototype.updateCubeMap=function(n,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,t)};sT.prototype.clear=function(n,t,e,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,t,e,i)};ic.crossOrigin=void 0;ic.loadTexture=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Tpt;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,e,void 0,i);return t&&(s.mapping=t),s};ic.loadTextureCube=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Mpt;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,e,void 0,i);return t&&(s.mapping=t),s};ic.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ic.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:eT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=eT);function $m(n,t,e){return(n-e)/(t-e)}function Wm(n){let t="";for(let o=0;o<4;o++){let a=(n.getUint8(o,!0)>>>0).toString(2);t="0".repeat(8-a.length)+a+t}let e=parseInt(t.charAt(0),2),i=parseInt(t.substring(1,9),2),r=parseInt("1"+t.substring(9),2);return((-1)**e*r/(1<<t.length-9-(i-127))).toFixed(2)}function imt(n,t){return 2*Math.acos(n.dot(t)/(n.length()*t.length()))*57.2957795}function rmt(n,t){let e=[];for(var i=0;i<4;i++)e.push(n.getUint8(i+t,!0));return e[e.length-24]|e[e.length-2]<<16|e[e.length-3]<<8|e[e.length-4]<<1}function smt(n,t){const e=new ArrayBuffer(4);let i=new DataView(e);for(let u=0;u<4;u++)i.setInt8(u,n.getUint8(u+t,!0));i=$m(Wm(i),1,0),t+=4;const r=new ArrayBuffer(4);let s=new DataView(r);for(let u=0;u<4;u++)s.setInt8(u,n.getUint8(u+t,!0));s=$m(Wm(s),1,0),t+=4;const o=new ArrayBuffer(4);let a=new DataView(o);for(let u=0;u<4;u++)a.setInt8(u,n.getUint8(u+t,!0));a=$m(Wm(a),1,0),t+=4;const l=new ArrayBuffer(4);let c=new DataView(l);for(let u=0;u<4;u++)c.setInt8(u,n.getUint8(u+t,!0));return c=$m(Wm(c),1,0),new Di(s,a,c,i)}function omt(n,t){let e=n.target.value,i=rmt(e,0);i=i/1e3,t.timeArr.push(i),t.timeArr.length>1&&(t.timeArr[t.timeArr.length-1]>t.timeArr[t.timeArr.length-2]?t.rawTime+=t.timeArr[t.timeArr.length-1]-t.timeArr[t.timeArr.length-2]:t.rawTime+=t.timeArr[t.timeArr.length-2]-t.timeArr[t.timeArr.length-1]);let r=t.quaternion;t.quaternion=smt(e,4);let s=t.rotation;t.rotation=new Rr().setFromQuaternion(t.quaternion,"XYZ"),(Math.round(Math.abs(t.rotation.x*57.2957795))==90||Math.round(Math.abs(t.rotation.x*57.2957795))==180)&&(t.rotation.x=s.x,t.quaternion=r),(Math.round(Math.abs(t.rotation.y*57.2957795))==90||Math.round(Math.abs(t.rotation.y*57.2957795))==180)&&(t.rotation.y=s.y,t.quaternion=r),(Math.round(Math.abs(t.rotation.z*57.2957795))==0||Math.round(Math.abs(t.rotation.z*57.2957795))==180)&&(t.rotation.z=s.z,t.quaternion=r);let o=[t.quaternion,t.rotation,(t.rawTime/1e3).toFixed(2)];t.data.push(o)}class Gf{constructor(t=!1){bb(this,"genericNotHandler",function(t){const e=t.target.value;console.log(`New notification message: ${ia(lu,e.getUint8(2,!0))}`)});t?this.enum=syncNotEnum:this.enum=lu,Object.keys(this.enum).map(e=>{Gf[e]=this.genericNotHandler})}setCallback(t,e){Gf[ia(lu,t)]=e}handleNotification(t){const e=t.target.value;let i=ia(lu,e.getUint8(2,!0));return Gf[i](t)}}class amt{constructor(t=!0){this.device=null,this.device_name=null,this.sensor_status="disconnected",this.onDisconnected=this.onDisconnected.bind(this),this.verbose=t,this.battery_level=0,this.rotation=new Rr(0,0,0,"XYZ"),this.quaternion=new Di(0,0,0,0),this.data=[],this.timeArr=[],this.rawTime=0,this.min=new Rr(1/0,1/0,1/0,"XYZ"),this.max=new Rr(-1/0,-1/0,-1/0,"XYZ"),this.max_angle=0,this.ackEnum=OR,this.NotificationHandler=new Gf}async request(){this.device=await navigator.bluetooth.requestDevice({filters:[{manufacturerData:[{companyIdentifier:2182}]}],optionalServices:[Er+Ce.battery_service+Sr,Er+Ce.measurement_service+Sr,Er+Ce.configuration_service+Sr,Er+Ce.message_service+Sr]}),this.device.addEventListener("gattserverdisconnected",this.onDisconnected)}connect(){return this.device?this.device.gatt.connect():(this.sensor_status="disconnected",Promise.reject("Device is not connected."))}disconnect(){return this.sensor_status="disconnected",this.device?this.device.gatt.disconnect():Promise.reject("Device is not connected.")}onDisconnected(){this.sensor_status="disconnected",console.log("Device is disconnected.")}async findAndConnect(){try{await this.request(),this.sensor_status="connecting...",await this.connect(),await this.readDeviceName(),await this.getInitialBatteryLevel(),this.sensor_status="online",await this.subCharChanged(this.handleBatteryChanged,Ce.battery_service,Ce.battery_level)}catch(t){console.log(t.name),console.log(t.code),console.error(t),t.name=="NetworkError"&&(this.sensor_status="error",alert("Something went wrong please refresh this tab and try again."))}}async getCharacteristicData(t,e){return(await(await this.device.gatt.getPrimaryService(Er+t+Sr)).getCharacteristic(Er+e+Sr)).readValue()}async readMessageAck(t){let e=await this.getCharacteristicData(Ce.message_service,Ce.message_acknowledge);if(this.verbose){let i=ia(OR,t.getUint8(2,!0));i==null&&(i=ia(of,t.getUint8(2,!0)));let r=`${i} ack: ${ia(sf,e.getUint8(3,!0))}`;console.log(r)}return e}async writeCharacteristicData(t,e,i){return await(await(await this.device.gatt.getPrimaryService(Er+t+Sr)).getCharacteristic(Er+e+Sr)).writeValue(i),this.readMessageAck(i)}writeDeviceName(t){return this.getCharacteristicData(Ce.configuration_service,Ce.device_control).then(e=>{if(t.length>16)return Promise.reject("Name is too long, max 16 characters");let i=e.getUint8(7,!0);for(let s=0;s<i;s++)e.setUint8(s,0,!0);e.setUint8(0,8,!0),e.setUint8(7,t.length,!0);let r=Array.from(t);for(let s=0;s<t.length;s++)e.setUint8(8+s,r[s].charCodeAt(0),!0);return this.device_name=t,this.verbose=!1,this.writeCharacteristicData(Ce.configuration_service,Ce.device_control,e).then(()=>(this.verbose=!0,this.readDeviceName().then(s=>{console.log("New Name:"),console.log(s)})))}).catch(e=>{e=="Name is too long, max 16 characters"||(this.sensor_status="connection error"),console.error(e)})}async readDeviceName(){let t=await this.getCharacteristicData(Ce.configuration_service,Ce.device_control),e=8,i="";for(let r=e;r<t.getUint8(7,!0)+e;r++)i+=String.fromCharCode(t.getUint8(r,!0));return this.device_name=i,this.device_name}async blinkDeviceLED(){try{let t=await this.getCharacteristicData(Ce.configuration_service,Ce.device_control),i=await(await this.device.gatt.getPrimaryService(Er+Ce.configuration_service+Sr)).getCharacteristic(Er+Ce.device_control+Sr);t.setUint8(0,1),t.setUint8(1,1),console.log("Blinking LED..."),await i.writeValue(t)}catch(t){console.error(t),console.log(t.name)}}async getInitialBatteryLevel(){let e=(await this.getCharacteristicData(Ce.battery_service,Ce.battery_level)).getUint8(0,!0);return this.battery_level=e,e}async subCharChanged(t,e,i){let s=await(await this.device.gatt.getPrimaryService(Er+e+Sr)).getCharacteristic(Er+i+Sr);s.startNotifications(),s.addEventListener("characteristicvaluechanged",o=>{t(o,this)})}createMessageObject(t,e,i,r){let s=e+1,o=new ArrayBuffer(160),a=new DataView(o);a.setUint8(0,t),a.setUint8(1,s),a.setUint8(2,i);for(let l=0;l<e;l++)a.setUint8(l+3,r[l]);a.setUint8(s+2,this.computeChecksum(a));for(let l=e+4;l<160-(e+4);l++)a.setUint8(l,0);return a}computeChecksum(t){let e=0,i=t.getUint8(1,!0)+2;for(let r=0;r<i;r++)e+=t.getUint8(r,!0);return 255&-e}downloadDataToCSV(){let t="data:text/csv;charset=utf-8,",e=[["Qx","Qy","Qz","Qw","E","N","U","T"]].concat(this.data);e.forEach(function(s){let o=[];for(let l=0;l<s.length;l++)s[l].constructor.name==="Quaternion"?o.push(s[l].x.toString(),s[l].y.toString(),s[l].z.toString(),s[l].w.toString()):s[l].constructor.name==="Euler"?o.push(s[l].x.toString(),s[l].y.toString(),s[l].z.toString()):o.push(s[l].toString());let a=o.join(", ");o=[],t+=a+`\r
`}),console.log(`Amount of data points: ${e.length}, amount of columns for each data point: ${e[0].length}`);var i=encodeURI(t),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download","XsensUserData.csv"),document.body.appendChild(r),r.click()}handleBatteryChanged(t,e){const i=t.target.value;e.battery_level=i.getUint8(0,!0)}async syncSensor(){console.log("Synchronization started"),this.NotificationHandler.setCallback(lu.syncStatus,e=>{let i=e.target.value,r=ia(sf,i.getUint8(3,!1));console.log(`Device is: ${r}`)}),await this.subCharChanged(this.NotificationHandler.handleNotification,Ce.message_service,Ce.message_notification);let t=this.createMessageObject(um.sync_message,6,of.startSync,[78,2,0,205,34,212]);await this.writeCharacteristicData(Ce.message_service,Ce.message_control,t),await this.device.gatt.disconnect(),this.sensor_status="synchronizing",setTimeout(async()=>{console.log("Attempting to connect to device"),await this.device.gatt.connect(),console.log("Connection re-established"),this.sensor_status="online",await this.subCharChanged(this.NotificationHandler.handleNotification,Ce.message_service,Ce.message_notification);let e=this.createMessageObject(um.sync_message,0,of.getSyncStatus,[]);await this.writeCharacteristicData(Ce.message_service,Ce.message_control,e)},14e3)}async getSyncStatusSensor(){this.NotificationHandler.setCallback(lu.syncStatus,async e=>{let i=e.target.value,r=ia(sf,i.getUint8(3,!1));if(console.log(`Device is: ${r}`),i.getUint8(3,!1)==sf.synced){let s=this.createMessageObject(um.sync_message,0,of.stopSync,[]);await this.writeCharacteristicData(Ce.message_service,Ce.message_control,s),console.log("Sync stopped")}else i.getUint8(3,!1)==sf["un-synced"]&&this.syncSensor()}),await this.subCharChanged(this.NotificationHandler.handleNotification,Ce.message_service,Ce.message_notification);let t=this.createMessageObject(um.sync_message,0,of.getSyncStatus,[]);await this.writeCharacteristicData(Ce.message_service,Ce.message_control,t)}async startRTStream(){console.log("Real time streaming started"),this.data=[],this.timeArr=[],this.rawTime=0,await this.subCharChanged(omt,Ce.measurement_service,Ce.short_payload_length),await this.subCharChanged(this.NotificationHandler.handleNotification,Ce.message_service,Ce.message_notification),this.data=[],this.timeArr=[],this.rawTime=0;let t=new ArrayBuffer(3),e=new DataView(t);e.setUint8(0,1),e.setUint8(1,1),e.setUint8(2,PR.orientationQuaternion),this.verbose=!1,await this.writeCharacteristicData(Ce.measurement_service,Ce.control,e).then(()=>{this.verbose=!0})}async stopRTStream(){console.log("Real time streaming stopped"),await this.subCharChanged(this.NotificationHandler.handleNotification,Ce.message_service,Ce.message_notification);let t=new ArrayBuffer(3),e=new DataView(t);e.setUint8(0,1),e.setUint8(1,0),e.setUint8(2,PR.orientationQuaternion),this.verbose=!1,await this.writeCharacteristicData(Ce.measurement_service,Ce.control,e).then(()=>{this.verbose=!0});let i;for(let r=0;r<this.data.length;r++)if(this.data[r][0].x!=0&&this.data[r][0].y!=0&&this.data[r][0].z!=0&&this.data[r][0].w!=0){i=r;break}this.max_angle=imt(this.data[i][0],this.data[this.data.length-1][0]).toFixed(2),console.log(`Quat angle: ${this.max_angle}`),console.log("Recording duurde:",(this.rawTime/1e3).toFixed(2),"seconden")}}var m_,Lz;class lmt{constructor(){g1(this,m_);this.device=y1(this,m_,Lz).call(this),this.device_name=Math.floor(Math.random()*100),this.sensor_status="disconnected",this.battery_level=100,this.max_angle=15.57,this.rotation=new Rr(0,0,0,"XYZ")}disconnect(){return this.sensor_status="disconnected",Promise.resolve()}findAndConnect(){return this.sensor_status="online",Promise.resolve()}writeDeviceName(t){return this.device_name=t,console.log("changed name to "+t),Promise.resolve()}blinkDeviceLED(){return console.log("Blinking LED..."),Promise.resolve()}downloadDataToCSV(){return console.log("You just downloaded a CSV file"),Promise.resolve()}getSyncStatusSensor(){return console.log("You just synced your sensor"),Promise.resolve()}startRTStream(){return console.log("Sensor "+this.device_name+" started streaming for data"),Promise.resolve()}stopRTStream(){return console.log("Sensor "+this.device_name+" stopped streaming for data"),this.max_angle+=Math.floor(Math.random()*100),Promise.resolve()}}m_=new WeakSet,Lz=function(){return{field1:"field1",field2:"field2"}};class cmt{constructor(){bb(this,"sensorMap",new Map)}giveFakeOrRealSensor(){switch(localStorage.getItem("development")){case"true":return console.log("Using a fake sensor"),new lmt;case"false":return new amt}}clearList(){this.sensorMap.clear()}getSensor(t){return this.sensorMap.size==1?this.sensorMap.get(Array.from(this.sensorMap.keys())[0]):this.sensorMap.get(t)}getAllSensors(){return Array.from(this.sensorMap)}addToSensorList(t){this.sensorMap.set(t.device_name,t)}removeFromSensorList(t){this.sensorMap.delete(t.device_name)}connectToSensor(){const t=this.giveFakeOrRealSensor();return console.log(t),t.findAndConnect().then(()=>(this.addToSensorList(t),Promise.resolve())).catch(()=>Promise.reject())}disconnectSensor(t){const e=this.getSensor(t);e.disconnect(),this.removeFromSensorList(e)}diconnectAllSensors(){for(let t of this.sensorMap.values())t.disconnect()}enoughConnectedSensors(t){return this.sensorMap.size<t?(console.log("There are not enough sensors properly connected"),!1):!0}streamMultipleSensors(t){for(let e=0;e<t.length;e++)this.startRTStream(t[e].device_name)}stopStreamMultipleSensors(t){for(let e=0;e<t.length;e++)this.stopRTStream(t[e].device_name)}startRTStream(t){this.getSensor(t).startRTStream()}stopRTStream(t){this.getSensor(t).stopRTStream()}getMaxAngle(t){return this.getSensor(t).max_angle}getSyncStatusSensor(t){this.getSensor(t).getSyncStatusSensor()}blinkDeviceLED(t){this.getSensor(t).blinkDeviceLED()}downloadDataToCSV(t){this.getSensor(t).downloadDataToCSV()}writeDeviceName(t){this.getSensor().writeDeviceName(t)}}const umt=new cmt;fr.configure({language:"de"});const hmt={apiKey:"AIzaSyD5e9LrGSnSUkVs4z-4QZhQD_wM5REeTfY",authDomain:"ibs-fysiotherapy.firebaseapp.com",projectId:"ibs-fysiotherapy",storageBucket:"ibs-fysiotherapy.appspot.com",messagingSenderId:"767042773850",appId:"1:767042773850:web:c38e45c3058e7d3ab80963"};c5(hmt);let fmt="true";localStorage.setItem("development",fmt);iq();pN(mN).use($N).use(HN).use(fr).provide("sensorHandler",umt).mount("#app");export{FI as $,kmt as A,nn as B,td as C,Fmt as D,YN as E,rh as F,Bmt as G,Pmt as H,Imt as I,Nmt as J,HN as K,XN as L,$I as M,mmt as N,Ar as O,xmt as P,cS as Q,Ls as R,l5 as S,gu as T,e$ as U,li as V,_u as W,r$ as X,TH as Y,nh as Z,pW as _,Emt as a,gmt as a0,vmt as a1,qm as a2,Mmt as a3,OI as a4,d3 as a5,iq as a6,Umt as a7,jmt as a8,Vmt as a9,qmt as aa,Wmt as ab,Ymt as ac,Xmt as ad,Gmt as ae,Hmt as af,$mt as ag,so as ah,wmt as ai,$E as aj,Omt as ak,bmt as al,Cmt as am,Tmt as an,Vi as b,C$ as c,oN as d,Smt as e,_mt as f,$N as g,Amt as h,O$ as i,Dmt as j,Lmt as k,Jg as l,vu as m,WE as n,iN as o,ymt as p,Rmt as q,c$ as r,xo as s,pmt as t,zmt as u,s5 as v,$H as w,u5 as x,Mx as y,qN as z};
